var __defProp = Object.defineProperty;
var __pow = Math.pow;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};

// node-modules-polyfills:buffer
var buffer_exports = {};
__export(buffer_exports, {
  Buffer: () => Buffer2,
  INSPECT_MAX_BYTES: () => INSPECT_MAX_BYTES,
  SlowBuffer: () => SlowBuffer,
  isBuffer: () => isBuffer,
  kMaxLength: () => _kMaxLength
});
var lookup = [];
var revLookup = [];
var Arr = typeof Uint8Array !== "undefined" ? Uint8Array : Array;
var inited = false;
function init() {
  inited = true;
  var code = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
  for (var i = 0, len = code.length; i < len; ++i) {
    lookup[i] = code[i];
    revLookup[code.charCodeAt(i)] = i;
  }
  revLookup["-".charCodeAt(0)] = 62;
  revLookup["_".charCodeAt(0)] = 63;
}
function toByteArray(b64) {
  if (!inited) {
    init();
  }
  var i, j, l, tmp, placeHolders, arr;
  var len = b64.length;
  if (len % 4 > 0) {
    throw new Error("Invalid string. Length must be a multiple of 4");
  }
  placeHolders = b64[len - 2] === "=" ? 2 : b64[len - 1] === "=" ? 1 : 0;
  arr = new Arr(len * 3 / 4 - placeHolders);
  l = placeHolders > 0 ? len - 4 : len;
  var L = 0;
  for (i = 0, j = 0; i < l; i += 4, j += 3) {
    tmp = revLookup[b64.charCodeAt(i)] << 18 | revLookup[b64.charCodeAt(i + 1)] << 12 | revLookup[b64.charCodeAt(i + 2)] << 6 | revLookup[b64.charCodeAt(i + 3)];
    arr[L++] = tmp >> 16 & 255;
    arr[L++] = tmp >> 8 & 255;
    arr[L++] = tmp & 255;
  }
  if (placeHolders === 2) {
    tmp = revLookup[b64.charCodeAt(i)] << 2 | revLookup[b64.charCodeAt(i + 1)] >> 4;
    arr[L++] = tmp & 255;
  } else if (placeHolders === 1) {
    tmp = revLookup[b64.charCodeAt(i)] << 10 | revLookup[b64.charCodeAt(i + 1)] << 4 | revLookup[b64.charCodeAt(i + 2)] >> 2;
    arr[L++] = tmp >> 8 & 255;
    arr[L++] = tmp & 255;
  }
  return arr;
}
function tripletToBase64(num) {
  return lookup[num >> 18 & 63] + lookup[num >> 12 & 63] + lookup[num >> 6 & 63] + lookup[num & 63];
}
function encodeChunk(uint8, start, end) {
  var tmp;
  var output = [];
  for (var i = start; i < end; i += 3) {
    tmp = (uint8[i] << 16) + (uint8[i + 1] << 8) + uint8[i + 2];
    output.push(tripletToBase64(tmp));
  }
  return output.join("");
}
function fromByteArray(uint8) {
  if (!inited) {
    init();
  }
  var tmp;
  var len = uint8.length;
  var extraBytes = len % 3;
  var output = "";
  var parts = [];
  var maxChunkLength = 16383;
  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {
    parts.push(encodeChunk(uint8, i, i + maxChunkLength > len2 ? len2 : i + maxChunkLength));
  }
  if (extraBytes === 1) {
    tmp = uint8[len - 1];
    output += lookup[tmp >> 2];
    output += lookup[tmp << 4 & 63];
    output += "==";
  } else if (extraBytes === 2) {
    tmp = (uint8[len - 2] << 8) + uint8[len - 1];
    output += lookup[tmp >> 10];
    output += lookup[tmp >> 4 & 63];
    output += lookup[tmp << 2 & 63];
    output += "=";
  }
  parts.push(output);
  return parts.join("");
}
function read(buffer, offset, isLE, mLen, nBytes) {
  var e, m;
  var eLen = nBytes * 8 - mLen - 1;
  var eMax = (1 << eLen) - 1;
  var eBias = eMax >> 1;
  var nBits = -7;
  var i = isLE ? nBytes - 1 : 0;
  var d = isLE ? -1 : 1;
  var s = buffer[offset + i];
  i += d;
  e = s & (1 << -nBits) - 1;
  s >>= -nBits;
  nBits += eLen;
  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {
  }
  m = e & (1 << -nBits) - 1;
  e >>= -nBits;
  nBits += mLen;
  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {
  }
  if (e === 0) {
    e = 1 - eBias;
  } else if (e === eMax) {
    return m ? NaN : (s ? -1 : 1) * Infinity;
  } else {
    m = m + Math.pow(2, mLen);
    e = e - eBias;
  }
  return (s ? -1 : 1) * m * Math.pow(2, e - mLen);
}
function write(buffer, value, offset, isLE, mLen, nBytes) {
  var e, m, c;
  var eLen = nBytes * 8 - mLen - 1;
  var eMax = (1 << eLen) - 1;
  var eBias = eMax >> 1;
  var rt = mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0;
  var i = isLE ? 0 : nBytes - 1;
  var d = isLE ? 1 : -1;
  var s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;
  value = Math.abs(value);
  if (isNaN(value) || value === Infinity) {
    m = isNaN(value) ? 1 : 0;
    e = eMax;
  } else {
    e = Math.floor(Math.log(value) / Math.LN2);
    if (value * (c = Math.pow(2, -e)) < 1) {
      e--;
      c *= 2;
    }
    if (e + eBias >= 1) {
      value += rt / c;
    } else {
      value += rt * Math.pow(2, 1 - eBias);
    }
    if (value * c >= 2) {
      e++;
      c /= 2;
    }
    if (e + eBias >= eMax) {
      m = 0;
      e = eMax;
    } else if (e + eBias >= 1) {
      m = (value * c - 1) * Math.pow(2, mLen);
      e = e + eBias;
    } else {
      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);
      e = 0;
    }
  }
  for (; mLen >= 8; buffer[offset + i] = m & 255, i += d, m /= 256, mLen -= 8) {
  }
  e = e << mLen | m;
  eLen += mLen;
  for (; eLen > 0; buffer[offset + i] = e & 255, i += d, e /= 256, eLen -= 8) {
  }
  buffer[offset + i - d] |= s * 128;
}
var toString = {}.toString;
var isArray = Array.isArray || function(arr) {
  return toString.call(arr) == "[object Array]";
};
var INSPECT_MAX_BYTES = 50;
Buffer2.TYPED_ARRAY_SUPPORT = globalThis.TYPED_ARRAY_SUPPORT !== void 0 ? globalThis.TYPED_ARRAY_SUPPORT : true;
var _kMaxLength = kMaxLength();
function kMaxLength() {
  return Buffer2.TYPED_ARRAY_SUPPORT ? 2147483647 : 1073741823;
}
function createBuffer(that, length) {
  if (kMaxLength() < length) {
    throw new RangeError("Invalid typed array length");
  }
  if (Buffer2.TYPED_ARRAY_SUPPORT) {
    that = new Uint8Array(length);
    that.__proto__ = Buffer2.prototype;
  } else {
    if (that === null) {
      that = new Buffer2(length);
    }
    that.length = length;
  }
  return that;
}
function Buffer2(arg, encodingOrOffset, length) {
  if (!Buffer2.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer2)) {
    return new Buffer2(arg, encodingOrOffset, length);
  }
  if (typeof arg === "number") {
    if (typeof encodingOrOffset === "string") {
      throw new Error(
        "If encoding is specified then the first argument must be a string"
      );
    }
    return allocUnsafe(this, arg);
  }
  return from(this, arg, encodingOrOffset, length);
}
Buffer2.poolSize = 8192;
Buffer2._augment = function(arr) {
  arr.__proto__ = Buffer2.prototype;
  return arr;
};
function from(that, value, encodingOrOffset, length) {
  if (typeof value === "number") {
    throw new TypeError('"value" argument must not be a number');
  }
  if (typeof ArrayBuffer !== "undefined" && value instanceof ArrayBuffer) {
    return fromArrayBuffer(that, value, encodingOrOffset, length);
  }
  if (typeof value === "string") {
    return fromString(that, value, encodingOrOffset);
  }
  return fromObject(that, value);
}
Buffer2.from = function(value, encodingOrOffset, length) {
  return from(null, value, encodingOrOffset, length);
};
if (Buffer2.TYPED_ARRAY_SUPPORT) {
  Buffer2.prototype.__proto__ = Uint8Array.prototype;
  Buffer2.__proto__ = Uint8Array;
}
function assertSize(size) {
  if (typeof size !== "number") {
    throw new TypeError('"size" argument must be a number');
  } else if (size < 0) {
    throw new RangeError('"size" argument must not be negative');
  }
}
function alloc(that, size, fill2, encoding) {
  assertSize(size);
  if (size <= 0) {
    return createBuffer(that, size);
  }
  if (fill2 !== void 0) {
    return typeof encoding === "string" ? createBuffer(that, size).fill(fill2, encoding) : createBuffer(that, size).fill(fill2);
  }
  return createBuffer(that, size);
}
Buffer2.alloc = function(size, fill2, encoding) {
  return alloc(null, size, fill2, encoding);
};
function allocUnsafe(that, size) {
  assertSize(size);
  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0);
  if (!Buffer2.TYPED_ARRAY_SUPPORT) {
    for (var i = 0; i < size; ++i) {
      that[i] = 0;
    }
  }
  return that;
}
Buffer2.allocUnsafe = function(size) {
  return allocUnsafe(null, size);
};
Buffer2.allocUnsafeSlow = function(size) {
  return allocUnsafe(null, size);
};
function fromString(that, string, encoding) {
  if (typeof encoding !== "string" || encoding === "") {
    encoding = "utf8";
  }
  if (!Buffer2.isEncoding(encoding)) {
    throw new TypeError('"encoding" must be a valid string encoding');
  }
  var length = byteLength(string, encoding) | 0;
  that = createBuffer(that, length);
  var actual = that.write(string, encoding);
  if (actual !== length) {
    that = that.slice(0, actual);
  }
  return that;
}
function fromArrayLike(that, array) {
  var length = array.length < 0 ? 0 : checked(array.length) | 0;
  that = createBuffer(that, length);
  for (var i = 0; i < length; i += 1) {
    that[i] = array[i] & 255;
  }
  return that;
}
function fromArrayBuffer(that, array, byteOffset, length) {
  array.byteLength;
  if (byteOffset < 0 || array.byteLength < byteOffset) {
    throw new RangeError("'offset' is out of bounds");
  }
  if (array.byteLength < byteOffset + (length || 0)) {
    throw new RangeError("'length' is out of bounds");
  }
  if (byteOffset === void 0 && length === void 0) {
    array = new Uint8Array(array);
  } else if (length === void 0) {
    array = new Uint8Array(array, byteOffset);
  } else {
    array = new Uint8Array(array, byteOffset, length);
  }
  if (Buffer2.TYPED_ARRAY_SUPPORT) {
    that = array;
    that.__proto__ = Buffer2.prototype;
  } else {
    that = fromArrayLike(that, array);
  }
  return that;
}
function fromObject(that, obj) {
  if (internalIsBuffer(obj)) {
    var len = checked(obj.length) | 0;
    that = createBuffer(that, len);
    if (that.length === 0) {
      return that;
    }
    obj.copy(that, 0, 0, len);
    return that;
  }
  if (obj) {
    if (typeof ArrayBuffer !== "undefined" && obj.buffer instanceof ArrayBuffer || "length" in obj) {
      if (typeof obj.length !== "number" || isnan(obj.length)) {
        return createBuffer(that, 0);
      }
      return fromArrayLike(that, obj);
    }
    if (obj.type === "Buffer" && isArray(obj.data)) {
      return fromArrayLike(that, obj.data);
    }
  }
  throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");
}
function checked(length) {
  if (length >= kMaxLength()) {
    throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + kMaxLength().toString(16) + " bytes");
  }
  return length | 0;
}
function SlowBuffer(length) {
  if (+length != length) {
    length = 0;
  }
  return Buffer2.alloc(+length);
}
Buffer2.isBuffer = isBuffer;
function internalIsBuffer(b) {
  return !!(b != null && b._isBuffer);
}
Buffer2.compare = function compare(a, b) {
  if (!internalIsBuffer(a) || !internalIsBuffer(b)) {
    throw new TypeError("Arguments must be Buffers");
  }
  if (a === b)
    return 0;
  var x = a.length;
  var y = b.length;
  for (var i = 0, len = Math.min(x, y); i < len; ++i) {
    if (a[i] !== b[i]) {
      x = a[i];
      y = b[i];
      break;
    }
  }
  if (x < y)
    return -1;
  if (y < x)
    return 1;
  return 0;
};
Buffer2.isEncoding = function isEncoding(encoding) {
  switch (String(encoding).toLowerCase()) {
    case "hex":
    case "utf8":
    case "utf-8":
    case "ascii":
    case "latin1":
    case "binary":
    case "base64":
    case "ucs2":
    case "ucs-2":
    case "utf16le":
    case "utf-16le":
      return true;
    default:
      return false;
  }
};
Buffer2.concat = function concat(list, length) {
  if (!isArray(list)) {
    throw new TypeError('"list" argument must be an Array of Buffers');
  }
  if (list.length === 0) {
    return Buffer2.alloc(0);
  }
  var i;
  if (length === void 0) {
    length = 0;
    for (i = 0; i < list.length; ++i) {
      length += list[i].length;
    }
  }
  var buffer = Buffer2.allocUnsafe(length);
  var pos = 0;
  for (i = 0; i < list.length; ++i) {
    var buf = list[i];
    if (!internalIsBuffer(buf)) {
      throw new TypeError('"list" argument must be an Array of Buffers');
    }
    buf.copy(buffer, pos);
    pos += buf.length;
  }
  return buffer;
};
function byteLength(string, encoding) {
  if (internalIsBuffer(string)) {
    return string.length;
  }
  if (typeof ArrayBuffer !== "undefined" && typeof ArrayBuffer.isView === "function" && (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {
    return string.byteLength;
  }
  if (typeof string !== "string") {
    string = "" + string;
  }
  var len = string.length;
  if (len === 0)
    return 0;
  var loweredCase = false;
  for (; ; ) {
    switch (encoding) {
      case "ascii":
      case "latin1":
      case "binary":
        return len;
      case "utf8":
      case "utf-8":
      case void 0:
        return utf8ToBytes(string).length;
      case "ucs2":
      case "ucs-2":
      case "utf16le":
      case "utf-16le":
        return len * 2;
      case "hex":
        return len >>> 1;
      case "base64":
        return base64ToBytes(string).length;
      default:
        if (loweredCase)
          return utf8ToBytes(string).length;
        encoding = ("" + encoding).toLowerCase();
        loweredCase = true;
    }
  }
}
Buffer2.byteLength = byteLength;
function slowToString(encoding, start, end) {
  var loweredCase = false;
  if (start === void 0 || start < 0) {
    start = 0;
  }
  if (start > this.length) {
    return "";
  }
  if (end === void 0 || end > this.length) {
    end = this.length;
  }
  if (end <= 0) {
    return "";
  }
  end >>>= 0;
  start >>>= 0;
  if (end <= start) {
    return "";
  }
  if (!encoding)
    encoding = "utf8";
  while (true) {
    switch (encoding) {
      case "hex":
        return hexSlice(this, start, end);
      case "utf8":
      case "utf-8":
        return utf8Slice(this, start, end);
      case "ascii":
        return asciiSlice(this, start, end);
      case "latin1":
      case "binary":
        return latin1Slice(this, start, end);
      case "base64":
        return base64Slice(this, start, end);
      case "ucs2":
      case "ucs-2":
      case "utf16le":
      case "utf-16le":
        return utf16leSlice(this, start, end);
      default:
        if (loweredCase)
          throw new TypeError("Unknown encoding: " + encoding);
        encoding = (encoding + "").toLowerCase();
        loweredCase = true;
    }
  }
}
Buffer2.prototype._isBuffer = true;
function swap(b, n, m) {
  var i = b[n];
  b[n] = b[m];
  b[m] = i;
}
Buffer2.prototype.swap16 = function swap16() {
  var len = this.length;
  if (len % 2 !== 0) {
    throw new RangeError("Buffer size must be a multiple of 16-bits");
  }
  for (var i = 0; i < len; i += 2) {
    swap(this, i, i + 1);
  }
  return this;
};
Buffer2.prototype.swap32 = function swap32() {
  var len = this.length;
  if (len % 4 !== 0) {
    throw new RangeError("Buffer size must be a multiple of 32-bits");
  }
  for (var i = 0; i < len; i += 4) {
    swap(this, i, i + 3);
    swap(this, i + 1, i + 2);
  }
  return this;
};
Buffer2.prototype.swap64 = function swap64() {
  var len = this.length;
  if (len % 8 !== 0) {
    throw new RangeError("Buffer size must be a multiple of 64-bits");
  }
  for (var i = 0; i < len; i += 8) {
    swap(this, i, i + 7);
    swap(this, i + 1, i + 6);
    swap(this, i + 2, i + 5);
    swap(this, i + 3, i + 4);
  }
  return this;
};
Buffer2.prototype.toString = function toString2() {
  var length = this.length | 0;
  if (length === 0)
    return "";
  if (arguments.length === 0)
    return utf8Slice(this, 0, length);
  return slowToString.apply(this, arguments);
};
Buffer2.prototype.equals = function equals(b) {
  if (!internalIsBuffer(b))
    throw new TypeError("Argument must be a Buffer");
  if (this === b)
    return true;
  return Buffer2.compare(this, b) === 0;
};
Buffer2.prototype.inspect = function inspect() {
  var str = "";
  var max = INSPECT_MAX_BYTES;
  if (this.length > 0) {
    str = this.toString("hex", 0, max).match(/.{2}/g).join(" ");
    if (this.length > max)
      str += " ... ";
  }
  return "<Buffer " + str + ">";
};
Buffer2.prototype.compare = function compare2(target, start, end, thisStart, thisEnd) {
  if (!internalIsBuffer(target)) {
    throw new TypeError("Argument must be a Buffer");
  }
  if (start === void 0) {
    start = 0;
  }
  if (end === void 0) {
    end = target ? target.length : 0;
  }
  if (thisStart === void 0) {
    thisStart = 0;
  }
  if (thisEnd === void 0) {
    thisEnd = this.length;
  }
  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {
    throw new RangeError("out of range index");
  }
  if (thisStart >= thisEnd && start >= end) {
    return 0;
  }
  if (thisStart >= thisEnd) {
    return -1;
  }
  if (start >= end) {
    return 1;
  }
  start >>>= 0;
  end >>>= 0;
  thisStart >>>= 0;
  thisEnd >>>= 0;
  if (this === target)
    return 0;
  var x = thisEnd - thisStart;
  var y = end - start;
  var len = Math.min(x, y);
  var thisCopy = this.slice(thisStart, thisEnd);
  var targetCopy = target.slice(start, end);
  for (var i = 0; i < len; ++i) {
    if (thisCopy[i] !== targetCopy[i]) {
      x = thisCopy[i];
      y = targetCopy[i];
      break;
    }
  }
  if (x < y)
    return -1;
  if (y < x)
    return 1;
  return 0;
};
function bidirectionalIndexOf(buffer, val, byteOffset, encoding, dir) {
  if (buffer.length === 0)
    return -1;
  if (typeof byteOffset === "string") {
    encoding = byteOffset;
    byteOffset = 0;
  } else if (byteOffset > 2147483647) {
    byteOffset = 2147483647;
  } else if (byteOffset < -2147483648) {
    byteOffset = -2147483648;
  }
  byteOffset = +byteOffset;
  if (isNaN(byteOffset)) {
    byteOffset = dir ? 0 : buffer.length - 1;
  }
  if (byteOffset < 0)
    byteOffset = buffer.length + byteOffset;
  if (byteOffset >= buffer.length) {
    if (dir)
      return -1;
    else
      byteOffset = buffer.length - 1;
  } else if (byteOffset < 0) {
    if (dir)
      byteOffset = 0;
    else
      return -1;
  }
  if (typeof val === "string") {
    val = Buffer2.from(val, encoding);
  }
  if (internalIsBuffer(val)) {
    if (val.length === 0) {
      return -1;
    }
    return arrayIndexOf(buffer, val, byteOffset, encoding, dir);
  } else if (typeof val === "number") {
    val = val & 255;
    if (Buffer2.TYPED_ARRAY_SUPPORT && typeof Uint8Array.prototype.indexOf === "function") {
      if (dir) {
        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset);
      } else {
        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset);
      }
    }
    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir);
  }
  throw new TypeError("val must be string, number or Buffer");
}
function arrayIndexOf(arr, val, byteOffset, encoding, dir) {
  var indexSize = 1;
  var arrLength = arr.length;
  var valLength = val.length;
  if (encoding !== void 0) {
    encoding = String(encoding).toLowerCase();
    if (encoding === "ucs2" || encoding === "ucs-2" || encoding === "utf16le" || encoding === "utf-16le") {
      if (arr.length < 2 || val.length < 2) {
        return -1;
      }
      indexSize = 2;
      arrLength /= 2;
      valLength /= 2;
      byteOffset /= 2;
    }
  }
  function read2(buf, i2) {
    if (indexSize === 1) {
      return buf[i2];
    } else {
      return buf.readUInt16BE(i2 * indexSize);
    }
  }
  var i;
  if (dir) {
    var foundIndex = -1;
    for (i = byteOffset; i < arrLength; i++) {
      if (read2(arr, i) === read2(val, foundIndex === -1 ? 0 : i - foundIndex)) {
        if (foundIndex === -1)
          foundIndex = i;
        if (i - foundIndex + 1 === valLength)
          return foundIndex * indexSize;
      } else {
        if (foundIndex !== -1)
          i -= i - foundIndex;
        foundIndex = -1;
      }
    }
  } else {
    if (byteOffset + valLength > arrLength)
      byteOffset = arrLength - valLength;
    for (i = byteOffset; i >= 0; i--) {
      var found = true;
      for (var j = 0; j < valLength; j++) {
        if (read2(arr, i + j) !== read2(val, j)) {
          found = false;
          break;
        }
      }
      if (found)
        return i;
    }
  }
  return -1;
}
Buffer2.prototype.includes = function includes(val, byteOffset, encoding) {
  return this.indexOf(val, byteOffset, encoding) !== -1;
};
Buffer2.prototype.indexOf = function indexOf(val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, true);
};
Buffer2.prototype.lastIndexOf = function lastIndexOf(val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, false);
};
function hexWrite(buf, string, offset, length) {
  offset = Number(offset) || 0;
  var remaining = buf.length - offset;
  if (!length) {
    length = remaining;
  } else {
    length = Number(length);
    if (length > remaining) {
      length = remaining;
    }
  }
  var strLen = string.length;
  if (strLen % 2 !== 0)
    throw new TypeError("Invalid hex string");
  if (length > strLen / 2) {
    length = strLen / 2;
  }
  for (var i = 0; i < length; ++i) {
    var parsed = parseInt(string.substr(i * 2, 2), 16);
    if (isNaN(parsed))
      return i;
    buf[offset + i] = parsed;
  }
  return i;
}
function utf8Write(buf, string, offset, length) {
  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length);
}
function asciiWrite(buf, string, offset, length) {
  return blitBuffer(asciiToBytes(string), buf, offset, length);
}
function latin1Write(buf, string, offset, length) {
  return asciiWrite(buf, string, offset, length);
}
function base64Write(buf, string, offset, length) {
  return blitBuffer(base64ToBytes(string), buf, offset, length);
}
function ucs2Write(buf, string, offset, length) {
  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length);
}
Buffer2.prototype.write = function write2(string, offset, length, encoding) {
  if (offset === void 0) {
    encoding = "utf8";
    length = this.length;
    offset = 0;
  } else if (length === void 0 && typeof offset === "string") {
    encoding = offset;
    length = this.length;
    offset = 0;
  } else if (isFinite(offset)) {
    offset = offset | 0;
    if (isFinite(length)) {
      length = length | 0;
      if (encoding === void 0)
        encoding = "utf8";
    } else {
      encoding = length;
      length = void 0;
    }
  } else {
    throw new Error(
      "Buffer.write(string, encoding, offset[, length]) is no longer supported"
    );
  }
  var remaining = this.length - offset;
  if (length === void 0 || length > remaining)
    length = remaining;
  if (string.length > 0 && (length < 0 || offset < 0) || offset > this.length) {
    throw new RangeError("Attempt to write outside buffer bounds");
  }
  if (!encoding)
    encoding = "utf8";
  var loweredCase = false;
  for (; ; ) {
    switch (encoding) {
      case "hex":
        return hexWrite(this, string, offset, length);
      case "utf8":
      case "utf-8":
        return utf8Write(this, string, offset, length);
      case "ascii":
        return asciiWrite(this, string, offset, length);
      case "latin1":
      case "binary":
        return latin1Write(this, string, offset, length);
      case "base64":
        return base64Write(this, string, offset, length);
      case "ucs2":
      case "ucs-2":
      case "utf16le":
      case "utf-16le":
        return ucs2Write(this, string, offset, length);
      default:
        if (loweredCase)
          throw new TypeError("Unknown encoding: " + encoding);
        encoding = ("" + encoding).toLowerCase();
        loweredCase = true;
    }
  }
};
Buffer2.prototype.toJSON = function toJSON() {
  return {
    type: "Buffer",
    data: Array.prototype.slice.call(this._arr || this, 0)
  };
};
function base64Slice(buf, start, end) {
  if (start === 0 && end === buf.length) {
    return fromByteArray(buf);
  } else {
    return fromByteArray(buf.slice(start, end));
  }
}
function utf8Slice(buf, start, end) {
  end = Math.min(buf.length, end);
  var res = [];
  var i = start;
  while (i < end) {
    var firstByte = buf[i];
    var codePoint = null;
    var bytesPerSequence = firstByte > 239 ? 4 : firstByte > 223 ? 3 : firstByte > 191 ? 2 : 1;
    if (i + bytesPerSequence <= end) {
      var secondByte, thirdByte, fourthByte, tempCodePoint;
      switch (bytesPerSequence) {
        case 1:
          if (firstByte < 128) {
            codePoint = firstByte;
          }
          break;
        case 2:
          secondByte = buf[i + 1];
          if ((secondByte & 192) === 128) {
            tempCodePoint = (firstByte & 31) << 6 | secondByte & 63;
            if (tempCodePoint > 127) {
              codePoint = tempCodePoint;
            }
          }
          break;
        case 3:
          secondByte = buf[i + 1];
          thirdByte = buf[i + 2];
          if ((secondByte & 192) === 128 && (thirdByte & 192) === 128) {
            tempCodePoint = (firstByte & 15) << 12 | (secondByte & 63) << 6 | thirdByte & 63;
            if (tempCodePoint > 2047 && (tempCodePoint < 55296 || tempCodePoint > 57343)) {
              codePoint = tempCodePoint;
            }
          }
          break;
        case 4:
          secondByte = buf[i + 1];
          thirdByte = buf[i + 2];
          fourthByte = buf[i + 3];
          if ((secondByte & 192) === 128 && (thirdByte & 192) === 128 && (fourthByte & 192) === 128) {
            tempCodePoint = (firstByte & 15) << 18 | (secondByte & 63) << 12 | (thirdByte & 63) << 6 | fourthByte & 63;
            if (tempCodePoint > 65535 && tempCodePoint < 1114112) {
              codePoint = tempCodePoint;
            }
          }
      }
    }
    if (codePoint === null) {
      codePoint = 65533;
      bytesPerSequence = 1;
    } else if (codePoint > 65535) {
      codePoint -= 65536;
      res.push(codePoint >>> 10 & 1023 | 55296);
      codePoint = 56320 | codePoint & 1023;
    }
    res.push(codePoint);
    i += bytesPerSequence;
  }
  return decodeCodePointsArray(res);
}
var MAX_ARGUMENTS_LENGTH = 4096;
function decodeCodePointsArray(codePoints) {
  var len = codePoints.length;
  if (len <= MAX_ARGUMENTS_LENGTH) {
    return String.fromCharCode.apply(String, codePoints);
  }
  var res = "";
  var i = 0;
  while (i < len) {
    res += String.fromCharCode.apply(
      String,
      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)
    );
  }
  return res;
}
function asciiSlice(buf, start, end) {
  var ret = "";
  end = Math.min(buf.length, end);
  for (var i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i] & 127);
  }
  return ret;
}
function latin1Slice(buf, start, end) {
  var ret = "";
  end = Math.min(buf.length, end);
  for (var i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i]);
  }
  return ret;
}
function hexSlice(buf, start, end) {
  var len = buf.length;
  if (!start || start < 0)
    start = 0;
  if (!end || end < 0 || end > len)
    end = len;
  var out = "";
  for (var i = start; i < end; ++i) {
    out += toHex(buf[i]);
  }
  return out;
}
function utf16leSlice(buf, start, end) {
  var bytes = buf.slice(start, end);
  var res = "";
  for (var i = 0; i < bytes.length; i += 2) {
    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256);
  }
  return res;
}
Buffer2.prototype.slice = function slice(start, end) {
  var len = this.length;
  start = ~~start;
  end = end === void 0 ? len : ~~end;
  if (start < 0) {
    start += len;
    if (start < 0)
      start = 0;
  } else if (start > len) {
    start = len;
  }
  if (end < 0) {
    end += len;
    if (end < 0)
      end = 0;
  } else if (end > len) {
    end = len;
  }
  if (end < start)
    end = start;
  var newBuf;
  if (Buffer2.TYPED_ARRAY_SUPPORT) {
    newBuf = this.subarray(start, end);
    newBuf.__proto__ = Buffer2.prototype;
  } else {
    var sliceLen = end - start;
    newBuf = new Buffer2(sliceLen, void 0);
    for (var i = 0; i < sliceLen; ++i) {
      newBuf[i] = this[i + start];
    }
  }
  return newBuf;
};
function checkOffset(offset, ext, length) {
  if (offset % 1 !== 0 || offset < 0)
    throw new RangeError("offset is not uint");
  if (offset + ext > length)
    throw new RangeError("Trying to access beyond buffer length");
}
Buffer2.prototype.readUIntLE = function readUIntLE(offset, byteLength2, noAssert) {
  offset = offset | 0;
  byteLength2 = byteLength2 | 0;
  if (!noAssert)
    checkOffset(offset, byteLength2, this.length);
  var val = this[offset];
  var mul = 1;
  var i = 0;
  while (++i < byteLength2 && (mul *= 256)) {
    val += this[offset + i] * mul;
  }
  return val;
};
Buffer2.prototype.readUIntBE = function readUIntBE(offset, byteLength2, noAssert) {
  offset = offset | 0;
  byteLength2 = byteLength2 | 0;
  if (!noAssert) {
    checkOffset(offset, byteLength2, this.length);
  }
  var val = this[offset + --byteLength2];
  var mul = 1;
  while (byteLength2 > 0 && (mul *= 256)) {
    val += this[offset + --byteLength2] * mul;
  }
  return val;
};
Buffer2.prototype.readUInt8 = function readUInt8(offset, noAssert) {
  if (!noAssert)
    checkOffset(offset, 1, this.length);
  return this[offset];
};
Buffer2.prototype.readUInt16LE = function readUInt16LE(offset, noAssert) {
  if (!noAssert)
    checkOffset(offset, 2, this.length);
  return this[offset] | this[offset + 1] << 8;
};
Buffer2.prototype.readUInt16BE = function readUInt16BE(offset, noAssert) {
  if (!noAssert)
    checkOffset(offset, 2, this.length);
  return this[offset] << 8 | this[offset + 1];
};
Buffer2.prototype.readUInt32LE = function readUInt32LE(offset, noAssert) {
  if (!noAssert)
    checkOffset(offset, 4, this.length);
  return (this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16) + this[offset + 3] * 16777216;
};
Buffer2.prototype.readUInt32BE = function readUInt32BE(offset, noAssert) {
  if (!noAssert)
    checkOffset(offset, 4, this.length);
  return this[offset] * 16777216 + (this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3]);
};
Buffer2.prototype.readIntLE = function readIntLE(offset, byteLength2, noAssert) {
  offset = offset | 0;
  byteLength2 = byteLength2 | 0;
  if (!noAssert)
    checkOffset(offset, byteLength2, this.length);
  var val = this[offset];
  var mul = 1;
  var i = 0;
  while (++i < byteLength2 && (mul *= 256)) {
    val += this[offset + i] * mul;
  }
  mul *= 128;
  if (val >= mul)
    val -= Math.pow(2, 8 * byteLength2);
  return val;
};
Buffer2.prototype.readIntBE = function readIntBE(offset, byteLength2, noAssert) {
  offset = offset | 0;
  byteLength2 = byteLength2 | 0;
  if (!noAssert)
    checkOffset(offset, byteLength2, this.length);
  var i = byteLength2;
  var mul = 1;
  var val = this[offset + --i];
  while (i > 0 && (mul *= 256)) {
    val += this[offset + --i] * mul;
  }
  mul *= 128;
  if (val >= mul)
    val -= Math.pow(2, 8 * byteLength2);
  return val;
};
Buffer2.prototype.readInt8 = function readInt8(offset, noAssert) {
  if (!noAssert)
    checkOffset(offset, 1, this.length);
  if (!(this[offset] & 128))
    return this[offset];
  return (255 - this[offset] + 1) * -1;
};
Buffer2.prototype.readInt16LE = function readInt16LE(offset, noAssert) {
  if (!noAssert)
    checkOffset(offset, 2, this.length);
  var val = this[offset] | this[offset + 1] << 8;
  return val & 32768 ? val | 4294901760 : val;
};
Buffer2.prototype.readInt16BE = function readInt16BE(offset, noAssert) {
  if (!noAssert)
    checkOffset(offset, 2, this.length);
  var val = this[offset + 1] | this[offset] << 8;
  return val & 32768 ? val | 4294901760 : val;
};
Buffer2.prototype.readInt32LE = function readInt32LE(offset, noAssert) {
  if (!noAssert)
    checkOffset(offset, 4, this.length);
  return this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16 | this[offset + 3] << 24;
};
Buffer2.prototype.readInt32BE = function readInt32BE(offset, noAssert) {
  if (!noAssert)
    checkOffset(offset, 4, this.length);
  return this[offset] << 24 | this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3];
};
Buffer2.prototype.readFloatLE = function readFloatLE(offset, noAssert) {
  if (!noAssert)
    checkOffset(offset, 4, this.length);
  return read(this, offset, true, 23, 4);
};
Buffer2.prototype.readFloatBE = function readFloatBE(offset, noAssert) {
  if (!noAssert)
    checkOffset(offset, 4, this.length);
  return read(this, offset, false, 23, 4);
};
Buffer2.prototype.readDoubleLE = function readDoubleLE(offset, noAssert) {
  if (!noAssert)
    checkOffset(offset, 8, this.length);
  return read(this, offset, true, 52, 8);
};
Buffer2.prototype.readDoubleBE = function readDoubleBE(offset, noAssert) {
  if (!noAssert)
    checkOffset(offset, 8, this.length);
  return read(this, offset, false, 52, 8);
};
function checkInt(buf, value, offset, ext, max, min) {
  if (!internalIsBuffer(buf))
    throw new TypeError('"buffer" argument must be a Buffer instance');
  if (value > max || value < min)
    throw new RangeError('"value" argument is out of bounds');
  if (offset + ext > buf.length)
    throw new RangeError("Index out of range");
}
Buffer2.prototype.writeUIntLE = function writeUIntLE(value, offset, byteLength2, noAssert) {
  value = +value;
  offset = offset | 0;
  byteLength2 = byteLength2 | 0;
  if (!noAssert) {
    var maxBytes = Math.pow(2, 8 * byteLength2) - 1;
    checkInt(this, value, offset, byteLength2, maxBytes, 0);
  }
  var mul = 1;
  var i = 0;
  this[offset] = value & 255;
  while (++i < byteLength2 && (mul *= 256)) {
    this[offset + i] = value / mul & 255;
  }
  return offset + byteLength2;
};
Buffer2.prototype.writeUIntBE = function writeUIntBE(value, offset, byteLength2, noAssert) {
  value = +value;
  offset = offset | 0;
  byteLength2 = byteLength2 | 0;
  if (!noAssert) {
    var maxBytes = Math.pow(2, 8 * byteLength2) - 1;
    checkInt(this, value, offset, byteLength2, maxBytes, 0);
  }
  var i = byteLength2 - 1;
  var mul = 1;
  this[offset + i] = value & 255;
  while (--i >= 0 && (mul *= 256)) {
    this[offset + i] = value / mul & 255;
  }
  return offset + byteLength2;
};
Buffer2.prototype.writeUInt8 = function writeUInt8(value, offset, noAssert) {
  value = +value;
  offset = offset | 0;
  if (!noAssert)
    checkInt(this, value, offset, 1, 255, 0);
  if (!Buffer2.TYPED_ARRAY_SUPPORT)
    value = Math.floor(value);
  this[offset] = value & 255;
  return offset + 1;
};
function objectWriteUInt16(buf, value, offset, littleEndian) {
  if (value < 0)
    value = 65535 + value + 1;
  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {
    buf[offset + i] = (value & 255 << 8 * (littleEndian ? i : 1 - i)) >>> (littleEndian ? i : 1 - i) * 8;
  }
}
Buffer2.prototype.writeUInt16LE = function writeUInt16LE(value, offset, noAssert) {
  value = +value;
  offset = offset | 0;
  if (!noAssert)
    checkInt(this, value, offset, 2, 65535, 0);
  if (Buffer2.TYPED_ARRAY_SUPPORT) {
    this[offset] = value & 255;
    this[offset + 1] = value >>> 8;
  } else {
    objectWriteUInt16(this, value, offset, true);
  }
  return offset + 2;
};
Buffer2.prototype.writeUInt16BE = function writeUInt16BE(value, offset, noAssert) {
  value = +value;
  offset = offset | 0;
  if (!noAssert)
    checkInt(this, value, offset, 2, 65535, 0);
  if (Buffer2.TYPED_ARRAY_SUPPORT) {
    this[offset] = value >>> 8;
    this[offset + 1] = value & 255;
  } else {
    objectWriteUInt16(this, value, offset, false);
  }
  return offset + 2;
};
function objectWriteUInt32(buf, value, offset, littleEndian) {
  if (value < 0)
    value = 4294967295 + value + 1;
  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {
    buf[offset + i] = value >>> (littleEndian ? i : 3 - i) * 8 & 255;
  }
}
Buffer2.prototype.writeUInt32LE = function writeUInt32LE(value, offset, noAssert) {
  value = +value;
  offset = offset | 0;
  if (!noAssert)
    checkInt(this, value, offset, 4, 4294967295, 0);
  if (Buffer2.TYPED_ARRAY_SUPPORT) {
    this[offset + 3] = value >>> 24;
    this[offset + 2] = value >>> 16;
    this[offset + 1] = value >>> 8;
    this[offset] = value & 255;
  } else {
    objectWriteUInt32(this, value, offset, true);
  }
  return offset + 4;
};
Buffer2.prototype.writeUInt32BE = function writeUInt32BE(value, offset, noAssert) {
  value = +value;
  offset = offset | 0;
  if (!noAssert)
    checkInt(this, value, offset, 4, 4294967295, 0);
  if (Buffer2.TYPED_ARRAY_SUPPORT) {
    this[offset] = value >>> 24;
    this[offset + 1] = value >>> 16;
    this[offset + 2] = value >>> 8;
    this[offset + 3] = value & 255;
  } else {
    objectWriteUInt32(this, value, offset, false);
  }
  return offset + 4;
};
Buffer2.prototype.writeIntLE = function writeIntLE(value, offset, byteLength2, noAssert) {
  value = +value;
  offset = offset | 0;
  if (!noAssert) {
    var limit = Math.pow(2, 8 * byteLength2 - 1);
    checkInt(this, value, offset, byteLength2, limit - 1, -limit);
  }
  var i = 0;
  var mul = 1;
  var sub = 0;
  this[offset] = value & 255;
  while (++i < byteLength2 && (mul *= 256)) {
    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {
      sub = 1;
    }
    this[offset + i] = (value / mul >> 0) - sub & 255;
  }
  return offset + byteLength2;
};
Buffer2.prototype.writeIntBE = function writeIntBE(value, offset, byteLength2, noAssert) {
  value = +value;
  offset = offset | 0;
  if (!noAssert) {
    var limit = Math.pow(2, 8 * byteLength2 - 1);
    checkInt(this, value, offset, byteLength2, limit - 1, -limit);
  }
  var i = byteLength2 - 1;
  var mul = 1;
  var sub = 0;
  this[offset + i] = value & 255;
  while (--i >= 0 && (mul *= 256)) {
    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {
      sub = 1;
    }
    this[offset + i] = (value / mul >> 0) - sub & 255;
  }
  return offset + byteLength2;
};
Buffer2.prototype.writeInt8 = function writeInt8(value, offset, noAssert) {
  value = +value;
  offset = offset | 0;
  if (!noAssert)
    checkInt(this, value, offset, 1, 127, -128);
  if (!Buffer2.TYPED_ARRAY_SUPPORT)
    value = Math.floor(value);
  if (value < 0)
    value = 255 + value + 1;
  this[offset] = value & 255;
  return offset + 1;
};
Buffer2.prototype.writeInt16LE = function writeInt16LE(value, offset, noAssert) {
  value = +value;
  offset = offset | 0;
  if (!noAssert)
    checkInt(this, value, offset, 2, 32767, -32768);
  if (Buffer2.TYPED_ARRAY_SUPPORT) {
    this[offset] = value & 255;
    this[offset + 1] = value >>> 8;
  } else {
    objectWriteUInt16(this, value, offset, true);
  }
  return offset + 2;
};
Buffer2.prototype.writeInt16BE = function writeInt16BE(value, offset, noAssert) {
  value = +value;
  offset = offset | 0;
  if (!noAssert)
    checkInt(this, value, offset, 2, 32767, -32768);
  if (Buffer2.TYPED_ARRAY_SUPPORT) {
    this[offset] = value >>> 8;
    this[offset + 1] = value & 255;
  } else {
    objectWriteUInt16(this, value, offset, false);
  }
  return offset + 2;
};
Buffer2.prototype.writeInt32LE = function writeInt32LE(value, offset, noAssert) {
  value = +value;
  offset = offset | 0;
  if (!noAssert)
    checkInt(this, value, offset, 4, 2147483647, -2147483648);
  if (Buffer2.TYPED_ARRAY_SUPPORT) {
    this[offset] = value & 255;
    this[offset + 1] = value >>> 8;
    this[offset + 2] = value >>> 16;
    this[offset + 3] = value >>> 24;
  } else {
    objectWriteUInt32(this, value, offset, true);
  }
  return offset + 4;
};
Buffer2.prototype.writeInt32BE = function writeInt32BE(value, offset, noAssert) {
  value = +value;
  offset = offset | 0;
  if (!noAssert)
    checkInt(this, value, offset, 4, 2147483647, -2147483648);
  if (value < 0)
    value = 4294967295 + value + 1;
  if (Buffer2.TYPED_ARRAY_SUPPORT) {
    this[offset] = value >>> 24;
    this[offset + 1] = value >>> 16;
    this[offset + 2] = value >>> 8;
    this[offset + 3] = value & 255;
  } else {
    objectWriteUInt32(this, value, offset, false);
  }
  return offset + 4;
};
function checkIEEE754(buf, value, offset, ext, max, min) {
  if (offset + ext > buf.length)
    throw new RangeError("Index out of range");
  if (offset < 0)
    throw new RangeError("Index out of range");
}
function writeFloat(buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 4);
  }
  write(buf, value, offset, littleEndian, 23, 4);
  return offset + 4;
}
Buffer2.prototype.writeFloatLE = function writeFloatLE(value, offset, noAssert) {
  return writeFloat(this, value, offset, true, noAssert);
};
Buffer2.prototype.writeFloatBE = function writeFloatBE(value, offset, noAssert) {
  return writeFloat(this, value, offset, false, noAssert);
};
function writeDouble(buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 8);
  }
  write(buf, value, offset, littleEndian, 52, 8);
  return offset + 8;
}
Buffer2.prototype.writeDoubleLE = function writeDoubleLE(value, offset, noAssert) {
  return writeDouble(this, value, offset, true, noAssert);
};
Buffer2.prototype.writeDoubleBE = function writeDoubleBE(value, offset, noAssert) {
  return writeDouble(this, value, offset, false, noAssert);
};
Buffer2.prototype.copy = function copy(target, targetStart, start, end) {
  if (!start)
    start = 0;
  if (!end && end !== 0)
    end = this.length;
  if (targetStart >= target.length)
    targetStart = target.length;
  if (!targetStart)
    targetStart = 0;
  if (end > 0 && end < start)
    end = start;
  if (end === start)
    return 0;
  if (target.length === 0 || this.length === 0)
    return 0;
  if (targetStart < 0) {
    throw new RangeError("targetStart out of bounds");
  }
  if (start < 0 || start >= this.length)
    throw new RangeError("sourceStart out of bounds");
  if (end < 0)
    throw new RangeError("sourceEnd out of bounds");
  if (end > this.length)
    end = this.length;
  if (target.length - targetStart < end - start) {
    end = target.length - targetStart + start;
  }
  var len = end - start;
  var i;
  if (this === target && start < targetStart && targetStart < end) {
    for (i = len - 1; i >= 0; --i) {
      target[i + targetStart] = this[i + start];
    }
  } else if (len < 1e3 || !Buffer2.TYPED_ARRAY_SUPPORT) {
    for (i = 0; i < len; ++i) {
      target[i + targetStart] = this[i + start];
    }
  } else {
    Uint8Array.prototype.set.call(
      target,
      this.subarray(start, start + len),
      targetStart
    );
  }
  return len;
};
Buffer2.prototype.fill = function fill(val, start, end, encoding) {
  if (typeof val === "string") {
    if (typeof start === "string") {
      encoding = start;
      start = 0;
      end = this.length;
    } else if (typeof end === "string") {
      encoding = end;
      end = this.length;
    }
    if (val.length === 1) {
      var code = val.charCodeAt(0);
      if (code < 256) {
        val = code;
      }
    }
    if (encoding !== void 0 && typeof encoding !== "string") {
      throw new TypeError("encoding must be a string");
    }
    if (typeof encoding === "string" && !Buffer2.isEncoding(encoding)) {
      throw new TypeError("Unknown encoding: " + encoding);
    }
  } else if (typeof val === "number") {
    val = val & 255;
  }
  if (start < 0 || this.length < start || this.length < end) {
    throw new RangeError("Out of range index");
  }
  if (end <= start) {
    return this;
  }
  start = start >>> 0;
  end = end === void 0 ? this.length : end >>> 0;
  if (!val)
    val = 0;
  var i;
  if (typeof val === "number") {
    for (i = start; i < end; ++i) {
      this[i] = val;
    }
  } else {
    var bytes = internalIsBuffer(val) ? val : utf8ToBytes(new Buffer2(val, encoding).toString());
    var len = bytes.length;
    for (i = 0; i < end - start; ++i) {
      this[i + start] = bytes[i % len];
    }
  }
  return this;
};
var INVALID_BASE64_RE = /[^+\/0-9A-Za-z-_]/g;
function base64clean(str) {
  str = stringtrim(str).replace(INVALID_BASE64_RE, "");
  if (str.length < 2)
    return "";
  while (str.length % 4 !== 0) {
    str = str + "=";
  }
  return str;
}
function stringtrim(str) {
  if (str.trim)
    return str.trim();
  return str.replace(/^\s+|\s+$/g, "");
}
function toHex(n) {
  if (n < 16)
    return "0" + n.toString(16);
  return n.toString(16);
}
function utf8ToBytes(string, units) {
  units = units || Infinity;
  var codePoint;
  var length = string.length;
  var leadSurrogate = null;
  var bytes = [];
  for (var i = 0; i < length; ++i) {
    codePoint = string.charCodeAt(i);
    if (codePoint > 55295 && codePoint < 57344) {
      if (!leadSurrogate) {
        if (codePoint > 56319) {
          if ((units -= 3) > -1)
            bytes.push(239, 191, 189);
          continue;
        } else if (i + 1 === length) {
          if ((units -= 3) > -1)
            bytes.push(239, 191, 189);
          continue;
        }
        leadSurrogate = codePoint;
        continue;
      }
      if (codePoint < 56320) {
        if ((units -= 3) > -1)
          bytes.push(239, 191, 189);
        leadSurrogate = codePoint;
        continue;
      }
      codePoint = (leadSurrogate - 55296 << 10 | codePoint - 56320) + 65536;
    } else if (leadSurrogate) {
      if ((units -= 3) > -1)
        bytes.push(239, 191, 189);
    }
    leadSurrogate = null;
    if (codePoint < 128) {
      if ((units -= 1) < 0)
        break;
      bytes.push(codePoint);
    } else if (codePoint < 2048) {
      if ((units -= 2) < 0)
        break;
      bytes.push(
        codePoint >> 6 | 192,
        codePoint & 63 | 128
      );
    } else if (codePoint < 65536) {
      if ((units -= 3) < 0)
        break;
      bytes.push(
        codePoint >> 12 | 224,
        codePoint >> 6 & 63 | 128,
        codePoint & 63 | 128
      );
    } else if (codePoint < 1114112) {
      if ((units -= 4) < 0)
        break;
      bytes.push(
        codePoint >> 18 | 240,
        codePoint >> 12 & 63 | 128,
        codePoint >> 6 & 63 | 128,
        codePoint & 63 | 128
      );
    } else {
      throw new Error("Invalid code point");
    }
  }
  return bytes;
}
function asciiToBytes(str) {
  var byteArray = [];
  for (var i = 0; i < str.length; ++i) {
    byteArray.push(str.charCodeAt(i) & 255);
  }
  return byteArray;
}
function utf16leToBytes(str, units) {
  var c, hi, lo;
  var byteArray = [];
  for (var i = 0; i < str.length; ++i) {
    if ((units -= 2) < 0)
      break;
    c = str.charCodeAt(i);
    hi = c >> 8;
    lo = c % 256;
    byteArray.push(lo);
    byteArray.push(hi);
  }
  return byteArray;
}
function base64ToBytes(str) {
  return toByteArray(base64clean(str));
}
function blitBuffer(src, dst, offset, length) {
  for (var i = 0; i < length; ++i) {
    if (i + offset >= dst.length || i >= src.length)
      break;
    dst[i + offset] = src[i];
  }
  return i;
}
function isnan(val) {
  return val !== val;
}
function isBuffer(obj) {
  return obj != null && (!!obj._isBuffer || isFastBuffer(obj) || isSlowBuffer(obj));
}
function isFastBuffer(obj) {
  return !!obj.constructor && typeof obj.constructor.isBuffer === "function" && obj.constructor.isBuffer(obj);
}
function isSlowBuffer(obj) {
  return typeof obj.readFloatLE === "function" && typeof obj.slice === "function" && isFastBuffer(obj.slice(0, 0));
}

// src/core/api_error.ts
var api_error_exports = {};
__export(api_error_exports, {
  ApiError: () => ApiError,
  ErrorCode: () => ErrorCode,
  ErrorStrings: () => ErrorStrings
});
var ErrorCode = /* @__PURE__ */ ((ErrorCode2) => {
  ErrorCode2[ErrorCode2["EPERM"] = 1] = "EPERM";
  ErrorCode2[ErrorCode2["ENOENT"] = 2] = "ENOENT";
  ErrorCode2[ErrorCode2["EIO"] = 5] = "EIO";
  ErrorCode2[ErrorCode2["EBADF"] = 9] = "EBADF";
  ErrorCode2[ErrorCode2["EACCES"] = 13] = "EACCES";
  ErrorCode2[ErrorCode2["EBUSY"] = 16] = "EBUSY";
  ErrorCode2[ErrorCode2["EEXIST"] = 17] = "EEXIST";
  ErrorCode2[ErrorCode2["ENOTDIR"] = 20] = "ENOTDIR";
  ErrorCode2[ErrorCode2["EISDIR"] = 21] = "EISDIR";
  ErrorCode2[ErrorCode2["EINVAL"] = 22] = "EINVAL";
  ErrorCode2[ErrorCode2["EFBIG"] = 27] = "EFBIG";
  ErrorCode2[ErrorCode2["ENOSPC"] = 28] = "ENOSPC";
  ErrorCode2[ErrorCode2["EROFS"] = 30] = "EROFS";
  ErrorCode2[ErrorCode2["ENOTEMPTY"] = 39] = "ENOTEMPTY";
  ErrorCode2[ErrorCode2["ENOTSUP"] = 95] = "ENOTSUP";
  return ErrorCode2;
})(ErrorCode || {});
var ErrorStrings = {};
ErrorStrings[1 /* EPERM */] = "Operation not permitted.";
ErrorStrings[2 /* ENOENT */] = "No such file or directory.";
ErrorStrings[5 /* EIO */] = "Input/output error.";
ErrorStrings[9 /* EBADF */] = "Bad file descriptor.";
ErrorStrings[13 /* EACCES */] = "Permission denied.";
ErrorStrings[16 /* EBUSY */] = "Resource busy or locked.";
ErrorStrings[17 /* EEXIST */] = "File exists.";
ErrorStrings[20 /* ENOTDIR */] = "File is not a directory.";
ErrorStrings[21 /* EISDIR */] = "File is a directory.";
ErrorStrings[22 /* EINVAL */] = "Invalid argument.";
ErrorStrings[27 /* EFBIG */] = "File is too big.";
ErrorStrings[28 /* ENOSPC */] = "No space left on disk.";
ErrorStrings[30 /* EROFS */] = "Cannot modify a read-only file system.";
ErrorStrings[39 /* ENOTEMPTY */] = "Directory is not empty.";
ErrorStrings[95 /* ENOTSUP */] = "Operation is not supported.";
var ApiError = class extends Error {
  /**
   * Represents a BrowserFS error. Passed back to applications after a failed
   * call to the BrowserFS API.
   *
   * Error codes mirror those returned by regular Unix file operations, which is
   * what Node returns.
   * @constructor ApiError
   * @param type The type of the error.
   * @param [message] A descriptive error message.
   */
  constructor(type, message = ErrorStrings[type], path) {
    super(message);
    // Unsupported.
    this.syscall = "";
    this.errno = type;
    this.code = ErrorCode[type];
    this.path = path;
    this.message = `Error: ${this.code}: ${message}${this.path ? `, '${this.path}'` : ""}`;
  }
  static fromJSON(json) {
    const err2 = new ApiError(json.errno, json.message, json.path);
    err2.code = json.code;
    err2.stack = json.stack;
    return err2;
  }
  /**
   * Creates an ApiError object from a buffer.
   */
  static fromBuffer(buffer, i = 0) {
    return ApiError.fromJSON(JSON.parse(buffer.toString("utf8", i + 4, i + 4 + buffer.readUInt32LE(i))));
  }
  static FileError(code, p) {
    return new ApiError(code, ErrorStrings[code], p);
  }
  static EACCES(path) {
    return this.FileError(13 /* EACCES */, path);
  }
  static ENOENT(path) {
    return this.FileError(2 /* ENOENT */, path);
  }
  static EEXIST(path) {
    return this.FileError(17 /* EEXIST */, path);
  }
  static EISDIR(path) {
    return this.FileError(21 /* EISDIR */, path);
  }
  static ENOTDIR(path) {
    return this.FileError(20 /* ENOTDIR */, path);
  }
  static EPERM(path) {
    return this.FileError(1 /* EPERM */, path);
  }
  static ENOTEMPTY(path) {
    return this.FileError(39 /* ENOTEMPTY */, path);
  }
  /**
   * @return A friendly error message.
   */
  toString() {
    return this.message;
  }
  toJSON() {
    return {
      errno: this.errno,
      code: this.code,
      path: this.path,
      stack: this.stack,
      message: this.message
    };
  }
  /**
   * Writes the API error into a buffer.
   */
  writeToBuffer(buffer = Buffer2.alloc(this.bufferSize()), i = 0) {
    const bytesWritten = buffer.write(JSON.stringify(this.toJSON()), i + 4);
    buffer.writeUInt32LE(bytesWritten, i);
    return buffer;
  }
  /**
   * The size of the API error in buffer-form in bytes.
   */
  bufferSize() {
    return 4 + Buffer2.byteLength(JSON.stringify(this.toJSON()));
  }
};

// src/core/file_flag.ts
var _FileFlag = class {
  /**
   * Get an object representing the given file flag.
   * @param modeStr The string representing the flag
   * @return The FileFlag object representing the flag
   * @throw when the flag string is invalid
   */
  static getFileFlag(flagStr) {
    if (!_FileFlag.flagCache.has(flagStr)) {
      _FileFlag.flagCache.set(flagStr, new _FileFlag(flagStr));
    }
    return _FileFlag.flagCache.get(flagStr);
  }
  /**
   * This should never be called directly.
   * @param modeStr The string representing the mode
   * @throw when the mode string is invalid
   */
  constructor(flagStr) {
    this.flagStr = flagStr;
    if (_FileFlag.validFlagStrs.indexOf(flagStr) < 0) {
      throw new ApiError(22 /* EINVAL */, "Invalid flag: " + flagStr);
    }
  }
  /**
   * Get the underlying flag string for this flag.
   */
  getFlagString() {
    return this.flagStr;
  }
  /**
   * Get the equivalent mode (0b0xxx: read, write, execute)
   * Note: Execute will always be 0
   */
  getMode() {
    let mode = 0;
    mode <<= 1;
    mode += +this.isReadable();
    mode <<= 1;
    mode += +this.isWriteable();
    mode <<= 1;
    return mode;
  }
  /**
   * Returns true if the file is readable.
   */
  isReadable() {
    return this.flagStr.indexOf("r") !== -1 || this.flagStr.indexOf("+") !== -1;
  }
  /**
   * Returns true if the file is writeable.
   */
  isWriteable() {
    return this.flagStr.indexOf("w") !== -1 || this.flagStr.indexOf("a") !== -1 || this.flagStr.indexOf("+") !== -1;
  }
  /**
   * Returns true if the file mode should truncate.
   */
  isTruncating() {
    return this.flagStr.indexOf("w") !== -1;
  }
  /**
   * Returns true if the file is appendable.
   */
  isAppendable() {
    return this.flagStr.indexOf("a") !== -1;
  }
  /**
   * Returns true if the file is open in synchronous mode.
   */
  isSynchronous() {
    return this.flagStr.indexOf("s") !== -1;
  }
  /**
   * Returns true if the file is open in exclusive mode.
   */
  isExclusive() {
    return this.flagStr.indexOf("x") !== -1;
  }
  /**
   * Returns one of the static fields on this object that indicates the
   * appropriate response to the path existing.
   */
  pathExistsAction() {
    if (this.isExclusive()) {
      return 1 /* THROW_EXCEPTION */;
    } else if (this.isTruncating()) {
      return 2 /* TRUNCATE_FILE */;
    } else {
      return 0 /* NOP */;
    }
  }
  /**
   * Returns one of the static fields on this object that indicates the
   * appropriate response to the path not existing.
   */
  pathNotExistsAction() {
    if ((this.isWriteable() || this.isAppendable()) && this.flagStr !== "r+") {
      return 3 /* CREATE_FILE */;
    } else {
      return 1 /* THROW_EXCEPTION */;
    }
  }
};
var FileFlag = _FileFlag;
// Contains cached FileMode instances.
FileFlag.flagCache = /* @__PURE__ */ new Map();
// Array of valid mode strings.
FileFlag.validFlagStrs = ["r", "r+", "rs", "rs+", "w", "wx", "w+", "wx+", "a", "ax", "a+", "ax+"];

// node-modules-polyfills:path
var path_exports = {};
__export(path_exports, {
  basename: () => basename,
  default: () => path_default,
  delimiter: () => delimiter,
  dirname: () => dirname,
  extname: () => extname,
  isAbsolute: () => isAbsolute,
  join: () => join,
  normalize: () => normalize,
  relative: () => relative,
  resolve: () => resolve,
  sep: () => sep
});
function normalizeArray(parts, allowAboveRoot) {
  var up = 0;
  for (var i = parts.length - 1; i >= 0; i--) {
    var last = parts[i];
    if (last === ".") {
      parts.splice(i, 1);
    } else if (last === "..") {
      parts.splice(i, 1);
      up++;
    } else if (up) {
      parts.splice(i, 1);
      up--;
    }
  }
  if (allowAboveRoot) {
    for (; up--; up) {
      parts.unshift("..");
    }
  }
  return parts;
}
var splitPathRe = /^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;
var splitPath = function(filename) {
  return splitPathRe.exec(filename).slice(1);
};
function resolve() {
  var resolvedPath = "", resolvedAbsolute = false;
  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {
    var path = i >= 0 ? arguments[i] : "/";
    if (typeof path !== "string") {
      throw new TypeError("Arguments to path.resolve must be strings");
    } else if (!path) {
      continue;
    }
    resolvedPath = path + "/" + resolvedPath;
    resolvedAbsolute = path.charAt(0) === "/";
  }
  resolvedPath = normalizeArray(filter(resolvedPath.split("/"), function(p) {
    return !!p;
  }), !resolvedAbsolute).join("/");
  return (resolvedAbsolute ? "/" : "") + resolvedPath || ".";
}
function normalize(path) {
  var isPathAbsolute = isAbsolute(path), trailingSlash = substr(path, -1) === "/";
  path = normalizeArray(filter(path.split("/"), function(p) {
    return !!p;
  }), !isPathAbsolute).join("/");
  if (!path && !isPathAbsolute) {
    path = ".";
  }
  if (path && trailingSlash) {
    path += "/";
  }
  return (isPathAbsolute ? "/" : "") + path;
}
function isAbsolute(path) {
  return path.charAt(0) === "/";
}
function join() {
  var paths = Array.prototype.slice.call(arguments, 0);
  return normalize(filter(paths, function(p, index) {
    if (typeof p !== "string") {
      throw new TypeError("Arguments to path.join must be strings");
    }
    return p;
  }).join("/"));
}
function relative(from2, to) {
  from2 = resolve(from2).substr(1);
  to = resolve(to).substr(1);
  function trim(arr) {
    var start = 0;
    for (; start < arr.length; start++) {
      if (arr[start] !== "")
        break;
    }
    var end = arr.length - 1;
    for (; end >= 0; end--) {
      if (arr[end] !== "")
        break;
    }
    if (start > end)
      return [];
    return arr.slice(start, end - start + 1);
  }
  var fromParts = trim(from2.split("/"));
  var toParts = trim(to.split("/"));
  var length = Math.min(fromParts.length, toParts.length);
  var samePartsLength = length;
  for (var i = 0; i < length; i++) {
    if (fromParts[i] !== toParts[i]) {
      samePartsLength = i;
      break;
    }
  }
  var outputParts = [];
  for (var i = samePartsLength; i < fromParts.length; i++) {
    outputParts.push("..");
  }
  outputParts = outputParts.concat(toParts.slice(samePartsLength));
  return outputParts.join("/");
}
var sep = "/";
var delimiter = ":";
function dirname(path) {
  var result = splitPath(path), root = result[0], dir = result[1];
  if (!root && !dir) {
    return ".";
  }
  if (dir) {
    dir = dir.substr(0, dir.length - 1);
  }
  return root + dir;
}
function basename(path, ext) {
  var f = splitPath(path)[2];
  if (ext && f.substr(-1 * ext.length) === ext) {
    f = f.substr(0, f.length - ext.length);
  }
  return f;
}
function extname(path) {
  return splitPath(path)[3];
}
var path_default = {
  extname,
  basename,
  dirname,
  sep,
  delimiter,
  relative,
  join,
  isAbsolute,
  normalize,
  resolve
};
function filter(xs, f) {
  if (xs.filter)
    return xs.filter(f);
  var res = [];
  for (var i = 0; i < xs.length; i++) {
    if (f(xs[i], i, xs))
      res.push(xs[i]);
  }
  return res;
}
var substr = "ab".substr(-1) === "b" ? function(str, start, len) {
  return str.substr(start, len);
} : function(str, start, len) {
  if (start < 0)
    start = str.length + start;
  return str.substr(start, len);
};

// src/core/cred.ts
var _Cred = class {
  constructor(uid, gid, suid, sgid, euid, egid) {
    this.uid = uid;
    this.gid = gid;
    this.suid = suid;
    this.sgid = sgid;
    this.euid = euid;
    this.egid = egid;
  }
};
var Cred = _Cred;
Cred.Root = new _Cred(0, 0, 0, 0, 0, 0);

// src/core/stats.ts
var Stats = class {
  /**
   * Provides information about a particular entry in the file system.
   * @param itemType Type of the item (FILE, DIRECTORY, SYMLINK, or SOCKET)
   * @param size Size of the item in bytes. For directories/symlinks,
   *   this is normally the size of the struct that represents the item.
   * @param mode Unix-style file mode (e.g. 0o644)
   * @param atimeMs time of last access, in milliseconds since epoch
   * @param mtimeMs time of last modification, in milliseconds since epoch
   * @param ctimeMs time of last time file status was changed, in milliseconds since epoch
   * @param uid the id of the user that owns the file
   * @param gid the id of the group that owns the file
   * @param birthtimeMs time of file creation, in milliseconds since epoch
   */
  constructor(itemType, size, mode, atimeMs, mtimeMs, ctimeMs, uid, gid, birthtimeMs) {
    /**
     * UNSUPPORTED ATTRIBUTES
     * I assume no one is going to need these details, although we could fake
     * appropriate values if need be.
     */
    // ID of device containing file
    this.dev = 0;
    // inode number
    this.ino = 0;
    // device ID (if special file)
    this.rdev = 0;
    // number of hard links
    this.nlink = 1;
    // blocksize for file system I/O
    this.blksize = 4096;
    // user ID of owner
    this.uid = 0;
    // group ID of owner
    this.gid = 0;
    // XXX: Some file systems stash data on stats objects.
    this.fileData = null;
    this.size = size;
    let currentTime = 0;
    if (typeof atimeMs !== "number") {
      currentTime = Date.now();
      atimeMs = currentTime;
    }
    if (typeof mtimeMs !== "number") {
      if (!currentTime) {
        currentTime = Date.now();
      }
      mtimeMs = currentTime;
    }
    if (typeof ctimeMs !== "number") {
      if (!currentTime) {
        currentTime = Date.now();
      }
      ctimeMs = currentTime;
    }
    if (typeof birthtimeMs !== "number") {
      if (!currentTime) {
        currentTime = Date.now();
      }
      birthtimeMs = currentTime;
    }
    if (typeof uid !== "number") {
      uid = 0;
    }
    if (typeof gid !== "number") {
      gid = 0;
    }
    this.atimeMs = atimeMs;
    this.ctimeMs = ctimeMs;
    this.mtimeMs = mtimeMs;
    this.birthtimeMs = birthtimeMs;
    if (!mode) {
      switch (itemType) {
        case 32768 /* FILE */:
          this.mode = 420;
          break;
        case 16384 /* DIRECTORY */:
        default:
          this.mode = 511;
      }
    } else {
      this.mode = mode;
    }
    this.blocks = Math.ceil(size / 512);
    if (this.mode < 4096) {
      this.mode |= itemType;
    }
  }
  static fromBuffer(buffer) {
    const size = buffer.readUInt32LE(0), mode = buffer.readUInt32LE(4), atime = buffer.readDoubleLE(8), mtime = buffer.readDoubleLE(16), ctime = buffer.readDoubleLE(24), uid = buffer.readUInt32LE(32), gid = buffer.readUInt32LE(36);
    return new Stats(mode & 61440, size, mode & 4095, atime, mtime, ctime, uid, gid);
  }
  /**
   * Clones the stats object.
   */
  static clone(s) {
    return new Stats(s.mode & 61440, s.size, s.mode & 4095, s.atimeMs, s.mtimeMs, s.ctimeMs, s.uid, s.gid, s.birthtimeMs);
  }
  get atime() {
    return new Date(this.atimeMs);
  }
  get mtime() {
    return new Date(this.mtimeMs);
  }
  get ctime() {
    return new Date(this.ctimeMs);
  }
  get birthtime() {
    return new Date(this.birthtimeMs);
  }
  toBuffer() {
    const buffer = Buffer2.alloc(32);
    buffer.writeUInt32LE(this.size, 0);
    buffer.writeUInt32LE(this.mode, 4);
    buffer.writeDoubleLE(this.atime.getTime(), 8);
    buffer.writeDoubleLE(this.mtime.getTime(), 16);
    buffer.writeDoubleLE(this.ctime.getTime(), 24);
    buffer.writeUInt32LE(this.uid, 32);
    buffer.writeUInt32LE(this.gid, 36);
    return buffer;
  }
  /**
   * @return [Boolean] True if this item is a file.
   */
  isFile() {
    return (this.mode & 61440) === 32768 /* FILE */;
  }
  /**
   * @return [Boolean] True if this item is a directory.
   */
  isDirectory() {
    return (this.mode & 61440) === 16384 /* DIRECTORY */;
  }
  /**
   * @return [Boolean] True if this item is a symbolic link (only valid through lstat)
   */
  isSymbolicLink() {
    return (this.mode & 61440) === 40960 /* SYMLINK */;
  }
  /**
   * Checks if a given user/group has access to this item
   * @param mode The request access as 4 bits (unused, read, write, execute)
   * @param uid The requesting UID
   * @param gid The requesting GID
   * @returns [Boolean] True if the request has access, false if the request does not
   */
  hasAccess(mode, cred) {
    if (cred.euid === 0 || cred.egid === 0) {
      return true;
    }
    const perms = this.mode & 4095;
    let uMode = 15, gMode = 15, wMode = 15;
    if (cred.euid == this.uid) {
      const uPerms = (3840 & perms) >> 8;
      uMode = (mode ^ uPerms) & mode;
    }
    if (cred.egid == this.gid) {
      const gPerms = (240 & perms) >> 4;
      gMode = (mode ^ gPerms) & mode;
    }
    const wPerms = 15 & perms;
    wMode = (mode ^ wPerms) & mode;
    const result = uMode & gMode & wMode;
    return !result;
  }
  /**
   * Convert the current stats object into a cred object
   */
  getCred(uid = this.uid, gid = this.gid) {
    return new Cred(uid, gid, this.uid, this.gid, uid, gid);
  }
  /**
   * Change the mode of the file. We use this helper function to prevent messing
   * up the type of the file, which is encoded in mode.
   */
  chmod(mode) {
    this.mode = this.mode & 61440 | mode;
  }
  /**
   * Change the owner user/group of the file.
   * This function makes sure it is a valid UID/GID (that is, a 32 unsigned int)
   */
  chown(uid, gid) {
    if (!isNaN(+uid) && 0 <= +uid && +uid < __pow(2, 32)) {
      this.uid = uid;
    }
    if (!isNaN(+gid) && 0 <= +gid && +gid < __pow(2, 32)) {
      this.gid = gid;
    }
  }
  // We don't support the following types of files.
  isSocket() {
    return false;
  }
  isBlockDevice() {
    return false;
  }
  isCharacterDevice() {
    return false;
  }
  isFIFO() {
    return false;
  }
};

// src/generic/setImmediate.ts
var bfsSetImmediate;
if (typeof setImmediate !== "undefined") {
  bfsSetImmediate = setImmediate;
} else {
  const gScope = globalThis;
  const timeouts = [];
  const messageName = "zero-timeout-message";
  const canUsePostMessage = function() {
    if (typeof gScope.importScripts !== "undefined" || !gScope.postMessage) {
      return false;
    }
    let postMessageIsAsync = true;
    const oldOnMessage = gScope.onmessage;
    gScope.onmessage = function() {
      postMessageIsAsync = false;
    };
    gScope.postMessage("", "*");
    gScope.onmessage = oldOnMessage;
    return postMessageIsAsync;
  };
  if (canUsePostMessage()) {
    bfsSetImmediate = function(fn) {
      timeouts.push(fn);
      gScope.postMessage(messageName, "*");
    };
    const handleMessage = function(event) {
      if (event.source === self && event.data === messageName) {
        if (event.stopPropagation) {
          event.stopPropagation();
        } else {
          event.cancelBubble = true;
        }
        if (timeouts.length > 0) {
          const fn = timeouts.shift();
          return fn();
        }
      }
    };
    if (gScope.addEventListener) {
      gScope.addEventListener("message", handleMessage, true);
    } else {
      gScope.attachEvent("onmessage", handleMessage);
    }
  } else if (gScope.MessageChannel) {
    const channel = new gScope.MessageChannel();
    channel.port1.onmessage = (event) => {
      if (timeouts.length > 0) {
        return timeouts.shift()();
      }
    };
    bfsSetImmediate = (fn) => {
      timeouts.push(fn);
      channel.port2.postMessage("");
    };
  } else {
    bfsSetImmediate = function(fn) {
      return setTimeout(fn, 0);
    };
  }
}
var setImmediate_default = bfsSetImmediate;

// src/core/FS.ts
var wrapCbHook = function(cb, numArgs) {
  return cb;
};
function wrapCb(cb, numArgs) {
  if (typeof cb !== "function") {
    throw new Error("Callback must be a function.");
  }
  const hookedCb = wrapCbHook(cb, numArgs);
  switch (numArgs) {
    case 1:
      return function(arg1) {
        setImmediate_default(function() {
          return hookedCb(arg1);
        });
      };
    case 2:
      return function(arg1, arg2) {
        setImmediate_default(function() {
          return hookedCb(arg1, arg2);
        });
      };
    case 3:
      return function(arg1, arg2, arg3) {
        setImmediate_default(function() {
          return hookedCb(arg1, arg2, arg3);
        });
      };
    default:
      throw new Error("Invalid invocation of wrapCb.");
  }
}
function assertRoot(fs2) {
  if (fs2) {
    return fs2;
  }
  throw new ApiError(5 /* EIO */, `Initialize BrowserFS with a file system using BrowserFS.initialize(filesystem)`);
}
function normalizeMode(mode, def) {
  switch (typeof mode) {
    case "number":
      return mode;
    case "string":
      const trueMode = parseInt(mode, 8);
      if (!isNaN(trueMode)) {
        return trueMode;
      }
      return def;
    default:
      return def;
  }
}
function normalizeTime(time) {
  if (time instanceof Date) {
    return time;
  } else if (typeof time === "number") {
    return new Date(time * 1e3);
  } else {
    throw new ApiError(22 /* EINVAL */, `Invalid time.`);
  }
}
function normalizePath(p) {
  if (p.indexOf("\0") >= 0) {
    throw new ApiError(22 /* EINVAL */, "Path must be a string without null bytes.");
  } else if (p === "") {
    throw new ApiError(22 /* EINVAL */, "Path must not be empty.");
  }
  return resolve(p);
}
function normalizeOptions(options, defEnc, defFlag, defMode) {
  switch (options === null ? "null" : typeof options) {
    case "object":
      return {
        encoding: typeof options["encoding"] !== "undefined" ? options["encoding"] : defEnc,
        flag: typeof options["flag"] !== "undefined" ? options["flag"] : defFlag,
        mode: normalizeMode(options["mode"], defMode)
      };
    case "string":
      return {
        encoding: options,
        flag: defFlag,
        mode: defMode
      };
    case "null":
    case "undefined":
    case "function":
      return {
        encoding: defEnc,
        flag: defFlag,
        mode: defMode
      };
    default:
      throw new TypeError(`"options" must be a string or an object, got ${typeof options} instead.`);
  }
}
function nopCb() {
}
var FS = class {
  constructor() {
    /* tslint:enable:variable-name */
    this.F_OK = 0;
    this.R_OK = 4;
    this.W_OK = 2;
    this.X_OK = 1;
    this.root = null;
    this.fdMap = {};
    this.nextFd = 100;
  }
  /**
   * Initializes the FS Modules with the given filesystem
   * @param rootFS the root filesystem of the FS
   * @param cred the credentials used for interacting with the FS
   * @returns
   */
  initialize(rootFS, cred) {
    if (!rootFS.constructor.isAvailable()) {
      throw new ApiError(22 /* EINVAL */, "Tried to instantiate BrowserFS with an unavailable file system.");
    }
    this.cred = cred;
    return this.root = rootFS;
  }
  /**
   * converts Date or number to a fractional UNIX timestamp
   * Grabbed from NodeJS sources (lib/fs.js)
   */
  _toUnixTimestamp(time) {
    if (typeof time === "number") {
      return time;
    } else if (time instanceof Date) {
      return time.getTime() / 1e3;
    }
    throw new Error("Cannot parse time: " + time);
  }
  /**
   * **NONSTANDARD**: Grab the FileSystem instance that backs this API.
   * @return [BrowserFS.FileSystem | null] Returns null if the file system has
   *   not been initialized.
   */
  getRootFS() {
    if (this.root) {
      return this.root;
    } else {
      return null;
    }
  }
  // FILE OR DIRECTORY METHODS
  /**
   * Asynchronous rename. No arguments other than a possible exception are given
   * to the completion callback.
   * @param oldPath
   * @param newPath
   * @param callback
   */
  rename(oldPath, newPath, cb = nopCb) {
    const newCb = wrapCb(cb, 1);
    try {
      assertRoot(this.root).rename(normalizePath(oldPath), normalizePath(newPath), this.cred, newCb);
    } catch (e) {
      newCb(e);
    }
  }
  /**
   * Synchronous rename.
   * @param oldPath
   * @param newPath
   */
  renameSync(oldPath, newPath) {
    assertRoot(this.root).renameSync(normalizePath(oldPath), normalizePath(newPath), this.cred);
  }
  /**
   * Test whether or not the given path exists by checking with the file system.
   * Then call the callback argument with either true or false.
   * @example Sample invocation
   *   fs.exists('/etc/passwd', function (exists) {
   *     util.debug(exists ? "it's there" : "no passwd!");
   *   });
   * @param path
   * @param callback
   */
  exists(path, cb = nopCb) {
    const newCb = wrapCb(cb, 1);
    try {
      return assertRoot(this.root).exists(normalizePath(path), this.cred, newCb);
    } catch (e) {
      return newCb(false);
    }
  }
  /**
   * Test whether or not the given path exists by checking with the file system.
   * @param path
   * @return [boolean]
   */
  existsSync(path) {
    try {
      return assertRoot(this.root).existsSync(normalizePath(path), this.cred);
    } catch (e) {
      return false;
    }
  }
  /**
   * Asynchronous `stat`.
   * @param path
   * @param callback
   */
  stat(path, cb = nopCb) {
    const newCb = wrapCb(cb, 2);
    try {
      return assertRoot(this.root).stat(normalizePath(path), false, this.cred, newCb);
    } catch (e) {
      return newCb(e);
    }
  }
  /**
   * Synchronous `stat`.
   * @param path
   * @return [BrowserFS.node.fs.Stats]
   */
  statSync(path) {
    return assertRoot(this.root).statSync(normalizePath(path), false, this.cred);
  }
  /**
   * Asynchronous `lstat`.
   * `lstat()` is identical to `stat()`, except that if path is a symbolic link,
   * then the link itself is stat-ed, not the file that it refers to.
   * @param path
   * @param callback
   */
  lstat(path, cb = nopCb) {
    const newCb = wrapCb(cb, 2);
    try {
      return assertRoot(this.root).stat(normalizePath(path), true, this.cred, newCb);
    } catch (e) {
      return newCb(e);
    }
  }
  /**
   * Synchronous `lstat`.
   * `lstat()` is identical to `stat()`, except that if path is a symbolic link,
   * then the link itself is stat-ed, not the file that it refers to.
   * @param path
   * @return [BrowserFS.node.fs.Stats]
   */
  lstatSync(path) {
    return assertRoot(this.root).statSync(normalizePath(path), true, this.cred);
  }
  truncate(path, arg2 = 0, cb = nopCb) {
    let len = 0;
    if (typeof arg2 === "function") {
      cb = arg2;
    } else if (typeof arg2 === "number") {
      len = arg2;
    }
    const newCb = wrapCb(cb, 1);
    try {
      if (len < 0) {
        throw new ApiError(22 /* EINVAL */);
      }
      return assertRoot(this.root).truncate(normalizePath(path), len, this.cred, newCb);
    } catch (e) {
      return newCb(e);
    }
  }
  /**
   * Synchronous `truncate`.
   * @param path
   * @param len
   */
  truncateSync(path, len = 0) {
    if (len < 0) {
      throw new ApiError(22 /* EINVAL */);
    }
    return assertRoot(this.root).truncateSync(normalizePath(path), len, this.cred);
  }
  /**
   * Asynchronous `unlink`.
   * @param path
   * @param callback
   */
  unlink(path, cb = nopCb) {
    const newCb = wrapCb(cb, 1);
    try {
      return assertRoot(this.root).unlink(normalizePath(path), this.cred, newCb);
    } catch (e) {
      return newCb(e);
    }
  }
  /**
   * Synchronous `unlink`.
   * @param path
   */
  unlinkSync(path) {
    return assertRoot(this.root).unlinkSync(normalizePath(path), this.cred);
  }
  open(path, flag, arg2, cb = nopCb) {
    const mode = normalizeMode(arg2, 420);
    cb = typeof arg2 === "function" ? arg2 : cb;
    const newCb = wrapCb(cb, 2);
    try {
      assertRoot(this.root).open(normalizePath(path), FileFlag.getFileFlag(flag), mode, this.cred, (e, file) => {
        if (file) {
          newCb(e, this.getFdForFile(file));
        } else {
          newCb(e);
        }
      });
    } catch (e) {
      newCb(e);
    }
  }
  /**
   * Synchronous file open.
   * @see http://www.manpagez.com/man/2/open/
   * @param path
   * @param flags
   * @param mode defaults to `0644`
   * @return [BrowserFS.File]
   */
  openSync(path, flag, mode = 420) {
    return this.getFdForFile(assertRoot(this.root).openSync(normalizePath(path), FileFlag.getFileFlag(flag), normalizeMode(mode, 420), this.cred));
  }
  readFile(filename, arg2 = {}, cb = nopCb) {
    const options = normalizeOptions(arg2, null, "r", null);
    cb = typeof arg2 === "function" ? arg2 : cb;
    const newCb = wrapCb(cb, 2);
    try {
      const flag = FileFlag.getFileFlag(options["flag"]);
      if (!flag.isReadable()) {
        return newCb(new ApiError(22 /* EINVAL */, "Flag passed to readFile must allow for reading."));
      }
      return assertRoot(this.root).readFile(normalizePath(filename), options.encoding, flag, this.cred, newCb);
    } catch (e) {
      return newCb(e);
    }
  }
  readFileSync(filename, arg2 = {}) {
    const options = normalizeOptions(arg2, null, "r", null);
    const flag = FileFlag.getFileFlag(options.flag);
    if (!flag.isReadable()) {
      throw new ApiError(22 /* EINVAL */, "Flag passed to readFile must allow for reading.");
    }
    return assertRoot(this.root).readFileSync(normalizePath(filename), options.encoding, flag, this.cred);
  }
  writeFile(filename, data, arg3 = {}, cb = nopCb) {
    const options = normalizeOptions(arg3, "utf8", "w", 420);
    cb = typeof arg3 === "function" ? arg3 : cb;
    const newCb = wrapCb(cb, 1);
    try {
      const flag = FileFlag.getFileFlag(options.flag);
      if (!flag.isWriteable()) {
        return newCb(new ApiError(22 /* EINVAL */, "Flag passed to writeFile must allow for writing."));
      }
      return assertRoot(this.root).writeFile(normalizePath(filename), data, options.encoding, flag, options.mode, this.cred, newCb);
    } catch (e) {
      return newCb(e);
    }
  }
  writeFileSync(filename, data, arg3) {
    const options = normalizeOptions(arg3, "utf8", "w", 420);
    const flag = FileFlag.getFileFlag(options.flag);
    if (!flag.isWriteable()) {
      throw new ApiError(22 /* EINVAL */, "Flag passed to writeFile must allow for writing.");
    }
    return assertRoot(this.root).writeFileSync(normalizePath(filename), data, options.encoding, flag, options.mode, this.cred);
  }
  appendFile(filename, data, arg3, cb = nopCb) {
    const options = normalizeOptions(arg3, "utf8", "a", 420);
    cb = typeof arg3 === "function" ? arg3 : cb;
    const newCb = wrapCb(cb, 1);
    try {
      const flag = FileFlag.getFileFlag(options.flag);
      if (!flag.isAppendable()) {
        return newCb(new ApiError(22 /* EINVAL */, "Flag passed to appendFile must allow for appending."));
      }
      assertRoot(this.root).appendFile(normalizePath(filename), data, options.encoding, flag, options.mode, this.cred, newCb);
    } catch (e) {
      newCb(e);
    }
  }
  appendFileSync(filename, data, arg3) {
    const options = normalizeOptions(arg3, "utf8", "a", 420);
    const flag = FileFlag.getFileFlag(options.flag);
    if (!flag.isAppendable()) {
      throw new ApiError(22 /* EINVAL */, "Flag passed to appendFile must allow for appending.");
    }
    return assertRoot(this.root).appendFileSync(normalizePath(filename), data, options.encoding, flag, options.mode, this.cred);
  }
  // FILE DESCRIPTOR METHODS
  /**
   * Asynchronous `fstat`.
   * `fstat()` is identical to `stat()`, except that the file to be stat-ed is
   * specified by the file descriptor `fd`.
   * @param fd
   * @param callback
   */
  fstat(fd, cb = nopCb) {
    const newCb = wrapCb(cb, 2);
    try {
      const file = this.fd2file(fd);
      file.stat(newCb);
    } catch (e) {
      newCb(e);
    }
  }
  /**
   * Synchronous `fstat`.
   * `fstat()` is identical to `stat()`, except that the file to be stat-ed is
   * specified by the file descriptor `fd`.
   * @param fd
   * @return [BrowserFS.node.fs.Stats]
   */
  fstatSync(fd) {
    return this.fd2file(fd).statSync();
  }
  /**
   * Asynchronous close.
   * @param fd
   * @param callback
   */
  close(fd, cb = nopCb) {
    const newCb = wrapCb(cb, 1);
    try {
      this.fd2file(fd).close((e) => {
        if (!e) {
          this.closeFd(fd);
        }
        newCb(e);
      });
    } catch (e) {
      newCb(e);
    }
  }
  /**
   * Synchronous close.
   * @param fd
   */
  closeSync(fd) {
    this.fd2file(fd).closeSync();
    this.closeFd(fd);
  }
  ftruncate(fd, arg2, cb = nopCb) {
    const length = typeof arg2 === "number" ? arg2 : 0;
    cb = typeof arg2 === "function" ? arg2 : cb;
    const newCb = wrapCb(cb, 1);
    try {
      const file = this.fd2file(fd);
      if (length < 0) {
        throw new ApiError(22 /* EINVAL */);
      }
      file.truncate(length, newCb);
    } catch (e) {
      newCb(e);
    }
  }
  /**
   * Synchronous ftruncate.
   * @param fd
   * @param len
   */
  ftruncateSync(fd, len = 0) {
    const file = this.fd2file(fd);
    if (len < 0) {
      throw new ApiError(22 /* EINVAL */);
    }
    file.truncateSync(len);
  }
  /**
   * Asynchronous fsync.
   * @param fd
   * @param callback
   */
  fsync(fd, cb = nopCb) {
    const newCb = wrapCb(cb, 1);
    try {
      this.fd2file(fd).sync(newCb);
    } catch (e) {
      newCb(e);
    }
  }
  /**
   * Synchronous fsync.
   * @param fd
   */
  fsyncSync(fd) {
    this.fd2file(fd).syncSync();
  }
  /**
   * Asynchronous fdatasync.
   * @param fd
   * @param callback
   */
  fdatasync(fd, cb = nopCb) {
    const newCb = wrapCb(cb, 1);
    try {
      this.fd2file(fd).datasync(newCb);
    } catch (e) {
      newCb(e);
    }
  }
  /**
   * Synchronous fdatasync.
   * @param fd
   */
  fdatasyncSync(fd) {
    this.fd2file(fd).datasyncSync();
  }
  write(fd, arg2, arg3, arg4, arg5, cb = nopCb) {
    let buffer, offset, length, position = null;
    if (typeof arg2 === "string") {
      let encoding = "utf8";
      switch (typeof arg3) {
        case "function":
          cb = arg3;
          break;
        case "number":
          position = arg3;
          encoding = typeof arg4 === "string" ? arg4 : "utf8";
          cb = typeof arg5 === "function" ? arg5 : cb;
          break;
        default:
          cb = typeof arg4 === "function" ? arg4 : typeof arg5 === "function" ? arg5 : cb;
          return cb(new ApiError(22 /* EINVAL */, "Invalid arguments."));
      }
      buffer = Buffer2.from(arg2, encoding);
      offset = 0;
      length = buffer.length;
    } else {
      buffer = arg2;
      offset = arg3;
      length = arg4;
      position = typeof arg5 === "number" ? arg5 : null;
      cb = typeof arg5 === "function" ? arg5 : cb;
    }
    const newCb = wrapCb(cb, 3);
    try {
      const file = this.fd2file(fd);
      if (position === void 0 || position === null) {
        position = file.getPos();
      }
      file.write(buffer, offset, length, position, newCb);
    } catch (e) {
      newCb(e);
    }
  }
  writeSync(fd, arg2, arg3, arg4, arg5) {
    let buffer, offset = 0, length, position;
    if (typeof arg2 === "string") {
      position = typeof arg3 === "number" ? arg3 : null;
      const encoding = typeof arg4 === "string" ? arg4 : "utf8";
      offset = 0;
      buffer = Buffer2.from(arg2, encoding);
      length = buffer.length;
    } else {
      buffer = arg2;
      offset = arg3;
      length = arg4;
      position = typeof arg5 === "number" ? arg5 : null;
    }
    const file = this.fd2file(fd);
    if (position === void 0 || position === null) {
      position = file.getPos();
    }
    return file.writeSync(buffer, offset, length, position);
  }
  read(fd, arg2, arg3, arg4, arg5, cb = nopCb) {
    let position, offset, length, buffer, newCb;
    if (typeof arg2 === "number") {
      length = arg2;
      position = arg3;
      const encoding = arg4;
      cb = typeof arg5 === "function" ? arg5 : cb;
      offset = 0;
      buffer = Buffer2.alloc(length);
      newCb = wrapCb((err2, bytesRead, buf) => {
        if (err2) {
          return cb(err2);
        }
        cb(err2, buf.toString(encoding), bytesRead);
      }, 3);
    } else {
      buffer = arg2;
      offset = arg3;
      length = arg4;
      position = arg5;
      newCb = wrapCb(cb, 3);
    }
    try {
      const file = this.fd2file(fd);
      if (position === void 0 || position === null) {
        position = file.getPos();
      }
      file.read(buffer, offset, length, position, newCb);
    } catch (e) {
      newCb(e);
    }
  }
  readSync(fd, arg2, arg3, arg4, arg5) {
    let shenanigans = false;
    let buffer, offset, length, position, encoding = "utf8";
    if (typeof arg2 === "number") {
      length = arg2;
      position = arg3;
      encoding = arg4;
      offset = 0;
      buffer = Buffer2.alloc(length);
      shenanigans = true;
    } else {
      buffer = arg2;
      offset = arg3;
      length = arg4;
      position = arg5;
    }
    const file = this.fd2file(fd);
    if (position === void 0 || position === null) {
      position = file.getPos();
    }
    const rv = file.readSync(buffer, offset, length, position);
    if (!shenanigans) {
      return rv;
    } else {
      return [buffer.toString(encoding), rv];
    }
  }
  /**
   * Asynchronous `fchown`.
   * @param fd
   * @param uid
   * @param gid
   * @param callback
   */
  fchown(fd, uid, gid, callback = nopCb) {
    const newCb = wrapCb(callback, 1);
    try {
      this.fd2file(fd).chown(uid, gid, newCb);
    } catch (e) {
      newCb(e);
    }
  }
  /**
   * Synchronous `fchown`.
   * @param fd
   * @param uid
   * @param gid
   */
  fchownSync(fd, uid, gid) {
    this.fd2file(fd).chownSync(uid, gid);
  }
  /**
   * Asynchronous `fchmod`.
   * @param fd
   * @param mode
   * @param callback
   */
  fchmod(fd, mode, cb) {
    const newCb = wrapCb(cb, 1);
    try {
      const numMode = typeof mode === "string" ? parseInt(mode, 8) : mode;
      this.fd2file(fd).chmod(numMode, newCb);
    } catch (e) {
      newCb(e);
    }
  }
  /**
   * Synchronous `fchmod`.
   * @param fd
   * @param mode
   */
  fchmodSync(fd, mode) {
    const numMode = typeof mode === "string" ? parseInt(mode, 8) : mode;
    this.fd2file(fd).chmodSync(numMode);
  }
  /**
   * Change the file timestamps of a file referenced by the supplied file
   * descriptor.
   * @param fd
   * @param atime
   * @param mtime
   * @param callback
   */
  futimes(fd, atime, mtime, cb = nopCb) {
    const newCb = wrapCb(cb, 1);
    try {
      const file = this.fd2file(fd);
      if (typeof atime === "number") {
        atime = new Date(atime * 1e3);
      }
      if (typeof mtime === "number") {
        mtime = new Date(mtime * 1e3);
      }
      file.utimes(atime, mtime, newCb);
    } catch (e) {
      newCb(e);
    }
  }
  /**
   * Change the file timestamps of a file referenced by the supplied file
   * descriptor.
   * @param fd
   * @param atime
   * @param mtime
   */
  futimesSync(fd, atime, mtime) {
    this.fd2file(fd).utimesSync(normalizeTime(atime), normalizeTime(mtime));
  }
  // DIRECTORY-ONLY METHODS
  /**
   * Asynchronous `rmdir`.
   * @param path
   * @param callback
   */
  rmdir(path, cb = nopCb) {
    const newCb = wrapCb(cb, 1);
    try {
      path = normalizePath(path);
      assertRoot(this.root).rmdir(path, this.cred, newCb);
    } catch (e) {
      newCb(e);
    }
  }
  /**
   * Synchronous `rmdir`.
   * @param path
   */
  rmdirSync(path) {
    path = normalizePath(path);
    return assertRoot(this.root).rmdirSync(path, this.cred);
  }
  /**
   * Asynchronous `mkdir`.
   * @param path
   * @param mode defaults to `0777`
   * @param callback
   */
  mkdir(path, mode, cb = nopCb) {
    if (typeof mode === "function") {
      cb = mode;
      mode = 511;
    }
    const newCb = wrapCb(cb, 1);
    try {
      path = normalizePath(path);
      assertRoot(this.root).mkdir(path, mode, this.cred, newCb);
    } catch (e) {
      newCb(e);
    }
  }
  /**
   * Synchronous `mkdir`.
   * @param path
   * @param mode defaults to `0777`
   */
  mkdirSync(path, mode) {
    assertRoot(this.root).mkdirSync(normalizePath(path), normalizeMode(mode, 511), this.cred);
  }
  /**
   * Asynchronous `readdir`. Reads the contents of a directory.
   * The callback gets two arguments `(err, files)` where `files` is an array of
   * the names of the files in the directory excluding `'.'` and `'..'`.
   * @param path
   * @param callback
   */
  readdir(path, cb = nopCb) {
    const newCb = wrapCb(cb, 2);
    try {
      path = normalizePath(path);
      assertRoot(this.root).readdir(path, this.cred, newCb);
    } catch (e) {
      newCb(e);
    }
  }
  /**
   * Synchronous `readdir`. Reads the contents of a directory.
   * @param path
   * @return [String[]]
   */
  readdirSync(path) {
    path = normalizePath(path);
    return assertRoot(this.root).readdirSync(path, this.cred);
  }
  // SYMLINK METHODS
  /**
   * Asynchronous `link`.
   * @param srcpath
   * @param dstpath
   * @param callback
   */
  link(srcpath, dstpath, cb = nopCb) {
    const newCb = wrapCb(cb, 1);
    try {
      srcpath = normalizePath(srcpath);
      dstpath = normalizePath(dstpath);
      assertRoot(this.root).link(srcpath, dstpath, this.cred, newCb);
    } catch (e) {
      newCb(e);
    }
  }
  /**
   * Synchronous `link`.
   * @param srcpath
   * @param dstpath
   */
  linkSync(srcpath, dstpath) {
    srcpath = normalizePath(srcpath);
    dstpath = normalizePath(dstpath);
    return assertRoot(this.root).linkSync(srcpath, dstpath, this.cred);
  }
  symlink(srcpath, dstpath, arg3, cb = nopCb) {
    const type = typeof arg3 === "string" ? arg3 : "file";
    cb = typeof arg3 === "function" ? arg3 : cb;
    const newCb = wrapCb(cb, 1);
    try {
      if (type !== "file" && type !== "dir") {
        return newCb(new ApiError(22 /* EINVAL */, "Invalid type: " + type));
      }
      srcpath = normalizePath(srcpath);
      dstpath = normalizePath(dstpath);
      assertRoot(this.root).symlink(srcpath, dstpath, type, this.cred, newCb);
    } catch (e) {
      newCb(e);
    }
  }
  /**
   * Synchronous `symlink`.
   * @param srcpath
   * @param dstpath
   * @param type can be either `'dir'` or `'file'` (default is `'file'`)
   */
  symlinkSync(srcpath, dstpath, type) {
    if (!type) {
      type = "file";
    } else if (type !== "file" && type !== "dir") {
      throw new ApiError(22 /* EINVAL */, "Invalid type: " + type);
    }
    srcpath = normalizePath(srcpath);
    dstpath = normalizePath(dstpath);
    return assertRoot(this.root).symlinkSync(srcpath, dstpath, type, this.cred);
  }
  /**
   * Asynchronous readlink.
   * @param path
   * @param callback
   */
  readlink(path, cb = nopCb) {
    const newCb = wrapCb(cb, 2);
    try {
      path = normalizePath(path);
      assertRoot(this.root).readlink(path, this.cred, newCb);
    } catch (e) {
      newCb(e);
    }
  }
  /**
   * Synchronous readlink.
   * @param path
   * @return [String]
   */
  readlinkSync(path) {
    path = normalizePath(path);
    return assertRoot(this.root).readlinkSync(path, this.cred);
  }
  // PROPERTY OPERATIONS
  /**
   * Asynchronous `chown`.
   * @param path
   * @param uid
   * @param gid
   * @param callback
   */
  chown(path, uid, gid, cb = nopCb) {
    const newCb = wrapCb(cb, 1);
    try {
      path = normalizePath(path);
      assertRoot(this.root).chown(path, false, uid, gid, this.cred, newCb);
    } catch (e) {
      newCb(e);
    }
  }
  /**
   * Synchronous `chown`.
   * @param path
   * @param uid
   * @param gid
   */
  chownSync(path, uid, gid) {
    path = normalizePath(path);
    assertRoot(this.root).chownSync(path, false, uid, gid, this.cred);
  }
  /**
   * Asynchronous `lchown`.
   * @param path
   * @param uid
   * @param gid
   * @param callback
   */
  lchown(path, uid, gid, cb = nopCb) {
    const newCb = wrapCb(cb, 1);
    try {
      path = normalizePath(path);
      assertRoot(this.root).chown(path, true, uid, gid, this.cred, newCb);
    } catch (e) {
      newCb(e);
    }
  }
  /**
   * Synchronous `lchown`.
   * @param path
   * @param uid
   * @param gid
   */
  lchownSync(path, uid, gid) {
    path = normalizePath(path);
    assertRoot(this.root).chownSync(path, true, uid, gid, this.cred);
  }
  /**
   * Asynchronous `chmod`.
   * @param path
   * @param mode
   * @param callback
   */
  chmod(path, mode, cb = nopCb) {
    const newCb = wrapCb(cb, 1);
    try {
      const numMode = normalizeMode(mode, -1);
      if (numMode < 0) {
        throw new ApiError(22 /* EINVAL */, `Invalid mode.`);
      }
      assertRoot(this.root).chmod(normalizePath(path), false, numMode, this.cred, newCb);
    } catch (e) {
      newCb(e);
    }
  }
  /**
   * Synchronous `chmod`.
   * @param path
   * @param mode
   */
  chmodSync(path, mode) {
    const numMode = normalizeMode(mode, -1);
    if (numMode < 0) {
      throw new ApiError(22 /* EINVAL */, `Invalid mode.`);
    }
    path = normalizePath(path);
    assertRoot(this.root).chmodSync(path, false, numMode, this.cred);
  }
  /**
   * Asynchronous `lchmod`.
   * @param path
   * @param mode
   * @param callback
   */
  lchmod(path, mode, cb = nopCb) {
    const newCb = wrapCb(cb, 1);
    try {
      const numMode = normalizeMode(mode, -1);
      if (numMode < 0) {
        throw new ApiError(22 /* EINVAL */, `Invalid mode.`);
      }
      assertRoot(this.root).chmod(normalizePath(path), true, numMode, this.cred, newCb);
    } catch (e) {
      newCb(e);
    }
  }
  /**
   * Synchronous `lchmod`.
   * @param path
   * @param mode
   */
  lchmodSync(path, mode) {
    const numMode = normalizeMode(mode, -1);
    if (numMode < 1) {
      throw new ApiError(22 /* EINVAL */, `Invalid mode.`);
    }
    assertRoot(this.root).chmodSync(normalizePath(path), true, numMode, this.cred);
  }
  /**
   * Change file timestamps of the file referenced by the supplied path.
   * @param path
   * @param atime
   * @param mtime
   * @param callback
   */
  utimes(path, atime, mtime, cb = nopCb) {
    const newCb = wrapCb(cb, 1);
    try {
      assertRoot(this.root).utimes(normalizePath(path), normalizeTime(atime), normalizeTime(mtime), this.cred, newCb);
    } catch (e) {
      newCb(e);
    }
  }
  /**
   * Change file timestamps of the file referenced by the supplied path.
   * @param path
   * @param atime
   * @param mtime
   */
  utimesSync(path, atime, mtime) {
    assertRoot(this.root).utimesSync(normalizePath(path), normalizeTime(atime), normalizeTime(mtime), this.cred);
  }
  realpath(path, arg2, cb = nopCb) {
    const cache = typeof arg2 === "object" ? arg2 : {};
    cb = typeof arg2 === "function" ? arg2 : nopCb;
    const newCb = wrapCb(cb, 2);
    try {
      path = normalizePath(path);
      assertRoot(this.root).realpath(path, cache, this.cred, newCb);
    } catch (e) {
      newCb(e);
    }
  }
  /**
   * Synchronous `realpath`.
   * @param path
   * @param cache An object literal of mapped paths that can be used to
   *   force a specific path resolution or avoid additional `fs.stat` calls for
   *   known real paths.
   * @return [String]
   */
  realpathSync(path, cache = {}) {
    path = normalizePath(path);
    return assertRoot(this.root).realpathSync(path, cache, this.cred);
  }
  watchFile(filename, arg2, listener = nopCb) {
    throw new ApiError(95 /* ENOTSUP */);
  }
  unwatchFile(filename, listener = nopCb) {
    throw new ApiError(95 /* ENOTSUP */);
  }
  watch(filename, arg2, listener = nopCb) {
    throw new ApiError(95 /* ENOTSUP */);
  }
  access(path, arg2, callback = nopCb) {
    const mode = typeof arg2 === "number" ? arg2 : 4 /* READ */;
    callback = typeof arg2 === "function" ? arg2 : nopCb;
    const newCb = wrapCb(callback, 2);
    try {
      path = normalizePath(path);
      assertRoot(this.root).access(path, mode, this.cred, newCb);
    } catch (e) {
      newCb(e);
    }
  }
  /**
   * Synchronous `access`.
   * @param path
   * @param mode
   */
  accessSync(path, mode = 384) {
    path = normalizePath(path);
    return assertRoot(this.root).accessSync(path, mode, this.cred);
  }
  createReadStream(path, options) {
    throw new ApiError(95 /* ENOTSUP */);
  }
  createWriteStream(path, options) {
    throw new ApiError(95 /* ENOTSUP */);
  }
  /**
   * For unit testing. Passes all incoming callbacks to cbWrapper for wrapping.
   */
  wrapCallbacks(cbWrapper) {
    wrapCbHook = cbWrapper;
  }
  getFdForFile(file) {
    const fd = this.nextFd++;
    this.fdMap[fd] = file;
    return fd;
  }
  fd2file(fd) {
    const rv = this.fdMap[fd];
    if (rv) {
      return rv;
    } else {
      throw new ApiError(9 /* EBADF */, "Invalid file descriptor.");
    }
  }
  closeFd(fd) {
    delete this.fdMap[fd];
  }
};
/* tslint:disable:variable-name */
// Exported fs.Stats.
FS.Stats = Stats;

// src/core/node_fs.ts
var fs = new FS();
var _fsMock = {};
for (const key of Object.getOwnPropertyNames(FS.prototype)) {
  if (typeof fs[key] === "function") {
    _fsMock[key] = function(...args) {
      return fs[key].apply(fs, args);
    };
  } else {
    _fsMock[key] = fs[key];
  }
}
_fsMock.changeFSModule = function(newFs) {
  fs = newFs;
};
_fsMock.getFSModule = function() {
  return fs;
};
_fsMock.FS = FS;
_fsMock.Stats = FS.Stats;
var node_fs_default = _fsMock;

// src/core/util.ts
var util_exports = {};
__export(util_exports, {
  arrayBuffer2Buffer: () => arrayBuffer2Buffer,
  buffer2ArrayBuffer: () => buffer2ArrayBuffer,
  buffer2Uint8array: () => buffer2Uint8array,
  bufferValidator: () => bufferValidator,
  checkOptions: () => checkOptions,
  copyingSlice: () => copyingSlice,
  deprecationMessage: () => deprecationMessage,
  emptyBuffer: () => emptyBuffer,
  fail: () => fail,
  isIE: () => isIE,
  isWebWorker: () => isWebWorker,
  mkdirpSync: () => mkdirpSync,
  uint8Array2Buffer: () => uint8Array2Buffer
});

// src/core/levenshtein.ts
function _min(d0, d1, d2, bx, ay) {
  return d0 < d1 || d2 < d1 ? d0 > d2 ? d2 + 1 : d0 + 1 : bx === ay ? d1 : d1 + 1;
}
function levenshtein(a, b) {
  if (a === b) {
    return 0;
  }
  if (a.length > b.length) {
    const tmp = a;
    a = b;
    b = tmp;
  }
  let la = a.length;
  let lb = b.length;
  while (la > 0 && a.charCodeAt(la - 1) === b.charCodeAt(lb - 1)) {
    la--;
    lb--;
  }
  let offset = 0;
  while (offset < la && a.charCodeAt(offset) === b.charCodeAt(offset)) {
    offset++;
  }
  la -= offset;
  lb -= offset;
  if (la === 0 || lb === 1) {
    return lb;
  }
  const vector = new Array(la << 1);
  for (let y = 0; y < la; ) {
    vector[la + y] = a.charCodeAt(offset + y);
    vector[y] = ++y;
  }
  let x;
  let d0;
  let d1;
  let d2;
  let d3;
  for (x = 0; x + 3 < lb; ) {
    const bx0 = b.charCodeAt(offset + (d0 = x));
    const bx1 = b.charCodeAt(offset + (d1 = x + 1));
    const bx2 = b.charCodeAt(offset + (d2 = x + 2));
    const bx3 = b.charCodeAt(offset + (d3 = x + 3));
    let dd2 = x += 4;
    for (let y = 0; y < la; ) {
      const ay = vector[la + y];
      const dy = vector[y];
      d0 = _min(dy, d0, d1, bx0, ay);
      d1 = _min(d0, d1, d2, bx1, ay);
      d2 = _min(d1, d2, d3, bx2, ay);
      dd2 = _min(d2, d3, dd2, bx3, ay);
      vector[y++] = dd2;
      d3 = d2;
      d2 = d1;
      d1 = d0;
      d0 = dy;
    }
  }
  let dd = 0;
  for (; x < lb; ) {
    const bx0 = b.charCodeAt(offset + (d0 = x));
    dd = ++x;
    for (let y = 0; y < la; y++) {
      const dy = vector[y];
      vector[y] = dd = dy < d0 || dd < d0 ? dy > dd ? dd + 1 : dy + 1 : bx0 === vector[la + y] ? d0 : d0 + 1;
      d0 = dy;
    }
  }
  return dd;
}

// src/core/util.ts
function deprecationMessage(print, fsName, opts) {
  if (print) {
    console.warn(
      `[${fsName}] Direct file system constructor usage is deprecated for this file system, and will be removed in the next major version. Please use the '${fsName}.Create(${JSON.stringify(
        opts
      )}, callback)' method instead. See https://github.com/jvilk/BrowserFS/issues/176 for more details.`
    );
  }
}
var isIE = typeof navigator !== "undefined" && !!(/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase()) || navigator.userAgent.indexOf("Trident") !== -1);
var isWebWorker = typeof window === "undefined";
function fail() {
  throw new Error("BFS has reached an impossible code path; please file a bug.");
}
function mkdirpSync(p, mode, cred, fs2) {
  if (!fs2.existsSync(p, cred)) {
    mkdirpSync(dirname(p), mode, cred, fs2);
    fs2.mkdirSync(p, mode, cred);
  }
}
function buffer2ArrayBuffer(buff) {
  const u8 = buffer2Uint8array(buff), u8offset = u8.byteOffset, u8Len = u8.byteLength;
  if (u8offset === 0 && u8Len === u8.buffer.byteLength) {
    return u8.buffer;
  } else {
    return u8.buffer.slice(u8offset, u8offset + u8Len);
  }
}
function buffer2Uint8array(buff) {
  if (buff instanceof Uint8Array) {
    return buff;
  } else {
    return new Uint8Array(buff);
  }
}
function uint8Array2Buffer(u8) {
  if (u8 instanceof Buffer2) {
    return u8;
  } else if (u8.byteOffset === 0 && u8.byteLength === u8.buffer.byteLength) {
    return arrayBuffer2Buffer(u8.buffer);
  } else {
    return Buffer2.from(u8.buffer, u8.byteOffset, u8.byteLength);
  }
}
function arrayBuffer2Buffer(ab) {
  return Buffer2.from(ab);
}
function copyingSlice(buff, start = 0, end = buff.length) {
  if (start < 0 || end < 0 || end > buff.length || start > end) {
    throw new TypeError(`Invalid slice bounds on buffer of length ${buff.length}: [${start}, ${end}]`);
  }
  if (buff.length === 0) {
    return emptyBuffer();
  } else {
    const u8 = buffer2Uint8array(buff), s0 = buff[0], newS0 = (s0 + 1) % 255;
    buff[0] = newS0;
    if (u8[0] === newS0) {
      u8[0] = s0;
      return uint8Array2Buffer(u8.slice(start, end));
    } else {
      buff[0] = s0;
      return uint8Array2Buffer(u8.subarray(start, end));
    }
  }
}
var emptyBuff = null;
function emptyBuffer() {
  if (emptyBuff) {
    return emptyBuff;
  }
  return emptyBuff = Buffer2.alloc(0);
}
function bufferValidator(v, cb) {
  if (Buffer2.isBuffer(v)) {
    cb();
  } else {
    cb(new ApiError(22 /* EINVAL */, `option must be a Buffer.`));
  }
}
function checkOptions(fsType, opts, cb) {
  const optsInfo = fsType.Options;
  const fsName = fsType.Name;
  let pendingValidators = 0;
  let callbackCalled = false;
  let loopEnded = false;
  function validatorCallback(e) {
    if (!callbackCalled) {
      if (e) {
        callbackCalled = true;
        cb(e);
      }
      pendingValidators--;
      if (pendingValidators === 0 && loopEnded) {
        cb();
      }
    }
  }
  for (const optName in optsInfo) {
    if (Object.prototype.hasOwnProperty.call(optsInfo, optName)) {
      const opt = optsInfo[optName];
      const providedValue = opts && opts[optName];
      if (providedValue === void 0 || providedValue === null) {
        if (!opt.optional) {
          const incorrectOptions = Object.keys(opts).filter((o) => !(o in optsInfo)).map((a) => {
            return { str: a, distance: levenshtein(optName, a) };
          }).filter((o) => o.distance < 5).sort((a, b) => a.distance - b.distance);
          if (callbackCalled) {
            return;
          }
          callbackCalled = true;
          return cb(
            new ApiError(
              22 /* EINVAL */,
              `[${fsName}] Required option '${optName}' not provided.${incorrectOptions.length > 0 ? ` You provided unrecognized option '${incorrectOptions[0].str}'; perhaps you meant to type '${optName}'.` : ""}
Option description: ${opt.description}`
            )
          );
        }
      } else {
        let typeMatches = false;
        if (Array.isArray(opt.type)) {
          typeMatches = opt.type.indexOf(typeof providedValue) !== -1;
        } else {
          typeMatches = typeof providedValue === opt.type;
        }
        if (!typeMatches) {
          if (callbackCalled) {
            return;
          }
          callbackCalled = true;
          return cb(
            new ApiError(
              22 /* EINVAL */,
              `[${fsName}] Value provided for option ${optName} is not the proper type. Expected ${Array.isArray(opt.type) ? `one of {${opt.type.join(", ")}}` : opt.type}, but received ${typeof providedValue}
Option description: ${opt.description}`
            )
          );
        } else if (opt.validator) {
          pendingValidators++;
          opt.validator(providedValue, validatorCallback);
        }
      }
    }
  }
  loopEnded = true;
  if (pendingValidators === 0 && !callbackCalled) {
    cb();
  }
}

// src/generic/emscripten_fs.ts
var BFSEmscriptenStreamOps = class {
  constructor(fs2) {
    this.fs = fs2;
    this.nodefs = fs2.getNodeFS();
    this.FS = fs2.getFS();
    this.PATH = fs2.getPATH();
    this.ERRNO_CODES = fs2.getERRNO_CODES();
  }
  open(stream) {
    const path = this.fs.realPath(stream.node);
    const FS2 = this.FS;
    try {
      if (FS2.isFile(stream.node.mode)) {
        stream.nfd = this.nodefs.openSync(path, this.fs.flagsToPermissionString(stream.flags));
      }
    } catch (e) {
      if (!e.code) {
        throw e;
      }
      throw new FS2.ErrnoError(this.ERRNO_CODES[e.code]);
    }
  }
  close(stream) {
    const FS2 = this.FS;
    try {
      if (FS2.isFile(stream.node.mode) && stream.nfd) {
        this.nodefs.closeSync(stream.nfd);
      }
    } catch (e) {
      if (!e.code) {
        throw e;
      }
      throw new FS2.ErrnoError(this.ERRNO_CODES[e.code]);
    }
  }
  read(stream, buffer, offset, length, position) {
    try {
      return this.nodefs.readSync(stream.nfd, uint8Array2Buffer(buffer), offset, length, position);
    } catch (e) {
      throw new this.FS.ErrnoError(this.ERRNO_CODES[e.code]);
    }
  }
  write(stream, buffer, offset, length, position) {
    try {
      return this.nodefs.writeSync(stream.nfd, uint8Array2Buffer(buffer), offset, length, position);
    } catch (e) {
      throw new this.FS.ErrnoError(this.ERRNO_CODES[e.code]);
    }
  }
  llseek(stream, offset, whence) {
    let position = offset;
    if (whence === 1) {
      position += stream.position;
    } else if (whence === 2) {
      if (this.FS.isFile(stream.node.mode)) {
        try {
          const stat = this.nodefs.fstatSync(stream.nfd);
          position += stat.size;
        } catch (e) {
          throw new this.FS.ErrnoError(this.ERRNO_CODES[e.code]);
        }
      }
    }
    if (position < 0) {
      throw new this.FS.ErrnoError(this.ERRNO_CODES.EINVAL);
    }
    stream.position = position;
    return position;
  }
};
var BFSEmscriptenNodeOps = class {
  constructor(fs2) {
    this.fs = fs2;
    this.nodefs = fs2.getNodeFS();
    this.FS = fs2.getFS();
    this.PATH = fs2.getPATH();
    this.ERRNO_CODES = fs2.getERRNO_CODES();
  }
  getattr(node) {
    const path = this.fs.realPath(node);
    let stat;
    try {
      stat = this.nodefs.lstatSync(path);
    } catch (e) {
      if (!e.code) {
        throw e;
      }
      throw new this.FS.ErrnoError(this.ERRNO_CODES[e.code]);
    }
    return {
      dev: stat.dev,
      ino: stat.ino,
      mode: stat.mode,
      nlink: stat.nlink,
      uid: stat.uid,
      gid: stat.gid,
      rdev: stat.rdev,
      size: stat.size,
      atime: stat.atime,
      mtime: stat.mtime,
      ctime: stat.ctime,
      blksize: stat.blksize,
      blocks: stat.blocks
    };
  }
  setattr(node, attr) {
    const path = this.fs.realPath(node);
    try {
      if (attr.mode !== void 0) {
        this.nodefs.chmodSync(path, attr.mode);
        node.mode = attr.mode;
      }
      if (attr.timestamp !== void 0) {
        const date = new Date(attr.timestamp);
        this.nodefs.utimesSync(path, date, date);
      }
    } catch (e) {
      if (!e.code) {
        throw e;
      }
      if (e.code !== "ENOTSUP") {
        throw new this.FS.ErrnoError(this.ERRNO_CODES[e.code]);
      }
    }
    if (attr.size !== void 0) {
      try {
        this.nodefs.truncateSync(path, attr.size);
      } catch (e) {
        if (!e.code) {
          throw e;
        }
        throw new this.FS.ErrnoError(this.ERRNO_CODES[e.code]);
      }
    }
  }
  lookup(parent, name) {
    const path = this.PATH.join2(this.fs.realPath(parent), name);
    const mode = this.fs.getMode(path);
    return this.fs.createNode(parent, name, mode);
  }
  mknod(parent, name, mode, dev) {
    const node = this.fs.createNode(parent, name, mode, dev);
    const path = this.fs.realPath(node);
    try {
      if (this.FS.isDir(node.mode)) {
        this.nodefs.mkdirSync(path, node.mode);
      } else {
        this.nodefs.writeFileSync(path, "", { mode: node.mode });
      }
    } catch (e) {
      if (!e.code) {
        throw e;
      }
      throw new this.FS.ErrnoError(this.ERRNO_CODES[e.code]);
    }
    return node;
  }
  rename(oldNode, newDir, newName) {
    const oldPath = this.fs.realPath(oldNode);
    const newPath = this.PATH.join2(this.fs.realPath(newDir), newName);
    try {
      this.nodefs.renameSync(oldPath, newPath);
      oldNode.name = newName;
      oldNode.parent = newDir;
    } catch (e) {
      if (!e.code) {
        throw e;
      }
      throw new this.FS.ErrnoError(this.ERRNO_CODES[e.code]);
    }
  }
  unlink(parent, name) {
    const path = this.PATH.join2(this.fs.realPath(parent), name);
    try {
      this.nodefs.unlinkSync(path);
    } catch (e) {
      if (!e.code) {
        throw e;
      }
      throw new this.FS.ErrnoError(this.ERRNO_CODES[e.code]);
    }
  }
  rmdir(parent, name) {
    const path = this.PATH.join2(this.fs.realPath(parent), name);
    try {
      this.nodefs.rmdirSync(path);
    } catch (e) {
      if (!e.code) {
        throw e;
      }
      throw new this.FS.ErrnoError(this.ERRNO_CODES[e.code]);
    }
  }
  readdir(node) {
    const path = this.fs.realPath(node);
    try {
      const contents = this.nodefs.readdirSync(path);
      contents.push(".", "..");
      return contents;
    } catch (e) {
      if (!e.code) {
        throw e;
      }
      throw new this.FS.ErrnoError(this.ERRNO_CODES[e.code]);
    }
  }
  symlink(parent, newName, oldPath) {
    const newPath = this.PATH.join2(this.fs.realPath(parent), newName);
    try {
      this.nodefs.symlinkSync(oldPath, newPath);
    } catch (e) {
      if (!e.code) {
        throw e;
      }
      throw new this.FS.ErrnoError(this.ERRNO_CODES[e.code]);
    }
  }
  readlink(node) {
    const path = this.fs.realPath(node);
    try {
      return this.nodefs.readlinkSync(path);
    } catch (e) {
      if (!e.code) {
        throw e;
      }
      throw new this.FS.ErrnoError(this.ERRNO_CODES[e.code]);
    }
  }
};
var BFSEmscriptenFS = class {
  constructor(_FS = self["FS"], _PATH = self["PATH"], _ERRNO_CODES = self["ERRNO_CODES"], nodefs = node_fs_default) {
    // This maps the integer permission modes from http://linux.die.net/man/3/open
    // to node.js-specific file open permission strings at http://nodejs.org/api/fs.html#fs_fs_open_path_flags_mode_callback
    this.flagsToPermissionStringMap = {
      0: "r",
      1: "r+",
      2: "r+",
      64: "r",
      65: "r+",
      66: "r+",
      129: "rx+",
      193: "rx+",
      514: "w+",
      577: "w",
      578: "w+",
      705: "wx",
      706: "wx+",
      1024: "a",
      1025: "a",
      1026: "a+",
      1089: "a",
      1090: "a+",
      1153: "ax",
      1154: "ax+",
      1217: "ax",
      1218: "ax+",
      4096: "rs",
      4098: "rs+"
    };
    this.nodefs = nodefs;
    this.FS = _FS;
    this.PATH = _PATH;
    this.ERRNO_CODES = _ERRNO_CODES;
    this.node_ops = new BFSEmscriptenNodeOps(this);
    this.stream_ops = new BFSEmscriptenStreamOps(this);
  }
  mount(m) {
    return this.createNode(null, "/", this.getMode(m.opts.root), 0);
  }
  createNode(parent, name, mode, dev) {
    const FS2 = this.FS;
    if (!FS2.isDir(mode) && !FS2.isFile(mode) && !FS2.isLink(mode)) {
      throw new FS2.ErrnoError(this.ERRNO_CODES.EINVAL);
    }
    const node = FS2.createNode(parent, name, mode);
    node.node_ops = this.node_ops;
    node.stream_ops = this.stream_ops;
    return node;
  }
  getMode(path) {
    let stat;
    try {
      stat = this.nodefs.lstatSync(path);
    } catch (e) {
      if (!e.code) {
        throw e;
      }
      throw new this.FS.ErrnoError(this.ERRNO_CODES[e.code]);
    }
    return stat.mode;
  }
  realPath(node) {
    const parts = [];
    while (node.parent !== node) {
      parts.push(node.name);
      node = node.parent;
    }
    parts.push(node.mount.opts.root);
    parts.reverse();
    return this.PATH.join.apply(null, parts);
  }
  flagsToPermissionString(flags) {
    let parsedFlags = typeof flags === "string" ? parseInt(flags, 10) : flags;
    parsedFlags &= 8191;
    if (parsedFlags in this.flagsToPermissionStringMap) {
      return this.flagsToPermissionStringMap[parsedFlags];
    } else {
      return flags;
    }
  }
  getNodeFS() {
    return this.nodefs;
  }
  getFS() {
    return this.FS;
  }
  getPATH() {
    return this.PATH;
  }
  getERRNO_CODES() {
    return this.ERRNO_CODES;
  }
};

// src/core/file_system.ts
var BaseFileSystem = class {
  supportsLinks() {
    return false;
  }
  diskSpace(p, cb) {
    cb(0, 0);
  }
  /**
   * Opens the file at path p with the given flag. The file must exist.
   * @param p The path to open.
   * @param flag The flag to use when opening the file.
   */
  openFile(p, flag, cred, cb) {
    throw new ApiError(95 /* ENOTSUP */);
  }
  /**
   * Create the file at path p with the given mode. Then, open it with the given
   * flag.
   */
  createFile(p, flag, mode, cred, cb) {
    throw new ApiError(95 /* ENOTSUP */);
  }
  open(p, flag, mode, cred, cb) {
    const mustBeFile = (e, stats) => {
      if (e) {
        switch (flag.pathNotExistsAction()) {
          case 3 /* CREATE_FILE */:
            return this.stat(dirname(p), false, cred, (e2, parentStats) => {
              if (e2) {
                cb(e2);
              } else if (parentStats && !parentStats.isDirectory()) {
                cb(ApiError.ENOTDIR(dirname(p)));
              } else {
                this.createFile(p, flag, mode, cred, cb);
              }
            });
          case 1 /* THROW_EXCEPTION */:
            return cb(ApiError.ENOENT(p));
          default:
            return cb(new ApiError(22 /* EINVAL */, "Invalid FileFlag object."));
        }
      } else {
        switch (flag.pathExistsAction()) {
          case 1 /* THROW_EXCEPTION */:
            return cb(ApiError.EEXIST(p));
          case 2 /* TRUNCATE_FILE */:
            return this.openFile(p, flag, cred, (e2, fd) => {
              if (e2) {
                cb(e2);
              } else if (fd) {
                fd.truncate(0, () => {
                  fd.sync(() => {
                    cb(null, fd);
                  });
                });
              } else {
                fail();
              }
            });
          case 0 /* NOP */:
            return this.openFile(p, flag, cred, cb);
          default:
            return cb(new ApiError(22 /* EINVAL */, "Invalid FileFlag object."));
        }
      }
    };
    this.stat(p, false, cred, mustBeFile);
  }
  access(p, mode, cred, cb) {
    cb(new ApiError(95 /* ENOTSUP */));
  }
  accessSync(p, mode, cred) {
    throw new ApiError(95 /* ENOTSUP */);
  }
  rename(oldPath, newPath, cred, cb) {
    cb(new ApiError(95 /* ENOTSUP */));
  }
  renameSync(oldPath, newPath, cred) {
    throw new ApiError(95 /* ENOTSUP */);
  }
  stat(p, isLstat, cred, cb) {
    cb(new ApiError(95 /* ENOTSUP */));
  }
  statSync(p, isLstat, cred) {
    throw new ApiError(95 /* ENOTSUP */);
  }
  /**
   * Opens the file at path p with the given flag. The file must exist.
   * @param p The path to open.
   * @param flag The flag to use when opening the file.
   * @return A File object corresponding to the opened file.
   */
  openFileSync(p, flag, cred) {
    throw new ApiError(95 /* ENOTSUP */);
  }
  /**
   * Create the file at path p with the given mode. Then, open it with the given
   * flag.
   */
  createFileSync(p, flag, mode, cred) {
    throw new ApiError(95 /* ENOTSUP */);
  }
  openSync(p, flag, mode, cred) {
    let stats;
    try {
      stats = this.statSync(p, false, cred);
    } catch (e) {
      switch (flag.pathNotExistsAction()) {
        case 3 /* CREATE_FILE */:
          const parentStats = this.statSync(dirname(p), false, cred);
          if (!parentStats.isDirectory()) {
            throw ApiError.ENOTDIR(dirname(p));
          }
          return this.createFileSync(p, flag, mode, cred);
        case 1 /* THROW_EXCEPTION */:
          throw ApiError.ENOENT(p);
        default:
          throw new ApiError(22 /* EINVAL */, "Invalid FileFlag object.");
      }
    }
    if (!stats.hasAccess(mode, cred)) {
      throw ApiError.EACCES(p);
    }
    switch (flag.pathExistsAction()) {
      case 1 /* THROW_EXCEPTION */:
        throw ApiError.EEXIST(p);
      case 2 /* TRUNCATE_FILE */:
        this.unlinkSync(p, cred);
        return this.createFileSync(p, flag, stats.mode, cred);
      case 0 /* NOP */:
        return this.openFileSync(p, flag, cred);
      default:
        throw new ApiError(22 /* EINVAL */, "Invalid FileFlag object.");
    }
  }
  unlink(p, cred, cb) {
    cb(new ApiError(95 /* ENOTSUP */));
  }
  unlinkSync(p, cred) {
    throw new ApiError(95 /* ENOTSUP */);
  }
  rmdir(p, cred, cb) {
    cb(new ApiError(95 /* ENOTSUP */));
  }
  rmdirSync(p, cred) {
    throw new ApiError(95 /* ENOTSUP */);
  }
  mkdir(p, mode, cred, cb) {
    cb(new ApiError(95 /* ENOTSUP */));
  }
  mkdirSync(p, mode, cred) {
    throw new ApiError(95 /* ENOTSUP */);
  }
  readdir(p, cred, cb) {
    cb(new ApiError(95 /* ENOTSUP */));
  }
  readdirSync(p, cred) {
    throw new ApiError(95 /* ENOTSUP */);
  }
  exists(p, cred, cb) {
    this.stat(p, null, cred, function(err2) {
      cb(!err2);
    });
  }
  existsSync(p, cred) {
    try {
      this.statSync(p, true, cred);
      return true;
    } catch (e) {
      return false;
    }
  }
  realpath(p, cache, cred, cb) {
    if (this.supportsLinks()) {
      const splitPath2 = p.split(sep);
      for (let i = 0; i < splitPath2.length; i++) {
        const addPaths = splitPath2.slice(0, i + 1);
        splitPath2[i] = join.apply(null, addPaths);
      }
    } else {
      this.exists(p, cred, function(doesExist) {
        if (doesExist) {
          cb(null, p);
        } else {
          cb(ApiError.ENOENT(p));
        }
      });
    }
  }
  realpathSync(p, cache, cred) {
    if (this.supportsLinks()) {
      const splitPath2 = p.split(sep);
      for (let i = 0; i < splitPath2.length; i++) {
        const addPaths = splitPath2.slice(0, i + 1);
        splitPath2[i] = join.apply(path_exports, addPaths);
      }
      return splitPath2.join(sep);
    } else {
      if (this.existsSync(p, cred)) {
        return p;
      } else {
        throw ApiError.ENOENT(p);
      }
    }
  }
  truncate(p, len, cred, cb) {
    this.open(p, FileFlag.getFileFlag("r+"), 420, cred, function(er, fd) {
      if (er) {
        return cb(er);
      }
      fd.truncate(len, function(er2) {
        fd.close(function(er22) {
          cb(er2 || er22);
        });
      });
    });
  }
  truncateSync(p, len, cred) {
    const fd = this.openSync(p, FileFlag.getFileFlag("r+"), 420, cred);
    try {
      fd.truncateSync(len);
    } finally {
      fd.closeSync();
    }
  }
  readFile(fname, encoding, flag, cred, cb) {
    const oldCb = cb;
    this.open(fname, flag, 420, cred, (err2, fd) => {
      if (err2) {
        return cb(err2);
      }
      cb = function(err3, arg) {
        fd.close(function(err22) {
          if (!err3) {
            err3 = err22;
          }
          return oldCb(err3, arg);
        });
      };
      fd.stat((err3, stat) => {
        if (err3) {
          return cb(err3);
        }
        const buf = Buffer2.alloc(stat.size);
        fd.read(buf, 0, stat.size, 0, (err4) => {
          if (err4) {
            return cb(err4);
          } else if (encoding === null) {
            return cb(err4, buf);
          }
          try {
            cb(null, buf.toString(encoding));
          } catch (e) {
            cb(e);
          }
        });
      });
    });
  }
  readFileSync(fname, encoding, flag, cred) {
    const fd = this.openSync(fname, flag, 420, cred);
    try {
      const stat = fd.statSync();
      const buf = Buffer2.alloc(stat.size);
      fd.readSync(buf, 0, stat.size, 0);
      fd.closeSync();
      if (encoding === null) {
        return buf;
      }
      return buf.toString(encoding);
    } finally {
      fd.closeSync();
    }
  }
  writeFile(fname, data, encoding, flag, mode, cred, cb) {
    const oldCb = cb;
    this.open(fname, flag, 420, cred, function(err2, fd) {
      if (err2) {
        return cb(err2);
      }
      cb = function(err3) {
        fd.close(function(err22) {
          oldCb(err3 ? err3 : err22);
        });
      };
      try {
        if (typeof data === "string") {
          data = Buffer2.from(data, encoding);
        }
      } catch (e) {
        return cb(e);
      }
      fd.write(data, 0, data.length, 0, cb);
    });
  }
  writeFileSync(fname, data, encoding, flag, mode, cred) {
    const fd = this.openSync(fname, flag, mode, cred);
    try {
      if (typeof data === "string") {
        data = Buffer2.from(data, encoding);
      }
      fd.writeSync(data, 0, data.length, 0);
    } finally {
      fd.closeSync();
    }
  }
  appendFile(fname, data, encoding, flag, mode, cred, cb) {
    const oldCb = cb;
    this.open(fname, flag, mode, cred, function(err2, fd) {
      if (err2) {
        return cb(err2);
      }
      cb = function(err3) {
        fd.close(function(err22) {
          oldCb(err3 ? err3 : err22);
        });
      };
      if (typeof data === "string") {
        data = Buffer2.from(data, encoding);
      }
      fd.write(data, 0, data.length, null, cb);
    });
  }
  appendFileSync(fname, data, encoding, flag, mode, cred) {
    const fd = this.openSync(fname, flag, mode, cred);
    try {
      if (typeof data === "string") {
        data = Buffer2.from(data, encoding);
      }
      fd.writeSync(data, 0, data.length, null);
    } finally {
      fd.closeSync();
    }
  }
  chmod(p, isLchmod, mode, cred, cb) {
    cb(new ApiError(95 /* ENOTSUP */));
  }
  chmodSync(p, isLchmod, mode, cred) {
    throw new ApiError(95 /* ENOTSUP */);
  }
  chown(p, isLchown, new_uid, new_gid, cred, cb) {
    cb(new ApiError(95 /* ENOTSUP */));
  }
  chownSync(p, isLchown, new_uid, new_gid, cred) {
    throw new ApiError(95 /* ENOTSUP */);
  }
  utimes(p, atime, mtime, cred, cb) {
    cb(new ApiError(95 /* ENOTSUP */));
  }
  utimesSync(p, atime, mtime, cred) {
    throw new ApiError(95 /* ENOTSUP */);
  }
  link(srcpath, dstpath, cred, cb) {
    cb(new ApiError(95 /* ENOTSUP */));
  }
  linkSync(srcpath, dstpath, cred) {
    throw new ApiError(95 /* ENOTSUP */);
  }
  symlink(srcpath, dstpath, type, cred, cb) {
    cb(new ApiError(95 /* ENOTSUP */));
  }
  symlinkSync(srcpath, dstpath, type, cred) {
    throw new ApiError(95 /* ENOTSUP */);
  }
  readlink(p, cred, cb) {
    cb(new ApiError(95 /* ENOTSUP */));
  }
  readlinkSync(p, cred) {
    throw new ApiError(95 /* ENOTSUP */);
  }
};
var SynchronousFileSystem = class extends BaseFileSystem {
  supportsSynch() {
    return true;
  }
  access(p, mode, cred, cb) {
    try {
      this.accessSync(p, mode, cred);
      cb();
    } catch (e) {
      cb(e);
    }
  }
  rename(oldPath, newPath, cred, cb) {
    try {
      this.renameSync(oldPath, newPath, cred);
      cb();
    } catch (e) {
      cb(e);
    }
  }
  stat(p, isLstat, cred, cb) {
    try {
      cb(null, this.statSync(p, isLstat, cred));
    } catch (e) {
      cb(e);
    }
  }
  open(p, flags, mode, cred, cb) {
    try {
      cb(null, this.openSync(p, flags, mode, cred));
    } catch (e) {
      cb(e);
    }
  }
  unlink(p, cred, cb) {
    try {
      this.unlinkSync(p, cred);
      cb();
    } catch (e) {
      cb(e);
    }
  }
  rmdir(p, cred, cb) {
    try {
      this.rmdirSync(p, cred);
      cb();
    } catch (e) {
      cb(e);
    }
  }
  mkdir(p, mode, cred, cb) {
    try {
      this.mkdirSync(p, mode, cred);
      cb();
    } catch (e) {
      cb(e);
    }
  }
  readdir(p, cred, cb) {
    try {
      cb(null, this.readdirSync(p, cred));
    } catch (e) {
      cb(e);
    }
  }
  chmod(p, isLchmod, mode, cred, cb) {
    try {
      this.chmodSync(p, isLchmod, mode, cred);
      cb();
    } catch (e) {
      cb(e);
    }
  }
  chown(p, isLchown, new_uid, new_gid, cred, cb) {
    try {
      this.chownSync(p, isLchown, new_uid, new_gid, cred);
      cb();
    } catch (e) {
      cb(e);
    }
  }
  utimes(p, atime, mtime, cred, cb) {
    try {
      this.utimesSync(p, atime, mtime, cred);
      cb();
    } catch (e) {
      cb(e);
    }
  }
  link(srcpath, dstpath, cred, cb) {
    try {
      this.linkSync(srcpath, dstpath, cred);
      cb();
    } catch (e) {
      cb(e);
    }
  }
  symlink(srcpath, dstpath, type, cred, cb) {
    try {
      this.symlinkSync(srcpath, dstpath, type, cred);
      cb();
    } catch (e) {
      cb(e);
    }
  }
  readlink(p, cred, cb) {
    try {
      cb(null, this.readlinkSync(p, cred));
    } catch (e) {
      cb(e);
    }
  }
};

// src/core/file.ts
var BaseFile = class {
  sync(cb) {
    cb(new ApiError(95 /* ENOTSUP */));
  }
  syncSync() {
    throw new ApiError(95 /* ENOTSUP */);
  }
  datasync(cb) {
    this.sync(cb);
  }
  datasyncSync() {
    return this.syncSync();
  }
  chown(uid, gid, cb) {
    cb(new ApiError(95 /* ENOTSUP */));
  }
  chownSync(uid, gid) {
    throw new ApiError(95 /* ENOTSUP */);
  }
  chmod(mode, cb) {
    cb(new ApiError(95 /* ENOTSUP */));
  }
  chmodSync(mode) {
    throw new ApiError(95 /* ENOTSUP */);
  }
  utimes(atime, mtime, cb) {
    cb(new ApiError(95 /* ENOTSUP */));
  }
  utimesSync(atime, mtime) {
    throw new ApiError(95 /* ENOTSUP */);
  }
};

// src/generic/preload_file.ts
var PreloadFile = class extends BaseFile {
  /**
   * Creates a file with the given path and, optionally, the given contents. Note
   * that, if contents is specified, it will be mutated by the file!
   * @param _fs The file system that created the file.
   * @param _path
   * @param _mode The mode that the file was opened using.
   *   Dictates permissions and where the file pointer starts.
   * @param _stat The stats object for the given file.
   *   PreloadFile will mutate this object. Note that this object must contain
   *   the appropriate mode that the file was opened as.
   * @param contents A buffer containing the entire
   *   contents of the file. PreloadFile will mutate this buffer. If not
   *   specified, we assume it is a new file.
   */
  constructor(_fs, _path, _flag, _stat, contents) {
    super();
    this._pos = 0;
    this._dirty = false;
    this._fs = _fs;
    this._path = _path;
    this._flag = _flag;
    this._stat = _stat;
    this._buffer = contents ? contents : emptyBuffer();
    if (this._stat.size !== this._buffer.length && this._flag.isReadable()) {
      throw new Error(`Invalid buffer: Buffer is ${this._buffer.length} long, yet Stats object specifies that file is ${this._stat.size} long.`);
    }
  }
  /**
   * NONSTANDARD: Get the underlying buffer for this file. !!DO NOT MUTATE!! Will mess up dirty tracking.
   */
  getBuffer() {
    return this._buffer;
  }
  /**
   * NONSTANDARD: Get underlying stats for this file. !!DO NOT MUTATE!!
   */
  getStats() {
    return this._stat;
  }
  getFlag() {
    return this._flag;
  }
  /**
   * Get the path to this file.
   * @return [String] The path to the file.
   */
  getPath() {
    return this._path;
  }
  /**
   * Get the current file position.
   *
   * We emulate the following bug mentioned in the Node documentation:
   * > On Linux, positional writes don't work when the file is opened in append
   *   mode. The kernel ignores the position argument and always appends the data
   *   to the end of the file.
   * @return [Number] The current file position.
   */
  getPos() {
    if (this._flag.isAppendable()) {
      return this._stat.size;
    }
    return this._pos;
  }
  /**
   * Advance the current file position by the indicated number of positions.
   * @param [Number] delta
   */
  advancePos(delta) {
    return this._pos += delta;
  }
  /**
   * Set the file position.
   * @param [Number] newPos
   */
  setPos(newPos) {
    return this._pos = newPos;
  }
  /**
   * **Core**: Asynchronous sync. Must be implemented by subclasses of this
   * class.
   * @param [Function(BrowserFS.ApiError)] cb
   */
  sync(cb) {
    try {
      this.syncSync();
      cb();
    } catch (e) {
      cb(e);
    }
  }
  /**
   * **Core**: Synchronous sync.
   */
  syncSync() {
    throw new ApiError(95 /* ENOTSUP */);
  }
  /**
   * **Core**: Asynchronous close. Must be implemented by subclasses of this
   * class.
   * @param [Function(BrowserFS.ApiError)] cb
   */
  close(cb) {
    try {
      this.closeSync();
      cb();
    } catch (e) {
      cb(e);
    }
  }
  /**
   * **Core**: Synchronous close.
   */
  closeSync() {
    throw new ApiError(95 /* ENOTSUP */);
  }
  /**
   * Asynchronous `stat`.
   * @param [Function(BrowserFS.ApiError, BrowserFS.node.fs.Stats)] cb
   */
  stat(cb) {
    try {
      cb(null, Stats.clone(this._stat));
    } catch (e) {
      cb(e);
    }
  }
  /**
   * Synchronous `stat`.
   */
  statSync() {
    return Stats.clone(this._stat);
  }
  /**
   * Asynchronous truncate.
   * @param [Number] len
   * @param [Function(BrowserFS.ApiError)] cb
   */
  truncate(len, cb) {
    try {
      this.truncateSync(len);
      if (this._flag.isSynchronous() && !node_fs_default.getRootFS().supportsSynch()) {
        this.sync(cb);
      }
      cb();
    } catch (e) {
      return cb(e);
    }
  }
  /**
   * Synchronous truncate.
   * @param [Number] len
   */
  truncateSync(len) {
    this._dirty = true;
    if (!this._flag.isWriteable()) {
      throw new ApiError(1 /* EPERM */, "File not opened with a writeable mode.");
    }
    this._stat.mtimeMs = Date.now();
    if (len > this._buffer.length) {
      const buf = Buffer2.alloc(len - this._buffer.length, 0);
      this.writeSync(buf, 0, buf.length, this._buffer.length);
      if (this._flag.isSynchronous() && node_fs_default.getRootFS().supportsSynch()) {
        this.syncSync();
      }
      return;
    }
    this._stat.size = len;
    const newBuff = Buffer2.alloc(len);
    this._buffer.copy(newBuff, 0, 0, len);
    this._buffer = newBuff;
    if (this._flag.isSynchronous() && node_fs_default.getRootFS().supportsSynch()) {
      this.syncSync();
    }
  }
  /**
   * Write buffer to the file.
   * Note that it is unsafe to use fs.write multiple times on the same file
   * without waiting for the callback.
   * @param [BrowserFS.node.Buffer] buffer Buffer containing the data to write to
   *  the file.
   * @param [Number] offset Offset in the buffer to start reading data from.
   * @param [Number] length The amount of bytes to write to the file.
   * @param [Number] position Offset from the beginning of the file where this
   *   data should be written. If position is null, the data will be written at
   *   the current position.
   * @param [Function(BrowserFS.ApiError, Number, BrowserFS.node.Buffer)]
   *   cb The number specifies the number of bytes written into the file.
   */
  write(buffer, offset, length, position, cb) {
    try {
      cb(null, this.writeSync(buffer, offset, length, position), buffer);
    } catch (e) {
      cb(e);
    }
  }
  /**
   * Write buffer to the file.
   * Note that it is unsafe to use fs.writeSync multiple times on the same file
   * without waiting for the callback.
   * @param [BrowserFS.node.Buffer] buffer Buffer containing the data to write to
   *  the file.
   * @param [Number] offset Offset in the buffer to start reading data from.
   * @param [Number] length The amount of bytes to write to the file.
   * @param [Number] position Offset from the beginning of the file where this
   *   data should be written. If position is null, the data will be written at
   *   the current position.
   * @return [Number]
   */
  writeSync(buffer, offset, length, position) {
    this._dirty = true;
    if (position === void 0 || position === null) {
      position = this.getPos();
    }
    if (!this._flag.isWriteable()) {
      throw new ApiError(1 /* EPERM */, "File not opened with a writeable mode.");
    }
    const endFp = position + length;
    if (endFp > this._stat.size) {
      this._stat.size = endFp;
      if (endFp > this._buffer.length) {
        const newBuff = Buffer2.alloc(endFp);
        this._buffer.copy(newBuff);
        this._buffer = newBuff;
      }
    }
    const len = buffer.copy(this._buffer, position, offset, offset + length);
    this._stat.mtimeMs = Date.now();
    if (this._flag.isSynchronous()) {
      this.syncSync();
      return len;
    }
    this.setPos(position + len);
    return len;
  }
  /**
   * Read data from the file.
   * @param [BrowserFS.node.Buffer] buffer The buffer that the data will be
   *   written to.
   * @param [Number] offset The offset within the buffer where writing will
   *   start.
   * @param [Number] length An integer specifying the number of bytes to read.
   * @param [Number] position An integer specifying where to begin reading from
   *   in the file. If position is null, data will be read from the current file
   *   position.
   * @param [Function(BrowserFS.ApiError, Number, BrowserFS.node.Buffer)] cb The
   *   number is the number of bytes read
   */
  read(buffer, offset, length, position, cb) {
    try {
      cb(null, this.readSync(buffer, offset, length, position), buffer);
    } catch (e) {
      cb(e);
    }
  }
  /**
   * Read data from the file.
   * @param [BrowserFS.node.Buffer] buffer The buffer that the data will be
   *   written to.
   * @param [Number] offset The offset within the buffer where writing will
   *   start.
   * @param [Number] length An integer specifying the number of bytes to read.
   * @param [Number] position An integer specifying where to begin reading from
   *   in the file. If position is null, data will be read from the current file
   *   position.
   * @return [Number]
   */
  readSync(buffer, offset, length, position) {
    if (!this._flag.isReadable()) {
      throw new ApiError(1 /* EPERM */, "File not opened with a readable mode.");
    }
    if (position === void 0 || position === null) {
      position = this.getPos();
    }
    const endRead = position + length;
    if (endRead > this._stat.size) {
      length = this._stat.size - position;
    }
    const rv = this._buffer.copy(buffer, offset, position, position + length);
    this._stat.atimeMs = Date.now();
    this._pos = position + length;
    return rv;
  }
  /**
   * Asynchronous `fchmod`.
   * @param [Number|String] mode
   * @param [Function(BrowserFS.ApiError)] cb
   */
  chmod(mode, cb) {
    try {
      this.chmodSync(mode);
      cb();
    } catch (e) {
      cb(e);
    }
  }
  /**
   * Synchronous `fchmod`.
   * @param [Number] mode
   */
  chmodSync(mode) {
    if (!this._fs.supportsProps()) {
      throw new ApiError(95 /* ENOTSUP */);
    }
    this._dirty = true;
    this._stat.chmod(mode);
    this.syncSync();
  }
  /**
   * Asynchronous `fchown`.
   * @param [Number] uid
   * @param [Number] gid
   * @param [Function(BrowserFS.ApiError)] cb
   */
  chown(uid, gid, cb) {
    try {
      this.chownSync(uid, gid);
      cb();
    } catch (e) {
      cb(e);
    }
  }
  /**
   * Synchronous `fchown`.
   * @param [Number] uid
   * @param [Number] gid
   */
  chownSync(uid, gid) {
    if (!this._fs.supportsProps()) {
      throw new ApiError(95 /* ENOTSUP */);
    }
    this._dirty = true;
    this._stat.chown(uid, gid);
    this.syncSync();
  }
  isDirty() {
    return this._dirty;
  }
  /**
   * Resets the dirty bit. Should only be called after a sync has completed successfully.
   */
  resetDirty() {
    this._dirty = false;
  }
};
var NoSyncFile = class extends PreloadFile {
  constructor(_fs, _path, _flag, _stat, contents) {
    super(_fs, _path, _flag, _stat, contents);
  }
  /**
   * Asynchronous sync. Doesn't do anything, simply calls the cb.
   * @param [Function(BrowserFS.ApiError)] cb
   */
  sync(cb) {
    cb();
  }
  /**
   * Synchronous sync. Doesn't do anything.
   */
  syncSync() {
  }
  /**
   * Asynchronous close. Doesn't do anything, simply calls the cb.
   * @param [Function(BrowserFS.ApiError)] cb
   */
  close(cb) {
    cb();
  }
  /**
   * Synchronous close. Doesn't do anything.
   */
  closeSync() {
  }
};

// src/backend/AsyncMirror.ts
var MirrorFile = class extends PreloadFile {
  constructor(fs2, path, flag, stat, data) {
    super(fs2, path, flag, stat, data);
  }
  syncSync() {
    if (this.isDirty()) {
      this._fs._syncSync(this);
      this.resetDirty();
    }
  }
  closeSync() {
    this.syncSync();
  }
};
var _AsyncMirror = class extends SynchronousFileSystem {
  /**
   * **Deprecated; use AsyncMirror.Create() method instead.**
   *
   * Mirrors the synchronous file system into the asynchronous file system.
   *
   * **IMPORTANT**: You must call `initialize` on the file system before it can be used.
   * @param sync The synchronous file system to mirror the asynchronous file system to.
   * @param async The asynchronous file system to mirror.
   */
  constructor(sync, async) {
    super();
    /**
     * Queue of pending asynchronous operations.
     */
    this._queue = [];
    this._queueRunning = false;
    this._isInitialized = false;
    this._initializeCallbacks = [];
    this._sync = sync;
    this._async = async;
  }
  /**
   * Constructs and initializes an AsyncMirror file system with the given options.
   */
  static Create(opts, cb) {
    try {
      const fs2 = new _AsyncMirror(opts.sync, opts.async);
      fs2._initialize((e) => {
        if (e) {
          cb(e);
        } else {
          cb(null, fs2);
        }
      });
    } catch (e) {
      cb(e);
    }
  }
  /**
   * Asynchronously constructs and initializes an AsyncMirror file system with the given options.
   */
  static CreateAsync(opts) {
    return new Promise((resolve2, reject) => {
      this.Create(opts, (error, fs2) => {
        if (error || !fs2) {
          reject(error);
        } else {
          resolve2(fs2);
        }
      });
    });
  }
  static isAvailable() {
    return true;
  }
  getName() {
    return _AsyncMirror.Name;
  }
  _syncSync(fd) {
    const stats = fd.getStats();
    this._sync.writeFileSync(fd.getPath(), fd.getBuffer(), null, FileFlag.getFileFlag("w"), stats.mode, stats.getCred(0, 0));
    this.enqueueOp({
      apiMethod: "writeFile",
      arguments: [fd.getPath(), fd.getBuffer(), null, fd.getFlag(), stats.mode, stats.getCred(0, 0)]
    });
  }
  isReadOnly() {
    return false;
  }
  supportsSynch() {
    return true;
  }
  supportsLinks() {
    return false;
  }
  supportsProps() {
    return this._sync.supportsProps() && this._async.supportsProps();
  }
  renameSync(oldPath, newPath, cred) {
    this._sync.renameSync(oldPath, newPath, cred);
    this.enqueueOp({
      apiMethod: "rename",
      arguments: [oldPath, newPath, cred]
    });
  }
  statSync(p, isLstat, cred) {
    return this._sync.statSync(p, isLstat, cred);
  }
  openSync(p, flag, mode, cred) {
    const fd = this._sync.openSync(p, flag, mode, cred);
    fd.closeSync();
    return new MirrorFile(this, p, flag, this._sync.statSync(p, false, cred), this._sync.readFileSync(p, null, FileFlag.getFileFlag("r"), cred));
  }
  unlinkSync(p, cred) {
    this._sync.unlinkSync(p, cred);
    this.enqueueOp({
      apiMethod: "unlink",
      arguments: [p, cred]
    });
  }
  rmdirSync(p, cred) {
    this._sync.rmdirSync(p, cred);
    this.enqueueOp({
      apiMethod: "rmdir",
      arguments: [p, cred]
    });
  }
  mkdirSync(p, mode, cred) {
    this._sync.mkdirSync(p, mode, cred);
    this.enqueueOp({
      apiMethod: "mkdir",
      arguments: [p, mode, cred]
    });
  }
  readdirSync(p, cred) {
    return this._sync.readdirSync(p, cred);
  }
  existsSync(p, cred) {
    return this._sync.existsSync(p, cred);
  }
  chmodSync(p, isLchmod, mode, cred) {
    this._sync.chmodSync(p, isLchmod, mode, cred);
    this.enqueueOp({
      apiMethod: "chmod",
      arguments: [p, isLchmod, mode, cred]
    });
  }
  chownSync(p, isLchown, new_uid, new_gid, cred) {
    this._sync.chownSync(p, isLchown, new_uid, new_gid, cred);
    this.enqueueOp({
      apiMethod: "chown",
      arguments: [p, isLchown, new_uid, new_gid, cred]
    });
  }
  utimesSync(p, atime, mtime, cred) {
    this._sync.utimesSync(p, atime, mtime, cred);
    this.enqueueOp({
      apiMethod: "utimes",
      arguments: [p, atime, mtime, cred]
    });
  }
  /**
   * Called once to load up files from async storage into sync storage.
   */
  _initialize(userCb) {
    const callbacks = this._initializeCallbacks;
    const end = (e) => {
      this._isInitialized = !e;
      this._initializeCallbacks = [];
      callbacks.forEach((cb) => cb(e));
    };
    if (!this._isInitialized) {
      if (callbacks.push(userCb) === 1) {
        const copyDirectory = (p, mode, cb) => {
          if (p !== "/") {
            this._async.stat(p, true, Cred.Root, (err2, stats) => {
              if (err2) {
                cb(err2);
              }
              this._sync.mkdirSync(p, stats.mode, stats.getCred());
            });
          }
          this._async.readdir(p, Cred.Root, (err2, files) => {
            let i = 0;
            function copyNextFile(err3) {
              if (err3) {
                cb(err3);
              } else if (i < files.length) {
                copyItem(join(p, files[i]), copyNextFile);
                i++;
              } else {
                cb();
              }
            }
            if (err2) {
              cb(err2);
            } else {
              copyNextFile();
            }
          });
        }, copyFile = (p, mode, cb) => {
          this._async.readFile(p, null, FileFlag.getFileFlag("r"), Cred.Root, (err2, data) => {
            if (err2) {
              cb(err2);
            } else {
              try {
                this._sync.writeFileSync(p, data, null, FileFlag.getFileFlag("w"), mode, Cred.Root);
              } catch (e) {
                err2 = e;
              } finally {
                cb(err2);
              }
            }
          });
        }, copyItem = (p, cb) => {
          this._async.stat(p, false, Cred.Root, (err2, stats) => {
            if (err2) {
              cb(err2);
            } else if (stats.isDirectory()) {
              copyDirectory(p, stats.mode, cb);
            } else {
              copyFile(p, stats.mode, cb);
            }
          });
        };
        copyDirectory("/", 0, end);
      }
    } else {
      userCb();
    }
  }
  enqueueOp(op) {
    this._queue.push(op);
    if (!this._queueRunning) {
      this._queueRunning = true;
      const doNextOp = (err2) => {
        if (err2) {
          throw new Error(`WARNING: File system has desynchronized. Received following error: ${err2}
$`);
        }
        if (this._queue.length > 0) {
          const op2 = this._queue.shift(), args = op2.arguments;
          args.push(doNextOp);
          this._async[op2.apiMethod].apply(this._async, args);
        } else {
          this._queueRunning = false;
        }
      };
      doNextOp();
    }
  }
};
var AsyncMirror = _AsyncMirror;
AsyncMirror.Name = "AsyncMirror";
AsyncMirror.Options = {
  sync: {
    type: "object",
    description: "The synchronous file system to mirror the asynchronous file system to.",
    validator: (v, cb) => {
      if (v && typeof v["supportsSynch"] === "function" && v.supportsSynch()) {
        cb();
      } else {
        cb(new ApiError(22 /* EINVAL */, `'sync' option must be a file system that supports synchronous operations`));
      }
    }
  },
  async: {
    type: "object",
    description: "The asynchronous file system to mirror."
  }
};

// src/generic/dropbox_bridge_actual.ts
var Dropbox = globalThis.Dropbox ? globalThis.Dropbox.Dropbox : void 0;

// src/backend/Dropbox.ts
function FixPath(p) {
  if (p === "/") {
    return "";
  } else {
    return p;
  }
}
function ExtractTheFuckingError(e) {
  const obj = e.error;
  if (obj[".tag"]) {
    return obj;
  } else if (obj["error"]) {
    const obj2 = obj.error;
    if (obj2[".tag"]) {
      return obj2;
    } else if (obj2["reason"] && obj2["reason"][".tag"]) {
      return obj2.reason;
    } else {
      return obj2;
    }
  } else if (typeof obj === "string") {
    try {
      const obj2 = JSON.parse(obj);
      if (obj2["error"] && obj2["error"]["reason"] && obj2["error"]["reason"][".tag"]) {
        return obj2.error.reason;
      }
    } catch (e2) {
    }
  }
  return obj;
}
function GetErrorMessage(err2) {
  if (err2["user_message"]) {
    return err2.user_message.text;
  } else if (err2["error_summary"]) {
    return err2.error_summary;
  } else if (typeof err2.error === "string") {
    return err2.error;
  } else if (typeof err2.error === "object") {
    return GetErrorMessage(err2.error);
  } else {
    throw new Error(`Dropbox's servers gave us a garbage error message: ${JSON.stringify(err2)}`);
  }
}
function LookupErrorToError(err2, p, msg) {
  switch (err2[".tag"]) {
    case "malformed_path":
      return new ApiError(9 /* EBADF */, msg, p);
    case "not_found":
      return ApiError.ENOENT(p);
    case "not_file":
      return ApiError.EISDIR(p);
    case "not_folder":
      return ApiError.ENOTDIR(p);
    case "restricted_content":
      return ApiError.EPERM(p);
    case "other":
    default:
      return new ApiError(5 /* EIO */, msg, p);
  }
}
function WriteErrorToError(err2, p, msg) {
  switch (err2[".tag"]) {
    case "malformed_path":
    case "disallowed_name":
      return new ApiError(9 /* EBADF */, msg, p);
    case "conflict":
    case "no_write_permission":
    case "team_folder":
      return ApiError.EPERM(p);
    case "insufficient_space":
      return new ApiError(28 /* ENOSPC */, msg);
    case "other":
    default:
      return new ApiError(5 /* EIO */, msg, p);
  }
}
function FilesDeleteWrapped(client, p, cb) {
  const arg = {
    path: FixPath(p)
  };
  client.filesDeleteV2(arg).then(() => {
    cb();
  }).catch((e) => {
    const err2 = ExtractTheFuckingError(e);
    switch (err2[".tag"]) {
      case "path_lookup":
        cb(LookupErrorToError(err2.path_lookup, p, GetErrorMessage(e)));
        break;
      case "path_write":
        cb(WriteErrorToError(err2.path_write, p, GetErrorMessage(e)));
        break;
      case "too_many_write_operations":
        setTimeout(() => FilesDeleteWrapped(client, p, cb), 500 + 300 * Math.random());
        break;
      case "other":
      default:
        cb(new ApiError(5 /* EIO */, GetErrorMessage(e), p));
        break;
    }
  });
}
var DropboxFile = class extends PreloadFile {
  constructor(_fs, _path, _flag, _stat, contents) {
    super(_fs, _path, _flag, _stat, contents);
  }
  sync(cb) {
    this._fs._syncFile(this.getPath(), this.getBuffer(), cb);
  }
  close(cb) {
    this.sync(cb);
  }
};
var _DropboxFileSystem = class extends BaseFileSystem {
  constructor(client) {
    super();
    this._client = client;
  }
  /**
   * Creates a new DropboxFileSystem instance with the given options.
   * Must be given an *authenticated* Dropbox client from 2.x JS SDK.
   */
  static Create(opts, cb) {
    cb(null, new _DropboxFileSystem(opts.client));
  }
  /**
   * Asynchronously creates a new DropboxFileSystem instance with the given options.
   * Must be given an *authenticated* Dropbox client from 2.x JS SDK.
   */
  static CreateAsync(opts) {
    return new Promise((resolve2, reject) => {
      this.Create(opts, (error, fs2) => {
        if (error || !fs2) {
          reject(error);
        } else {
          resolve2(fs2);
        }
      });
    });
  }
  static isAvailable() {
    return typeof Dropbox !== "undefined";
  }
  getName() {
    return _DropboxFileSystem.Name;
  }
  isReadOnly() {
    return false;
  }
  // Dropbox doesn't support symlinks, properties, or synchronous calls
  // TODO: does it???
  supportsSymlinks() {
    return false;
  }
  supportsProps() {
    return false;
  }
  supportsSynch() {
    return false;
  }
  /**
   * Deletes *everything* in the file system. Mainly intended for unit testing!
   * @param mainCb Called when operation completes.
   */
  empty(mainCb) {
    this.readdir("/", Cred.Root, (e, paths) => {
      if (paths) {
        const next = (e2) => {
          if (paths.length === 0) {
            mainCb();
          } else {
            FilesDeleteWrapped(this._client, paths.shift(), next);
          }
        };
        next();
      } else {
        mainCb(e);
      }
    });
  }
  rename(oldPath, newPath, cred, cb) {
    this.stat(newPath, false, cred, (e, stats) => {
      const rename = () => {
        const relocationArg = {
          from_path: FixPath(oldPath),
          to_path: FixPath(newPath)
        };
        this._client.filesMoveV2(relocationArg).then(() => cb()).catch(function(e2) {
          const err2 = ExtractTheFuckingError(e2);
          switch (err2[".tag"]) {
            case "from_lookup":
              cb(LookupErrorToError(err2.from_lookup, oldPath, GetErrorMessage(e2)));
              break;
            case "from_write":
              cb(WriteErrorToError(err2.from_write, oldPath, GetErrorMessage(e2)));
              break;
            case "to":
              cb(WriteErrorToError(err2.to, newPath, GetErrorMessage(e2)));
              break;
            case "cant_copy_shared_folder":
            case "cant_nest_shared_folder":
              cb(new ApiError(1 /* EPERM */, GetErrorMessage(e2), oldPath));
              break;
            case "cant_move_folder_into_itself":
            case "duplicated_or_nested_paths":
              cb(new ApiError(9 /* EBADF */, GetErrorMessage(e2), oldPath));
              break;
            case "too_many_files":
              cb(new ApiError(28 /* ENOSPC */, GetErrorMessage(e2), oldPath));
              break;
            case "other":
            default:
              cb(new ApiError(5 /* EIO */, GetErrorMessage(e2), oldPath));
              break;
          }
        });
      };
      if (e) {
        rename();
      } else if (oldPath === newPath) {
        if (e) {
          cb(ApiError.ENOENT(newPath));
        } else {
          cb();
        }
      } else if (stats && stats.isDirectory()) {
        cb(ApiError.EISDIR(newPath));
      } else {
        this.unlink(newPath, cred, (e2) => {
          if (e2) {
            cb(e2);
          } else {
            rename();
          }
        });
      }
    });
  }
  stat(path, isLstat, cred, cb) {
    if (path === "/") {
      setImmediate_default(function() {
        cb(null, new Stats(16384 /* DIRECTORY */, 4096));
      });
      return;
    }
    const arg = {
      path: FixPath(path)
    };
    this._client.filesGetMetadata(arg).then((ref) => {
      switch (ref[".tag"]) {
        case "file":
          const fileMetadata = ref;
          cb(null, new Stats(32768 /* FILE */, fileMetadata.size));
          break;
        case "folder":
          cb(null, new Stats(16384 /* DIRECTORY */, 4096));
          break;
        case "deleted":
          cb(ApiError.ENOENT(path));
          break;
        default:
          break;
      }
    }).catch((e) => {
      const err2 = ExtractTheFuckingError(e);
      switch (err2[".tag"]) {
        case "path":
          cb(LookupErrorToError(err2.path, path, GetErrorMessage(e)));
          break;
        default:
          cb(new ApiError(5 /* EIO */, GetErrorMessage(e), path));
          break;
      }
    });
  }
  openFile(path, flags, cred, cb) {
    const downloadArg = {
      path: FixPath(path)
    };
    this._client.filesDownload(downloadArg).then((res) => {
      const b = res.fileBlob;
      const fr = new FileReader();
      fr.onload = () => {
        const ab = fr.result;
        cb(null, new DropboxFile(this, path, flags, new Stats(32768 /* FILE */, ab.byteLength), arrayBuffer2Buffer(ab)));
      };
      fr.readAsArrayBuffer(b);
    }).catch((e) => {
      const err2 = ExtractTheFuckingError(e);
      switch (err2[".tag"]) {
        case "path":
          const dpError = err2;
          cb(LookupErrorToError(dpError.path, path, GetErrorMessage(e)));
          break;
        case "other":
        default:
          cb(new ApiError(5 /* EIO */, GetErrorMessage(e), path));
          break;
      }
    });
  }
  createFile(p, flags, mode, cred, cb) {
    const fileData = Buffer2.alloc(0);
    const blob = new Blob([buffer2ArrayBuffer(fileData)], { type: "octet/stream" });
    const commitInfo = {
      contents: blob,
      path: FixPath(p)
    };
    this._client.filesUpload(commitInfo).then((metadata) => {
      cb(null, new DropboxFile(this, p, flags, new Stats(32768 /* FILE */, 0), fileData));
    }).catch((e) => {
      const err2 = ExtractTheFuckingError(e);
      switch (err2[".tag"]) {
        case "path":
          const upError = err2;
          cb(WriteErrorToError(upError.path.reason, p, GetErrorMessage(e)));
          break;
        case "too_many_write_operations":
          setTimeout(() => this.createFile(p, flags, mode, cred, cb), 500 + 300 * Math.random());
          break;
        case "other":
        default:
          cb(new ApiError(5 /* EIO */, GetErrorMessage(e), p));
          break;
      }
    });
  }
  /**
   * Delete a file
   */
  unlink(path, cred, cb) {
    this.stat(path, false, cred, (e, stat) => {
      if (stat) {
        if (stat.isDirectory()) {
          cb(ApiError.EISDIR(path));
        } else {
          FilesDeleteWrapped(this._client, path, cb);
        }
      } else {
        cb(e);
      }
    });
  }
  /**
   * Delete a directory
   */
  rmdir(path, cred, cb) {
    this.readdir(path, cred, (e, paths) => {
      if (paths) {
        if (paths.length > 0) {
          cb(ApiError.ENOTEMPTY(path));
        } else {
          FilesDeleteWrapped(this._client, path, cb);
        }
      } else {
        cb(e);
      }
    });
  }
  /**
   * Create a directory
   */
  mkdir(p, mode, cred, cb) {
    const parent = dirname(p);
    this.stat(parent, false, cred, (e, stats) => {
      if (e) {
        cb(e);
      } else if (stats && !stats.isDirectory()) {
        cb(ApiError.ENOTDIR(parent));
      } else {
        const arg = {
          path: FixPath(p)
        };
        this._client.filesCreateFolderV2(arg).then(() => cb()).catch((e2) => {
          const err2 = ExtractTheFuckingError(e2);
          if (err2[".tag"] === "too_many_write_operations") {
            setTimeout(() => this.mkdir(p, mode, cred, cb), 500 + 300 * Math.random());
          } else {
            cb(WriteErrorToError(ExtractTheFuckingError(e2).path, p, GetErrorMessage(e2)));
          }
        });
      }
    });
  }
  /**
   * Get the names of the files in a directory
   */
  readdir(path, cred, cb) {
    const arg = {
      path: FixPath(path)
    };
    this._client.filesListFolder(arg).then((res) => {
      ContinueReadingDir(this._client, path, res, [], cb);
    }).catch((e) => {
      ProcessListFolderError(e, path, cb);
    });
  }
  /**
   * (Internal) Syncs file to Dropbox.
   */
  _syncFile(p, d, cb) {
    const blob = new Blob([buffer2ArrayBuffer(d)], { type: "octet/stream" });
    const arg = {
      contents: blob,
      path: FixPath(p),
      mode: {
        ".tag": "overwrite"
      }
    };
    this._client.filesUpload(arg).then(() => {
      cb();
    }).catch((e) => {
      const err2 = ExtractTheFuckingError(e);
      switch (err2[".tag"]) {
        case "path":
          const upError = err2;
          cb(WriteErrorToError(upError.path.reason, p, GetErrorMessage(e)));
          break;
        case "too_many_write_operations":
          setTimeout(() => this._syncFile(p, d, cb), 500 + 300 * Math.random());
          break;
        case "other":
        default:
          cb(new ApiError(5 /* EIO */, GetErrorMessage(e), p));
          break;
      }
    });
  }
};
var DropboxFileSystem = _DropboxFileSystem;
DropboxFileSystem.Name = "DropboxV2";
DropboxFileSystem.Options = {
  client: {
    type: "object",
    description: "An *authenticated* Dropbox client. Must be from the 2.5.x JS SDK."
  }
};
function ProcessListFolderError(e, path, cb) {
  const err2 = ExtractTheFuckingError(e);
  switch (err2[".tag"]) {
    case "path":
      const pathError = err2;
      cb(LookupErrorToError(pathError.path, path, GetErrorMessage(e)));
      break;
    case "other":
    default:
      cb(new ApiError(5 /* EIO */, GetErrorMessage(e), path));
      break;
  }
}
function ContinueReadingDir(client, path, res, previousEntries, cb) {
  const newEntries = res.entries.map((e) => e.path_display).filter((p) => !!p);
  const entries = previousEntries.concat(newEntries);
  if (!res.has_more) {
    cb(null, entries);
  } else {
    const arg = {
      cursor: res.cursor
    };
    client.filesListFolderContinue(arg).then((res2) => {
      ContinueReadingDir(client, path, res2, entries, cb);
    }).catch((e) => {
      ProcessListFolderError(e, path, cb);
    });
  }
}

// src/backend/Emscripten.ts
function convertError(e, path = "") {
  const errno = e.errno;
  let parent = e.node;
  const paths = [];
  while (parent) {
    paths.unshift(parent.name);
    if (parent === parent.parent) {
      break;
    }
    parent = parent.parent;
  }
  return new ApiError(errno, ErrorStrings[errno], paths.length > 0 ? "/" + paths.join("/") : path);
}
var EmscriptenFile = class extends BaseFile {
  constructor(_fs, _FS, _path, _stream) {
    super();
    this._fs = _fs;
    this._FS = _FS;
    this._path = _path;
    this._stream = _stream;
  }
  getPos() {
    return void 0;
  }
  close(cb) {
    let err2 = null;
    try {
      this.closeSync();
    } catch (e) {
      err2 = e;
    } finally {
      cb(err2);
    }
  }
  closeSync() {
    try {
      this._FS.close(this._stream);
    } catch (e) {
      throw convertError(e, this._path);
    }
  }
  stat(cb) {
    try {
      cb(null, this.statSync());
    } catch (e) {
      cb(e);
    }
  }
  statSync() {
    try {
      return this._fs.statSync(this._path, false, Cred.Root);
    } catch (e) {
      throw convertError(e, this._path);
    }
  }
  truncate(len, cb) {
    let err2 = null;
    try {
      this.truncateSync(len);
    } catch (e) {
      err2 = e;
    } finally {
      cb(err2);
    }
  }
  truncateSync(len) {
    try {
      this._FS.ftruncate(this._stream.fd, len);
    } catch (e) {
      throw convertError(e, this._path);
    }
  }
  write(buffer, offset, length, position, cb) {
    try {
      cb(null, this.writeSync(buffer, offset, length, position), buffer);
    } catch (e) {
      cb(e);
    }
  }
  writeSync(buffer, offset, length, position) {
    try {
      const u8 = buffer2Uint8array(buffer);
      const emPosition = position === null ? void 0 : position;
      return this._FS.write(this._stream, u8, offset, length, emPosition);
    } catch (e) {
      throw convertError(e, this._path);
    }
  }
  read(buffer, offset, length, position, cb) {
    try {
      cb(null, this.readSync(buffer, offset, length, position), buffer);
    } catch (e) {
      cb(e);
    }
  }
  readSync(buffer, offset, length, position) {
    try {
      const u8 = buffer2Uint8array(buffer);
      const emPosition = position === null ? void 0 : position;
      return this._FS.read(this._stream, u8, offset, length, emPosition);
    } catch (e) {
      throw convertError(e, this._path);
    }
  }
  sync(cb) {
    cb();
  }
  syncSync() {
  }
  chown(uid, gid, cb) {
    let err2 = null;
    try {
      this.chownSync(uid, gid);
    } catch (e) {
      err2 = e;
    } finally {
      cb(err2);
    }
  }
  chownSync(uid, gid) {
    try {
      this._FS.fchown(this._stream.fd, uid, gid);
    } catch (e) {
      throw convertError(e, this._path);
    }
  }
  chmod(mode, cb) {
    let err2 = null;
    try {
      this.chmodSync(mode);
    } catch (e) {
      err2 = e;
    } finally {
      cb(err2);
    }
  }
  chmodSync(mode) {
    try {
      this._FS.fchmod(this._stream.fd, mode);
    } catch (e) {
      throw convertError(e, this._path);
    }
  }
  utimes(atime, mtime, cb) {
    let err2 = null;
    try {
      this.utimesSync(atime, mtime);
    } catch (e) {
      err2 = e;
    } finally {
      cb(err2);
    }
  }
  utimesSync(atime, mtime) {
    this._fs.utimesSync(this._path, atime, mtime, Cred.Root);
  }
};
var _EmscriptenFileSystem = class extends SynchronousFileSystem {
  constructor(_FS) {
    super();
    this._FS = _FS;
  }
  /**
   * Create an EmscriptenFileSystem instance with the given options.
   */
  static Create(opts, cb) {
    cb(null, new _EmscriptenFileSystem(opts.FS));
  }
  static CreateAsync(opts) {
    return new Promise((resolve2, reject) => {
      this.Create(opts, (error, fs2) => {
        if (error || !fs2) {
          reject(error);
        } else {
          resolve2(fs2);
        }
      });
    });
  }
  static isAvailable() {
    return true;
  }
  getName() {
    return this._FS.DB_NAME();
  }
  isReadOnly() {
    return false;
  }
  supportsLinks() {
    return true;
  }
  supportsProps() {
    return true;
  }
  supportsSynch() {
    return true;
  }
  renameSync(oldPath, newPath, cred) {
    try {
      this._FS.rename(oldPath, newPath);
    } catch (e) {
      if (e.errno === 2 /* ENOENT */) {
        throw convertError(e, this.existsSync(oldPath, cred) ? newPath : oldPath);
      } else {
        throw convertError(e);
      }
    }
  }
  statSync(p, isLstat, cred) {
    try {
      const stats = isLstat ? this._FS.lstat(p) : this._FS.stat(p);
      const itemType = this.modeToFileType(stats.mode);
      return new Stats(itemType, stats.size, stats.mode, stats.atime.getTime(), stats.mtime.getTime(), stats.ctime.getTime());
    } catch (e) {
      throw convertError(e, p);
    }
  }
  openSync(p, flag, mode, cred) {
    try {
      const stream = this._FS.open(p, flag.getFlagString(), mode);
      return new EmscriptenFile(this, this._FS, p, stream);
    } catch (e) {
      throw convertError(e, p);
    }
  }
  unlinkSync(p, cred) {
    try {
      this._FS.unlink(p);
    } catch (e) {
      throw convertError(e, p);
    }
  }
  rmdirSync(p, cred) {
    try {
      this._FS.rmdir(p);
    } catch (e) {
      throw convertError(e, p);
    }
  }
  mkdirSync(p, mode, cred) {
    try {
      this._FS.mkdir(p, mode);
    } catch (e) {
      throw convertError(e, p);
    }
  }
  readdirSync(p, cred) {
    try {
      return this._FS.readdir(p).filter((p2) => p2 !== "." && p2 !== "..");
    } catch (e) {
      throw convertError(e, p);
    }
  }
  truncateSync(p, len, cred) {
    try {
      this._FS.truncate(p, len);
    } catch (e) {
      throw convertError(e, p);
    }
  }
  readFileSync(p, encoding, flag, cred) {
    try {
      const data = this._FS.readFile(p, { flags: flag.getFlagString() });
      const buff = uint8Array2Buffer(data);
      if (encoding) {
        return buff.toString(encoding);
      } else {
        return buff;
      }
    } catch (e) {
      throw convertError(e, p);
    }
  }
  writeFileSync(p, data, encoding, flag, mode, cred) {
    try {
      if (encoding) {
        data = Buffer2.from(data, encoding);
      }
      const u8 = buffer2Uint8array(data);
      this._FS.writeFile(p, u8, { flags: flag.getFlagString(), encoding: "binary" });
      this._FS.chmod(p, mode);
    } catch (e) {
      throw convertError(e, p);
    }
  }
  chmodSync(p, isLchmod, mode, cred) {
    try {
      isLchmod ? this._FS.lchmod(p, mode) : this._FS.chmod(p, mode);
    } catch (e) {
      throw convertError(e, p);
    }
  }
  chownSync(p, isLchown, new_uid, new_gid, cred) {
    try {
      isLchown ? this._FS.lchown(p, new_uid, new_gid) : this._FS.chown(p, new_uid, new_gid);
    } catch (e) {
      throw convertError(e, p);
    }
  }
  symlinkSync(srcpath, dstpath, type, cred) {
    try {
      this._FS.symlink(srcpath, dstpath);
    } catch (e) {
      throw convertError(e);
    }
  }
  readlinkSync(p, cred) {
    try {
      return this._FS.readlink(p);
    } catch (e) {
      throw convertError(e, p);
    }
  }
  utimesSync(p, atime, mtime, cred) {
    try {
      this._FS.utime(p, atime.getTime(), mtime.getTime());
    } catch (e) {
      throw convertError(e, p);
    }
  }
  modeToFileType(mode) {
    if (this._FS.isDir(mode)) {
      return 16384 /* DIRECTORY */;
    } else if (this._FS.isFile(mode)) {
      return 32768 /* FILE */;
    } else if (this._FS.isLink(mode)) {
      return 40960 /* SYMLINK */;
    } else {
      throw ApiError.EPERM(`Invalid mode: ${mode}`);
    }
  }
};
var EmscriptenFileSystem = _EmscriptenFileSystem;
EmscriptenFileSystem.Name = "EmscriptenFileSystem";
EmscriptenFileSystem.Options = {
  FS: {
    type: "object",
    description: "The Emscripten file system to use (the `FS` variable)"
  }
};

// src/backend/FileSystemAccess.ts
var handleError = (cb, path = "") => (error) => {
  if (error.name === "NotFoundError") {
    return cb(ApiError.ENOENT(path));
  }
  cb(error);
};
var keysToArray = (directoryKeys, cb, path) => {
  const keys2 = [];
  const iterateKeys = () => {
    directoryKeys.next().then(({ done: done2, value }) => {
      if (done2) {
        return cb(null, keys2);
      }
      keys2.push(value);
      iterateKeys();
    }).catch(handleError(cb, path));
  };
  iterateKeys();
};
var FileSystemAccessFile = class extends PreloadFile {
  constructor(_fs, _path, _flag, _stat, contents) {
    super(_fs, _path, _flag, _stat, contents);
  }
  sync(cb) {
    if (this.isDirty()) {
      this._fs._sync(this.getPath(), this.getBuffer(), this.getStats(), Cred.Root, (e) => {
        if (!e) {
          this.resetDirty();
        }
        cb(e);
      });
    } else {
      cb();
    }
  }
  close(cb) {
    this.sync(cb);
  }
};
var _FileSystemAccessFileSystem = class extends BaseFileSystem {
  constructor(handle) {
    super();
    this._handles = { "/": handle };
  }
  static Create({ handle }, cb) {
    cb(null, new _FileSystemAccessFileSystem(handle));
  }
  static CreateAsync(opts) {
    return new Promise((resolve2, reject) => {
      this.Create(opts, (error, fs2) => {
        if (error || !fs2) {
          reject(error);
        } else {
          resolve2(fs2);
        }
      });
    });
  }
  static isAvailable() {
    return typeof FileSystemHandle === "function";
  }
  getName() {
    return _FileSystemAccessFileSystem.Name;
  }
  isReadOnly() {
    return false;
  }
  supportsSymlinks() {
    return false;
  }
  supportsProps() {
    return false;
  }
  supportsSynch() {
    return false;
  }
  _sync(p, data, stats, cred, cb) {
    this.stat(p, false, cred, (err2, currentStats) => {
      if (stats.mtime !== currentStats.mtime) {
        this.writeFile(p, data, null, FileFlag.getFileFlag("w"), currentStats.mode, cred, cb);
      } else {
        cb(err2);
      }
    });
  }
  rename(oldPath, newPath, cred, cb) {
    this.getHandle(oldPath, (sourceError, handle) => {
      if (sourceError) {
        return cb(sourceError);
      }
      if (handle instanceof FileSystemDirectoryHandle) {
        this.readdir(oldPath, cred, (readDirError, files = []) => {
          if (readDirError) {
            return cb(readDirError);
          }
          this.mkdir(newPath, "wx", cred, (mkdirError) => {
            if (mkdirError) {
              return cb(mkdirError);
            }
            if (files.length === 0) {
              this.unlink(oldPath, cred, cb);
            } else {
              files.forEach((file) => this.rename(join(oldPath, file), join(newPath, file), cred, () => this.unlink(oldPath, cred, cb)));
            }
          });
        });
      }
      if (handle instanceof FileSystemFileHandle) {
        handle.getFile().then(
          (oldFile) => this.getHandle(dirname(newPath), (destError, destFolder) => {
            if (destError) {
              return cb(destError);
            }
            if (destFolder instanceof FileSystemDirectoryHandle) {
              destFolder.getFileHandle(basename(newPath), { create: true }).then(
                (newFile) => newFile.createWritable().then(
                  (writable) => oldFile.arrayBuffer().then(
                    (buffer) => writable.write(buffer).then(() => {
                      writable.close();
                      this.unlink(oldPath, cred, cb);
                    }).catch(handleError(cb, newPath))
                  ).catch(handleError(cb, oldPath))
                ).catch(handleError(cb, newPath))
              ).catch(handleError(cb, newPath));
            }
          })
        ).catch(handleError(cb, oldPath));
      }
    });
  }
  writeFile(fname, data, encoding, flag, mode, cred, cb, createFile) {
    this.getHandle(dirname(fname), (error, handle) => {
      if (error) {
        return cb(error);
      }
      if (handle instanceof FileSystemDirectoryHandle) {
        handle.getFileHandle(basename(fname), { create: true }).then(
          (file) => file.createWritable().then(
            (writable) => writable.write(data).then(() => {
              writable.close().catch(handleError(cb, fname));
              cb(null, createFile ? this.newFile(fname, flag, data) : void 0);
            }).catch(handleError(cb, fname))
          ).catch(handleError(cb, fname))
        ).catch(handleError(cb, fname));
      }
    });
  }
  createFile(p, flag, mode, cred, cb) {
    this.writeFile(p, emptyBuffer(), null, flag, mode, cred, cb, true);
  }
  stat(path, isLstat, cred, cb) {
    this.getHandle(path, (error, handle) => {
      if (error) {
        return cb(error);
      }
      if (!handle) {
        return cb(ApiError.FileError(22 /* EINVAL */, path));
      }
      if (handle instanceof FileSystemDirectoryHandle) {
        return cb(null, new Stats(16384 /* DIRECTORY */, 4096));
      }
      if (handle instanceof FileSystemFileHandle) {
        handle.getFile().then(({ lastModified, size }) => cb(null, new Stats(32768 /* FILE */, size, void 0, void 0, lastModified))).catch(handleError(cb, path));
      }
    });
  }
  exists(p, cred, cb) {
    this.getHandle(p, (error) => cb(error === null));
  }
  openFile(path, flags, cred, cb) {
    this.getHandle(path, (error, handle) => {
      if (error) {
        return cb(error);
      }
      if (handle instanceof FileSystemFileHandle) {
        handle.getFile().then(
          (file) => file.arrayBuffer().then((buffer) => cb(null, this.newFile(path, flags, buffer, file.size, file.lastModified))).catch(handleError(cb, path))
        ).catch(handleError(cb, path));
      }
    });
  }
  unlink(path, cred, cb) {
    this.getHandle(dirname(path), (error, handle) => {
      if (error) {
        return cb(error);
      }
      if (handle instanceof FileSystemDirectoryHandle) {
        handle.removeEntry(basename(path), { recursive: true }).then(() => cb(null)).catch(handleError(cb, path));
      }
    });
  }
  rmdir(path, cred, cb) {
    this.unlink(path, cred, cb);
  }
  mkdir(p, mode, cred, cb) {
    const overwrite = mode && mode.flag && mode.flag.includes("w") && !mode.flag.includes("x");
    this.getHandle(p, (_existingError, existingHandle) => {
      if (existingHandle && !overwrite) {
        return cb(ApiError.EEXIST(p));
      }
      this.getHandle(dirname(p), (error, handle) => {
        if (error) {
          return cb(error);
        }
        if (handle instanceof FileSystemDirectoryHandle) {
          handle.getDirectoryHandle(basename(p), { create: true }).then(() => cb(null)).catch(handleError(cb, p));
        }
      });
    });
  }
  readdir(path, cred, cb) {
    this.getHandle(path, (readError, handle) => {
      if (readError) {
        return cb(readError);
      }
      if (handle instanceof FileSystemDirectoryHandle) {
        keysToArray(handle.keys(), cb, path);
      }
    });
  }
  newFile(path, flag, data, size, lastModified) {
    return new FileSystemAccessFile(this, path, flag, new Stats(32768 /* FILE */, size || 0, void 0, void 0, lastModified || (/* @__PURE__ */ new Date()).getTime()), Buffer2.from(data));
  }
  getHandle(path, cb) {
    if (path === "/") {
      return cb(null, this._handles["/"]);
    }
    let walkedPath = "/";
    const [, ...pathParts] = path.split("/");
    const getHandleParts = ([pathPart, ...remainingPathParts]) => {
      const walkingPath = join(walkedPath, pathPart);
      const continueWalk = (handle2) => {
        walkedPath = walkingPath;
        this._handles[walkedPath] = handle2;
        if (remainingPathParts.length === 0) {
          return cb(null, this._handles[path]);
        }
        getHandleParts(remainingPathParts);
      };
      const handle = this._handles[walkedPath];
      handle.getDirectoryHandle(pathPart).then(continueWalk).catch((error) => {
        if (error.name === "TypeMismatchError") {
          handle.getFileHandle(pathPart).then(continueWalk).catch(handleError(cb, walkingPath));
        } else if (error.message === "Name is not allowed.") {
          cb(new ApiError(2 /* ENOENT */, error.message, walkingPath));
        } else {
          handleError(cb, walkingPath)(error);
        }
      });
    };
    getHandleParts(pathParts);
  }
};
var FileSystemAccessFileSystem = _FileSystemAccessFileSystem;
FileSystemAccessFileSystem.Name = "FileSystemAccess";
FileSystemAccessFileSystem.Options = {};

// src/backend/FolderAdapter.ts
var _FolderAdapter = class extends BaseFileSystem {
  constructor(folder, wrapped) {
    super();
    this._folder = folder;
    this._wrapped = wrapped;
  }
  /**
   * Creates a FolderAdapter instance with the given options.
   */
  static Create(opts, cb) {
    const fa = new _FolderAdapter(opts.folder, opts.wrapped);
    fa._initialize(function(e) {
      if (e) {
        cb(e);
      } else {
        cb(null, fa);
      }
    });
  }
  static CreateAsync(opts) {
    return new Promise((resolve2, reject) => {
      this.Create(opts, (error, fs2) => {
        if (error || !fs2) {
          reject(error);
        } else {
          resolve2(fs2);
        }
      });
    });
  }
  static isAvailable() {
    return true;
  }
  getName() {
    return this._wrapped.getName();
  }
  isReadOnly() {
    return this._wrapped.isReadOnly();
  }
  supportsProps() {
    return this._wrapped.supportsProps();
  }
  supportsSynch() {
    return this._wrapped.supportsSynch();
  }
  supportsLinks() {
    return false;
  }
  /**
   * Initialize the file system. Ensures that the wrapped file system
   * has the given folder.
   */
  _initialize(cb) {
    this._wrapped.exists(this._folder, Cred.Root, (exists) => {
      if (exists) {
        cb();
      } else if (this._wrapped.isReadOnly()) {
        cb(ApiError.ENOENT(this._folder));
      } else {
        this._wrapped.mkdir(this._folder, 511, Cred.Root, cb);
      }
    });
  }
};
var FolderAdapter = _FolderAdapter;
FolderAdapter.Name = "FolderAdapter";
FolderAdapter.Options = {
  folder: {
    type: "string",
    description: "The folder to use as the root directory"
  },
  wrapped: {
    type: "object",
    description: "The file system to wrap"
  }
};
function translateError(folder, e) {
  if (e !== null && typeof e === "object") {
    const err2 = e;
    let p = err2.path;
    if (p) {
      p = "/" + relative(folder, p);
      err2.message = err2.message.replace(err2.path, p);
      err2.path = p;
    }
  }
  return e;
}
function wrapCallback(folder, cb) {
  if (typeof cb === "function") {
    return function(err2) {
      if (arguments.length > 0) {
        arguments[0] = translateError(folder, err2);
      }
      cb.apply(null, arguments);
    };
  } else {
    return cb;
  }
}
function wrapFunction(name, wrapFirst, wrapSecond) {
  if (name.slice(name.length - 4) !== "Sync") {
    return function() {
      if (arguments.length > 0) {
        if (wrapFirst) {
          arguments[0] = join(this._folder, arguments[0]);
        }
        if (wrapSecond) {
          arguments[1] = join(this._folder, arguments[1]);
        }
        arguments[arguments.length - 1] = wrapCallback(this._folder, arguments[arguments.length - 1]);
      }
      return this._wrapped[name].apply(this._wrapped, arguments);
    };
  } else {
    return function() {
      try {
        if (wrapFirst) {
          arguments[0] = join(this._folder, arguments[0]);
        }
        if (wrapSecond) {
          arguments[1] = join(this._folder, arguments[1]);
        }
        return this._wrapped[name].apply(this._wrapped, arguments);
      } catch (e) {
        throw translateError(this._folder, e);
      }
    };
  }
}
[
  "diskSpace",
  "stat",
  "statSync",
  "open",
  "openSync",
  "unlink",
  "unlinkSync",
  "rmdir",
  "rmdirSync",
  "mkdir",
  "mkdirSync",
  "readdir",
  "readdirSync",
  "exists",
  "existsSync",
  "realpath",
  "realpathSync",
  "truncate",
  "truncateSync",
  "readFile",
  "readFileSync",
  "writeFile",
  "writeFileSync",
  "appendFile",
  "appendFileSync",
  "chmod",
  "chmodSync",
  "chown",
  "chownSync",
  "utimes",
  "utimesSync",
  "readlink",
  "readlinkSync"
].forEach((name) => {
  FolderAdapter.prototype[name] = wrapFunction(name, true, false);
});
["rename", "renameSync", "link", "linkSync", "symlink", "symlinkSync"].forEach((name) => {
  FolderAdapter.prototype[name] = wrapFunction(name, true, true);
});

// node-modules-polyfills:process
var process_exports = {};
__export(process_exports, {
  addListener: () => addListener,
  argv: () => argv,
  binding: () => binding,
  browser: () => browser,
  chdir: () => chdir,
  config: () => config,
  cwd: () => cwd,
  default: () => process_default,
  emit: () => emit,
  env: () => env,
  hrtime: () => hrtime,
  nextTick: () => nextTick,
  off: () => off,
  on: () => on,
  once: () => once,
  platform: () => platform,
  release: () => release,
  removeAllListeners: () => removeAllListeners,
  removeListener: () => removeListener,
  title: () => title,
  umask: () => umask,
  uptime: () => uptime,
  version: () => version,
  versions: () => versions
});
function defaultSetTimout() {
  throw new Error("setTimeout has not been defined");
}
function defaultClearTimeout() {
  throw new Error("clearTimeout has not been defined");
}
var cachedSetTimeout = defaultSetTimout;
var cachedClearTimeout = defaultClearTimeout;
if (typeof globalThis.setTimeout === "function") {
  cachedSetTimeout = setTimeout;
}
if (typeof globalThis.clearTimeout === "function") {
  cachedClearTimeout = clearTimeout;
}
function runTimeout(fun) {
  if (cachedSetTimeout === setTimeout) {
    return setTimeout(fun, 0);
  }
  if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
    cachedSetTimeout = setTimeout;
    return setTimeout(fun, 0);
  }
  try {
    return cachedSetTimeout(fun, 0);
  } catch (e) {
    try {
      return cachedSetTimeout.call(null, fun, 0);
    } catch (e2) {
      return cachedSetTimeout.call(this, fun, 0);
    }
  }
}
function runClearTimeout(marker) {
  if (cachedClearTimeout === clearTimeout) {
    return clearTimeout(marker);
  }
  if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
    cachedClearTimeout = clearTimeout;
    return clearTimeout(marker);
  }
  try {
    return cachedClearTimeout(marker);
  } catch (e) {
    try {
      return cachedClearTimeout.call(null, marker);
    } catch (e2) {
      return cachedClearTimeout.call(this, marker);
    }
  }
}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;
function cleanUpNextTick() {
  if (!draining || !currentQueue) {
    return;
  }
  draining = false;
  if (currentQueue.length) {
    queue = currentQueue.concat(queue);
  } else {
    queueIndex = -1;
  }
  if (queue.length) {
    drainQueue();
  }
}
function drainQueue() {
  if (draining) {
    return;
  }
  var timeout = runTimeout(cleanUpNextTick);
  draining = true;
  var len = queue.length;
  while (len) {
    currentQueue = queue;
    queue = [];
    while (++queueIndex < len) {
      if (currentQueue) {
        currentQueue[queueIndex].run();
      }
    }
    queueIndex = -1;
    len = queue.length;
  }
  currentQueue = null;
  draining = false;
  runClearTimeout(timeout);
}
function nextTick(fun) {
  var args = new Array(arguments.length - 1);
  if (arguments.length > 1) {
    for (var i = 1; i < arguments.length; i++) {
      args[i - 1] = arguments[i];
    }
  }
  queue.push(new Item(fun, args));
  if (queue.length === 1 && !draining) {
    runTimeout(drainQueue);
  }
}
function Item(fun, array) {
  this.fun = fun;
  this.array = array;
}
Item.prototype.run = function() {
  this.fun.apply(null, this.array);
};
var title = "browser";
var platform = "browser";
var browser = true;
var env = {};
var argv = [];
var version = "";
var versions = {};
var release = {};
var config = {};
function noop() {
}
var on = noop;
var addListener = noop;
var once = noop;
var off = noop;
var removeListener = noop;
var removeAllListeners = noop;
var emit = noop;
function binding(name) {
  throw new Error("process.binding is not supported");
}
function cwd() {
  return "/";
}
function chdir(dir) {
  throw new Error("process.chdir is not supported");
}
function umask() {
  return 0;
}
var performance = globalThis.performance || {};
var performanceNow = performance.now || performance.mozNow || performance.msNow || performance.oNow || performance.webkitNow || function() {
  return (/* @__PURE__ */ new Date()).getTime();
};
function hrtime(previousTimestamp) {
  var clocktime = performanceNow.call(performance) * 1e-3;
  var seconds = Math.floor(clocktime);
  var nanoseconds = Math.floor(clocktime % 1 * 1e9);
  if (previousTimestamp) {
    seconds = seconds - previousTimestamp[0];
    nanoseconds = nanoseconds - previousTimestamp[1];
    if (nanoseconds < 0) {
      seconds--;
      nanoseconds += 1e9;
    }
  }
  return [seconds, nanoseconds];
}
var startTime = /* @__PURE__ */ new Date();
function uptime() {
  var currentTime = /* @__PURE__ */ new Date();
  var dif = currentTime - startTime;
  return dif / 1e3;
}
var browser$1 = {
  nextTick,
  title,
  browser,
  env,
  argv,
  version,
  versions,
  on,
  addListener,
  once,
  off,
  removeListener,
  removeAllListeners,
  emit,
  binding,
  cwd,
  chdir,
  umask,
  hrtime,
  platform,
  release,
  config,
  uptime
};
var process_default = browser$1;

// src/generic/inode.ts
var Inode = class {
  constructor(id, size, mode, atime, mtime, ctime, uid, gid) {
    this.id = id;
    this.size = size;
    this.mode = mode;
    this.atime = atime;
    this.mtime = mtime;
    this.ctime = ctime;
    this.uid = uid;
    this.gid = gid;
  }
  /**
   * Converts the buffer into an Inode.
   */
  static fromBuffer(buffer) {
    if (buffer === void 0) {
      throw new Error("NO");
    }
    return new Inode(
      buffer.toString("ascii", 38),
      buffer.readUInt32LE(0),
      buffer.readUInt16LE(4),
      buffer.readDoubleLE(6),
      buffer.readDoubleLE(14),
      buffer.readDoubleLE(22),
      buffer.readUInt32LE(30),
      buffer.readUInt32LE(34)
    );
  }
  /**
   * Handy function that converts the Inode to a Node Stats object.
   */
  toStats() {
    return new Stats(
      (this.mode & 61440) === 16384 /* DIRECTORY */ ? 16384 /* DIRECTORY */ : 32768 /* FILE */,
      this.size,
      this.mode,
      this.atime,
      this.mtime,
      this.ctime,
      this.uid,
      this.gid
    );
  }
  /**
   * Get the size of this Inode, in bytes.
   */
  getSize() {
    return 38 + this.id.length;
  }
  /**
   * Writes the inode into the start of the buffer.
   */
  toBuffer(buff = Buffer2.alloc(this.getSize())) {
    buff.writeUInt32LE(this.size, 0);
    buff.writeUInt16LE(this.mode, 4);
    buff.writeDoubleLE(this.atime, 6);
    buff.writeDoubleLE(this.mtime, 14);
    buff.writeDoubleLE(this.ctime, 22);
    buff.writeUInt32LE(this.uid, 30);
    buff.writeUInt32LE(this.gid, 34);
    buff.write(this.id, 38, this.id.length, "ascii");
    return buff;
  }
  /**
   * Updates the Inode using information from the stats object. Used by file
   * systems at sync time, e.g.:
   * - Program opens file and gets a File object.
   * - Program mutates file. File object is responsible for maintaining
   *   metadata changes locally -- typically in a Stats object.
   * - Program closes file. File object's metadata changes are synced with the
   *   file system.
   * @return True if any changes have occurred.
   */
  update(stats) {
    let hasChanged = false;
    if (this.size !== stats.size) {
      this.size = stats.size;
      hasChanged = true;
    }
    if (this.mode !== stats.mode) {
      this.mode = stats.mode;
      hasChanged = true;
    }
    const atimeMs = stats.atime.getTime();
    if (this.atime !== atimeMs) {
      this.atime = atimeMs;
      hasChanged = true;
    }
    const mtimeMs = stats.mtime.getTime();
    if (this.mtime !== mtimeMs) {
      this.mtime = mtimeMs;
      hasChanged = true;
    }
    const ctimeMs = stats.ctime.getTime();
    if (this.ctime !== ctimeMs) {
      this.ctime = ctimeMs;
      hasChanged = true;
    }
    if (this.uid !== stats.uid) {
      this.uid = stats.uid;
      hasChanged = true;
    }
    if (this.uid !== stats.uid) {
      this.uid = stats.uid;
      hasChanged = true;
    }
    return hasChanged;
  }
  // XXX: Copied from Stats. Should reconcile these two into something more
  //      compact.
  /**
   * @return [Boolean] True if this item is a file.
   */
  isFile() {
    return (this.mode & 61440) === 32768 /* FILE */;
  }
  /**
   * @return [Boolean] True if this item is a directory.
   */
  isDirectory() {
    return (this.mode & 61440) === 16384 /* DIRECTORY */;
  }
};

// src/generic/key_value_filesystem.ts
var ROOT_NODE_ID = "/";
var emptyDirNode = null;
function getEmptyDirNode() {
  if (emptyDirNode) {
    return emptyDirNode;
  }
  return emptyDirNode = Buffer2.from("{}");
}
function GenerateRandomID() {
  return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(c) {
    const r = Math.random() * 16 | 0;
    const v = c === "x" ? r : r & 3 | 8;
    return v.toString(16);
  });
}
function noError(e, cb) {
  if (e) {
    cb(e);
    return false;
  }
  return true;
}
function noErrorTx(e, tx, cb) {
  if (e) {
    tx.abort(() => {
      cb(e);
    });
    return false;
  }
  return true;
}
var LRUNode = class {
  constructor(key, value) {
    this.key = key;
    this.value = value;
    this.prev = null;
    this.next = null;
  }
};
var LRUCache = class {
  constructor(limit) {
    this.limit = limit;
    this.size = 0;
    this.map = {};
    this.head = null;
    this.tail = null;
  }
  /**
   * Change or add a new value in the cache
   * We overwrite the entry if it already exists
   */
  set(key, value) {
    const node = new LRUNode(key, value);
    if (this.map[key]) {
      this.map[key].value = node.value;
      this.remove(node.key);
    } else {
      if (this.size >= this.limit) {
        delete this.map[this.tail.key];
        this.size--;
        this.tail = this.tail.prev;
        this.tail.next = null;
      }
    }
    this.setHead(node);
  }
  /* Retrieve a single entry from the cache */
  get(key) {
    if (this.map[key]) {
      const value = this.map[key].value;
      const node = new LRUNode(key, value);
      this.remove(key);
      this.setHead(node);
      return value;
    } else {
      return null;
    }
  }
  /* Remove a single entry from the cache */
  remove(key) {
    const node = this.map[key];
    if (!node) {
      return;
    }
    if (node.prev !== null) {
      node.prev.next = node.next;
    } else {
      this.head = node.next;
    }
    if (node.next !== null) {
      node.next.prev = node.prev;
    } else {
      this.tail = node.prev;
    }
    delete this.map[key];
    this.size--;
  }
  /* Resets the entire cache - Argument limit is optional to be reset */
  removeAll() {
    this.size = 0;
    this.map = {};
    this.head = null;
    this.tail = null;
  }
  setHead(node) {
    node.next = this.head;
    node.prev = null;
    if (this.head !== null) {
      this.head.prev = node;
    }
    this.head = node;
    if (this.tail === null) {
      this.tail = node;
    }
    this.size++;
    this.map[node.key] = node;
  }
};
var SimpleSyncRWTransaction = class {
  constructor(store) {
    this.store = store;
    /**
     * Stores data in the keys we modify prior to modifying them.
     * Allows us to roll back commits.
     */
    this.originalData = {};
    /**
     * List of keys modified in this transaction, if any.
     */
    this.modifiedKeys = [];
  }
  get(key) {
    const val = this.store.get(key);
    this.stashOldValue(key, val);
    return val;
  }
  put(key, data, overwrite) {
    this.markModified(key);
    return this.store.put(key, data, overwrite);
  }
  del(key) {
    this.markModified(key);
    this.store.del(key);
  }
  commit() {
  }
  abort() {
    for (const key of this.modifiedKeys) {
      const value = this.originalData[key];
      if (!value) {
        this.store.del(key);
      } else {
        this.store.put(key, value, true);
      }
    }
  }
  _has(key) {
    return Object.prototype.hasOwnProperty.call(this.originalData, key);
  }
  /**
   * Stashes given key value pair into `originalData` if it doesn't already
   * exist. Allows us to stash values the program is requesting anyway to
   * prevent needless `get` requests if the program modifies the data later
   * on during the transaction.
   */
  stashOldValue(key, value) {
    if (!this._has(key)) {
      this.originalData[key] = value;
    }
  }
  /**
   * Marks the given key as modified, and stashes its value if it has not been
   * stashed already.
   */
  markModified(key) {
    if (this.modifiedKeys.indexOf(key) === -1) {
      this.modifiedKeys.push(key);
      if (!this._has(key)) {
        this.originalData[key] = this.store.get(key);
      }
    }
  }
};
var SyncKeyValueFile = class extends PreloadFile {
  constructor(_fs, _path, _flag, _stat, contents) {
    super(_fs, _path, _flag, _stat, contents);
  }
  syncSync() {
    if (this.isDirty()) {
      this._fs._syncSync(this.getPath(), this.getBuffer(), this.getStats());
      this.resetDirty();
    }
  }
  closeSync() {
    this.syncSync();
  }
};
var SyncKeyValueFileSystem = class extends SynchronousFileSystem {
  constructor(options) {
    super();
    this.store = options.store;
    this.makeRootDirectory();
  }
  static isAvailable() {
    return true;
  }
  getName() {
    return this.store.name();
  }
  isReadOnly() {
    return false;
  }
  supportsSymlinks() {
    return false;
  }
  supportsProps() {
    return true;
  }
  supportsSynch() {
    return true;
  }
  /**
   * Delete all contents stored in the file system.
   */
  empty() {
    this.store.clear();
    this.makeRootDirectory();
  }
  accessSync(p, mode, cred) {
    const tx = this.store.beginTransaction("readonly"), node = this.findINode(tx, p);
    if (!node.toStats().hasAccess(mode, cred)) {
      throw ApiError.EACCES(p);
    }
  }
  renameSync(oldPath, newPath, cred) {
    const tx = this.store.beginTransaction("readwrite"), oldParent = dirname(oldPath), oldName = basename(oldPath), newParent = dirname(newPath), newName = basename(newPath), oldDirNode = this.findINode(tx, oldParent), oldDirList = this.getDirListing(tx, oldParent, oldDirNode);
    if (!oldDirNode.toStats().hasAccess(2 /* WRITE */, cred)) {
      throw ApiError.EACCES(oldPath);
    }
    if (!oldDirList[oldName]) {
      throw ApiError.ENOENT(oldPath);
    }
    const nodeId = oldDirList[oldName];
    delete oldDirList[oldName];
    if ((newParent + "/").indexOf(oldPath + "/") === 0) {
      throw new ApiError(16 /* EBUSY */, oldParent);
    }
    let newDirNode, newDirList;
    if (newParent === oldParent) {
      newDirNode = oldDirNode;
      newDirList = oldDirList;
    } else {
      newDirNode = this.findINode(tx, newParent);
      newDirList = this.getDirListing(tx, newParent, newDirNode);
    }
    if (newDirList[newName]) {
      const newNameNode = this.getINode(tx, newPath, newDirList[newName]);
      if (newNameNode.isFile()) {
        try {
          tx.del(newNameNode.id);
          tx.del(newDirList[newName]);
        } catch (e) {
          tx.abort();
          throw e;
        }
      } else {
        throw ApiError.EPERM(newPath);
      }
    }
    newDirList[newName] = nodeId;
    try {
      tx.put(oldDirNode.id, Buffer2.from(JSON.stringify(oldDirList)), true);
      tx.put(newDirNode.id, Buffer2.from(JSON.stringify(newDirList)), true);
    } catch (e) {
      tx.abort();
      throw e;
    }
    tx.commit();
  }
  statSync(p, isLstat, cred) {
    const stats = this.findINode(this.store.beginTransaction("readonly"), p).toStats();
    if (!stats.hasAccess(4 /* READ */, cred)) {
      throw ApiError.EACCES(p);
    }
    return stats;
  }
  createFileSync(p, flag, mode, cred) {
    const tx = this.store.beginTransaction("readwrite"), data = emptyBuffer(), newFile = this.commitNewFile(tx, p, 32768 /* FILE */, mode, cred, data);
    return new SyncKeyValueFile(this, p, flag, newFile.toStats(), data);
  }
  openFileSync(p, flag, cred) {
    const tx = this.store.beginTransaction("readonly"), node = this.findINode(tx, p), data = tx.get(node.id);
    if (!node.toStats().hasAccess(flag.getMode(), cred)) {
      throw ApiError.EACCES(p);
    }
    if (data === void 0) {
      throw ApiError.ENOENT(p);
    }
    return new SyncKeyValueFile(this, p, flag, node.toStats(), data);
  }
  unlinkSync(p, cred) {
    this.removeEntry(p, false, cred);
  }
  rmdirSync(p, cred) {
    if (this.readdirSync(p, cred).length > 0) {
      throw ApiError.ENOTEMPTY(p);
    } else {
      this.removeEntry(p, true, cred);
    }
  }
  mkdirSync(p, mode, cred) {
    const tx = this.store.beginTransaction("readwrite"), data = Buffer2.from("{}");
    this.commitNewFile(tx, p, 16384 /* DIRECTORY */, mode, cred, data);
  }
  readdirSync(p, cred) {
    const tx = this.store.beginTransaction("readonly");
    const node = this.findINode(tx, p);
    if (!node.toStats().hasAccess(4 /* READ */, cred)) {
      throw ApiError.EACCES(p);
    }
    return Object.keys(this.getDirListing(tx, p, node));
  }
  chmodSync(p, isLchmod, mode, cred) {
    const path = isLchmod ? p : this.realpathSync(p, {}, cred);
    const fd = this.openFileSync(path, FileFlag.getFileFlag("r+"), cred);
    fd.chmodSync(mode);
  }
  chownSync(p, isLchown, new_uid, new_gid, cred) {
    const path = isLchown ? p : this.realpathSync(p, {}, cred);
    const fd = this.openFileSync(path, FileFlag.getFileFlag("r+"), cred);
    fd.chownSync(cred.euid, cred.egid);
  }
  _syncSync(p, data, stats) {
    const tx = this.store.beginTransaction("readwrite"), fileInodeId = this._findINode(tx, dirname(p), basename(p)), fileInode = this.getINode(tx, p, fileInodeId), inodeChanged = fileInode.update(stats);
    try {
      tx.put(fileInode.id, data, true);
      if (inodeChanged) {
        tx.put(fileInodeId, fileInode.toBuffer(), true);
      }
    } catch (e) {
      tx.abort();
      throw e;
    }
    tx.commit();
  }
  /**
   * Checks if the root directory exists. Creates it if it doesn't.
   */
  makeRootDirectory() {
    const tx = this.store.beginTransaction("readwrite");
    if (tx.get(ROOT_NODE_ID) === void 0) {
      const currTime = (/* @__PURE__ */ new Date()).getTime(), dirInode = new Inode(GenerateRandomID(), 4096, 511 | 16384 /* DIRECTORY */, currTime, currTime, currTime, 0, 0);
      tx.put(dirInode.id, getEmptyDirNode(), false);
      tx.put(ROOT_NODE_ID, dirInode.toBuffer(), false);
      tx.commit();
    }
  }
  /**
   * Helper function for findINode.
   * @param parent The parent directory of the file we are attempting to find.
   * @param filename The filename of the inode we are attempting to find, minus
   *   the parent.
   * @return string The ID of the file's inode in the file system.
   */
  _findINode(tx, parent, filename) {
    const readDirectory = (inode) => {
      const dirList = this.getDirListing(tx, parent, inode);
      if (dirList[filename]) {
        return dirList[filename];
      } else {
        throw ApiError.ENOENT(resolve(parent, filename));
      }
    };
    if (parent === ".") {
      parent = cwd();
    }
    if (parent === "/") {
      if (filename === "") {
        return ROOT_NODE_ID;
      } else {
        return readDirectory(this.getINode(tx, parent, ROOT_NODE_ID));
      }
    } else {
      return readDirectory(this.getINode(tx, parent + sep + filename, this._findINode(tx, dirname(parent), basename(parent))));
    }
  }
  /**
   * Finds the Inode of the given path.
   * @param p The path to look up.
   * @return The Inode of the path p.
   * @todo memoize/cache
   */
  findINode(tx, p) {
    return this.getINode(tx, p, this._findINode(tx, dirname(p), basename(p)));
  }
  /**
   * Given the ID of a node, retrieves the corresponding Inode.
   * @param tx The transaction to use.
   * @param p The corresponding path to the file (used for error messages).
   * @param id The ID to look up.
   */
  getINode(tx, p, id) {
    const inode = tx.get(id);
    if (inode === void 0) {
      throw ApiError.ENOENT(p);
    }
    return Inode.fromBuffer(inode);
  }
  /**
   * Given the Inode of a directory, retrieves the corresponding directory
   * listing.
   */
  getDirListing(tx, p, inode) {
    if (!inode.isDirectory()) {
      throw ApiError.ENOTDIR(p);
    }
    const data = tx.get(inode.id);
    if (data === void 0) {
      throw ApiError.ENOENT(p);
    }
    return JSON.parse(data.toString());
  }
  /**
   * Creates a new node under a random ID. Retries 5 times before giving up in
   * the exceedingly unlikely chance that we try to reuse a random GUID.
   * @return The GUID that the data was stored under.
   */
  addNewNode(tx, data) {
    const retries = 0;
    let currId;
    while (retries < 5) {
      try {
        currId = GenerateRandomID();
        tx.put(currId, data, false);
        return currId;
      } catch (e) {
      }
    }
    throw new ApiError(5 /* EIO */, "Unable to commit data to key-value store.");
  }
  /**
   * Commits a new file (well, a FILE or a DIRECTORY) to the file system with
   * the given mode.
   * Note: This will commit the transaction.
   * @param p The path to the new file.
   * @param type The type of the new file.
   * @param mode The mode to create the new file with.
   * @param data The data to store at the file's data node.
   * @return The Inode for the new file.
   */
  commitNewFile(tx, p, type, mode, cred, data) {
    const parentDir = dirname(p), fname = basename(p), parentNode = this.findINode(tx, parentDir), dirListing = this.getDirListing(tx, parentDir, parentNode), currTime = (/* @__PURE__ */ new Date()).getTime();
    if (!parentNode.toStats().hasAccess(4, cred)) {
      throw ApiError.EACCES(p);
    }
    if (p === "/") {
      throw ApiError.EEXIST(p);
    }
    if (dirListing[fname]) {
      throw ApiError.EEXIST(p);
    }
    let fileNode;
    try {
      const dataId = this.addNewNode(tx, data);
      fileNode = new Inode(dataId, data.length, mode | type, currTime, currTime, currTime, cred.uid, cred.gid);
      const fileNodeId = this.addNewNode(tx, fileNode.toBuffer());
      dirListing[fname] = fileNodeId;
      tx.put(parentNode.id, Buffer2.from(JSON.stringify(dirListing)), true);
    } catch (e) {
      tx.abort();
      throw e;
    }
    tx.commit();
    return fileNode;
  }
  /**
   * Remove all traces of the given path from the file system.
   * @param p The path to remove from the file system.
   * @param isDir Does the path belong to a directory, or a file?
   * @todo Update mtime.
   */
  removeEntry(p, isDir, cred) {
    const tx = this.store.beginTransaction("readwrite"), parent = dirname(p), parentNode = this.findINode(tx, parent), parentListing = this.getDirListing(tx, parent, parentNode), fileName = basename(p);
    if (!parentListing[fileName]) {
      throw ApiError.ENOENT(p);
    }
    const fileNodeId = parentListing[fileName];
    const fileNode = this.getINode(tx, p, fileNodeId);
    if (!fileNode.toStats().hasAccess(2 /* WRITE */, cred)) {
      throw ApiError.EACCES(p);
    }
    delete parentListing[fileName];
    if (!isDir && fileNode.isDirectory()) {
      throw ApiError.EISDIR(p);
    } else if (isDir && !fileNode.isDirectory()) {
      throw ApiError.ENOTDIR(p);
    }
    try {
      tx.del(fileNode.id);
      tx.del(fileNodeId);
      tx.put(parentNode.id, Buffer2.from(JSON.stringify(parentListing)), true);
    } catch (e) {
      tx.abort();
      throw e;
    }
    tx.commit();
  }
};
var AsyncKeyValueFile = class extends PreloadFile {
  constructor(_fs, _path, _flag, _stat, contents) {
    super(_fs, _path, _flag, _stat, contents);
  }
  sync(cb) {
    if (this.isDirty()) {
      this._fs._sync(this.getPath(), this.getBuffer(), this.getStats(), (e) => {
        if (!e) {
          this.resetDirty();
        }
        cb(e);
      });
    } else {
      cb();
    }
  }
  close(cb) {
    this.sync(cb);
  }
};
var AsyncKeyValueFileSystem = class extends BaseFileSystem {
  constructor(cacheSize) {
    super();
    this._cache = null;
    if (cacheSize > 0) {
      this._cache = new LRUCache(cacheSize);
    }
  }
  static isAvailable() {
    return true;
  }
  /**
   * Initializes the file system. Typically called by subclasses' async
   * constructors.
   */
  init(store, cb) {
    this.store = store;
    this.makeRootDirectory(cb);
  }
  getName() {
    return this.store.name();
  }
  isReadOnly() {
    return false;
  }
  supportsSymlinks() {
    return false;
  }
  supportsProps() {
    return true;
  }
  supportsSynch() {
    return false;
  }
  /**
   * Delete all contents stored in the file system.
   */
  empty(cb) {
    if (this._cache) {
      this._cache.removeAll();
    }
    this.store.clear((e) => {
      if (noError(e, cb)) {
        this.makeRootDirectory(cb);
      }
    });
  }
  access(p, mode, cred, cb) {
    const tx = this.store.beginTransaction("readonly");
    this.findINode(tx, p, (inode) => {
      if (inode instanceof Inode) {
        if (!inode.toStats().hasAccess(mode, cred)) {
          cb(ApiError.EACCES(p));
        }
      } else {
        cb(inode);
      }
    });
  }
  rename(oldPath, newPath, cred, cb) {
    if (this._cache) {
      const c = this._cache;
      this._cache = null;
      c.removeAll();
      const oldCb = cb;
      cb = (e) => {
        this._cache = c;
        oldCb(e);
      };
    }
    const tx = this.store.beginTransaction("readwrite");
    const oldParent = dirname(oldPath), oldName = basename(oldPath);
    const newParent = dirname(newPath), newName = basename(newPath);
    const inodes = {};
    const lists = {};
    let errorOccurred = false;
    if ((newParent + "/").indexOf(oldPath + "/") === 0) {
      return cb(new ApiError(16 /* EBUSY */, oldParent));
    }
    const theOleSwitcharoo = () => {
      if (errorOccurred || !Object.prototype.hasOwnProperty.call(lists, oldParent) || !Object.prototype.hasOwnProperty.call(lists, newParent)) {
        return;
      }
      const oldParentList = lists[oldParent], oldParentINode = inodes[oldParent], newParentList = lists[newParent], newParentINode = inodes[newParent];
      if (!oldParentList[oldName]) {
        cb(ApiError.ENOENT(oldPath));
      } else {
        const fileId = oldParentList[oldName];
        delete oldParentList[oldName];
        const completeRename = () => {
          newParentList[newName] = fileId;
          tx.put(oldParentINode.id, Buffer2.from(JSON.stringify(oldParentList)), true, (e) => {
            if (noErrorTx(e, tx, cb)) {
              if (oldParent === newParent) {
                tx.commit(cb);
              } else {
                tx.put(newParentINode.id, Buffer2.from(JSON.stringify(newParentList)), true, (e2) => {
                  if (noErrorTx(e2, tx, cb)) {
                    tx.commit(cb);
                  }
                });
              }
            }
          });
        };
        if (newParentList[newName]) {
          this.getINode(tx, newPath, newParentList[newName], (e, inode) => {
            if (noErrorTx(e, tx, cb)) {
              if (inode.isFile()) {
                tx.del(inode.id, (e2) => {
                  if (noErrorTx(e2, tx, cb)) {
                    tx.del(newParentList[newName], (e3) => {
                      if (noErrorTx(e3, tx, cb)) {
                        completeRename();
                      }
                    });
                  }
                });
              } else {
                tx.abort((e2) => {
                  cb(ApiError.EPERM(newPath));
                });
              }
            }
          });
        } else {
          completeRename();
        }
      }
    };
    const processInodeAndListings = (p) => {
      this.findINodeAndDirListing(tx, p, (e, node, dirList) => {
        if (!node.toStats().hasAccess(2 /* WRITE */, cred)) {
          throw ApiError.EACCES(p);
        }
        if (e) {
          if (!errorOccurred) {
            errorOccurred = true;
            tx.abort(() => {
              cb(e);
            });
          }
        } else {
          inodes[p] = node;
          lists[p] = dirList;
          theOleSwitcharoo();
        }
      });
    };
    processInodeAndListings(oldParent);
    if (oldParent !== newParent) {
      processInodeAndListings(newParent);
    }
  }
  stat(p, isLstat, cred, cb) {
    const tx = this.store.beginTransaction("readonly");
    this.findINode(tx, p, (e, inode) => {
      if (noError(e, cb)) {
        const stats = inode.toStats();
        if (!stats.hasAccess(4 /* READ */, cred)) {
          cb(ApiError.EACCES(p));
        }
        cb(null, stats);
      }
    });
  }
  createFile(p, flag, mode, cred, cb) {
    const tx = this.store.beginTransaction("readwrite"), data = emptyBuffer();
    this.commitNewFile(tx, p, 32768 /* FILE */, mode, cred, data, (e, newFile) => {
      if (noError(e, cb)) {
        cb(null, new AsyncKeyValueFile(this, p, flag, newFile.toStats(), data));
      }
    });
  }
  openFile(p, flag, cred, cb) {
    const tx = this.store.beginTransaction("readonly");
    this.findINode(tx, p, (e, inode) => {
      if (noError(e, cb)) {
        const stats = inode.toStats();
        if (!stats.hasAccess(flag.getMode(), cred)) {
          cb(ApiError.EACCES(p));
        }
        tx.get(inode.id, (e2, data) => {
          if (noError(e2, cb)) {
            if (data === void 0) {
              cb(ApiError.ENOENT(p));
            } else {
              cb(null, new AsyncKeyValueFile(this, p, flag, stats, data));
            }
          }
        });
      }
    });
  }
  unlink(p, cred, cb) {
    this.removeEntry(p, false, cred, cb);
  }
  rmdir(p, cred, cb) {
    this.readdir(p, cred, (err2, files) => {
      if (err2) {
        cb(err2);
      } else if (files.length > 0) {
        cb(ApiError.ENOTEMPTY(p));
      } else {
        this.removeEntry(p, true, cred, cb);
      }
    });
  }
  mkdir(p, mode, cred, cb) {
    const tx = this.store.beginTransaction("readwrite"), data = Buffer2.from("{}");
    this.commitNewFile(tx, p, 16384 /* DIRECTORY */, mode, cred, data, cb);
  }
  readdir(p, cred, cb) {
    const tx = this.store.beginTransaction("readonly");
    this.findINode(tx, p, (e, inode) => {
      if (noError(e, cb)) {
        if (!inode.toStats().hasAccess(4 /* READ */, cred)) {
          cb(ApiError.EACCES(p));
        }
        this.getDirListing(tx, p, inode, (e2, dirListing) => {
          if (noError(e2, cb)) {
            cb(null, Object.keys(dirListing));
          }
        });
      }
    });
  }
  _sync(p, data, stats, cb) {
    const tx = this.store.beginTransaction("readwrite");
    this._findINode(tx, dirname(p), basename(p), (e, fileInodeId) => {
      if (noErrorTx(e, tx, cb)) {
        this.getINode(tx, p, fileInodeId, (e2, fileInode) => {
          if (noErrorTx(e2, tx, cb)) {
            const inodeChanged = fileInode.update(stats);
            tx.put(fileInode.id, data, true, (e3) => {
              if (noErrorTx(e3, tx, cb)) {
                if (inodeChanged) {
                  tx.put(fileInodeId, fileInode.toBuffer(), true, (e4) => {
                    if (noErrorTx(e4, tx, cb)) {
                      tx.commit(cb);
                    }
                  });
                } else {
                  tx.commit(cb);
                }
              }
            });
          }
        });
      }
    });
  }
  /**
   * Checks if the root directory exists. Creates it if it doesn't.
   */
  makeRootDirectory(cb) {
    const tx = this.store.beginTransaction("readwrite");
    tx.get(ROOT_NODE_ID, (e, data) => {
      if (e || data === void 0) {
        const currTime = (/* @__PURE__ */ new Date()).getTime(), dirInode = new Inode(GenerateRandomID(), 4096, 511 | 16384 /* DIRECTORY */, currTime, currTime, currTime, 0, 0);
        tx.put(dirInode.id, getEmptyDirNode(), false, (e2) => {
          if (noErrorTx(e2, tx, cb)) {
            tx.put(ROOT_NODE_ID, dirInode.toBuffer(), false, (e3) => {
              if (e3) {
                tx.abort(() => {
                  cb(e3);
                });
              } else {
                tx.commit(cb);
              }
            });
          }
        });
      } else {
        tx.commit(cb);
      }
    });
  }
  /**
   * Helper function for findINode.
   * @param parent The parent directory of the file we are attempting to find.
   * @param filename The filename of the inode we are attempting to find, minus
   *   the parent.
   * @param cb Passed an error or the ID of the file's inode in the file system.
   */
  _findINode(tx, parent, filename, cb) {
    if (this._cache) {
      const id = this._cache.get(join(parent, filename));
      if (id) {
        return cb(null, id);
      }
    }
    const handleDirectoryListings = (e, inode, dirList) => {
      if (e) {
        cb(e);
      } else if (dirList[filename]) {
        const id = dirList[filename];
        if (this._cache) {
          this._cache.set(join(parent, filename), id);
        }
        cb(null, id);
      } else {
        cb(ApiError.ENOENT(resolve(parent, filename)));
      }
    };
    if (parent === "/") {
      if (filename === "") {
        if (this._cache) {
          this._cache.set(join(parent, filename), ROOT_NODE_ID);
        }
        cb(null, ROOT_NODE_ID);
      } else {
        this.getINode(tx, parent, ROOT_NODE_ID, (e, inode) => {
          if (noError(e, cb)) {
            this.getDirListing(tx, parent, inode, (e2, dirList) => {
              handleDirectoryListings(e2, inode, dirList);
            });
          }
        });
      }
    } else {
      this.findINodeAndDirListing(tx, parent, handleDirectoryListings);
    }
  }
  /**
   * Finds the Inode of the given path.
   * @param p The path to look up.
   * @param cb Passed an error or the Inode of the path p.
   * @todo memoize/cache
   */
  findINode(tx, p, cb) {
    this._findINode(tx, dirname(p), basename(p), (e, id) => {
      if (noError(e, cb)) {
        this.getINode(tx, p, id, cb);
      }
    });
  }
  /**
   * Given the ID of a node, retrieves the corresponding Inode.
   * @param tx The transaction to use.
   * @param p The corresponding path to the file (used for error messages).
   * @param id The ID to look up.
   * @param cb Passed an error or the inode under the given id.
   */
  getINode(tx, p, id, cb) {
    tx.get(id, (e, data) => {
      if (noError(e, cb)) {
        if (data === void 0) {
          cb(ApiError.ENOENT(p));
        } else {
          cb(null, Inode.fromBuffer(data));
        }
      }
    });
  }
  /**
   * Given the Inode of a directory, retrieves the corresponding directory
   * listing.
   */
  getDirListing(tx, p, inode, cb) {
    if (!inode.isDirectory()) {
      cb(ApiError.ENOTDIR(p));
    } else {
      tx.get(inode.id, (e, data) => {
        if (noError(e, cb)) {
          try {
            cb(null, JSON.parse(data.toString()));
          } catch (e2) {
            cb(ApiError.ENOENT(p));
          }
        }
      });
    }
  }
  /**
   * Given a path to a directory, retrieves the corresponding INode and
   * directory listing.
   */
  findINodeAndDirListing(tx, p, cb) {
    this.findINode(tx, p, (e, inode) => {
      if (noError(e, cb)) {
        this.getDirListing(tx, p, inode, (e2, listing) => {
          if (noError(e2, cb)) {
            cb(null, inode, listing);
          }
        });
      }
    });
  }
  /**
   * Adds a new node under a random ID. Retries 5 times before giving up in
   * the exceedingly unlikely chance that we try to reuse a random GUID.
   * @param cb Passed an error or the GUID that the data was stored under.
   */
  addNewNode(tx, data, cb) {
    let retries = 0, currId;
    const reroll = () => {
      if (++retries === 5) {
        cb(new ApiError(5 /* EIO */, "Unable to commit data to key-value store."));
      } else {
        currId = GenerateRandomID();
        tx.put(currId, data, false, (e, committed) => {
          if (e || !committed) {
            reroll();
          } else {
            cb(null, currId);
          }
        });
      }
    };
    reroll();
  }
  /**
   * Commits a new file (well, a FILE or a DIRECTORY) to the file system with
   * the given mode.
   * Note: This will commit the transaction.
   * @param p The path to the new file.
   * @param type The type of the new file.
   * @param mode The mode to create the new file with.
   * @param uid The UID to create the file with
   * @param gid The GID to create the file with
   * @param data The data to store at the file's data node.
   * @param cb Passed an error or the Inode for the new file.
   */
  commitNewFile(tx, p, type, mode, cred, data, cb) {
    const parentDir = dirname(p), fname = basename(p), currTime = (/* @__PURE__ */ new Date()).getTime();
    if (p === "/") {
      return cb(ApiError.EEXIST(p));
    }
    this.findINodeAndDirListing(tx, parentDir, (e, parentNode, dirListing) => {
      if (!parentNode.toStats().hasAccess(2 /* WRITE */, cred)) {
        cb(ApiError.EACCES(p));
      }
      if (noErrorTx(e, tx, cb)) {
        if (dirListing[fname]) {
          tx.abort(() => {
            cb(ApiError.EEXIST(p));
          });
        } else {
          this.addNewNode(tx, data, (e2, dataId) => {
            if (noErrorTx(e2, tx, cb)) {
              const fileInode = new Inode(dataId, data.length, mode | type, currTime, currTime, currTime, cred.euid, cred.egid);
              this.addNewNode(tx, fileInode.toBuffer(), (e3, fileInodeId) => {
                if (noErrorTx(e3, tx, cb)) {
                  dirListing[fname] = fileInodeId;
                  tx.put(parentNode.id, Buffer2.from(JSON.stringify(dirListing)), true, (e4) => {
                    if (noErrorTx(e4, tx, cb)) {
                      tx.commit((e5) => {
                        if (noErrorTx(e5, tx, cb)) {
                          cb(null, fileInode);
                        }
                      });
                    }
                  });
                }
              });
            }
          });
        }
      }
    });
  }
  /**
   * Remove all traces of the given path from the file system.
   * @param p The path to remove from the file system.
   * @param isDir Does the path belong to a directory, or a file?
   * @todo Update mtime.
   */
  removeEntry(p, isDir, cred, cb) {
    if (this._cache) {
      this._cache.remove(p);
    }
    const tx = this.store.beginTransaction("readwrite"), parent = dirname(p), fileName = basename(p);
    this.findINodeAndDirListing(tx, parent, (e, parentNode, parentListing) => {
      if (!parentNode.toStats().hasAccess(2 /* WRITE */, cred)) {
        cb(ApiError.EACCES(p));
      }
      if (noErrorTx(e, tx, cb)) {
        if (!parentListing[fileName]) {
          tx.abort(() => {
            cb(ApiError.ENOENT(p));
          });
        } else {
          const fileNodeId = parentListing[fileName];
          delete parentListing[fileName];
          this.getINode(tx, p, fileNodeId, (e2, fileNode) => {
            if (noErrorTx(e2, tx, cb)) {
              if (!isDir && fileNode.isDirectory()) {
                tx.abort(() => {
                  cb(ApiError.EISDIR(p));
                });
              } else if (isDir && !fileNode.isDirectory()) {
                tx.abort(() => {
                  cb(ApiError.ENOTDIR(p));
                });
              } else {
                tx.del(fileNode.id, (e3) => {
                  if (noErrorTx(e3, tx, cb)) {
                    tx.del(fileNodeId, (e4) => {
                      if (noErrorTx(e4, tx, cb)) {
                        tx.put(parentNode.id, Buffer2.from(JSON.stringify(parentListing)), true, (e5) => {
                          if (noErrorTx(e5, tx, cb)) {
                            tx.commit(cb);
                          }
                        });
                      }
                    });
                  }
                });
              }
            }
          });
        }
      }
    });
  }
};

// src/backend/InMemory.ts
var InMemoryStore = class {
  constructor() {
    this.store = /* @__PURE__ */ new Map();
  }
  name() {
    return InMemoryFileSystem.Name;
  }
  clear() {
    this.store.clear();
  }
  beginTransaction(type) {
    return new SimpleSyncRWTransaction(this);
  }
  get(key) {
    return this.store.get(key);
  }
  put(key, data, overwrite) {
    if (!overwrite && this.store.has(key)) {
      return false;
    }
    this.store.set(key, data);
    return true;
  }
  del(key) {
    this.store.delete(key);
  }
};
var _InMemoryFileSystem = class extends SyncKeyValueFileSystem {
  /**
   * Creates an InMemoryFileSystem instance.
   */
  static Create(options, cb) {
    cb(null, new _InMemoryFileSystem());
  }
  static CreateAsync(opts) {
    return new Promise((resolve2, reject) => {
      this.Create(opts, (error, fs2) => {
        if (error || !fs2) {
          reject(error);
        } else {
          resolve2(fs2);
        }
      });
    });
  }
  constructor() {
    super({ store: new InMemoryStore() });
  }
};
var InMemoryFileSystem = _InMemoryFileSystem;
InMemoryFileSystem.Name = "InMemory";
InMemoryFileSystem.Options = {};

// src/backend/IndexedDB.ts
var indexedDB = (() => {
  try {
    return globalThis.indexedDB || globalThis.mozIndexedDB || globalThis.webkitIndexedDB || globalThis.msIndexedDB;
  } catch (e) {
    return null;
  }
})();
function convertError2(e, message = e.toString()) {
  switch (e.name) {
    case "NotFoundError":
      return new ApiError(2 /* ENOENT */, message);
    case "QuotaExceededError":
      return new ApiError(28 /* ENOSPC */, message);
    default:
      return new ApiError(5 /* EIO */, message);
  }
}
function onErrorHandler(cb, code = 5 /* EIO */, message = null) {
  return function(e) {
    e.preventDefault();
    cb(new ApiError(code, message !== null ? message : void 0));
  };
}
var IndexedDBROTransaction = class {
  constructor(tx, store) {
    this.tx = tx;
    this.store = store;
  }
  get(key, cb) {
    try {
      const r = this.store.get(key);
      r.onerror = onErrorHandler(cb);
      r.onsuccess = (event) => {
        const result = event.target.result;
        if (result === void 0) {
          cb(null, result);
        } else {
          cb(null, arrayBuffer2Buffer(result));
        }
      };
    } catch (e) {
      cb(convertError2(e));
    }
  }
};
var IndexedDBRWTransaction = class extends IndexedDBROTransaction {
  constructor(tx, store) {
    super(tx, store);
  }
  put(key, data, overwrite, cb) {
    try {
      const arraybuffer = buffer2ArrayBuffer(data);
      let r;
      r = overwrite ? this.store.put(arraybuffer, key) : this.store.add(arraybuffer, key);
      r.onerror = onErrorHandler(cb);
      r.onsuccess = (event) => {
        cb(null, true);
      };
    } catch (e) {
      cb(convertError2(e));
    }
  }
  del(key, cb) {
    try {
      const r = this.store["delete"](key);
      r.onerror = onErrorHandler(cb);
      r.onsuccess = (event) => {
        cb();
      };
    } catch (e) {
      cb(convertError2(e));
    }
  }
  commit(cb) {
    setTimeout(cb, 0);
  }
  abort(cb) {
    let _e = null;
    try {
      this.tx.abort();
    } catch (e) {
      _e = convertError2(e);
    } finally {
      cb(_e);
    }
  }
};
var IndexedDBStore = class {
  constructor(db, storeName) {
    this.db = db;
    this.storeName = storeName;
  }
  static Create(storeName, cb) {
    const openReq = indexedDB.open(storeName, 1);
    openReq.onupgradeneeded = (event) => {
      const db = event.target.result;
      if (db.objectStoreNames.contains(storeName)) {
        db.deleteObjectStore(storeName);
      }
      db.createObjectStore(storeName);
    };
    openReq.onsuccess = (event) => {
      cb(null, new IndexedDBStore(event.target.result, storeName));
    };
    openReq.onerror = onErrorHandler(cb, 13 /* EACCES */);
  }
  name() {
    return IndexedDBFileSystem.Name + " - " + this.storeName;
  }
  clear(cb) {
    try {
      const tx = this.db.transaction(this.storeName, "readwrite"), objectStore = tx.objectStore(this.storeName), r = objectStore.clear();
      r.onsuccess = (event) => {
        setTimeout(cb, 0);
      };
      r.onerror = onErrorHandler(cb);
    } catch (e) {
      cb(convertError2(e));
    }
  }
  beginTransaction(type = "readonly") {
    const tx = this.db.transaction(this.storeName, type), objectStore = tx.objectStore(this.storeName);
    if (type === "readwrite") {
      return new IndexedDBRWTransaction(tx, objectStore);
    } else if (type === "readonly") {
      return new IndexedDBROTransaction(tx, objectStore);
    } else {
      throw new ApiError(22 /* EINVAL */, "Invalid transaction type.");
    }
  }
};
var _IndexedDBFileSystem = class extends AsyncKeyValueFileSystem {
  /**
   * Constructs an IndexedDB file system with the given options.
   */
  static Create(options, cb) {
    if (!options) {
      options = {
        storeName: "browserfs",
        cacheSize: 100
      };
    }
    IndexedDBStore.Create(options.storeName || "browserfs", (e, store) => {
      if (store) {
        const idbfs = new _IndexedDBFileSystem(options.cacheSize || 100);
        idbfs.init(store, (e2) => {
          if (e2) {
            cb(e2);
          } else {
            cb(null, idbfs);
          }
        });
      } else {
        cb(e);
      }
    });
  }
  static CreateAsync(opts) {
    return new Promise((resolve2, reject) => {
      this.Create(opts, (error, fs2) => {
        if (error || !fs2) {
          reject(error);
        } else {
          resolve2(fs2);
        }
      });
    });
  }
  static isAvailable() {
    try {
      return typeof indexedDB !== "undefined" && null !== indexedDB.open("__browserfs_test__");
    } catch (e) {
      return false;
    }
  }
  constructor(cacheSize) {
    super(cacheSize);
  }
};
var IndexedDBFileSystem = _IndexedDBFileSystem;
IndexedDBFileSystem.Name = "IndexedDB";
IndexedDBFileSystem.Options = {
  storeName: {
    type: "string",
    optional: true,
    description: "The name of this file system. You can have multiple IndexedDB file systems operating at once, but each must have a different name."
  },
  cacheSize: {
    type: "number",
    optional: true,
    description: "The size of the inode cache. Defaults to 100. A size of 0 or below disables caching."
  }
};

// src/backend/LocalStorage.ts
var supportsBinaryString = false;
var binaryEncoding;
try {
  globalThis.localStorage.setItem("__test__", String.fromCharCode(55296));
  supportsBinaryString = globalThis.localStorage.getItem("__test__") === String.fromCharCode(55296);
} catch (e) {
  supportsBinaryString = false;
}
binaryEncoding = supportsBinaryString ? "binary_string" : "binary_string_ie";
if (!Buffer2.isEncoding(binaryEncoding)) {
  binaryEncoding = "base64";
}
var LocalStorageStore = class {
  name() {
    return LocalStorageFileSystem.Name;
  }
  clear() {
    globalThis.localStorage.clear();
  }
  beginTransaction(type) {
    return new SimpleSyncRWTransaction(this);
  }
  get(key) {
    try {
      const data = globalThis.localStorage.getItem(key);
      if (data !== null) {
        return Buffer2.from(data, binaryEncoding);
      }
    } catch (e) {
    }
    return void 0;
  }
  put(key, data, overwrite) {
    try {
      if (!overwrite && globalThis.localStorage.getItem(key) !== null) {
        return false;
      }
      globalThis.localStorage.setItem(key, data.toString(binaryEncoding));
      return true;
    } catch (e) {
      throw new ApiError(28 /* ENOSPC */, "LocalStorage is full.");
    }
  }
  del(key) {
    try {
      globalThis.localStorage.removeItem(key);
    } catch (e) {
      throw new ApiError(5 /* EIO */, "Unable to delete key " + key + ": " + e);
    }
  }
};
var _LocalStorageFileSystem = class extends SyncKeyValueFileSystem {
  /**
   * Creates a LocalStorageFileSystem instance.
   */
  static Create(options, cb) {
    cb(null, new _LocalStorageFileSystem());
  }
  static CreateAsync(opts) {
    return new Promise((resolve2, reject) => {
      this.Create(opts, (error, fs2) => {
        if (error || !fs2) {
          reject(error);
        } else {
          resolve2(fs2);
        }
      });
    });
  }
  static isAvailable() {
    return typeof globalThis.localStorage !== "undefined";
  }
  /**
   * Creates a new LocalStorage file system using the contents of `localStorage`.
   */
  constructor() {
    super({ store: new LocalStorageStore() });
  }
};
var LocalStorageFileSystem = _LocalStorageFileSystem;
LocalStorageFileSystem.Name = "LocalStorage";
LocalStorageFileSystem.Options = {};

// src/backend/MountableFileSystem.ts
var _MountableFileSystem = class extends BaseFileSystem {
  /**
   * Creates a new, empty MountableFileSystem.
   */
  constructor(rootFs) {
    super();
    // Contains the list of mount points in mntMap, sorted by string length in decreasing order.
    // Ensures that we scan the most specific mount points for a match first, which lets us
    // nest mount points.
    this.mountList = [];
    this.mntMap = {};
    this.rootFs = rootFs;
  }
  /**
   * Creates a MountableFileSystem instance with the given options.
   */
  static Create(opts, cb) {
    InMemoryFileSystem.Create({}, (e, imfs) => {
      if (imfs) {
        const fs2 = new _MountableFileSystem(imfs);
        try {
          for (const mountPoint of Object.keys(opts)) {
            fs2.mount(mountPoint, opts[mountPoint], Cred.Root);
          }
        } catch (e2) {
          return cb(e2);
        }
        cb(null, fs2);
      } else {
        cb(e);
      }
    });
  }
  static CreateAsync(opts) {
    return new Promise((resolve2, reject) => {
      this.Create(opts, (error, fs2) => {
        if (error || !fs2) {
          reject(error);
        } else {
          resolve2(fs2);
        }
      });
    });
  }
  static isAvailable() {
    return true;
  }
  /**
   * Mounts the file system at the given mount point.
   */
  mount(mountPoint, fs2, cred) {
    if (mountPoint[0] !== "/") {
      mountPoint = `/${mountPoint}`;
    }
    mountPoint = resolve(mountPoint);
    if (this.mntMap[mountPoint]) {
      throw new ApiError(22 /* EINVAL */, "Mount point " + mountPoint + " is already in use.");
    }
    mkdirpSync(mountPoint, 511, cred, this.rootFs);
    this.mntMap[mountPoint] = fs2;
    this.mountList.push(mountPoint);
    this.mountList = this.mountList.sort((a, b) => b.length - a.length);
  }
  umount(mountPoint, cred) {
    if (mountPoint[0] !== "/") {
      mountPoint = `/${mountPoint}`;
    }
    mountPoint = resolve(mountPoint);
    if (!this.mntMap[mountPoint]) {
      throw new ApiError(22 /* EINVAL */, "Mount point " + mountPoint + " is already unmounted.");
    }
    delete this.mntMap[mountPoint];
    this.mountList.splice(this.mountList.indexOf(mountPoint), 1);
    while (mountPoint !== "/") {
      if (this.rootFs.readdirSync(mountPoint, cred).length === 0) {
        this.rootFs.rmdirSync(mountPoint, cred);
        mountPoint = dirname(mountPoint);
      } else {
        break;
      }
    }
  }
  /**
   * Returns the file system that the path points to.
   */
  _getFs(path) {
    const mountList = this.mountList, len = mountList.length;
    for (let i = 0; i < len; i++) {
      const mountPoint = mountList[i];
      if (mountPoint.length <= path.length && path.indexOf(mountPoint) === 0) {
        path = path.substr(mountPoint.length > 1 ? mountPoint.length : 0);
        if (path === "") {
          path = "/";
        }
        return { fs: this.mntMap[mountPoint], path, mountPoint };
      }
    }
    return { fs: this.rootFs, path, mountPoint: "/" };
  }
  // Global information methods
  getName() {
    return _MountableFileSystem.Name;
  }
  diskSpace(path, cb) {
    cb(0, 0);
  }
  isReadOnly() {
    return false;
  }
  supportsLinks() {
    return false;
  }
  supportsProps() {
    return false;
  }
  supportsSynch() {
    return true;
  }
  /**
   * Fixes up error messages so they mention the mounted file location relative
   * to the MFS root, not to the particular FS's root.
   * Mutates the input error, and returns it.
   */
  standardizeError(err2, path, realPath) {
    const index = err2.message.indexOf(path);
    if (index !== -1) {
      err2.message = err2.message.substr(0, index) + realPath + err2.message.substr(index + path.length);
      err2.path = realPath;
    }
    return err2;
  }
  // The following methods involve multiple file systems, and thus have custom
  // logic.
  // Note that we go through the Node API to use its robust default argument
  // processing.
  rename(oldPath, newPath, cred, cb) {
    const fs1rv = this._getFs(oldPath);
    const fs2rv = this._getFs(newPath);
    if (fs1rv.fs === fs2rv.fs) {
      return fs1rv.fs.rename(fs1rv.path, fs2rv.path, cred, (e) => {
        if (e) {
          this.standardizeError(this.standardizeError(e, fs1rv.path, oldPath), fs2rv.path, newPath);
        }
        cb(e);
      });
    }
    return node_fs_default.readFile(oldPath, function(err2, data) {
      if (err2) {
        return cb(err2);
      }
      node_fs_default.writeFile(newPath, data, function(err3) {
        if (err3) {
          return cb(err3);
        }
        node_fs_default.unlink(oldPath, cb);
      });
    });
  }
  renameSync(oldPath, newPath, cred) {
    const fs1rv = this._getFs(oldPath);
    const fs2rv = this._getFs(newPath);
    if (fs1rv.fs === fs2rv.fs) {
      try {
        return fs1rv.fs.renameSync(fs1rv.path, fs2rv.path, cred);
      } catch (e) {
        this.standardizeError(this.standardizeError(e, fs1rv.path, oldPath), fs2rv.path, newPath);
        throw e;
      }
    }
    const data = node_fs_default.readFileSync(oldPath);
    node_fs_default.writeFileSync(newPath, data);
    return node_fs_default.unlinkSync(oldPath);
  }
  readdirSync(p, cred) {
    const fsInfo = this._getFs(p);
    let rv = null;
    if (fsInfo.fs !== this.rootFs) {
      try {
        rv = this.rootFs.readdirSync(p, cred);
      } catch (e) {
      }
    }
    try {
      const rv2 = fsInfo.fs.readdirSync(fsInfo.path, cred);
      if (rv === null) {
        return rv2;
      } else {
        return rv2.concat(rv.filter((val) => rv2.indexOf(val) === -1));
      }
    } catch (e) {
      if (rv === null) {
        throw this.standardizeError(e, fsInfo.path, p);
      } else {
        return rv;
      }
    }
  }
  readdir(p, cred, cb) {
    const fsInfo = this._getFs(p);
    fsInfo.fs.readdir(fsInfo.path, cred, (err2, files) => {
      if (fsInfo.fs !== this.rootFs) {
        try {
          const rv = this.rootFs.readdirSync(p, cred);
          if (files) {
            files = files.concat(rv.filter((val) => files.indexOf(val) === -1));
          } else {
            files = rv;
          }
        } catch (e) {
          if (err2) {
            return cb(this.standardizeError(err2, fsInfo.path, p));
          }
        }
      } else if (err2) {
        return cb(this.standardizeError(err2, fsInfo.path, p));
      }
      cb(null, files);
    });
  }
  realpathSync(p, cache, cred) {
    const fsInfo = this._getFs(p);
    try {
      const mountedPath = fsInfo.fs.realpathSync(fsInfo.path, {}, cred);
      return resolve(join(fsInfo.mountPoint, mountedPath));
    } catch (e) {
      throw this.standardizeError(e, fsInfo.path, p);
    }
  }
  realpath(p, cache, cred, cb) {
    const fsInfo = this._getFs(p);
    fsInfo.fs.realpath(fsInfo.path, {}, cred, (err2, rv) => {
      if (err2) {
        cb(this.standardizeError(err2, fsInfo.path, p));
      } else {
        cb(null, resolve(join(fsInfo.mountPoint, rv)));
      }
    });
  }
  rmdirSync(p, cred) {
    const fsInfo = this._getFs(p);
    if (this._containsMountPt(p)) {
      throw ApiError.ENOTEMPTY(p);
    } else {
      try {
        fsInfo.fs.rmdirSync(fsInfo.path, cred);
      } catch (e) {
        throw this.standardizeError(e, fsInfo.path, p);
      }
    }
  }
  rmdir(p, cred, cb) {
    const fsInfo = this._getFs(p);
    if (this._containsMountPt(p)) {
      cb(ApiError.ENOTEMPTY(p));
    } else {
      fsInfo.fs.rmdir(fsInfo.path, cred, (err2) => {
        cb(err2 ? this.standardizeError(err2, fsInfo.path, p) : null);
      });
    }
  }
  /**
   * Returns true if the given path contains a mount point.
   */
  _containsMountPt(p) {
    const mountPoints = this.mountList, len = mountPoints.length;
    for (let i = 0; i < len; i++) {
      const pt = mountPoints[i];
      if (pt.length >= p.length && pt.slice(0, p.length) === p) {
        return true;
      }
    }
    return false;
  }
};
var MountableFileSystem = _MountableFileSystem;
MountableFileSystem.Name = "MountableFileSystem";
MountableFileSystem.Options = {};
function defineFcn(name, isSync, numArgs) {
  if (isSync) {
    return function(...args) {
      const path = args[0];
      const rv = this._getFs(path);
      args[0] = rv.path;
      try {
        return rv.fs[name].apply(rv.fs, args);
      } catch (e) {
        this.standardizeError(e, rv.path, path);
        throw e;
      }
    };
  } else {
    return function(...args) {
      const path = args[0];
      const rv = this._getFs(path);
      args[0] = rv.path;
      if (typeof args[args.length - 1] === "function") {
        const cb = args[args.length - 1];
        args[args.length - 1] = (...args2) => {
          if (args2.length > 0 && args2[0] instanceof ApiError) {
            this.standardizeError(args2[0], rv.path, path);
          }
          cb.apply(null, args2);
        };
      }
      return rv.fs[name].apply(rv.fs, args);
    };
  }
}
var fsCmdMap = [
  // 1 arg functions
  ["exists", "unlink", "readlink"],
  // 2 arg functions
  ["stat", "mkdir", "truncate"],
  // 3 arg functions
  ["open", "readFile", "chmod", "utimes"],
  // 4 arg functions
  ["chown"],
  // 5 arg functions
  ["writeFile", "appendFile"]
];
for (let i = 0; i < fsCmdMap.length; i++) {
  const cmds = fsCmdMap[i];
  for (const fnName of cmds) {
    MountableFileSystem.prototype[fnName] = defineFcn(fnName, false, i + 1);
    MountableFileSystem.prototype[fnName + "Sync"] = defineFcn(fnName + "Sync", true, i + 1);
  }
}

// src/generic/mutex.ts
var Mutex = class {
  constructor() {
    this._locked = false;
    this._waiters = [];
  }
  lock(cb) {
    if (this._locked) {
      this._waiters.push(cb);
      return;
    }
    this._locked = true;
    cb();
  }
  unlock() {
    if (!this._locked) {
      throw new Error("unlock of a non-locked mutex");
    }
    const next = this._waiters.shift();
    if (next) {
      setImmediate_default(next);
      return;
    }
    this._locked = false;
  }
  tryLock() {
    if (this._locked) {
      return false;
    }
    this._locked = true;
    return true;
  }
  isLocked() {
    return this._locked;
  }
};

// src/generic/locked_fs.ts
var LockedFS = class {
  constructor(fs2) {
    this._fs = fs2;
    this._mu = new Mutex();
  }
  getName() {
    return "LockedFS<" + this._fs.getName() + ">";
  }
  getFSUnlocked() {
    return this._fs;
  }
  diskSpace(p, cb) {
    this._fs.diskSpace(p, cb);
  }
  isReadOnly() {
    return this._fs.isReadOnly();
  }
  supportsLinks() {
    return this._fs.supportsLinks();
  }
  supportsProps() {
    return this._fs.supportsProps();
  }
  supportsSynch() {
    return this._fs.supportsSynch();
  }
  rename(oldPath, newPath, cred, cb) {
    this._mu.lock(() => {
      this._fs.rename(oldPath, newPath, cred, (err2) => {
        this._mu.unlock();
        cb(err2);
      });
    });
  }
  renameSync(oldPath, newPath, cred) {
    if (this._mu.isLocked()) {
      throw new Error("invalid sync call");
    }
    return this._fs.renameSync(oldPath, newPath, cred);
  }
  stat(p, isLstat, cred, cb) {
    this._mu.lock(() => {
      this._fs.stat(p, isLstat, cred, (err2, stat) => {
        this._mu.unlock();
        cb(err2, stat);
      });
    });
  }
  statSync(p, isLstat, cred) {
    if (this._mu.isLocked()) {
      throw new Error("invalid sync call");
    }
    return this._fs.statSync(p, isLstat, cred);
  }
  access(p, mode, cred, cb) {
    this._mu.lock(() => {
      this._fs.access(p, mode, cred, (err2) => {
        this._mu.unlock();
        cb(err2);
      });
    });
  }
  accessSync(p, mode, cred) {
    if (this._mu.isLocked()) {
      throw new Error("invalid sync call");
    }
    return this._fs.accessSync(p, mode, cred);
  }
  open(p, flag, mode, cred, cb) {
    this._mu.lock(() => {
      this._fs.open(p, flag, mode, cred, (err2, fd) => {
        this._mu.unlock();
        cb(err2, fd);
      });
    });
  }
  openSync(p, flag, mode, cred) {
    if (this._mu.isLocked()) {
      throw new Error("invalid sync call");
    }
    return this._fs.openSync(p, flag, mode, cred);
  }
  unlink(p, cred, cb) {
    this._mu.lock(() => {
      this._fs.unlink(p, cred, (err2) => {
        this._mu.unlock();
        cb(err2);
      });
    });
  }
  unlinkSync(p, cred) {
    if (this._mu.isLocked()) {
      throw new Error("invalid sync call");
    }
    return this._fs.unlinkSync(p, cred);
  }
  rmdir(p, cred, cb) {
    this._mu.lock(() => {
      this._fs.rmdir(p, cred, (err2) => {
        this._mu.unlock();
        cb(err2);
      });
    });
  }
  rmdirSync(p, cred) {
    if (this._mu.isLocked()) {
      throw new Error("invalid sync call");
    }
    return this._fs.rmdirSync(p, cred);
  }
  mkdir(p, mode, cred, cb) {
    this._mu.lock(() => {
      this._fs.mkdir(p, mode, cred, (err2) => {
        this._mu.unlock();
        cb(err2);
      });
    });
  }
  mkdirSync(p, mode, cred) {
    if (this._mu.isLocked()) {
      throw new Error("invalid sync call");
    }
    return this._fs.mkdirSync(p, mode, cred);
  }
  readdir(p, cred, cb) {
    this._mu.lock(() => {
      this._fs.readdir(p, cred, (err2, files) => {
        this._mu.unlock();
        cb(err2, files);
      });
    });
  }
  readdirSync(p, cred) {
    if (this._mu.isLocked()) {
      throw new Error("invalid sync call");
    }
    return this._fs.readdirSync(p, cred);
  }
  exists(p, cred, cb) {
    this._mu.lock(() => {
      this._fs.exists(p, cred, (exists) => {
        this._mu.unlock();
        cb(exists);
      });
    });
  }
  existsSync(p, cred) {
    if (this._mu.isLocked()) {
      throw new Error("invalid sync call");
    }
    return this._fs.existsSync(p, cred);
  }
  realpath(p, cache, cred, cb) {
    this._mu.lock(() => {
      this._fs.realpath(p, cache, cred, (err2, resolvedPath) => {
        this._mu.unlock();
        cb(err2, resolvedPath);
      });
    });
  }
  realpathSync(p, cache, cred) {
    if (this._mu.isLocked()) {
      throw new Error("invalid sync call");
    }
    return this._fs.realpathSync(p, cache, cred);
  }
  truncate(p, len, cred, cb) {
    this._mu.lock(() => {
      this._fs.truncate(p, len, cred, (err2) => {
        this._mu.unlock();
        cb(err2);
      });
    });
  }
  truncateSync(p, len, cred) {
    if (this._mu.isLocked()) {
      throw new Error("invalid sync call");
    }
    return this._fs.truncateSync(p, len, cred);
  }
  readFile(fname, encoding, flag, cred, cb) {
    this._mu.lock(() => {
      this._fs.readFile(fname, encoding, flag, cred, (err2, data) => {
        this._mu.unlock();
        cb(err2, data);
      });
    });
  }
  readFileSync(fname, encoding, flag, cred) {
    if (this._mu.isLocked()) {
      throw new Error("invalid sync call");
    }
    return this._fs.readFileSync(fname, encoding, flag, cred);
  }
  writeFile(fname, data, encoding, flag, mode, cred, cb) {
    this._mu.lock(() => {
      this._fs.writeFile(fname, data, encoding, flag, mode, cred, (err2) => {
        this._mu.unlock();
        cb(err2);
      });
    });
  }
  writeFileSync(fname, data, encoding, flag, mode, cred) {
    if (this._mu.isLocked()) {
      throw new Error("invalid sync call");
    }
    return this._fs.writeFileSync(fname, data, encoding, flag, mode, cred);
  }
  appendFile(fname, data, encoding, flag, mode, cred, cb) {
    this._mu.lock(() => {
      this._fs.appendFile(fname, data, encoding, flag, mode, cred, (err2) => {
        this._mu.unlock();
        cb(err2);
      });
    });
  }
  appendFileSync(fname, data, encoding, flag, mode, cred) {
    if (this._mu.isLocked()) {
      throw new Error("invalid sync call");
    }
    return this._fs.appendFileSync(fname, data, encoding, flag, mode, cred);
  }
  chmod(p, isLchmod, mode, cred, cb) {
    this._mu.lock(() => {
      this._fs.chmod(p, isLchmod, mode, cred, (err2) => {
        this._mu.unlock();
        cb(err2);
      });
    });
  }
  chmodSync(p, isLchmod, mode, cred) {
    if (this._mu.isLocked()) {
      throw new Error("invalid sync call");
    }
    return this._fs.chmodSync(p, isLchmod, mode, cred);
  }
  chown(p, isLchown, new_uid, new_gid, cred, cb) {
    this._mu.lock(() => {
      this._fs.chown(p, isLchown, new_uid, new_gid, cred, (err2) => {
        this._mu.unlock();
        cb(err2);
      });
    });
  }
  chownSync(p, isLchown, new_uid, new_gid, cred) {
    if (this._mu.isLocked()) {
      throw new Error("invalid sync call");
    }
    return this._fs.chownSync(p, isLchown, new_uid, new_gid, cred);
  }
  utimes(p, atime, mtime, cred, cb) {
    this._mu.lock(() => {
      this._fs.utimes(p, atime, mtime, cred, (err2) => {
        this._mu.unlock();
        cb(err2);
      });
    });
  }
  utimesSync(p, atime, mtime, cred) {
    if (this._mu.isLocked()) {
      throw new Error("invalid sync call");
    }
    return this._fs.utimesSync(p, atime, mtime, cred);
  }
  link(srcpath, dstpath, cred, cb) {
    this._mu.lock(() => {
      this._fs.link(srcpath, dstpath, cred, (err2) => {
        this._mu.unlock();
        cb(err2);
      });
    });
  }
  linkSync(srcpath, dstpath, cred) {
    if (this._mu.isLocked()) {
      throw new Error("invalid sync call");
    }
    return this._fs.linkSync(srcpath, dstpath, cred);
  }
  symlink(srcpath, dstpath, type, cred, cb) {
    this._mu.lock(() => {
      this._fs.symlink(srcpath, dstpath, type, cred, (err2) => {
        this._mu.unlock();
        cb(err2);
      });
    });
  }
  symlinkSync(srcpath, dstpath, type, cred) {
    if (this._mu.isLocked()) {
      throw new Error("invalid sync call");
    }
    return this._fs.symlinkSync(srcpath, dstpath, type, cred);
  }
  readlink(p, cred, cb) {
    this._mu.lock(() => {
      this._fs.readlink(p, cred, (err2, linkString) => {
        this._mu.unlock();
        cb(err2, linkString);
      });
    });
  }
  readlinkSync(p, cred) {
    if (this._mu.isLocked()) {
      throw new Error("invalid sync call");
    }
    return this._fs.readlinkSync(p, cred);
  }
};

// src/backend/OverlayFS.ts
var deletionLogPath = "/.deletedFiles.log";
function makeModeWritable(mode) {
  return 146 | mode;
}
function getFlag(f) {
  return FileFlag.getFileFlag(f);
}
var OverlayFile = class extends PreloadFile {
  constructor(fs2, path, flag, stats, data) {
    super(fs2, path, flag, stats, data);
  }
  sync(cb) {
    if (!this.isDirty()) {
      cb(null);
      return;
    }
    this._fs._syncAsync(this, (err2) => {
      this.resetDirty();
      cb(err2);
    });
  }
  syncSync() {
    if (this.isDirty()) {
      this._fs._syncSync(this);
      this.resetDirty();
    }
  }
  close(cb) {
    this.sync(cb);
  }
  closeSync() {
    this.syncSync();
  }
};
var UnlockedOverlayFS = class extends BaseFileSystem {
  constructor(writable, readable) {
    super();
    this._isInitialized = false;
    this._initializeCallbacks = [];
    this._deletedFiles = {};
    this._deleteLog = "";
    // If 'true', we have scheduled a delete log update.
    this._deleteLogUpdatePending = false;
    // If 'true', a delete log update is needed after the scheduled delete log
    // update finishes.
    this._deleteLogUpdateNeeded = false;
    // If there was an error updating the delete log...
    this._deleteLogError = null;
    this._writable = writable;
    this._readable = readable;
    if (this._writable.isReadOnly()) {
      throw new ApiError(22 /* EINVAL */, "Writable file system must be writable.");
    }
  }
  static isAvailable() {
    return true;
  }
  getOverlayedFileSystems() {
    return {
      readable: this._readable,
      writable: this._writable
    };
  }
  _syncAsync(file, cb) {
    const stats = file.getStats();
    this.createParentDirectoriesAsync(file.getPath(), stats.getCred(0, 0), (err2) => {
      if (err2) {
        return cb(err2);
      }
      this._writable.writeFile(file.getPath(), file.getBuffer(), null, getFlag("w"), stats.mode, stats.getCred(0, 0), cb);
    });
  }
  _syncSync(file) {
    const stats = file.getStats();
    this.createParentDirectories(file.getPath(), stats.getCred(0, 0));
    this._writable.writeFileSync(file.getPath(), file.getBuffer(), null, getFlag("w"), stats.mode, stats.getCred(0, 0));
  }
  getName() {
    return OverlayFS.Name;
  }
  /**
   * **INTERNAL METHOD**
   *
   * Called once to load up metadata stored on the writable file system.
   */
  _initialize(cb) {
    const callbackArray = this._initializeCallbacks;
    const end = (e) => {
      this._isInitialized = !e;
      this._initializeCallbacks = [];
      callbackArray.forEach((cb2) => cb2(e));
    };
    if (this._isInitialized) {
      return cb();
    }
    callbackArray.push(cb);
    if (callbackArray.length !== 1) {
      return;
    }
    this._writable.readFile(deletionLogPath, "utf8", getFlag("r"), Cred.Root, (err2, data) => {
      if (err2) {
        if (err2.errno !== 2 /* ENOENT */) {
          return end(err2);
        }
      } else {
        this._deleteLog = data;
      }
      this._reparseDeletionLog();
      end();
    });
  }
  isReadOnly() {
    return false;
  }
  supportsSynch() {
    return this._readable.supportsSynch() && this._writable.supportsSynch();
  }
  supportsLinks() {
    return false;
  }
  supportsProps() {
    return this._readable.supportsProps() && this._writable.supportsProps();
  }
  getDeletionLog() {
    return this._deleteLog;
  }
  restoreDeletionLog(log, cred) {
    this._deleteLog = log;
    this._reparseDeletionLog();
    this.updateLog("", cred);
  }
  rename(oldPath, newPath, cred, cb) {
    if (!this.checkInitAsync(cb) || this.checkPathAsync(oldPath, cb) || this.checkPathAsync(newPath, cb)) {
      return;
    }
    if (oldPath === deletionLogPath || newPath === deletionLogPath) {
      return cb(ApiError.EPERM("Cannot rename deletion log."));
    }
    if (oldPath === newPath) {
      return cb();
    }
    this.stat(oldPath, false, cred, (oldErr, oldStats) => {
      if (oldErr) {
        return cb(oldErr);
      }
      return this.stat(newPath, false, cred, (newErr, newStats) => {
        const self2 = this;
        function copyDirContents(files) {
          const file = files.shift();
          if (!file) {
            return cb();
          }
          const oldFile = resolve(oldPath, file);
          const newFile = resolve(newPath, file);
          self2.rename(oldFile, newFile, cred, (err2) => {
            if (err2) {
              return cb(err2);
            }
            copyDirContents(files);
          });
        }
        let mode = 511;
        if (oldStats.isDirectory()) {
          if (newErr) {
            if (newErr.errno !== 2 /* ENOENT */) {
              return cb(newErr);
            }
            return this._writable.exists(oldPath, cred, (exists) => {
              if (exists) {
                return this._writable.rename(oldPath, newPath, cred, cb);
              }
              this._writable.mkdir(newPath, mode, cred, (mkdirErr) => {
                if (mkdirErr) {
                  return cb(mkdirErr);
                }
                this._readable.readdir(oldPath, cred, (err2, files) => {
                  if (err2) {
                    return cb();
                  }
                  copyDirContents(files);
                });
              });
            });
          }
          mode = newStats.mode;
          if (!newStats.isDirectory()) {
            return cb(ApiError.ENOTDIR(newPath));
          }
          this.readdir(newPath, cred, (readdirErr, files) => {
            if (files && files.length) {
              return cb(ApiError.ENOTEMPTY(newPath));
            }
            this._readable.readdir(oldPath, cred, (err2, files2) => {
              if (err2) {
                return cb();
              }
              copyDirContents(files2);
            });
          });
        }
        if (newStats && newStats.isDirectory()) {
          return cb(ApiError.EISDIR(newPath));
        }
        this.readFile(oldPath, null, getFlag("r"), cred, (err2, data) => {
          if (err2) {
            return cb(err2);
          }
          return this.writeFile(newPath, data, null, getFlag("w"), oldStats.mode, cred, (err3) => {
            if (err3) {
              return cb(err3);
            }
            return this.unlink(oldPath, cred, cb);
          });
        });
      });
    });
  }
  renameSync(oldPath, newPath, cred) {
    this.checkInitialized();
    this.checkPath(oldPath);
    this.checkPath(newPath);
    if (oldPath === deletionLogPath || newPath === deletionLogPath) {
      throw ApiError.EPERM("Cannot rename deletion log.");
    }
    const oldStats = this.statSync(oldPath, false, cred);
    if (oldStats.isDirectory()) {
      if (oldPath === newPath) {
        return;
      }
      let mode = 511;
      if (this.existsSync(newPath, cred)) {
        const stats = this.statSync(newPath, false, cred);
        mode = stats.mode;
        if (stats.isDirectory()) {
          if (this.readdirSync(newPath, cred).length > 0) {
            throw ApiError.ENOTEMPTY(newPath);
          }
        } else {
          throw ApiError.ENOTDIR(newPath);
        }
      }
      if (this._writable.existsSync(oldPath, cred)) {
        this._writable.renameSync(oldPath, newPath, cred);
      } else if (!this._writable.existsSync(newPath, cred)) {
        this._writable.mkdirSync(newPath, mode, cred);
      }
      if (this._readable.existsSync(oldPath, cred)) {
        this._readable.readdirSync(oldPath, cred).forEach((name) => {
          this.renameSync(resolve(oldPath, name), resolve(newPath, name), cred);
        });
      }
    } else {
      if (this.existsSync(newPath, cred) && this.statSync(newPath, false, cred).isDirectory()) {
        throw ApiError.EISDIR(newPath);
      }
      this.writeFileSync(newPath, this.readFileSync(oldPath, null, getFlag("r"), cred), null, getFlag("w"), oldStats.mode, cred);
    }
    if (oldPath !== newPath && this.existsSync(oldPath, cred)) {
      this.unlinkSync(oldPath, cred);
    }
  }
  stat(p, isLstat, cred, cb) {
    if (!this.checkInitAsync(cb)) {
      return;
    }
    this._writable.stat(p, isLstat, cred, (err2, stat) => {
      if (err2 && err2.errno === 2 /* ENOENT */) {
        if (this._deletedFiles[p]) {
          cb(ApiError.ENOENT(p));
        }
        this._readable.stat(p, isLstat, cred, (err3, stat2) => {
          if (stat2) {
            stat2 = Stats.clone(stat2);
            stat2.mode = makeModeWritable(stat2.mode);
          }
          cb(err3, stat2);
        });
      } else {
        cb(err2, stat);
      }
    });
  }
  statSync(p, isLstat, cred) {
    this.checkInitialized();
    try {
      return this._writable.statSync(p, isLstat, cred);
    } catch (e) {
      if (this._deletedFiles[p]) {
        throw ApiError.ENOENT(p);
      }
      const oldStat = Stats.clone(this._readable.statSync(p, isLstat, cred));
      oldStat.mode = makeModeWritable(oldStat.mode);
      return oldStat;
    }
  }
  open(p, flag, mode, cred, cb) {
    if (!this.checkInitAsync(cb) || this.checkPathAsync(p, cb)) {
      return;
    }
    this.stat(p, false, cred, (err2, stats) => {
      if (stats) {
        switch (flag.pathExistsAction()) {
          case 2 /* TRUNCATE_FILE */:
            return this.createParentDirectoriesAsync(p, cred, (err3) => {
              if (err3) {
                return cb(err3);
              }
              this._writable.open(p, flag, mode, cred, cb);
            });
          case 0 /* NOP */:
            return this._writable.exists(p, cred, (exists) => {
              if (exists) {
                this._writable.open(p, flag, mode, cred, cb);
              } else {
                stats = Stats.clone(stats);
                stats.mode = mode;
                this._readable.readFile(p, null, getFlag("r"), cred, (readFileErr, data) => {
                  if (readFileErr) {
                    return cb(readFileErr);
                  }
                  if (stats.size === -1) {
                    stats.size = data.length;
                  }
                  const f = new OverlayFile(this, p, flag, stats, data);
                  cb(null, f);
                });
              }
            });
          default:
            return cb(ApiError.EEXIST(p));
        }
      } else {
        switch (flag.pathNotExistsAction()) {
          case 3 /* CREATE_FILE */:
            return this.createParentDirectoriesAsync(p, cred, (err3) => {
              if (err3) {
                return cb(err3);
              }
              return this._writable.open(p, flag, mode, cred, cb);
            });
          default:
            return cb(ApiError.ENOENT(p));
        }
      }
    });
  }
  openSync(p, flag, mode, cred) {
    this.checkInitialized();
    this.checkPath(p);
    if (p === deletionLogPath) {
      throw ApiError.EPERM("Cannot open deletion log.");
    }
    if (this.existsSync(p, cred)) {
      switch (flag.pathExistsAction()) {
        case 2 /* TRUNCATE_FILE */:
          this.createParentDirectories(p, cred);
          return this._writable.openSync(p, flag, mode, cred);
        case 0 /* NOP */:
          if (this._writable.existsSync(p, cred)) {
            return this._writable.openSync(p, flag, mode, cred);
          } else {
            const buf = this._readable.readFileSync(p, null, getFlag("r"), cred);
            const stats = Stats.clone(this._readable.statSync(p, false, cred));
            stats.mode = mode;
            return new OverlayFile(this, p, flag, stats, buf);
          }
        default:
          throw ApiError.EEXIST(p);
      }
    } else {
      switch (flag.pathNotExistsAction()) {
        case 3 /* CREATE_FILE */:
          this.createParentDirectories(p, cred);
          return this._writable.openSync(p, flag, mode, cred);
        default:
          throw ApiError.ENOENT(p);
      }
    }
  }
  unlink(p, cred, cb) {
    if (!this.checkInitAsync(cb) || this.checkPathAsync(p, cb)) {
      return;
    }
    this.exists(p, cred, (exists) => {
      if (!exists) {
        return cb(ApiError.ENOENT(p));
      }
      this._writable.exists(p, cred, (writableExists) => {
        if (writableExists) {
          return this._writable.unlink(p, cred, (err2) => {
            if (err2) {
              return cb(err2);
            }
            this.exists(p, cred, (readableExists) => {
              if (readableExists) {
                this.deletePath(p, cred);
              }
              cb(null);
            });
          });
        } else {
          this.deletePath(p, cred);
          cb(null);
        }
      });
    });
  }
  unlinkSync(p, cred) {
    this.checkInitialized();
    this.checkPath(p);
    if (this.existsSync(p, cred)) {
      if (this._writable.existsSync(p, cred)) {
        this._writable.unlinkSync(p, cred);
      }
      if (this.existsSync(p, cred)) {
        this.deletePath(p, cred);
      }
    } else {
      throw ApiError.ENOENT(p);
    }
  }
  rmdir(p, cred, cb) {
    if (!this.checkInitAsync(cb)) {
      return;
    }
    const rmdirLower = () => {
      this.readdir(p, cred, (err2, files) => {
        if (err2) {
          return cb(err2);
        }
        if (files.length) {
          return cb(ApiError.ENOTEMPTY(p));
        }
        this.deletePath(p, cred);
        cb(null);
      });
    };
    this.exists(p, cred, (exists) => {
      if (!exists) {
        return cb(ApiError.ENOENT(p));
      }
      this._writable.exists(p, cred, (writableExists) => {
        if (writableExists) {
          this._writable.rmdir(p, cred, (err2) => {
            if (err2) {
              return cb(err2);
            }
            this._readable.exists(p, cred, (readableExists) => {
              if (readableExists) {
                rmdirLower();
              } else {
                cb();
              }
            });
          });
        } else {
          rmdirLower();
        }
      });
    });
  }
  rmdirSync(p, cred) {
    this.checkInitialized();
    if (this.existsSync(p, cred)) {
      if (this._writable.existsSync(p, cred)) {
        this._writable.rmdirSync(p, cred);
      }
      if (this.existsSync(p, cred)) {
        if (this.readdirSync(p, cred).length > 0) {
          throw ApiError.ENOTEMPTY(p);
        } else {
          this.deletePath(p, cred);
        }
      }
    } else {
      throw ApiError.ENOENT(p);
    }
  }
  mkdir(p, mode, cred, cb) {
    if (!this.checkInitAsync(cb)) {
      return;
    }
    this.exists(p, cred, (exists) => {
      if (exists) {
        return cb(ApiError.EEXIST(p));
      }
      this.createParentDirectoriesAsync(p, cred, (err2) => {
        if (err2) {
          return cb(err2);
        }
        this._writable.mkdir(p, mode, cred, cb);
      });
    });
  }
  mkdirSync(p, mode, cred) {
    this.checkInitialized();
    if (this.existsSync(p, cred)) {
      throw ApiError.EEXIST(p);
    } else {
      this.createParentDirectories(p, cred);
      this._writable.mkdirSync(p, mode, cred);
    }
  }
  readdir(p, cred, cb) {
    if (!this.checkInitAsync(cb)) {
      return;
    }
    this.stat(p, false, cred, (err2, dirStats) => {
      if (err2) {
        return cb(err2);
      }
      if (!dirStats.isDirectory()) {
        return cb(ApiError.ENOTDIR(p));
      }
      this._writable.readdir(p, cred, (err3, wFiles) => {
        if (err3 && err3.code !== "ENOENT") {
          return cb(err3);
        } else if (err3 || !wFiles) {
          wFiles = [];
        }
        this._readable.readdir(p, cred, (err4, rFiles) => {
          if (err4 || !rFiles) {
            rFiles = [];
          }
          const seenMap = {};
          const filtered = wFiles.concat(rFiles.filter((fPath) => !this._deletedFiles[`${p}/${fPath}`])).filter((fPath) => {
            const result = !seenMap[fPath];
            seenMap[fPath] = true;
            return result;
          });
          cb(null, filtered);
        });
      });
    });
  }
  readdirSync(p, cred) {
    this.checkInitialized();
    const dirStats = this.statSync(p, false, cred);
    if (!dirStats.isDirectory()) {
      throw ApiError.ENOTDIR(p);
    }
    let contents = [];
    try {
      contents = contents.concat(this._writable.readdirSync(p, cred));
    } catch (e) {
    }
    try {
      contents = contents.concat(this._readable.readdirSync(p, cred).filter((fPath) => !this._deletedFiles[`${p}/${fPath}`]));
    } catch (e) {
    }
    const seenMap = {};
    return contents.filter((fileP) => {
      const result = !seenMap[fileP];
      seenMap[fileP] = true;
      return result;
    });
  }
  exists(p, cred, cb) {
    this.checkInitialized();
    this._writable.exists(p, cred, (existsWritable) => {
      if (existsWritable) {
        return cb(true);
      }
      this._readable.exists(p, cred, (existsReadable) => {
        cb(existsReadable && this._deletedFiles[p] !== true);
      });
    });
  }
  existsSync(p, cred) {
    this.checkInitialized();
    return this._writable.existsSync(p, cred) || this._readable.existsSync(p, cred) && this._deletedFiles[p] !== true;
  }
  chmod(p, isLchmod, mode, cred, cb) {
    if (!this.checkInitAsync(cb)) {
      return;
    }
    this.operateOnWritableAsync(p, cred, (err2) => {
      if (err2) {
        return cb(err2);
      } else {
        this._writable.chmod(p, isLchmod, mode, cred, cb);
      }
    });
  }
  chmodSync(p, isLchmod, mode, cred) {
    this.checkInitialized();
    this.operateOnWritable(p, cred, () => {
      this._writable.chmodSync(p, isLchmod, mode, cred);
    });
  }
  chown(p, isLchmod, new_uid, new_gid, cred, cb) {
    if (!this.checkInitAsync(cb)) {
      return;
    }
    this.operateOnWritableAsync(p, cred, (err2) => {
      if (err2) {
        return cb(err2);
      } else {
        this._writable.chown(p, isLchmod, new_uid, new_gid, cred, cb);
      }
    });
  }
  chownSync(p, isLchown, new_uid, new_gid, cred) {
    this.checkInitialized();
    this.operateOnWritable(p, cred, () => {
      this._writable.chownSync(p, isLchown, new_uid, new_gid, cred);
    });
  }
  utimes(p, atime, mtime, cred, cb) {
    if (!this.checkInitAsync(cb)) {
      return;
    }
    this.operateOnWritableAsync(p, cred, (err2) => {
      if (err2) {
        return cb(err2);
      } else {
        this._writable.utimes(p, atime, mtime, cred, cb);
      }
    });
  }
  utimesSync(p, atime, mtime, cred) {
    this.checkInitialized();
    this.operateOnWritable(p, cred, () => {
      this._writable.utimesSync(p, atime, mtime, cred);
    });
  }
  deletePath(p, cred) {
    this._deletedFiles[p] = true;
    this.updateLog(`d${p}
`, cred);
  }
  updateLog(addition, cred) {
    this._deleteLog += addition;
    if (this._deleteLogUpdatePending) {
      this._deleteLogUpdateNeeded = true;
    } else {
      this._deleteLogUpdatePending = true;
      this._writable.writeFile(deletionLogPath, this._deleteLog, "utf8", FileFlag.getFileFlag("w"), 420, cred, (e) => {
        this._deleteLogUpdatePending = false;
        if (e) {
          this._deleteLogError = e;
        } else if (this._deleteLogUpdateNeeded) {
          this._deleteLogUpdateNeeded = false;
          this.updateLog("", cred);
        }
      });
    }
  }
  _reparseDeletionLog() {
    this._deletedFiles = {};
    this._deleteLog.split("\n").forEach((path) => {
      this._deletedFiles[path.slice(1)] = path.slice(0, 1) === "d";
    });
  }
  checkInitialized() {
    if (!this._isInitialized) {
      throw new ApiError(1 /* EPERM */, "OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.");
    } else if (this._deleteLogError !== null) {
      const e = this._deleteLogError;
      this._deleteLogError = null;
      throw e;
    }
  }
  checkInitAsync(cb) {
    if (!this._isInitialized) {
      cb(new ApiError(1 /* EPERM */, "OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it."));
      return false;
    } else if (this._deleteLogError !== null) {
      const e = this._deleteLogError;
      this._deleteLogError = null;
      cb(e);
      return false;
    }
    return true;
  }
  checkPath(p) {
    if (p === deletionLogPath) {
      throw ApiError.EPERM(p);
    }
  }
  checkPathAsync(p, cb) {
    if (p === deletionLogPath) {
      cb(ApiError.EPERM(p));
      return true;
    }
    return false;
  }
  createParentDirectoriesAsync(p, cred, cb) {
    let parent = dirname(p);
    const toCreate = [];
    const self2 = this;
    this._writable.stat(parent, false, cred, statDone);
    function statDone(err2, stat) {
      if (err2) {
        if (parent === "/") {
          cb(new ApiError(16 /* EBUSY */, "Invariant failed: root does not exist!"));
        } else {
          toCreate.push(parent);
          parent = dirname(parent);
          self2._writable.stat(parent, false, cred, statDone);
        }
      } else {
        createParents();
      }
    }
    function createParents() {
      if (!toCreate.length) {
        return cb();
      }
      const dir = toCreate.pop();
      self2._readable.stat(dir, false, cred, (err2, stats) => {
        if (!stats) {
          return cb();
        }
        self2._writable.mkdir(dir, stats.mode, cred, (err3) => {
          if (err3) {
            return cb(err3);
          }
          createParents();
        });
      });
    }
  }
  /**
   * With the given path, create the needed parent directories on the writable storage
   * should they not exist. Use modes from the read-only storage.
   */
  createParentDirectories(p, cred) {
    let parent = dirname(p), toCreate = [];
    while (!this._writable.existsSync(parent, cred)) {
      toCreate.push(parent);
      parent = dirname(parent);
    }
    toCreate = toCreate.reverse();
    toCreate.forEach((p2) => {
      this._writable.mkdirSync(p2, this.statSync(p2, false, cred).mode, cred);
    });
  }
  /**
   * Helper function:
   * - Ensures p is on writable before proceeding. Throws an error if it doesn't exist.
   * - Calls f to perform operation on writable.
   */
  operateOnWritable(p, cred, f) {
    if (this.existsSync(p, cred)) {
      if (!this._writable.existsSync(p, cred)) {
        this.copyToWritable(p, cred);
      }
      f();
    } else {
      throw ApiError.ENOENT(p);
    }
  }
  operateOnWritableAsync(p, cred, cb) {
    this.exists(p, cred, (exists) => {
      if (!exists) {
        return cb(ApiError.ENOENT(p));
      }
      this._writable.exists(p, cred, (existsWritable) => {
        if (existsWritable) {
          cb();
        } else {
          return this.copyToWritableAsync(p, cred, cb);
        }
      });
    });
  }
  /**
   * Copy from readable to writable storage.
   * PRECONDITION: File does not exist on writable storage.
   */
  copyToWritable(p, cred) {
    const pStats = this.statSync(p, false, cred);
    if (pStats.isDirectory()) {
      this._writable.mkdirSync(p, pStats.mode, cred);
    } else {
      this.writeFileSync(p, this._readable.readFileSync(p, null, getFlag("r"), cred), null, getFlag("w"), this.statSync(p, false, cred).mode, cred);
    }
  }
  copyToWritableAsync(p, cred, cb) {
    this.stat(p, false, cred, (err2, pStats) => {
      if (err2) {
        return cb(err2);
      }
      if (pStats.isDirectory()) {
        return this._writable.mkdir(p, pStats.mode, cred, cb);
      }
      this._readable.readFile(p, null, getFlag("r"), cred, (err3, data) => {
        if (err3) {
          return cb(err3);
        }
        this.writeFile(p, data, null, getFlag("w"), pStats.mode, cred, cb);
      });
    });
  }
};
var _OverlayFS = class extends LockedFS {
  /**
   * Constructs and initializes an OverlayFS instance with the given options.
   */
  static Create(opts, cb) {
    try {
      const fs2 = new _OverlayFS(opts.writable, opts.readable);
      fs2._initialize((e) => {
        cb(e, fs2);
      });
    } catch (e) {
      cb(e);
    }
  }
  static CreateAsync(opts) {
    return new Promise((resolve2, reject) => {
      this.Create(opts, (error, fs2) => {
        if (error || !fs2) {
          reject(error);
        } else {
          resolve2(fs2);
        }
      });
    });
  }
  static isAvailable() {
    return UnlockedOverlayFS.isAvailable();
  }
  /**
   * @param writable The file system to write modified files to.
   * @param readable The file system that initially populates this file system.
   */
  constructor(writable, readable) {
    super(new UnlockedOverlayFS(writable, readable));
  }
  getOverlayedFileSystems() {
    return super.getFSUnlocked().getOverlayedFileSystems();
  }
  unwrap() {
    return super.getFSUnlocked();
  }
  _initialize(cb) {
    super.getFSUnlocked()._initialize(cb);
  }
};
var OverlayFS = _OverlayFS;
OverlayFS.Name = "OverlayFS";
OverlayFS.Options = {
  writable: {
    type: "object",
    description: "The file system to write modified files to."
  },
  readable: {
    type: "object",
    description: "The file system that initially populates this file system."
  }
};

// src/backend/WorkerFS.ts
var CallbackArgumentConverter = class {
  constructor() {
    this._callbacks = {};
    this._nextId = 0;
  }
  toRemoteArg(cb) {
    const id = this._nextId++;
    this._callbacks[id] = cb;
    return {
      type: 0 /* CB */,
      id
    };
  }
  toLocalArg(id) {
    const cb = this._callbacks[id];
    delete this._callbacks[id];
    return cb;
  }
};
var FileDescriptorArgumentConverter = class {
  constructor() {
    this._fileDescriptors = {};
    this._nextId = 0;
  }
  toRemoteArg(fd, p, flag, cb) {
    const id = this._nextId++;
    let data;
    let stat;
    this._fileDescriptors[id] = fd;
    fd.stat((err2, stats) => {
      if (err2) {
        cb(err2);
      } else {
        stat = bufferToTransferrableObject(stats.toBuffer());
        if (flag.isReadable()) {
          fd.read(Buffer2.alloc(stats.size), 0, stats.size, 0, (err3, bytesRead, buff) => {
            if (err3) {
              cb(err3);
            } else {
              data = bufferToTransferrableObject(buff);
              cb(null, {
                type: 1 /* FD */,
                id,
                data,
                stat,
                path: p,
                flag: flag.getFlagString()
              });
            }
          });
        } else {
          cb(null, {
            type: 1 /* FD */,
            id,
            data: new ArrayBuffer(0),
            stat,
            path: p,
            flag: flag.getFlagString()
          });
        }
      }
    });
  }
  applyFdAPIRequest(request, cb) {
    const fdArg = request.args[0];
    this._applyFdChanges(fdArg, (err2, fd) => {
      if (err2) {
        cb(err2);
      } else {
        fd[request.method]((e) => {
          if (request.method === "close") {
            delete this._fileDescriptors[fdArg.id];
          }
          cb(e);
        });
      }
    });
  }
  _applyFdChanges(remoteFd, cb) {
    const fd = this._fileDescriptors[remoteFd.id], data = transferrableObjectToBuffer(remoteFd.data), remoteStats = Stats.fromBuffer(transferrableObjectToBuffer(remoteFd.stat));
    const flag = FileFlag.getFileFlag(remoteFd.flag);
    if (flag.isWriteable()) {
      fd.write(data, 0, data.length, flag.isAppendable() ? fd.getPos() : 0, (e) => {
        function applyStatChanges() {
          fd.stat((e2, stats) => {
            if (e2) {
              cb(e2);
            } else {
              if (stats.mode !== remoteStats.mode) {
                fd.chmod(remoteStats.mode, (e3) => {
                  cb(e3, fd);
                });
              } else {
                cb(e2, fd);
              }
            }
          });
        }
        if (e) {
          cb(e);
        } else {
          if (!flag.isAppendable()) {
            fd.truncate(data.length, () => {
              applyStatChanges();
            });
          } else {
            applyStatChanges();
          }
        }
      });
    } else {
      cb(null, fd);
    }
  }
};
function apiErrorLocal2Remote(e) {
  return {
    type: 2 /* API_ERROR */,
    errorData: bufferToTransferrableObject(e.writeToBuffer())
  };
}
function apiErrorRemote2Local(e) {
  return ApiError.fromBuffer(transferrableObjectToBuffer(e.errorData));
}
function errorLocal2Remote(e) {
  return {
    type: 7 /* ERROR */,
    name: e.name,
    message: e.message,
    stack: e.stack
  };
}
function errorRemote2Local(e) {
  let cnstr = globalThis[e.name];
  if (typeof cnstr !== "function") {
    cnstr = Error;
  }
  const err2 = new cnstr(e.message);
  err2.stack = e.stack;
  return err2;
}
function statsLocal2Remote(stats) {
  return {
    type: 3 /* STATS */,
    statsData: bufferToTransferrableObject(stats.toBuffer())
  };
}
function statsRemote2Local(stats) {
  return Stats.fromBuffer(transferrableObjectToBuffer(stats.statsData));
}
function fileFlagLocal2Remote(flag) {
  return {
    type: 5 /* FILEFLAG */,
    flagStr: flag.getFlagString()
  };
}
function fileFlagRemote2Local(remoteFlag) {
  return FileFlag.getFileFlag(remoteFlag.flagStr);
}
function bufferToTransferrableObject(buff) {
  return buffer2ArrayBuffer(buff);
}
function transferrableObjectToBuffer(buff) {
  return arrayBuffer2Buffer(buff);
}
function bufferLocal2Remote(buff) {
  return {
    type: 6 /* BUFFER */,
    data: bufferToTransferrableObject(buff)
  };
}
function bufferRemote2Local(buffArg) {
  return transferrableObjectToBuffer(buffArg.data);
}
function isAPIRequest(data) {
  return data && typeof data === "object" && Object.prototype.hasOwnProperty.call(data, "browserfsMessage") && data["browserfsMessage"];
}
function isAPIResponse(data) {
  return data && typeof data === "object" && Object.prototype.hasOwnProperty.call(data, "browserfsMessage") && data["browserfsMessage"];
}
var WorkerFile = class extends PreloadFile {
  constructor(_fs, _path, _flag, _stat, remoteFdId, contents) {
    super(_fs, _path, _flag, _stat, contents);
    this._remoteFdId = remoteFdId;
  }
  getRemoteFdId() {
    return this._remoteFdId;
  }
  /**
   * @hidden
   */
  toRemoteArg() {
    return {
      type: 1 /* FD */,
      id: this._remoteFdId,
      data: bufferToTransferrableObject(this.getBuffer()),
      stat: bufferToTransferrableObject(this.getStats().toBuffer()),
      path: this.getPath(),
      flag: this.getFlag().getFlagString()
    };
  }
  sync(cb) {
    this._syncClose("sync", cb);
  }
  close(cb) {
    this._syncClose("close", cb);
  }
  _syncClose(type, cb) {
    if (this.isDirty()) {
      this._fs.syncClose(type, this, (e) => {
        if (!e) {
          this.resetDirty();
        }
        cb(e);
      });
    } else {
      cb();
    }
  }
};
var _WorkerFS = class extends BaseFileSystem {
  /**
   * Constructs a new WorkerFS instance that connects with BrowserFS running on
   * the specified worker.
   */
  constructor(worker) {
    super();
    this._callbackConverter = new CallbackArgumentConverter();
    this._isInitialized = false;
    this._isReadOnly = false;
    this._supportLinks = false;
    this._supportProps = false;
    this._worker = worker;
    this._worker.addEventListener("message", (e) => {
      const resp = e.data;
      if (isAPIResponse(resp)) {
        let i;
        const args = resp.args;
        const fixedArgs = new Array(args.length);
        for (i = 0; i < fixedArgs.length; i++) {
          fixedArgs[i] = this._argRemote2Local(args[i]);
        }
        this._callbackConverter.toLocalArg(resp.cbId).apply(null, fixedArgs);
      }
    });
  }
  static Create(opts, cb) {
    const fs2 = new _WorkerFS(opts.worker);
    fs2._initialize(() => {
      cb(null, fs2);
    });
  }
  static CreateAsync(opts) {
    return new Promise((resolve2, reject) => {
      this.Create(opts, (error, fs2) => {
        if (error || !fs2) {
          reject(error);
        } else {
          resolve2(fs2);
        }
      });
    });
  }
  static isAvailable() {
    return typeof importScripts !== "undefined" || typeof Worker !== "undefined";
  }
  /**
   * Attaches a listener to the remote worker for file system requests.
   */
  static attachRemoteListener(worker) {
    const fdConverter = new FileDescriptorArgumentConverter();
    function argLocal2Remote(arg, requestArgs, cb) {
      switch (typeof arg) {
        case "object":
          if (arg instanceof Stats) {
            cb(null, statsLocal2Remote(arg));
          } else if (arg instanceof ApiError) {
            cb(null, apiErrorLocal2Remote(arg));
          } else if (arg instanceof BaseFile) {
            cb(null, fdConverter.toRemoteArg(arg, requestArgs[0], requestArgs[1], cb));
          } else if (arg instanceof FileFlag) {
            cb(null, fileFlagLocal2Remote(arg));
          } else if (arg instanceof Buffer2) {
            cb(null, bufferLocal2Remote(arg));
          } else if (arg instanceof Error) {
            cb(null, errorLocal2Remote(arg));
          } else {
            cb(null, arg);
          }
          break;
        default:
          cb(null, arg);
          break;
      }
    }
    function argRemote2Local(arg, fixedRequestArgs) {
      if (!arg) {
        return arg;
      }
      switch (typeof arg) {
        case "object":
          if (typeof arg["type"] === "number") {
            const specialArg = arg;
            switch (specialArg.type) {
              case 0 /* CB */:
                const cbId = arg.id;
                return function() {
                  let i;
                  const fixedArgs = new Array(arguments.length);
                  let message, countdown = arguments.length;
                  function abortAndSendError(err2) {
                    if (countdown > 0) {
                      countdown = -1;
                      message = {
                        browserfsMessage: true,
                        cbId,
                        args: [apiErrorLocal2Remote(err2)]
                      };
                      worker.postMessage(message);
                    }
                  }
                  for (i = 0; i < arguments.length; i++) {
                    ((i2, arg2) => {
                      argLocal2Remote(arg2, fixedRequestArgs, (err2, fixedArg) => {
                        fixedArgs[i2] = fixedArg;
                        if (err2) {
                          abortAndSendError(err2);
                        } else if (--countdown === 0) {
                          message = {
                            browserfsMessage: true,
                            cbId,
                            args: fixedArgs
                          };
                          worker.postMessage(message);
                        }
                      });
                    })(i, arguments[i]);
                  }
                  if (arguments.length === 0) {
                    message = {
                      browserfsMessage: true,
                      cbId,
                      args: fixedArgs
                    };
                    worker.postMessage(message);
                  }
                };
              case 2 /* API_ERROR */:
                return apiErrorRemote2Local(specialArg);
              case 3 /* STATS */:
                return statsRemote2Local(specialArg);
              case 5 /* FILEFLAG */:
                return fileFlagRemote2Local(specialArg);
              case 6 /* BUFFER */:
                return bufferRemote2Local(specialArg);
              case 7 /* ERROR */:
                return errorRemote2Local(specialArg);
              default:
                return arg;
            }
          } else {
            return arg;
          }
        default:
          return arg;
      }
    }
    worker.addEventListener("message", (e) => {
      const request = e.data;
      if (isAPIRequest(request)) {
        const args = request.args, fixedArgs = new Array(args.length);
        switch (request.method) {
          case "close":
          case "sync":
            (() => {
              const remoteCb = args[1];
              fdConverter.applyFdAPIRequest(request, (err2) => {
                const response = {
                  browserfsMessage: true,
                  cbId: remoteCb.id,
                  args: err2 ? [apiErrorLocal2Remote(err2)] : []
                };
                worker.postMessage(response);
              });
            })();
            break;
          case "probe":
            (() => {
              const rootFs = node_fs_default.getRootFS(), remoteCb = args[1], probeResponse = {
                type: 4 /* PROBE */,
                isReadOnly: rootFs.isReadOnly(),
                supportsLinks: rootFs.supportsLinks(),
                supportsProps: rootFs.supportsProps()
              }, response = {
                browserfsMessage: true,
                cbId: remoteCb.id,
                args: [probeResponse]
              };
              worker.postMessage(response);
            })();
            break;
          default:
            for (let i = 0; i < args.length; i++) {
              fixedArgs[i] = argRemote2Local(args[i], fixedArgs);
            }
            const rootFS = node_fs_default.getRootFS();
            rootFS[request.method].apply(rootFS, fixedArgs);
            break;
        }
      }
    });
  }
  getName() {
    return _WorkerFS.Name;
  }
  isReadOnly() {
    return this._isReadOnly;
  }
  supportsSynch() {
    return false;
  }
  supportsLinks() {
    return this._supportLinks;
  }
  supportsProps() {
    return this._supportProps;
  }
  rename(oldPath, newPath, cred, cb) {
    this._rpc("rename", arguments);
  }
  stat(p, isLstat, cred, cb) {
    this._rpc("stat", arguments);
  }
  open(p, flag, mode, cred, cb) {
    this._rpc("open", arguments);
  }
  unlink(p, cred, cb) {
    this._rpc("unlink", arguments);
  }
  rmdir(p, cred, cb) {
    this._rpc("rmdir", arguments);
  }
  mkdir(p, mode, cred, cb) {
    this._rpc("mkdir", arguments);
  }
  readdir(p, cred, cb) {
    this._rpc("readdir", arguments);
  }
  exists(p, cred, cb) {
    this._rpc("exists", arguments);
  }
  realpath(p, cache, cred, cb) {
    this._rpc("realpath", arguments);
  }
  truncate(p, len, cred, cb) {
    this._rpc("truncate", arguments);
  }
  readFile(fname, encoding, flag, cred, cb) {
    this._rpc("readFile", arguments);
  }
  writeFile(fname, data, encoding, flag, mode, cred, cb) {
    this._rpc("writeFile", arguments);
  }
  appendFile(fname, data, encoding, flag, mode, cred, cb) {
    this._rpc("appendFile", arguments);
  }
  chmod(p, isLchmod, mode, cred, cb) {
    this._rpc("chmod", arguments);
  }
  chown(p, isLchown, new_uid, new_gid, cred, cb) {
    this._rpc("chown", arguments);
  }
  utimes(p, atime, mtime, cred, cb) {
    this._rpc("utimes", arguments);
  }
  link(srcpath, dstpath, cred, cb) {
    this._rpc("link", arguments);
  }
  symlink(srcpath, dstpath, type, cred, cb) {
    this._rpc("symlink", arguments);
  }
  readlink(p, cred, cb) {
    this._rpc("readlink", arguments);
  }
  syncClose(method, fd, cb) {
    this._worker.postMessage({
      browserfsMessage: true,
      method,
      args: [fd.toRemoteArg(), this._callbackConverter.toRemoteArg(cb)]
    });
  }
  /**
   * Called once both local and remote sides are set up.
   */
  _initialize(cb) {
    if (!this._isInitialized) {
      const message = {
        browserfsMessage: true,
        method: "probe",
        args: [
          this._argLocal2Remote(emptyBuffer()),
          this._callbackConverter.toRemoteArg((probeResponse) => {
            this._isInitialized = true;
            this._isReadOnly = probeResponse.isReadOnly;
            this._supportLinks = probeResponse.supportsLinks;
            this._supportProps = probeResponse.supportsProps;
            cb();
          })
        ]
      };
      this._worker.postMessage(message);
    } else {
      cb();
    }
  }
  _argRemote2Local(arg) {
    if (!arg) {
      return arg;
    }
    switch (typeof arg) {
      case "object":
        if (typeof arg["type"] === "number") {
          const specialArg = arg;
          switch (specialArg.type) {
            case 2 /* API_ERROR */:
              return apiErrorRemote2Local(specialArg);
            case 1 /* FD */:
              const fdArg = specialArg;
              return new WorkerFile(
                this,
                fdArg.path,
                FileFlag.getFileFlag(fdArg.flag),
                Stats.fromBuffer(transferrableObjectToBuffer(fdArg.stat)),
                fdArg.id,
                transferrableObjectToBuffer(fdArg.data)
              );
            case 3 /* STATS */:
              return statsRemote2Local(specialArg);
            case 5 /* FILEFLAG */:
              return fileFlagRemote2Local(specialArg);
            case 6 /* BUFFER */:
              return bufferRemote2Local(specialArg);
            case 7 /* ERROR */:
              return errorRemote2Local(specialArg);
            default:
              return arg;
          }
        } else {
          return arg;
        }
      default:
        return arg;
    }
  }
  _rpc(methodName, args) {
    const fixedArgs = new Array(args.length);
    for (let i = 0; i < args.length; i++) {
      fixedArgs[i] = this._argLocal2Remote(args[i]);
    }
    const message = {
      browserfsMessage: true,
      method: methodName,
      args: fixedArgs
    };
    this._worker.postMessage(message);
  }
  /**
   * Converts a local argument into a remote argument. Public so WorkerFile objects can call it.
   */
  _argLocal2Remote(arg) {
    if (!arg) {
      return arg;
    }
    switch (typeof arg) {
      case "object":
        if (arg instanceof Stats) {
          return statsLocal2Remote(arg);
        } else if (arg instanceof ApiError) {
          return apiErrorLocal2Remote(arg);
        } else if (arg instanceof WorkerFile) {
          return arg.toRemoteArg();
        } else if (arg instanceof FileFlag) {
          return fileFlagLocal2Remote(arg);
        } else if (arg instanceof Buffer2) {
          return bufferLocal2Remote(arg);
        } else if (arg instanceof Error) {
          return errorLocal2Remote(arg);
        } else {
          return "Unknown argument";
        }
      case "function":
        return this._callbackConverter.toRemoteArg(arg);
      default:
        return arg;
    }
  }
};
var WorkerFS = _WorkerFS;
WorkerFS.Name = "WorkerFS";
WorkerFS.Options = {
  worker: {
    type: "object",
    description: "The target worker that you want to connect to, or the current worker if in a worker context.",
    validator: function(v, cb) {
      if (v["postMessage"]) {
        cb();
      } else {
        cb(new ApiError(22 /* EINVAL */, `option must be a Web Worker instance.`));
      }
    }
  }
};

// src/generic/xhr.ts
var xhrIsAvailable = typeof XMLHttpRequest !== "undefined" && XMLHttpRequest !== null;
function asyncDownloadFileModern(p, type, cb) {
  const req = new XMLHttpRequest();
  req.open("GET", p, true);
  let jsonSupported = true;
  switch (type) {
    case "buffer":
      req.responseType = "arraybuffer";
      break;
    case "json":
      try {
        req.responseType = "json";
        jsonSupported = req.responseType === "json";
      } catch (e) {
        jsonSupported = false;
      }
      break;
    default:
      return cb(new ApiError(22 /* EINVAL */, "Invalid download type: " + type));
  }
  req.onreadystatechange = function(e) {
    if (req.readyState === 4) {
      if (req.status === 200) {
        switch (type) {
          case "buffer":
            return cb(null, req.response ? Buffer2.from(req.response) : emptyBuffer());
          case "json":
            if (jsonSupported) {
              return cb(null, req.response);
            } else {
              return cb(null, JSON.parse(req.responseText));
            }
        }
      } else {
        return cb(new ApiError(5 /* EIO */, `XHR error: response returned code ${req.status}`));
      }
    }
  };
  req.send();
}
function syncDownloadFileModern(p, type) {
  const req = new XMLHttpRequest();
  req.open("GET", p, false);
  let data = null;
  let err2 = null;
  req.overrideMimeType("text/plain; charset=x-user-defined");
  req.onreadystatechange = function(e) {
    if (req.readyState === 4) {
      if (req.status === 200) {
        switch (type) {
          case "buffer":
            const text = req.responseText;
            data = Buffer2.alloc(text.length);
            for (let i = 0; i < text.length; i++) {
              data[i] = text.charCodeAt(i);
            }
            return;
          case "json":
            data = JSON.parse(req.responseText);
            return;
        }
      } else {
        err2 = new ApiError(5 /* EIO */, `XHR error: response returned code ${req.status}`);
        return;
      }
    }
  };
  req.send();
  if (err2) {
    throw err2;
  }
  return data;
}
function syncDownloadFileIE10(p, type) {
  const req = new XMLHttpRequest();
  req.open("GET", p, false);
  switch (type) {
    case "buffer":
      req.responseType = "arraybuffer";
      break;
    case "json":
      break;
    default:
      throw new ApiError(22 /* EINVAL */, "Invalid download type: " + type);
  }
  let data;
  let err2;
  req.onreadystatechange = function(e) {
    if (req.readyState === 4) {
      if (req.status === 200) {
        switch (type) {
          case "buffer":
            data = Buffer2.from(req.response);
            break;
          case "json":
            data = JSON.parse(req.response);
            break;
        }
      } else {
        err2 = new ApiError(5 /* EIO */, `XHR error: response returned code ${req.status}`);
      }
    }
  };
  req.send();
  if (err2) {
    throw err2;
  }
  return data;
}
function getFileSize(async, p, cb) {
  const req = new XMLHttpRequest();
  req.open("HEAD", p, async);
  req.onreadystatechange = function(e) {
    if (req.readyState === 4) {
      if (req.status === 200) {
        try {
          return cb(null, parseInt(req.getResponseHeader("Content-Length") || "-1", 10));
        } catch (e2) {
          return cb(new ApiError(5 /* EIO */, "XHR HEAD error: Could not read content-length."));
        }
      } else {
        return cb(new ApiError(5 /* EIO */, `XHR HEAD error: response returned code ${req.status}`));
      }
    }
  };
  req.send();
}
var asyncDownloadFile = asyncDownloadFileModern;
var syncDownloadFile = isIE && typeof Blob !== "undefined" ? syncDownloadFileIE10 : syncDownloadFileModern;
function getFileSizeSync(p) {
  let rv = -1;
  getFileSize(false, p, function(err2, size) {
    if (err2) {
      throw err2;
    }
    rv = size;
  });
  return rv;
}
function getFileSizeAsync(p, cb) {
  getFileSize(true, p, cb);
}

// src/generic/fetch.ts
var fetchIsAvailable = typeof fetch !== "undefined" && fetch !== null;
function fetchFileAsync(p, type, cb) {
  let request;
  try {
    request = fetch(p);
  } catch (e) {
    return cb(new ApiError(22 /* EINVAL */, e.message));
  }
  request.then((res) => {
    if (!res.ok) {
      return cb(new ApiError(5 /* EIO */, `fetch error: response returned code ${res.status}`));
    } else {
      switch (type) {
        case "buffer":
          res.arrayBuffer().then((buf) => cb(null, Buffer2.from(buf))).catch((err2) => cb(new ApiError(5 /* EIO */, err2.message)));
          break;
        case "json":
          res.json().then((json) => cb(null, json)).catch((err2) => cb(new ApiError(5 /* EIO */, err2.message)));
          break;
        default:
          cb(new ApiError(22 /* EINVAL */, "Invalid download type: " + type));
      }
    }
  }).catch((err2) => cb(new ApiError(5 /* EIO */, err2.message)));
}
function fetchFileSizeAsync(p, cb) {
  fetch(p, { method: "HEAD" }).then((res) => {
    if (!res.ok) {
      return cb(new ApiError(5 /* EIO */, `fetch HEAD error: response returned code ${res.status}`));
    } else {
      return cb(null, parseInt(res.headers.get("Content-Length") || "-1", 10));
    }
  }).catch((err2) => cb(new ApiError(5 /* EIO */, err2.message)));
}

// src/generic/file_index.ts
var FileIndex = class {
  /**
   * Static method for constructing indices from a JSON listing.
   * @param listing Directory listing generated by tools/XHRIndexer.coffee
   * @return A new FileIndex object.
   */
  static fromListing(listing) {
    const idx = new FileIndex();
    const rootInode = new DirInode();
    idx._index["/"] = rootInode;
    const queue2 = [["", listing, rootInode]];
    while (queue2.length > 0) {
      let inode;
      const next = queue2.pop();
      const pwd = next[0];
      const tree = next[1];
      const parent = next[2];
      for (const node in tree) {
        if (Object.prototype.hasOwnProperty.call(tree, node)) {
          const children = tree[node];
          const name = `${pwd}/${node}`;
          if (children) {
            idx._index[name] = inode = new DirInode();
            queue2.push([name, children, inode]);
          } else {
            inode = new FileInode(new Stats(32768 /* FILE */, -1, 365));
          }
          if (parent) {
            parent._ls[node] = inode;
          }
        }
      }
    }
    return idx;
  }
  /**
   * Constructs a new FileIndex.
   */
  constructor() {
    this._index = {};
    this.addPath("/", new DirInode());
  }
  /**
   * Runs the given function over all files in the index.
   */
  fileIterator(cb) {
    for (const path in this._index) {
      if (Object.prototype.hasOwnProperty.call(this._index, path)) {
        const dir = this._index[path];
        const files = dir.getListing();
        for (const file of files) {
          const item = dir.getItem(file);
          if (isFileInode(item)) {
            cb(item.getData());
          }
        }
      }
    }
  }
  /**
   * Adds the given absolute path to the index if it is not already in the index.
   * Creates any needed parent directories.
   * @param path The path to add to the index.
   * @param inode The inode for the
   *   path to add.
   * @return 'True' if it was added or already exists, 'false' if there
   *   was an issue adding it (e.g. item in path is a file, item exists but is
   *   different).
   * @todo If adding fails and implicitly creates directories, we do not clean up
   *   the new empty directories.
   */
  addPath(path, inode) {
    if (!inode) {
      throw new Error("Inode must be specified");
    }
    if (path[0] !== "/") {
      throw new Error("Path must be absolute, got: " + path);
    }
    if (Object.prototype.hasOwnProperty.call(this._index, path)) {
      return this._index[path] === inode;
    }
    const splitPath2 = this._split_path(path);
    const dirpath = splitPath2[0];
    const itemname = splitPath2[1];
    let parent = this._index[dirpath];
    if (parent === void 0 && path !== "/") {
      parent = new DirInode();
      if (!this.addPath(dirpath, parent)) {
        return false;
      }
    }
    if (path !== "/") {
      if (!parent.addItem(itemname, inode)) {
        return false;
      }
    }
    if (isDirInode(inode)) {
      this._index[path] = inode;
    }
    return true;
  }
  /**
   * Adds the given absolute path to the index if it is not already in the index.
   * The path is added without special treatment (no joining of adjacent separators, etc).
   * Creates any needed parent directories.
   * @param path The path to add to the index.
   * @param inode The inode for the
   *   path to add.
   * @return 'True' if it was added or already exists, 'false' if there
   *   was an issue adding it (e.g. item in path is a file, item exists but is
   *   different).
   * @todo If adding fails and implicitly creates directories, we do not clean up
   *   the new empty directories.
   */
  addPathFast(path, inode) {
    const itemNameMark = path.lastIndexOf("/");
    const parentPath = itemNameMark === 0 ? "/" : path.substring(0, itemNameMark);
    const itemName = path.substring(itemNameMark + 1);
    let parent = this._index[parentPath];
    if (parent === void 0) {
      parent = new DirInode();
      this.addPathFast(parentPath, parent);
    }
    if (!parent.addItem(itemName, inode)) {
      return false;
    }
    if (inode.isDir()) {
      this._index[path] = inode;
    }
    return true;
  }
  /**
   * Removes the given path. Can be a file or a directory.
   * @return The removed item,
   *   or null if it did not exist.
   */
  removePath(path) {
    const splitPath2 = this._split_path(path);
    const dirpath = splitPath2[0];
    const itemname = splitPath2[1];
    const parent = this._index[dirpath];
    if (parent === void 0) {
      return null;
    }
    const inode = parent.remItem(itemname);
    if (inode === null) {
      return null;
    }
    if (isDirInode(inode)) {
      const children = inode.getListing();
      for (const child of children) {
        this.removePath(path + "/" + child);
      }
      if (path !== "/") {
        delete this._index[path];
      }
    }
    return inode;
  }
  /**
   * Retrieves the directory listing of the given path.
   * @return An array of files in the given path, or 'null' if it does not exist.
   */
  ls(path) {
    const item = this._index[path];
    if (item === void 0) {
      return null;
    }
    return item.getListing();
  }
  /**
   * Returns the inode of the given item.
   * @return Returns null if the item does not exist.
   */
  getInode(path) {
    const splitPath2 = this._split_path(path);
    const dirpath = splitPath2[0];
    const itemname = splitPath2[1];
    const parent = this._index[dirpath];
    if (parent === void 0) {
      return null;
    }
    if (dirpath === path) {
      return parent;
    }
    return parent.getItem(itemname);
  }
  /**
   * Split into a (directory path, item name) pair
   */
  _split_path(p) {
    const dirpath = dirname(p);
    const itemname = p.substr(dirpath.length + (dirpath === "/" ? 0 : 1));
    return [dirpath, itemname];
  }
};
var FileInode = class {
  constructor(data) {
    this.data = data;
  }
  isFile() {
    return true;
  }
  isDir() {
    return false;
  }
  getData() {
    return this.data;
  }
  setData(data) {
    this.data = data;
  }
  toStats() {
    return new Stats(32768 /* FILE */, 4096, 438);
  }
};
var DirInode = class {
  /**
   * Constructs an inode for a directory.
   */
  constructor(data = null) {
    this.data = data;
    this._ls = {};
  }
  isFile() {
    return false;
  }
  isDir() {
    return true;
  }
  getData() {
    return this.data;
  }
  /**
   * Return a Stats object for this inode.
   * @todo Should probably remove this at some point. This isn't the
   *       responsibility of the FileIndex.
   */
  getStats() {
    return new Stats(16384 /* DIRECTORY */, 4096, 365);
  }
  /**
   * Alias of getStats()
   * @todo Remove this at some point. This isn't the
   *       responsibility of the FileIndex.
   */
  toStats() {
    return this.getStats();
  }
  /**
   * Returns the directory listing for this directory. Paths in the directory are
   * relative to the directory's path.
   * @return The directory listing for this directory.
   */
  getListing() {
    return Object.keys(this._ls);
  }
  /**
   * Returns the inode for the indicated item, or null if it does not exist.
   * @param p Name of item in this directory.
   */
  getItem(p) {
    const item = this._ls[p];
    return item ? item : null;
  }
  /**
   * Add the given item to the directory listing. Note that the given inode is
   * not copied, and will be mutated by the DirInode if it is a DirInode.
   * @param p Item name to add to the directory listing.
   * @param inode The inode for the
   *   item to add to the directory inode.
   * @return True if it was added, false if it already existed.
   */
  addItem(p, inode) {
    if (p in this._ls) {
      return false;
    }
    this._ls[p] = inode;
    return true;
  }
  /**
   * Removes the given item from the directory listing.
   * @param p Name of item to remove from the directory listing.
   * @return Returns the item
   *   removed, or null if the item did not exist.
   */
  remItem(p) {
    const item = this._ls[p];
    if (item === void 0) {
      return null;
    }
    delete this._ls[p];
    return item;
  }
};
function isFileInode(inode) {
  return !!inode && inode.isFile();
}
function isDirInode(inode) {
  return !!inode && inode.isDir();
}

// src/backend/HTTPRequest.ts
function tryToString(buff, encoding, cb) {
  try {
    cb(null, buff.toString(encoding));
  } catch (e) {
    cb(e);
  }
}
function syncNotAvailableError() {
  throw new ApiError(95 /* ENOTSUP */, `Synchronous HTTP download methods are not available in this environment.`);
}
var _HTTPRequest = class extends BaseFileSystem {
  constructor(index, prefixUrl = "", preferXHR = false) {
    super();
    if (prefixUrl.length > 0 && prefixUrl.charAt(prefixUrl.length - 1) !== "/") {
      prefixUrl = prefixUrl + "/";
    }
    this.prefixUrl = prefixUrl;
    this._index = FileIndex.fromListing(index);
    if (fetchIsAvailable && (!preferXHR || !xhrIsAvailable)) {
      this._requestFileAsyncInternal = fetchFileAsync;
      this._requestFileSizeAsyncInternal = fetchFileSizeAsync;
    } else {
      this._requestFileAsyncInternal = asyncDownloadFile;
      this._requestFileSizeAsyncInternal = getFileSizeAsync;
    }
    if (xhrIsAvailable) {
      this._requestFileSyncInternal = syncDownloadFile;
      this._requestFileSizeSyncInternal = getFileSizeSync;
    } else {
      this._requestFileSyncInternal = syncNotAvailableError;
      this._requestFileSizeSyncInternal = syncNotAvailableError;
    }
  }
  /**
   * Construct an HTTPRequest file system backend with the given options.
   */
  static Create(opts, cb) {
    if (opts.index === void 0) {
      opts.index = `index.json`;
    }
    if (typeof opts.index === "string") {
      asyncDownloadFile(opts.index, "json", (e, data) => {
        if (e) {
          cb(e);
        } else {
          cb(null, new _HTTPRequest(data, opts.baseUrl));
        }
      });
    } else {
      cb(null, new _HTTPRequest(opts.index, opts.baseUrl));
    }
  }
  static CreateAsync(opts) {
    return new Promise((resolve2, reject) => {
      this.Create(opts, (error, fs2) => {
        if (error || !fs2) {
          reject(error);
        } else {
          resolve2(fs2);
        }
      });
    });
  }
  static isAvailable() {
    return xhrIsAvailable || fetchIsAvailable;
  }
  empty() {
    this._index.fileIterator(function(file) {
      file.fileData = null;
    });
  }
  getName() {
    return _HTTPRequest.Name;
  }
  diskSpace(path, cb) {
    cb(0, 0);
  }
  isReadOnly() {
    return true;
  }
  supportsLinks() {
    return false;
  }
  supportsProps() {
    return false;
  }
  supportsSynch() {
    return xhrIsAvailable;
  }
  /**
   * Special HTTPFS function: Preload the given file into the index.
   * @param [String] path
   * @param [BrowserFS.Buffer] buffer
   */
  preloadFile(path, buffer) {
    const inode = this._index.getInode(path);
    if (isFileInode(inode)) {
      if (inode === null) {
        throw ApiError.ENOENT(path);
      }
      const stats = inode.getData();
      stats.size = buffer.length;
      stats.fileData = buffer;
    } else {
      throw ApiError.EISDIR(path);
    }
  }
  stat(path, isLstat, cred, cb) {
    const inode = this._index.getInode(path);
    if (inode === null) {
      return cb(ApiError.ENOENT(path));
    }
    let stats;
    if (!inode.toStats().hasAccess(4 /* READ */, cred)) {
      return cb(ApiError.EACCES(path));
    }
    if (isFileInode(inode)) {
      stats = inode.getData();
      if (stats.size < 0) {
        this._requestFileSizeAsync(path, function(e, size) {
          if (e) {
            return cb(e);
          }
          stats.size = size;
          cb(null, Stats.clone(stats));
        });
      } else {
        cb(null, Stats.clone(stats));
      }
    } else if (isDirInode(inode)) {
      stats = inode.getStats();
      cb(null, stats);
    } else {
      cb(ApiError.FileError(22 /* EINVAL */, path));
    }
  }
  statSync(path, isLstat, cred) {
    const inode = this._index.getInode(path);
    if (inode === null) {
      throw ApiError.ENOENT(path);
    }
    if (!inode.toStats().hasAccess(4 /* READ */, cred)) {
      throw ApiError.EACCES(path);
    }
    let stats;
    if (isFileInode(inode)) {
      stats = inode.getData();
      if (stats.size < 0) {
        stats.size = this._requestFileSizeSync(path);
      }
    } else if (isDirInode(inode)) {
      stats = inode.getStats();
    } else {
      throw ApiError.FileError(22 /* EINVAL */, path);
    }
    return stats;
  }
  open(path, flags, mode, cred, cb) {
    if (flags.isWriteable()) {
      return cb(new ApiError(1 /* EPERM */, path));
    }
    const self2 = this;
    const inode = this._index.getInode(path);
    if (inode === null) {
      return cb(ApiError.ENOENT(path));
    }
    if (!inode.toStats().hasAccess(flags.getMode(), cred)) {
      return cb(ApiError.EACCES(path));
    }
    if (isFileInode(inode) || isDirInode(inode)) {
      switch (flags.pathExistsAction()) {
        case 1 /* THROW_EXCEPTION */:
        case 2 /* TRUNCATE_FILE */:
          return cb(ApiError.EEXIST(path));
        case 0 /* NOP */:
          if (isDirInode(inode)) {
            const stats2 = inode.getStats();
            return cb(null, new NoSyncFile(self2, path, flags, stats2, stats2.fileData || void 0));
          }
          const stats = inode.getData();
          if (stats.fileData) {
            return cb(null, new NoSyncFile(self2, path, flags, Stats.clone(stats), stats.fileData));
          }
          this._requestFileAsync(path, "buffer", function(err2, buffer) {
            if (err2) {
              return cb(err2);
            }
            stats.size = buffer.length;
            stats.fileData = buffer;
            return cb(null, new NoSyncFile(self2, path, flags, Stats.clone(stats), buffer));
          });
          break;
        default:
          return cb(new ApiError(22 /* EINVAL */, "Invalid FileMode object."));
      }
    } else {
      return cb(ApiError.EPERM(path));
    }
  }
  openSync(path, flags, mode, cred) {
    if (flags.isWriteable()) {
      throw new ApiError(1 /* EPERM */, path);
    }
    const inode = this._index.getInode(path);
    if (inode === null) {
      throw ApiError.ENOENT(path);
    }
    if (!inode.toStats().hasAccess(flags.getMode(), cred)) {
      throw ApiError.EACCES(path);
    }
    if (isFileInode(inode) || isDirInode(inode)) {
      switch (flags.pathExistsAction()) {
        case 1 /* THROW_EXCEPTION */:
        case 2 /* TRUNCATE_FILE */:
          throw ApiError.EEXIST(path);
        case 0 /* NOP */:
          if (isDirInode(inode)) {
            const stats2 = inode.getStats();
            return new NoSyncFile(this, path, flags, stats2, stats2.fileData || void 0);
          }
          const stats = inode.getData();
          if (stats.fileData) {
            return new NoSyncFile(this, path, flags, Stats.clone(stats), stats.fileData);
          }
          const buffer = this._requestFileSync(path, "buffer");
          stats.size = buffer.length;
          stats.fileData = buffer;
          return new NoSyncFile(this, path, flags, Stats.clone(stats), buffer);
        default:
          throw new ApiError(22 /* EINVAL */, "Invalid FileMode object.");
      }
    } else {
      throw ApiError.EPERM(path);
    }
  }
  readdir(path, cred, cb) {
    try {
      cb(null, this.readdirSync(path, cred));
    } catch (e) {
      cb(e);
    }
  }
  readdirSync(path, cred) {
    const inode = this._index.getInode(path);
    if (inode === null) {
      throw ApiError.ENOENT(path);
    } else if (!inode.toStats().hasAccess(4 /* READ */, cred)) {
      throw ApiError.EACCES(path);
    } else if (isDirInode(inode)) {
      return inode.getListing();
    } else {
      throw ApiError.ENOTDIR(path);
    }
  }
  /**
   * We have the entire file as a buffer; optimize readFile.
   */
  readFile(fname, encoding, flag, cred, cb) {
    const oldCb = cb;
    this.open(fname, flag, 420, cred, function(err2, fd) {
      if (err2) {
        return cb(err2);
      }
      cb = function(err3, arg) {
        fd.close(function(err22) {
          if (!err3) {
            err3 = err22;
          }
          return oldCb(err3, arg);
        });
      };
      const fdCast = fd;
      const fdBuff = fdCast.getBuffer();
      if (encoding === null) {
        cb(err2, copyingSlice(fdBuff));
      } else {
        tryToString(fdBuff, encoding, cb);
      }
    });
  }
  /**
   * Specially-optimized readfile.
   */
  readFileSync(fname, encoding, flag, cred) {
    const fd = this.openSync(fname, flag, 420, cred);
    try {
      const fdCast = fd;
      const fdBuff = fdCast.getBuffer();
      if (encoding === null) {
        return copyingSlice(fdBuff);
      }
      return fdBuff.toString(encoding);
    } finally {
      fd.closeSync();
    }
  }
  _getHTTPPath(filePath) {
    if (filePath.charAt(0) === "/") {
      filePath = filePath.slice(1);
    }
    return this.prefixUrl + filePath;
  }
  _requestFileAsync(p, type, cb) {
    this._requestFileAsyncInternal(this._getHTTPPath(p), type, cb);
  }
  _requestFileSync(p, type) {
    return this._requestFileSyncInternal(this._getHTTPPath(p), type);
  }
  /**
   * Only requests the HEAD content, for the file size.
   */
  _requestFileSizeAsync(path, cb) {
    this._requestFileSizeAsyncInternal(this._getHTTPPath(path), cb);
  }
  _requestFileSizeSync(path) {
    return this._requestFileSizeSyncInternal(this._getHTTPPath(path));
  }
};
var HTTPRequest = _HTTPRequest;
HTTPRequest.Name = "HTTPRequest";
HTTPRequest.Options = {
  index: {
    type: ["string", "object"],
    optional: true,
    description: "URL to a file index as a JSON file or the file index object itself, generated with the make_http_index script. Defaults to `index.json`."
  },
  baseUrl: {
    type: "string",
    optional: true,
    description: "Used as the URL prefix for fetched files. Default: Fetch files relative to the index."
  },
  preferXHR: {
    type: "boolean",
    optional: true,
    description: "Whether to prefer XmlHttpRequest or fetch for async operations if both are available. Default: false"
  }
};

// src/generic/extended_ascii.ts
var _ExtendedASCII = class {
  static str2byte(str, buf) {
    const length = str.length > buf.length ? buf.length : str.length;
    for (let i = 0; i < length; i++) {
      let charCode = str.charCodeAt(i);
      if (charCode > 127) {
        const charIdx = _ExtendedASCII.extendedChars.indexOf(str.charAt(i));
        if (charIdx > -1) {
          charCode = charIdx + 128;
        }
      }
      buf[charCode] = i;
    }
    return length;
  }
  static byte2str(buff) {
    const chars = new Array(buff.length);
    for (let i = 0; i < buff.length; i++) {
      const charCode = buff[i];
      if (charCode > 127) {
        chars[i] = _ExtendedASCII.extendedChars[charCode - 128];
      } else {
        chars[i] = String.fromCharCode(charCode);
      }
    }
    return chars.join("");
  }
  static byteLength(str) {
    return str.length;
  }
};
var ExtendedASCII = _ExtendedASCII;
ExtendedASCII.extendedChars = [
  "\xC7",
  "\xFC",
  "\xE9",
  "\xE2",
  "\xE4",
  "\xE0",
  "\xE5",
  "\xE7",
  "\xEA",
  "\xEB",
  "\xE8",
  "\xEF",
  "\xEE",
  "\xEC",
  "\xC4",
  "\xC5",
  "\xC9",
  "\xE6",
  "\xC6",
  "\xF4",
  "\xF6",
  "\xF2",
  "\xFB",
  "\xF9",
  "\xFF",
  "\xD6",
  "\xDC",
  "\xF8",
  "\xA3",
  "\xD8",
  "\xD7",
  "\u0192",
  "\xE1",
  "\xED",
  "\xF3",
  "\xFA",
  "\xF1",
  "\xD1",
  "\xAA",
  "\xBA",
  "\xBF",
  "\xAE",
  "\xAC",
  "\xBD",
  "\xBC",
  "\xA1",
  "\xAB",
  "\xBB",
  "_",
  "_",
  "_",
  "\xA6",
  "\xA6",
  "\xC1",
  "\xC2",
  "\xC0",
  "\xA9",
  "\xA6",
  "\xA6",
  "+",
  "+",
  "\xA2",
  "\xA5",
  "+",
  "+",
  "-",
  "-",
  "+",
  "-",
  "+",
  "\xE3",
  "\xC3",
  "+",
  "+",
  "-",
  "-",
  "\xA6",
  "-",
  "+",
  "\xA4",
  "\xF0",
  "\xD0",
  "\xCA",
  "\xCB",
  "\xC8",
  "i",
  "\xCD",
  "\xCE",
  "\xCF",
  "+",
  "+",
  "_",
  "_",
  "\xA6",
  "\xCC",
  "_",
  "\xD3",
  "\xDF",
  "\xD4",
  "\xD2",
  "\xF5",
  "\xD5",
  "\xB5",
  "\xFE",
  "\xDE",
  "\xDA",
  "\xDB",
  "\xD9",
  "\xFD",
  "\xDD",
  "\xAF",
  "\xB4",
  "\xAD",
  "\xB1",
  "_",
  "\xBE",
  "\xB6",
  "\xA7",
  "\xF7",
  "\xB8",
  "\xB0",
  "\xA8",
  "\xB7",
  "\xB9",
  "\xB3",
  "\xB2",
  "_",
  " "
];

// node-modules-polyfills:events
var domain;
function EventHandlers() {
}
EventHandlers.prototype = /* @__PURE__ */ Object.create(null);
function EventEmitter() {
  EventEmitter.init.call(this);
}
var events_default = EventEmitter;
EventEmitter.EventEmitter = EventEmitter;
EventEmitter.usingDomains = false;
EventEmitter.prototype.domain = void 0;
EventEmitter.prototype._events = void 0;
EventEmitter.prototype._maxListeners = void 0;
EventEmitter.defaultMaxListeners = 10;
EventEmitter.init = function() {
  this.domain = null;
  if (EventEmitter.usingDomains) {
    if (domain.active && !(this instanceof domain.Domain)) {
      this.domain = domain.active;
    }
  }
  if (!this._events || this._events === Object.getPrototypeOf(this)._events) {
    this._events = new EventHandlers();
    this._eventsCount = 0;
  }
  this._maxListeners = this._maxListeners || void 0;
};
EventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {
  if (typeof n !== "number" || n < 0 || isNaN(n))
    throw new TypeError('"n" argument must be a positive number');
  this._maxListeners = n;
  return this;
};
function $getMaxListeners(that) {
  if (that._maxListeners === void 0)
    return EventEmitter.defaultMaxListeners;
  return that._maxListeners;
}
EventEmitter.prototype.getMaxListeners = function getMaxListeners() {
  return $getMaxListeners(this);
};
function emitNone(handler, isFn, self2) {
  if (isFn)
    handler.call(self2);
  else {
    var len = handler.length;
    var listeners2 = arrayClone(handler, len);
    for (var i = 0; i < len; ++i)
      listeners2[i].call(self2);
  }
}
function emitOne(handler, isFn, self2, arg1) {
  if (isFn)
    handler.call(self2, arg1);
  else {
    var len = handler.length;
    var listeners2 = arrayClone(handler, len);
    for (var i = 0; i < len; ++i)
      listeners2[i].call(self2, arg1);
  }
}
function emitTwo(handler, isFn, self2, arg1, arg2) {
  if (isFn)
    handler.call(self2, arg1, arg2);
  else {
    var len = handler.length;
    var listeners2 = arrayClone(handler, len);
    for (var i = 0; i < len; ++i)
      listeners2[i].call(self2, arg1, arg2);
  }
}
function emitThree(handler, isFn, self2, arg1, arg2, arg3) {
  if (isFn)
    handler.call(self2, arg1, arg2, arg3);
  else {
    var len = handler.length;
    var listeners2 = arrayClone(handler, len);
    for (var i = 0; i < len; ++i)
      listeners2[i].call(self2, arg1, arg2, arg3);
  }
}
function emitMany(handler, isFn, self2, args) {
  if (isFn)
    handler.apply(self2, args);
  else {
    var len = handler.length;
    var listeners2 = arrayClone(handler, len);
    for (var i = 0; i < len; ++i)
      listeners2[i].apply(self2, args);
  }
}
EventEmitter.prototype.emit = function emit2(type) {
  var er, handler, len, args, i, events, domain2;
  var needDomainExit = false;
  var doError = type === "error";
  events = this._events;
  if (events)
    doError = doError && events.error == null;
  else if (!doError)
    return false;
  domain2 = this.domain;
  if (doError) {
    er = arguments[1];
    if (domain2) {
      if (!er)
        er = new Error('Uncaught, unspecified "error" event');
      er.domainEmitter = this;
      er.domain = domain2;
      er.domainThrown = false;
      domain2.emit("error", er);
    } else if (er instanceof Error) {
      throw er;
    } else {
      var err2 = new Error('Uncaught, unspecified "error" event. (' + er + ")");
      err2.context = er;
      throw err2;
    }
    return false;
  }
  handler = events[type];
  if (!handler)
    return false;
  var isFn = typeof handler === "function";
  len = arguments.length;
  switch (len) {
    case 1:
      emitNone(handler, isFn, this);
      break;
    case 2:
      emitOne(handler, isFn, this, arguments[1]);
      break;
    case 3:
      emitTwo(handler, isFn, this, arguments[1], arguments[2]);
      break;
    case 4:
      emitThree(handler, isFn, this, arguments[1], arguments[2], arguments[3]);
      break;
    default:
      args = new Array(len - 1);
      for (i = 1; i < len; i++)
        args[i - 1] = arguments[i];
      emitMany(handler, isFn, this, args);
  }
  if (needDomainExit)
    domain2.exit();
  return true;
};
function _addListener(target, type, listener, prepend) {
  var m;
  var events;
  var existing;
  if (typeof listener !== "function")
    throw new TypeError('"listener" argument must be a function');
  events = target._events;
  if (!events) {
    events = target._events = new EventHandlers();
    target._eventsCount = 0;
  } else {
    if (events.newListener) {
      target.emit(
        "newListener",
        type,
        listener.listener ? listener.listener : listener
      );
      events = target._events;
    }
    existing = events[type];
  }
  if (!existing) {
    existing = events[type] = listener;
    ++target._eventsCount;
  } else {
    if (typeof existing === "function") {
      existing = events[type] = prepend ? [listener, existing] : [existing, listener];
    } else {
      if (prepend) {
        existing.unshift(listener);
      } else {
        existing.push(listener);
      }
    }
    if (!existing.warned) {
      m = $getMaxListeners(target);
      if (m && m > 0 && existing.length > m) {
        existing.warned = true;
        var w = new Error("Possible EventEmitter memory leak detected. " + existing.length + " " + type + " listeners added. Use emitter.setMaxListeners() to increase limit");
        w.name = "MaxListenersExceededWarning";
        w.emitter = target;
        w.type = type;
        w.count = existing.length;
        emitWarning(w);
      }
    }
  }
  return target;
}
function emitWarning(e) {
  typeof console.warn === "function" ? console.warn(e) : console.log(e);
}
EventEmitter.prototype.addListener = function addListener2(type, listener) {
  return _addListener(this, type, listener, false);
};
EventEmitter.prototype.on = EventEmitter.prototype.addListener;
EventEmitter.prototype.prependListener = function prependListener(type, listener) {
  return _addListener(this, type, listener, true);
};
function _onceWrap(target, type, listener) {
  var fired = false;
  function g() {
    target.removeListener(type, g);
    if (!fired) {
      fired = true;
      listener.apply(target, arguments);
    }
  }
  g.listener = listener;
  return g;
}
EventEmitter.prototype.once = function once2(type, listener) {
  if (typeof listener !== "function")
    throw new TypeError('"listener" argument must be a function');
  this.on(type, _onceWrap(this, type, listener));
  return this;
};
EventEmitter.prototype.prependOnceListener = function prependOnceListener(type, listener) {
  if (typeof listener !== "function")
    throw new TypeError('"listener" argument must be a function');
  this.prependListener(type, _onceWrap(this, type, listener));
  return this;
};
EventEmitter.prototype.removeListener = function removeListener2(type, listener) {
  var list, events, position, i, originalListener;
  if (typeof listener !== "function")
    throw new TypeError('"listener" argument must be a function');
  events = this._events;
  if (!events)
    return this;
  list = events[type];
  if (!list)
    return this;
  if (list === listener || list.listener && list.listener === listener) {
    if (--this._eventsCount === 0)
      this._events = new EventHandlers();
    else {
      delete events[type];
      if (events.removeListener)
        this.emit("removeListener", type, list.listener || listener);
    }
  } else if (typeof list !== "function") {
    position = -1;
    for (i = list.length; i-- > 0; ) {
      if (list[i] === listener || list[i].listener && list[i].listener === listener) {
        originalListener = list[i].listener;
        position = i;
        break;
      }
    }
    if (position < 0)
      return this;
    if (list.length === 1) {
      list[0] = void 0;
      if (--this._eventsCount === 0) {
        this._events = new EventHandlers();
        return this;
      } else {
        delete events[type];
      }
    } else {
      spliceOne(list, position);
    }
    if (events.removeListener)
      this.emit("removeListener", type, originalListener || listener);
  }
  return this;
};
EventEmitter.prototype.removeAllListeners = function removeAllListeners2(type) {
  var listeners2, events;
  events = this._events;
  if (!events)
    return this;
  if (!events.removeListener) {
    if (arguments.length === 0) {
      this._events = new EventHandlers();
      this._eventsCount = 0;
    } else if (events[type]) {
      if (--this._eventsCount === 0)
        this._events = new EventHandlers();
      else
        delete events[type];
    }
    return this;
  }
  if (arguments.length === 0) {
    var keys2 = Object.keys(events);
    for (var i = 0, key; i < keys2.length; ++i) {
      key = keys2[i];
      if (key === "removeListener")
        continue;
      this.removeAllListeners(key);
    }
    this.removeAllListeners("removeListener");
    this._events = new EventHandlers();
    this._eventsCount = 0;
    return this;
  }
  listeners2 = events[type];
  if (typeof listeners2 === "function") {
    this.removeListener(type, listeners2);
  } else if (listeners2) {
    do {
      this.removeListener(type, listeners2[listeners2.length - 1]);
    } while (listeners2[0]);
  }
  return this;
};
EventEmitter.prototype.listeners = function listeners(type) {
  var evlistener;
  var ret;
  var events = this._events;
  if (!events)
    ret = [];
  else {
    evlistener = events[type];
    if (!evlistener)
      ret = [];
    else if (typeof evlistener === "function")
      ret = [evlistener.listener || evlistener];
    else
      ret = unwrapListeners(evlistener);
  }
  return ret;
};
EventEmitter.listenerCount = function(emitter, type) {
  if (typeof emitter.listenerCount === "function") {
    return emitter.listenerCount(type);
  } else {
    return listenerCount.call(emitter, type);
  }
};
EventEmitter.prototype.listenerCount = listenerCount;
function listenerCount(type) {
  var events = this._events;
  if (events) {
    var evlistener = events[type];
    if (typeof evlistener === "function") {
      return 1;
    } else if (evlistener) {
      return evlistener.length;
    }
  }
  return 0;
}
EventEmitter.prototype.eventNames = function eventNames() {
  return this._eventsCount > 0 ? Reflect.ownKeys(this._events) : [];
};
function spliceOne(list, index) {
  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1)
    list[i] = list[k];
  list.pop();
}
function arrayClone(arr, i) {
  var copy2 = new Array(i);
  while (i--)
    copy2[i] = arr[i];
  return copy2;
}
function unwrapListeners(arr) {
  var ret = new Array(arr.length);
  for (var i = 0; i < ret.length; ++i) {
    ret[i] = arr[i].listener || arr[i];
  }
  return ret;
}

// node_modules/rollup-plugin-node-polyfills/polyfills/inherits.js
var inherits;
if (typeof Object.create === "function") {
  inherits = function inherits2(ctor, superCtor) {
    ctor.super_ = superCtor;
    ctor.prototype = Object.create(superCtor.prototype, {
      constructor: {
        value: ctor,
        enumerable: false,
        writable: true,
        configurable: true
      }
    });
  };
} else {
  inherits = function inherits2(ctor, superCtor) {
    ctor.super_ = superCtor;
    var TempCtor = function() {
    };
    TempCtor.prototype = superCtor.prototype;
    ctor.prototype = new TempCtor();
    ctor.prototype.constructor = ctor;
  };
}
var inherits_default = inherits;

// node-modules-polyfills:util
var formatRegExp = /%[sdj%]/g;
function format(f) {
  if (!isString(f)) {
    var objects = [];
    for (var i = 0; i < arguments.length; i++) {
      objects.push(inspect2(arguments[i]));
    }
    return objects.join(" ");
  }
  var i = 1;
  var args = arguments;
  var len = args.length;
  var str = String(f).replace(formatRegExp, function(x2) {
    if (x2 === "%%")
      return "%";
    if (i >= len)
      return x2;
    switch (x2) {
      case "%s":
        return String(args[i++]);
      case "%d":
        return Number(args[i++]);
      case "%j":
        try {
          return JSON.stringify(args[i++]);
        } catch (_) {
          return "[Circular]";
        }
      default:
        return x2;
    }
  });
  for (var x = args[i]; i < len; x = args[++i]) {
    if (isNull(x) || !isObject(x)) {
      str += " " + x;
    } else {
      str += " " + inspect2(x);
    }
  }
  return str;
}
function deprecate(fn, msg) {
  if (isUndefined(globalThis.process)) {
    return function() {
      return deprecate(fn, msg).apply(this, arguments);
    };
  }
  if (process_default.noDeprecation === true) {
    return fn;
  }
  var warned = false;
  function deprecated() {
    if (!warned) {
      if (process_default.throwDeprecation) {
        throw new Error(msg);
      } else if (process_default.traceDeprecation) {
        console.trace(msg);
      } else {
        console.error(msg);
      }
      warned = true;
    }
    return fn.apply(this, arguments);
  }
  return deprecated;
}
var debugs = {};
var debugEnviron;
function debuglog(set) {
  if (isUndefined(debugEnviron))
    debugEnviron = process_default.env.NODE_DEBUG || "";
  set = set.toUpperCase();
  if (!debugs[set]) {
    if (new RegExp("\\b" + set + "\\b", "i").test(debugEnviron)) {
      var pid = 0;
      debugs[set] = function() {
        var msg = format.apply(null, arguments);
        console.error("%s %d: %s", set, pid, msg);
      };
    } else {
      debugs[set] = function() {
      };
    }
  }
  return debugs[set];
}
function inspect2(obj, opts) {
  var ctx = {
    seen: [],
    stylize: stylizeNoColor
  };
  if (arguments.length >= 3)
    ctx.depth = arguments[2];
  if (arguments.length >= 4)
    ctx.colors = arguments[3];
  if (isBoolean(opts)) {
    ctx.showHidden = opts;
  } else if (opts) {
    _extend(ctx, opts);
  }
  if (isUndefined(ctx.showHidden))
    ctx.showHidden = false;
  if (isUndefined(ctx.depth))
    ctx.depth = 2;
  if (isUndefined(ctx.colors))
    ctx.colors = false;
  if (isUndefined(ctx.customInspect))
    ctx.customInspect = true;
  if (ctx.colors)
    ctx.stylize = stylizeWithColor;
  return formatValue(ctx, obj, ctx.depth);
}
inspect2.colors = {
  "bold": [1, 22],
  "italic": [3, 23],
  "underline": [4, 24],
  "inverse": [7, 27],
  "white": [37, 39],
  "grey": [90, 39],
  "black": [30, 39],
  "blue": [34, 39],
  "cyan": [36, 39],
  "green": [32, 39],
  "magenta": [35, 39],
  "red": [31, 39],
  "yellow": [33, 39]
};
inspect2.styles = {
  "special": "cyan",
  "number": "yellow",
  "boolean": "yellow",
  "undefined": "grey",
  "null": "bold",
  "string": "green",
  "date": "magenta",
  // "name": intentionally not styling
  "regexp": "red"
};
function stylizeWithColor(str, styleType) {
  var style = inspect2.styles[styleType];
  if (style) {
    return "\x1B[" + inspect2.colors[style][0] + "m" + str + "\x1B[" + inspect2.colors[style][1] + "m";
  } else {
    return str;
  }
}
function stylizeNoColor(str, styleType) {
  return str;
}
function arrayToHash(array) {
  var hash = {};
  array.forEach(function(val, idx) {
    hash[val] = true;
  });
  return hash;
}
function formatValue(ctx, value, recurseTimes) {
  if (ctx.customInspect && value && isFunction(value.inspect) && // Filter out the util module, it's inspect function is special
  value.inspect !== inspect2 && // Also filter out any prototype objects using the circular check.
  !(value.constructor && value.constructor.prototype === value)) {
    var ret = value.inspect(recurseTimes, ctx);
    if (!isString(ret)) {
      ret = formatValue(ctx, ret, recurseTimes);
    }
    return ret;
  }
  var primitive = formatPrimitive(ctx, value);
  if (primitive) {
    return primitive;
  }
  var keys2 = Object.keys(value);
  var visibleKeys = arrayToHash(keys2);
  if (ctx.showHidden) {
    keys2 = Object.getOwnPropertyNames(value);
  }
  if (isError(value) && (keys2.indexOf("message") >= 0 || keys2.indexOf("description") >= 0)) {
    return formatError(value);
  }
  if (keys2.length === 0) {
    if (isFunction(value)) {
      var name = value.name ? ": " + value.name : "";
      return ctx.stylize("[Function" + name + "]", "special");
    }
    if (isRegExp(value)) {
      return ctx.stylize(RegExp.prototype.toString.call(value), "regexp");
    }
    if (isDate(value)) {
      return ctx.stylize(Date.prototype.toString.call(value), "date");
    }
    if (isError(value)) {
      return formatError(value);
    }
  }
  var base = "", array = false, braces = ["{", "}"];
  if (isArray2(value)) {
    array = true;
    braces = ["[", "]"];
  }
  if (isFunction(value)) {
    var n = value.name ? ": " + value.name : "";
    base = " [Function" + n + "]";
  }
  if (isRegExp(value)) {
    base = " " + RegExp.prototype.toString.call(value);
  }
  if (isDate(value)) {
    base = " " + Date.prototype.toUTCString.call(value);
  }
  if (isError(value)) {
    base = " " + formatError(value);
  }
  if (keys2.length === 0 && (!array || value.length == 0)) {
    return braces[0] + base + braces[1];
  }
  if (recurseTimes < 0) {
    if (isRegExp(value)) {
      return ctx.stylize(RegExp.prototype.toString.call(value), "regexp");
    } else {
      return ctx.stylize("[Object]", "special");
    }
  }
  ctx.seen.push(value);
  var output;
  if (array) {
    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys2);
  } else {
    output = keys2.map(function(key) {
      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);
    });
  }
  ctx.seen.pop();
  return reduceToSingleString(output, base, braces);
}
function formatPrimitive(ctx, value) {
  if (isUndefined(value))
    return ctx.stylize("undefined", "undefined");
  if (isString(value)) {
    var simple = "'" + JSON.stringify(value).replace(/^"|"$/g, "").replace(/'/g, "\\'").replace(/\\"/g, '"') + "'";
    return ctx.stylize(simple, "string");
  }
  if (isNumber(value))
    return ctx.stylize("" + value, "number");
  if (isBoolean(value))
    return ctx.stylize("" + value, "boolean");
  if (isNull(value))
    return ctx.stylize("null", "null");
}
function formatError(value) {
  return "[" + Error.prototype.toString.call(value) + "]";
}
function formatArray(ctx, value, recurseTimes, visibleKeys, keys2) {
  var output = [];
  for (var i = 0, l = value.length; i < l; ++i) {
    if (hasOwnProperty(value, String(i))) {
      output.push(formatProperty(
        ctx,
        value,
        recurseTimes,
        visibleKeys,
        String(i),
        true
      ));
    } else {
      output.push("");
    }
  }
  keys2.forEach(function(key) {
    if (!key.match(/^\d+$/)) {
      output.push(formatProperty(
        ctx,
        value,
        recurseTimes,
        visibleKeys,
        key,
        true
      ));
    }
  });
  return output;
}
function formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {
  var name, str, desc;
  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };
  if (desc.get) {
    if (desc.set) {
      str = ctx.stylize("[Getter/Setter]", "special");
    } else {
      str = ctx.stylize("[Getter]", "special");
    }
  } else {
    if (desc.set) {
      str = ctx.stylize("[Setter]", "special");
    }
  }
  if (!hasOwnProperty(visibleKeys, key)) {
    name = "[" + key + "]";
  }
  if (!str) {
    if (ctx.seen.indexOf(desc.value) < 0) {
      if (isNull(recurseTimes)) {
        str = formatValue(ctx, desc.value, null);
      } else {
        str = formatValue(ctx, desc.value, recurseTimes - 1);
      }
      if (str.indexOf("\n") > -1) {
        if (array) {
          str = str.split("\n").map(function(line) {
            return "  " + line;
          }).join("\n").substr(2);
        } else {
          str = "\n" + str.split("\n").map(function(line) {
            return "   " + line;
          }).join("\n");
        }
      }
    } else {
      str = ctx.stylize("[Circular]", "special");
    }
  }
  if (isUndefined(name)) {
    if (array && key.match(/^\d+$/)) {
      return str;
    }
    name = JSON.stringify("" + key);
    if (name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)) {
      name = name.substr(1, name.length - 2);
      name = ctx.stylize(name, "name");
    } else {
      name = name.replace(/'/g, "\\'").replace(/\\"/g, '"').replace(/(^"|"$)/g, "'");
      name = ctx.stylize(name, "string");
    }
  }
  return name + ": " + str;
}
function reduceToSingleString(output, base, braces) {
  var numLinesEst = 0;
  var length = output.reduce(function(prev, cur) {
    numLinesEst++;
    if (cur.indexOf("\n") >= 0)
      numLinesEst++;
    return prev + cur.replace(/\u001b\[\d\d?m/g, "").length + 1;
  }, 0);
  if (length > 60) {
    return braces[0] + (base === "" ? "" : base + "\n ") + " " + output.join(",\n  ") + " " + braces[1];
  }
  return braces[0] + base + " " + output.join(", ") + " " + braces[1];
}
function isArray2(ar) {
  return Array.isArray(ar);
}
function isBoolean(arg) {
  return typeof arg === "boolean";
}
function isNull(arg) {
  return arg === null;
}
function isNumber(arg) {
  return typeof arg === "number";
}
function isString(arg) {
  return typeof arg === "string";
}
function isUndefined(arg) {
  return arg === void 0;
}
function isRegExp(re) {
  return isObject(re) && objectToString(re) === "[object RegExp]";
}
function isObject(arg) {
  return typeof arg === "object" && arg !== null;
}
function isDate(d) {
  return isObject(d) && objectToString(d) === "[object Date]";
}
function isError(e) {
  return isObject(e) && (objectToString(e) === "[object Error]" || e instanceof Error);
}
function isFunction(arg) {
  return typeof arg === "function";
}
function objectToString(o) {
  return Object.prototype.toString.call(o);
}
function _extend(origin, add) {
  if (!add || !isObject(add))
    return origin;
  var keys2 = Object.keys(add);
  var i = keys2.length;
  while (i--) {
    origin[keys2[i]] = add[keys2[i]];
  }
  return origin;
}
function hasOwnProperty(obj, prop) {
  return Object.prototype.hasOwnProperty.call(obj, prop);
}

// node_modules/rollup-plugin-node-polyfills/polyfills/readable-stream/buffer-list.js
var buffer_list_default = BufferList;
function BufferList() {
  this.head = null;
  this.tail = null;
  this.length = 0;
}
BufferList.prototype.push = function(v) {
  var entry = { data: v, next: null };
  if (this.length > 0)
    this.tail.next = entry;
  else
    this.head = entry;
  this.tail = entry;
  ++this.length;
};
BufferList.prototype.unshift = function(v) {
  var entry = { data: v, next: this.head };
  if (this.length === 0)
    this.tail = entry;
  this.head = entry;
  ++this.length;
};
BufferList.prototype.shift = function() {
  if (this.length === 0)
    return;
  var ret = this.head.data;
  if (this.length === 1)
    this.head = this.tail = null;
  else
    this.head = this.head.next;
  --this.length;
  return ret;
};
BufferList.prototype.clear = function() {
  this.head = this.tail = null;
  this.length = 0;
};
BufferList.prototype.join = function(s) {
  if (this.length === 0)
    return "";
  var p = this.head;
  var ret = "" + p.data;
  while (p = p.next) {
    ret += s + p.data;
  }
  return ret;
};
BufferList.prototype.concat = function(n) {
  if (this.length === 0)
    return Buffer2.alloc(0);
  if (this.length === 1)
    return this.head.data;
  var ret = Buffer2.allocUnsafe(n >>> 0);
  var p = this.head;
  var i = 0;
  while (p) {
    p.data.copy(ret, i);
    i += p.data.length;
    p = p.next;
  }
  return ret;
};

// node-modules-polyfills:string_decoder
var isBufferEncoding = Buffer2.isEncoding || function(encoding) {
  switch (encoding && encoding.toLowerCase()) {
    case "hex":
    case "utf8":
    case "utf-8":
    case "ascii":
    case "binary":
    case "base64":
    case "ucs2":
    case "ucs-2":
    case "utf16le":
    case "utf-16le":
    case "raw":
      return true;
    default:
      return false;
  }
};
function assertEncoding(encoding) {
  if (encoding && !isBufferEncoding(encoding)) {
    throw new Error("Unknown encoding: " + encoding);
  }
}
function StringDecoder(encoding) {
  this.encoding = (encoding || "utf8").toLowerCase().replace(/[-_]/, "");
  assertEncoding(encoding);
  switch (this.encoding) {
    case "utf8":
      this.surrogateSize = 3;
      break;
    case "ucs2":
    case "utf16le":
      this.surrogateSize = 2;
      this.detectIncompleteChar = utf16DetectIncompleteChar;
      break;
    case "base64":
      this.surrogateSize = 3;
      this.detectIncompleteChar = base64DetectIncompleteChar;
      break;
    default:
      this.write = passThroughWrite;
      return;
  }
  this.charBuffer = new Buffer2(6);
  this.charReceived = 0;
  this.charLength = 0;
}
StringDecoder.prototype.write = function(buffer) {
  var charStr = "";
  while (this.charLength) {
    var available = buffer.length >= this.charLength - this.charReceived ? this.charLength - this.charReceived : buffer.length;
    buffer.copy(this.charBuffer, this.charReceived, 0, available);
    this.charReceived += available;
    if (this.charReceived < this.charLength) {
      return "";
    }
    buffer = buffer.slice(available, buffer.length);
    charStr = this.charBuffer.slice(0, this.charLength).toString(this.encoding);
    var charCode = charStr.charCodeAt(charStr.length - 1);
    if (charCode >= 55296 && charCode <= 56319) {
      this.charLength += this.surrogateSize;
      charStr = "";
      continue;
    }
    this.charReceived = this.charLength = 0;
    if (buffer.length === 0) {
      return charStr;
    }
    break;
  }
  this.detectIncompleteChar(buffer);
  var end = buffer.length;
  if (this.charLength) {
    buffer.copy(this.charBuffer, 0, buffer.length - this.charReceived, end);
    end -= this.charReceived;
  }
  charStr += buffer.toString(this.encoding, 0, end);
  var end = charStr.length - 1;
  var charCode = charStr.charCodeAt(end);
  if (charCode >= 55296 && charCode <= 56319) {
    var size = this.surrogateSize;
    this.charLength += size;
    this.charReceived += size;
    this.charBuffer.copy(this.charBuffer, size, 0, size);
    buffer.copy(this.charBuffer, 0, 0, size);
    return charStr.substring(0, end);
  }
  return charStr;
};
StringDecoder.prototype.detectIncompleteChar = function(buffer) {
  var i = buffer.length >= 3 ? 3 : buffer.length;
  for (; i > 0; i--) {
    var c = buffer[buffer.length - i];
    if (i == 1 && c >> 5 == 6) {
      this.charLength = 2;
      break;
    }
    if (i <= 2 && c >> 4 == 14) {
      this.charLength = 3;
      break;
    }
    if (i <= 3 && c >> 3 == 30) {
      this.charLength = 4;
      break;
    }
  }
  this.charReceived = i;
};
StringDecoder.prototype.end = function(buffer) {
  var res = "";
  if (buffer && buffer.length)
    res = this.write(buffer);
  if (this.charReceived) {
    var cr = this.charReceived;
    var buf = this.charBuffer;
    var enc = this.encoding;
    res += buf.slice(0, cr).toString(enc);
  }
  return res;
};
function passThroughWrite(buffer) {
  return buffer.toString(this.encoding);
}
function utf16DetectIncompleteChar(buffer) {
  this.charReceived = buffer.length % 2;
  this.charLength = this.charReceived ? 2 : 0;
}
function base64DetectIncompleteChar(buffer) {
  this.charReceived = buffer.length % 3;
  this.charLength = this.charReceived ? 3 : 0;
}

// node_modules/rollup-plugin-node-polyfills/polyfills/readable-stream/readable.js
Readable.ReadableState = ReadableState;
var debug = debuglog("stream");
inherits_default(Readable, events_default);
function prependListener2(emitter, event, fn) {
  if (typeof emitter.prependListener === "function") {
    return emitter.prependListener(event, fn);
  } else {
    if (!emitter._events || !emitter._events[event])
      emitter.on(event, fn);
    else if (Array.isArray(emitter._events[event]))
      emitter._events[event].unshift(fn);
    else
      emitter._events[event] = [fn, emitter._events[event]];
  }
}
function listenerCount2(emitter, type) {
  return emitter.listeners(type).length;
}
function ReadableState(options, stream) {
  options = options || {};
  this.objectMode = !!options.objectMode;
  if (stream instanceof Duplex)
    this.objectMode = this.objectMode || !!options.readableObjectMode;
  var hwm = options.highWaterMark;
  var defaultHwm = this.objectMode ? 16 : 16 * 1024;
  this.highWaterMark = hwm || hwm === 0 ? hwm : defaultHwm;
  this.highWaterMark = ~~this.highWaterMark;
  this.buffer = new buffer_list_default();
  this.length = 0;
  this.pipes = null;
  this.pipesCount = 0;
  this.flowing = null;
  this.ended = false;
  this.endEmitted = false;
  this.reading = false;
  this.sync = true;
  this.needReadable = false;
  this.emittedReadable = false;
  this.readableListening = false;
  this.resumeScheduled = false;
  this.defaultEncoding = options.defaultEncoding || "utf8";
  this.ranOut = false;
  this.awaitDrain = 0;
  this.readingMore = false;
  this.decoder = null;
  this.encoding = null;
  if (options.encoding) {
    this.decoder = new StringDecoder(options.encoding);
    this.encoding = options.encoding;
  }
}
function Readable(options) {
  if (!(this instanceof Readable))
    return new Readable(options);
  this._readableState = new ReadableState(options, this);
  this.readable = true;
  if (options && typeof options.read === "function")
    this._read = options.read;
  events_default.call(this);
}
Readable.prototype.push = function(chunk, encoding) {
  var state = this._readableState;
  if (!state.objectMode && typeof chunk === "string") {
    encoding = encoding || state.defaultEncoding;
    if (encoding !== state.encoding) {
      chunk = Buffer.from(chunk, encoding);
      encoding = "";
    }
  }
  return readableAddChunk(this, state, chunk, encoding, false);
};
Readable.prototype.unshift = function(chunk) {
  var state = this._readableState;
  return readableAddChunk(this, state, chunk, "", true);
};
Readable.prototype.isPaused = function() {
  return this._readableState.flowing === false;
};
function readableAddChunk(stream, state, chunk, encoding, addToFront) {
  var er = chunkInvalid(state, chunk);
  if (er) {
    stream.emit("error", er);
  } else if (chunk === null) {
    state.reading = false;
    onEofChunk(stream, state);
  } else if (state.objectMode || chunk && chunk.length > 0) {
    if (state.ended && !addToFront) {
      var e = new Error("stream.push() after EOF");
      stream.emit("error", e);
    } else if (state.endEmitted && addToFront) {
      var _e = new Error("stream.unshift() after end event");
      stream.emit("error", _e);
    } else {
      var skipAdd;
      if (state.decoder && !addToFront && !encoding) {
        chunk = state.decoder.write(chunk);
        skipAdd = !state.objectMode && chunk.length === 0;
      }
      if (!addToFront)
        state.reading = false;
      if (!skipAdd) {
        if (state.flowing && state.length === 0 && !state.sync) {
          stream.emit("data", chunk);
          stream.read(0);
        } else {
          state.length += state.objectMode ? 1 : chunk.length;
          if (addToFront)
            state.buffer.unshift(chunk);
          else
            state.buffer.push(chunk);
          if (state.needReadable)
            emitReadable(stream);
        }
      }
      maybeReadMore(stream, state);
    }
  } else if (!addToFront) {
    state.reading = false;
  }
  return needMoreData(state);
}
function needMoreData(state) {
  return !state.ended && (state.needReadable || state.length < state.highWaterMark || state.length === 0);
}
Readable.prototype.setEncoding = function(enc) {
  this._readableState.decoder = new StringDecoder(enc);
  this._readableState.encoding = enc;
  return this;
};
var MAX_HWM = 8388608;
function computeNewHighWaterMark(n) {
  if (n >= MAX_HWM) {
    n = MAX_HWM;
  } else {
    n--;
    n |= n >>> 1;
    n |= n >>> 2;
    n |= n >>> 4;
    n |= n >>> 8;
    n |= n >>> 16;
    n++;
  }
  return n;
}
function howMuchToRead(n, state) {
  if (n <= 0 || state.length === 0 && state.ended)
    return 0;
  if (state.objectMode)
    return 1;
  if (n !== n) {
    if (state.flowing && state.length)
      return state.buffer.head.data.length;
    else
      return state.length;
  }
  if (n > state.highWaterMark)
    state.highWaterMark = computeNewHighWaterMark(n);
  if (n <= state.length)
    return n;
  if (!state.ended) {
    state.needReadable = true;
    return 0;
  }
  return state.length;
}
Readable.prototype.read = function(n) {
  debug("read", n);
  n = parseInt(n, 10);
  var state = this._readableState;
  var nOrig = n;
  if (n !== 0)
    state.emittedReadable = false;
  if (n === 0 && state.needReadable && (state.length >= state.highWaterMark || state.ended)) {
    debug("read: emitReadable", state.length, state.ended);
    if (state.length === 0 && state.ended)
      endReadable(this);
    else
      emitReadable(this);
    return null;
  }
  n = howMuchToRead(n, state);
  if (n === 0 && state.ended) {
    if (state.length === 0)
      endReadable(this);
    return null;
  }
  var doRead = state.needReadable;
  debug("need readable", doRead);
  if (state.length === 0 || state.length - n < state.highWaterMark) {
    doRead = true;
    debug("length less than watermark", doRead);
  }
  if (state.ended || state.reading) {
    doRead = false;
    debug("reading or ended", doRead);
  } else if (doRead) {
    debug("do read");
    state.reading = true;
    state.sync = true;
    if (state.length === 0)
      state.needReadable = true;
    this._read(state.highWaterMark);
    state.sync = false;
    if (!state.reading)
      n = howMuchToRead(nOrig, state);
  }
  var ret;
  if (n > 0)
    ret = fromList(n, state);
  else
    ret = null;
  if (ret === null) {
    state.needReadable = true;
    n = 0;
  } else {
    state.length -= n;
  }
  if (state.length === 0) {
    if (!state.ended)
      state.needReadable = true;
    if (nOrig !== n && state.ended)
      endReadable(this);
  }
  if (ret !== null)
    this.emit("data", ret);
  return ret;
};
function chunkInvalid(state, chunk) {
  var er = null;
  if (!Buffer.isBuffer(chunk) && typeof chunk !== "string" && chunk !== null && chunk !== void 0 && !state.objectMode) {
    er = new TypeError("Invalid non-string/buffer chunk");
  }
  return er;
}
function onEofChunk(stream, state) {
  if (state.ended)
    return;
  if (state.decoder) {
    var chunk = state.decoder.end();
    if (chunk && chunk.length) {
      state.buffer.push(chunk);
      state.length += state.objectMode ? 1 : chunk.length;
    }
  }
  state.ended = true;
  emitReadable(stream);
}
function emitReadable(stream) {
  var state = stream._readableState;
  state.needReadable = false;
  if (!state.emittedReadable) {
    debug("emitReadable", state.flowing);
    state.emittedReadable = true;
    if (state.sync)
      nextTick(emitReadable_, stream);
    else
      emitReadable_(stream);
  }
}
function emitReadable_(stream) {
  debug("emit readable");
  stream.emit("readable");
  flow(stream);
}
function maybeReadMore(stream, state) {
  if (!state.readingMore) {
    state.readingMore = true;
    nextTick(maybeReadMore_, stream, state);
  }
}
function maybeReadMore_(stream, state) {
  var len = state.length;
  while (!state.reading && !state.flowing && !state.ended && state.length < state.highWaterMark) {
    debug("maybeReadMore read 0");
    stream.read(0);
    if (len === state.length)
      break;
    else
      len = state.length;
  }
  state.readingMore = false;
}
Readable.prototype._read = function(n) {
  this.emit("error", new Error("not implemented"));
};
Readable.prototype.pipe = function(dest, pipeOpts) {
  var src = this;
  var state = this._readableState;
  switch (state.pipesCount) {
    case 0:
      state.pipes = dest;
      break;
    case 1:
      state.pipes = [state.pipes, dest];
      break;
    default:
      state.pipes.push(dest);
      break;
  }
  state.pipesCount += 1;
  debug("pipe count=%d opts=%j", state.pipesCount, pipeOpts);
  var doEnd = !pipeOpts || pipeOpts.end !== false;
  var endFn = doEnd ? onend2 : cleanup;
  if (state.endEmitted)
    nextTick(endFn);
  else
    src.once("end", endFn);
  dest.on("unpipe", onunpipe);
  function onunpipe(readable) {
    debug("onunpipe");
    if (readable === src) {
      cleanup();
    }
  }
  function onend2() {
    debug("onend");
    dest.end();
  }
  var ondrain = pipeOnDrain(src);
  dest.on("drain", ondrain);
  var cleanedUp = false;
  function cleanup() {
    debug("cleanup");
    dest.removeListener("close", onclose);
    dest.removeListener("finish", onfinish);
    dest.removeListener("drain", ondrain);
    dest.removeListener("error", onerror);
    dest.removeListener("unpipe", onunpipe);
    src.removeListener("end", onend2);
    src.removeListener("end", cleanup);
    src.removeListener("data", ondata);
    cleanedUp = true;
    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain))
      ondrain();
  }
  var increasedAwaitDrain = false;
  src.on("data", ondata);
  function ondata(chunk) {
    debug("ondata");
    increasedAwaitDrain = false;
    var ret = dest.write(chunk);
    if (false === ret && !increasedAwaitDrain) {
      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf2(state.pipes, dest) !== -1) && !cleanedUp) {
        debug("false write response, pause", src._readableState.awaitDrain);
        src._readableState.awaitDrain++;
        increasedAwaitDrain = true;
      }
      src.pause();
    }
  }
  function onerror(er) {
    debug("onerror", er);
    unpipe();
    dest.removeListener("error", onerror);
    if (listenerCount2(dest, "error") === 0)
      dest.emit("error", er);
  }
  prependListener2(dest, "error", onerror);
  function onclose() {
    dest.removeListener("finish", onfinish);
    unpipe();
  }
  dest.once("close", onclose);
  function onfinish() {
    debug("onfinish");
    dest.removeListener("close", onclose);
    unpipe();
  }
  dest.once("finish", onfinish);
  function unpipe() {
    debug("unpipe");
    src.unpipe(dest);
  }
  dest.emit("pipe", src);
  if (!state.flowing) {
    debug("pipe resume");
    src.resume();
  }
  return dest;
};
function pipeOnDrain(src) {
  return function() {
    var state = src._readableState;
    debug("pipeOnDrain", state.awaitDrain);
    if (state.awaitDrain)
      state.awaitDrain--;
    if (state.awaitDrain === 0 && src.listeners("data").length) {
      state.flowing = true;
      flow(src);
    }
  };
}
Readable.prototype.unpipe = function(dest) {
  var state = this._readableState;
  if (state.pipesCount === 0)
    return this;
  if (state.pipesCount === 1) {
    if (dest && dest !== state.pipes)
      return this;
    if (!dest)
      dest = state.pipes;
    state.pipes = null;
    state.pipesCount = 0;
    state.flowing = false;
    if (dest)
      dest.emit("unpipe", this);
    return this;
  }
  if (!dest) {
    var dests = state.pipes;
    var len = state.pipesCount;
    state.pipes = null;
    state.pipesCount = 0;
    state.flowing = false;
    for (var _i = 0; _i < len; _i++) {
      dests[_i].emit("unpipe", this);
    }
    return this;
  }
  var i = indexOf2(state.pipes, dest);
  if (i === -1)
    return this;
  state.pipes.splice(i, 1);
  state.pipesCount -= 1;
  if (state.pipesCount === 1)
    state.pipes = state.pipes[0];
  dest.emit("unpipe", this);
  return this;
};
Readable.prototype.on = function(ev, fn) {
  var res = events_default.prototype.on.call(this, ev, fn);
  if (ev === "data") {
    if (this._readableState.flowing !== false)
      this.resume();
  } else if (ev === "readable") {
    var state = this._readableState;
    if (!state.endEmitted && !state.readableListening) {
      state.readableListening = state.needReadable = true;
      state.emittedReadable = false;
      if (!state.reading) {
        nextTick(nReadingNextTick, this);
      } else if (state.length) {
        emitReadable(this, state);
      }
    }
  }
  return res;
};
Readable.prototype.addListener = Readable.prototype.on;
function nReadingNextTick(self2) {
  debug("readable nexttick read 0");
  self2.read(0);
}
Readable.prototype.resume = function() {
  var state = this._readableState;
  if (!state.flowing) {
    debug("resume");
    state.flowing = true;
    resume(this, state);
  }
  return this;
};
function resume(stream, state) {
  if (!state.resumeScheduled) {
    state.resumeScheduled = true;
    nextTick(resume_, stream, state);
  }
}
function resume_(stream, state) {
  if (!state.reading) {
    debug("resume read 0");
    stream.read(0);
  }
  state.resumeScheduled = false;
  state.awaitDrain = 0;
  stream.emit("resume");
  flow(stream);
  if (state.flowing && !state.reading)
    stream.read(0);
}
Readable.prototype.pause = function() {
  debug("call pause flowing=%j", this._readableState.flowing);
  if (false !== this._readableState.flowing) {
    debug("pause");
    this._readableState.flowing = false;
    this.emit("pause");
  }
  return this;
};
function flow(stream) {
  var state = stream._readableState;
  debug("flow", state.flowing);
  while (state.flowing && stream.read() !== null) {
  }
}
Readable.prototype.wrap = function(stream) {
  var state = this._readableState;
  var paused = false;
  var self2 = this;
  stream.on("end", function() {
    debug("wrapped end");
    if (state.decoder && !state.ended) {
      var chunk = state.decoder.end();
      if (chunk && chunk.length)
        self2.push(chunk);
    }
    self2.push(null);
  });
  stream.on("data", function(chunk) {
    debug("wrapped data");
    if (state.decoder)
      chunk = state.decoder.write(chunk);
    if (state.objectMode && (chunk === null || chunk === void 0))
      return;
    else if (!state.objectMode && (!chunk || !chunk.length))
      return;
    var ret = self2.push(chunk);
    if (!ret) {
      paused = true;
      stream.pause();
    }
  });
  for (var i in stream) {
    if (this[i] === void 0 && typeof stream[i] === "function") {
      this[i] = function(method) {
        return function() {
          return stream[method].apply(stream, arguments);
        };
      }(i);
    }
  }
  var events = ["error", "close", "destroy", "pause", "resume"];
  forEach(events, function(ev) {
    stream.on(ev, self2.emit.bind(self2, ev));
  });
  self2._read = function(n) {
    debug("wrapped _read", n);
    if (paused) {
      paused = false;
      stream.resume();
    }
  };
  return self2;
};
Readable._fromList = fromList;
function fromList(n, state) {
  if (state.length === 0)
    return null;
  var ret;
  if (state.objectMode)
    ret = state.buffer.shift();
  else if (!n || n >= state.length) {
    if (state.decoder)
      ret = state.buffer.join("");
    else if (state.buffer.length === 1)
      ret = state.buffer.head.data;
    else
      ret = state.buffer.concat(state.length);
    state.buffer.clear();
  } else {
    ret = fromListPartial(n, state.buffer, state.decoder);
  }
  return ret;
}
function fromListPartial(n, list, hasStrings) {
  var ret;
  if (n < list.head.data.length) {
    ret = list.head.data.slice(0, n);
    list.head.data = list.head.data.slice(n);
  } else if (n === list.head.data.length) {
    ret = list.shift();
  } else {
    ret = hasStrings ? copyFromBufferString(n, list) : copyFromBuffer(n, list);
  }
  return ret;
}
function copyFromBufferString(n, list) {
  var p = list.head;
  var c = 1;
  var ret = p.data;
  n -= ret.length;
  while (p = p.next) {
    var str = p.data;
    var nb = n > str.length ? str.length : n;
    if (nb === str.length)
      ret += str;
    else
      ret += str.slice(0, n);
    n -= nb;
    if (n === 0) {
      if (nb === str.length) {
        ++c;
        if (p.next)
          list.head = p.next;
        else
          list.head = list.tail = null;
      } else {
        list.head = p;
        p.data = str.slice(nb);
      }
      break;
    }
    ++c;
  }
  list.length -= c;
  return ret;
}
function copyFromBuffer(n, list) {
  var ret = Buffer.allocUnsafe(n);
  var p = list.head;
  var c = 1;
  p.data.copy(ret);
  n -= p.data.length;
  while (p = p.next) {
    var buf = p.data;
    var nb = n > buf.length ? buf.length : n;
    buf.copy(ret, ret.length - n, 0, nb);
    n -= nb;
    if (n === 0) {
      if (nb === buf.length) {
        ++c;
        if (p.next)
          list.head = p.next;
        else
          list.head = list.tail = null;
      } else {
        list.head = p;
        p.data = buf.slice(nb);
      }
      break;
    }
    ++c;
  }
  list.length -= c;
  return ret;
}
function endReadable(stream) {
  var state = stream._readableState;
  if (state.length > 0)
    throw new Error('"endReadable()" called on non-empty stream');
  if (!state.endEmitted) {
    state.ended = true;
    nextTick(endReadableNT, state, stream);
  }
}
function endReadableNT(state, stream) {
  if (!state.endEmitted && state.length === 0) {
    state.endEmitted = true;
    stream.readable = false;
    stream.emit("end");
  }
}
function forEach(xs, f) {
  for (var i = 0, l = xs.length; i < l; i++) {
    f(xs[i], i);
  }
}
function indexOf2(xs, x) {
  for (var i = 0, l = xs.length; i < l; i++) {
    if (xs[i] === x)
      return i;
  }
  return -1;
}

// node_modules/rollup-plugin-node-polyfills/polyfills/readable-stream/writable.js
Writable.WritableState = WritableState;
inherits_default(Writable, EventEmitter);
function nop() {
}
function WriteReq(chunk, encoding, cb) {
  this.chunk = chunk;
  this.encoding = encoding;
  this.callback = cb;
  this.next = null;
}
function WritableState(options, stream) {
  Object.defineProperty(this, "buffer", {
    get: deprecate(function() {
      return this.getBuffer();
    }, "_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")
  });
  options = options || {};
  this.objectMode = !!options.objectMode;
  if (stream instanceof Duplex)
    this.objectMode = this.objectMode || !!options.writableObjectMode;
  var hwm = options.highWaterMark;
  var defaultHwm = this.objectMode ? 16 : 16 * 1024;
  this.highWaterMark = hwm || hwm === 0 ? hwm : defaultHwm;
  this.highWaterMark = ~~this.highWaterMark;
  this.needDrain = false;
  this.ending = false;
  this.ended = false;
  this.finished = false;
  var noDecode = options.decodeStrings === false;
  this.decodeStrings = !noDecode;
  this.defaultEncoding = options.defaultEncoding || "utf8";
  this.length = 0;
  this.writing = false;
  this.corked = 0;
  this.sync = true;
  this.bufferProcessing = false;
  this.onwrite = function(er) {
    onwrite(stream, er);
  };
  this.writecb = null;
  this.writelen = 0;
  this.bufferedRequest = null;
  this.lastBufferedRequest = null;
  this.pendingcb = 0;
  this.prefinished = false;
  this.errorEmitted = false;
  this.bufferedRequestCount = 0;
  this.corkedRequestsFree = new CorkedRequest(this);
}
WritableState.prototype.getBuffer = function writableStateGetBuffer() {
  var current = this.bufferedRequest;
  var out = [];
  while (current) {
    out.push(current);
    current = current.next;
  }
  return out;
};
function Writable(options) {
  if (!(this instanceof Writable) && !(this instanceof Duplex))
    return new Writable(options);
  this._writableState = new WritableState(options, this);
  this.writable = true;
  if (options) {
    if (typeof options.write === "function")
      this._write = options.write;
    if (typeof options.writev === "function")
      this._writev = options.writev;
  }
  EventEmitter.call(this);
}
Writable.prototype.pipe = function() {
  this.emit("error", new Error("Cannot pipe, not readable"));
};
function writeAfterEnd(stream, cb) {
  var er = new Error("write after end");
  stream.emit("error", er);
  nextTick(cb, er);
}
function validChunk(stream, state, chunk, cb) {
  var valid = true;
  var er = false;
  if (chunk === null) {
    er = new TypeError("May not write null values to stream");
  } else if (!Buffer2.isBuffer(chunk) && typeof chunk !== "string" && chunk !== void 0 && !state.objectMode) {
    er = new TypeError("Invalid non-string/buffer chunk");
  }
  if (er) {
    stream.emit("error", er);
    nextTick(cb, er);
    valid = false;
  }
  return valid;
}
Writable.prototype.write = function(chunk, encoding, cb) {
  var state = this._writableState;
  var ret = false;
  if (typeof encoding === "function") {
    cb = encoding;
    encoding = null;
  }
  if (Buffer2.isBuffer(chunk))
    encoding = "buffer";
  else if (!encoding)
    encoding = state.defaultEncoding;
  if (typeof cb !== "function")
    cb = nop;
  if (state.ended)
    writeAfterEnd(this, cb);
  else if (validChunk(this, state, chunk, cb)) {
    state.pendingcb++;
    ret = writeOrBuffer(this, state, chunk, encoding, cb);
  }
  return ret;
};
Writable.prototype.cork = function() {
  var state = this._writableState;
  state.corked++;
};
Writable.prototype.uncork = function() {
  var state = this._writableState;
  if (state.corked) {
    state.corked--;
    if (!state.writing && !state.corked && !state.finished && !state.bufferProcessing && state.bufferedRequest)
      clearBuffer(this, state);
  }
};
Writable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {
  if (typeof encoding === "string")
    encoding = encoding.toLowerCase();
  if (!(["hex", "utf8", "utf-8", "ascii", "binary", "base64", "ucs2", "ucs-2", "utf16le", "utf-16le", "raw"].indexOf((encoding + "").toLowerCase()) > -1))
    throw new TypeError("Unknown encoding: " + encoding);
  this._writableState.defaultEncoding = encoding;
  return this;
};
function decodeChunk(state, chunk, encoding) {
  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === "string") {
    chunk = Buffer2.from(chunk, encoding);
  }
  return chunk;
}
function writeOrBuffer(stream, state, chunk, encoding, cb) {
  chunk = decodeChunk(state, chunk, encoding);
  if (Buffer2.isBuffer(chunk))
    encoding = "buffer";
  var len = state.objectMode ? 1 : chunk.length;
  state.length += len;
  var ret = state.length < state.highWaterMark;
  if (!ret)
    state.needDrain = true;
  if (state.writing || state.corked) {
    var last = state.lastBufferedRequest;
    state.lastBufferedRequest = new WriteReq(chunk, encoding, cb);
    if (last) {
      last.next = state.lastBufferedRequest;
    } else {
      state.bufferedRequest = state.lastBufferedRequest;
    }
    state.bufferedRequestCount += 1;
  } else {
    doWrite(stream, state, false, len, chunk, encoding, cb);
  }
  return ret;
}
function doWrite(stream, state, writev, len, chunk, encoding, cb) {
  state.writelen = len;
  state.writecb = cb;
  state.writing = true;
  state.sync = true;
  if (writev)
    stream._writev(chunk, state.onwrite);
  else
    stream._write(chunk, encoding, state.onwrite);
  state.sync = false;
}
function onwriteError(stream, state, sync, er, cb) {
  --state.pendingcb;
  if (sync)
    nextTick(cb, er);
  else
    cb(er);
  stream._writableState.errorEmitted = true;
  stream.emit("error", er);
}
function onwriteStateUpdate(state) {
  state.writing = false;
  state.writecb = null;
  state.length -= state.writelen;
  state.writelen = 0;
}
function onwrite(stream, er) {
  var state = stream._writableState;
  var sync = state.sync;
  var cb = state.writecb;
  onwriteStateUpdate(state);
  if (er)
    onwriteError(stream, state, sync, er, cb);
  else {
    var finished = needFinish(state);
    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {
      clearBuffer(stream, state);
    }
    if (sync) {
      nextTick(afterWrite, stream, state, finished, cb);
    } else {
      afterWrite(stream, state, finished, cb);
    }
  }
}
function afterWrite(stream, state, finished, cb) {
  if (!finished)
    onwriteDrain(stream, state);
  state.pendingcb--;
  cb();
  finishMaybe(stream, state);
}
function onwriteDrain(stream, state) {
  if (state.length === 0 && state.needDrain) {
    state.needDrain = false;
    stream.emit("drain");
  }
}
function clearBuffer(stream, state) {
  state.bufferProcessing = true;
  var entry = state.bufferedRequest;
  if (stream._writev && entry && entry.next) {
    var l = state.bufferedRequestCount;
    var buffer = new Array(l);
    var holder = state.corkedRequestsFree;
    holder.entry = entry;
    var count = 0;
    while (entry) {
      buffer[count] = entry;
      entry = entry.next;
      count += 1;
    }
    doWrite(stream, state, true, state.length, buffer, "", holder.finish);
    state.pendingcb++;
    state.lastBufferedRequest = null;
    if (holder.next) {
      state.corkedRequestsFree = holder.next;
      holder.next = null;
    } else {
      state.corkedRequestsFree = new CorkedRequest(state);
    }
  } else {
    while (entry) {
      var chunk = entry.chunk;
      var encoding = entry.encoding;
      var cb = entry.callback;
      var len = state.objectMode ? 1 : chunk.length;
      doWrite(stream, state, false, len, chunk, encoding, cb);
      entry = entry.next;
      if (state.writing) {
        break;
      }
    }
    if (entry === null)
      state.lastBufferedRequest = null;
  }
  state.bufferedRequestCount = 0;
  state.bufferedRequest = entry;
  state.bufferProcessing = false;
}
Writable.prototype._write = function(chunk, encoding, cb) {
  cb(new Error("not implemented"));
};
Writable.prototype._writev = null;
Writable.prototype.end = function(chunk, encoding, cb) {
  var state = this._writableState;
  if (typeof chunk === "function") {
    cb = chunk;
    chunk = null;
    encoding = null;
  } else if (typeof encoding === "function") {
    cb = encoding;
    encoding = null;
  }
  if (chunk !== null && chunk !== void 0)
    this.write(chunk, encoding);
  if (state.corked) {
    state.corked = 1;
    this.uncork();
  }
  if (!state.ending && !state.finished)
    endWritable(this, state, cb);
};
function needFinish(state) {
  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;
}
function prefinish(stream, state) {
  if (!state.prefinished) {
    state.prefinished = true;
    stream.emit("prefinish");
  }
}
function finishMaybe(stream, state) {
  var need = needFinish(state);
  if (need) {
    if (state.pendingcb === 0) {
      prefinish(stream, state);
      state.finished = true;
      stream.emit("finish");
    } else {
      prefinish(stream, state);
    }
  }
  return need;
}
function endWritable(stream, state, cb) {
  state.ending = true;
  finishMaybe(stream, state);
  if (cb) {
    if (state.finished)
      nextTick(cb);
    else
      stream.once("finish", cb);
  }
  state.ended = true;
  stream.writable = false;
}
function CorkedRequest(state) {
  var _this = this;
  this.next = null;
  this.entry = null;
  this.finish = function(err2) {
    var entry = _this.entry;
    _this.entry = null;
    while (entry) {
      var cb = entry.callback;
      state.pendingcb--;
      cb(err2);
      entry = entry.next;
    }
    if (state.corkedRequestsFree) {
      state.corkedRequestsFree.next = _this;
    } else {
      state.corkedRequestsFree = _this;
    }
  };
}

// node_modules/rollup-plugin-node-polyfills/polyfills/readable-stream/duplex.js
inherits_default(Duplex, Readable);
var keys = Object.keys(Writable.prototype);
for (v = 0; v < keys.length; v++) {
  method = keys[v];
  if (!Duplex.prototype[method])
    Duplex.prototype[method] = Writable.prototype[method];
}
var method;
var v;
function Duplex(options) {
  if (!(this instanceof Duplex))
    return new Duplex(options);
  Readable.call(this, options);
  Writable.call(this, options);
  if (options && options.readable === false)
    this.readable = false;
  if (options && options.writable === false)
    this.writable = false;
  this.allowHalfOpen = true;
  if (options && options.allowHalfOpen === false)
    this.allowHalfOpen = false;
  this.once("end", onend);
}
function onend() {
  if (this.allowHalfOpen || this._writableState.ended)
    return;
  nextTick(onEndNT, this);
}
function onEndNT(self2) {
  self2.end();
}

// node_modules/rollup-plugin-node-polyfills/polyfills/readable-stream/transform.js
inherits_default(Transform, Duplex);
function TransformState(stream) {
  this.afterTransform = function(er, data) {
    return afterTransform(stream, er, data);
  };
  this.needTransform = false;
  this.transforming = false;
  this.writecb = null;
  this.writechunk = null;
  this.writeencoding = null;
}
function afterTransform(stream, er, data) {
  var ts = stream._transformState;
  ts.transforming = false;
  var cb = ts.writecb;
  if (!cb)
    return stream.emit("error", new Error("no writecb in Transform class"));
  ts.writechunk = null;
  ts.writecb = null;
  if (data !== null && data !== void 0)
    stream.push(data);
  cb(er);
  var rs = stream._readableState;
  rs.reading = false;
  if (rs.needReadable || rs.length < rs.highWaterMark) {
    stream._read(rs.highWaterMark);
  }
}
function Transform(options) {
  if (!(this instanceof Transform))
    return new Transform(options);
  Duplex.call(this, options);
  this._transformState = new TransformState(this);
  var stream = this;
  this._readableState.needReadable = true;
  this._readableState.sync = false;
  if (options) {
    if (typeof options.transform === "function")
      this._transform = options.transform;
    if (typeof options.flush === "function")
      this._flush = options.flush;
  }
  this.once("prefinish", function() {
    if (typeof this._flush === "function")
      this._flush(function(er) {
        done(stream, er);
      });
    else
      done(stream);
  });
}
Transform.prototype.push = function(chunk, encoding) {
  this._transformState.needTransform = false;
  return Duplex.prototype.push.call(this, chunk, encoding);
};
Transform.prototype._transform = function(chunk, encoding, cb) {
  throw new Error("Not implemented");
};
Transform.prototype._write = function(chunk, encoding, cb) {
  var ts = this._transformState;
  ts.writecb = cb;
  ts.writechunk = chunk;
  ts.writeencoding = encoding;
  if (!ts.transforming) {
    var rs = this._readableState;
    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark)
      this._read(rs.highWaterMark);
  }
};
Transform.prototype._read = function(n) {
  var ts = this._transformState;
  if (ts.writechunk !== null && ts.writecb && !ts.transforming) {
    ts.transforming = true;
    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);
  } else {
    ts.needTransform = true;
  }
};
function done(stream, er) {
  if (er)
    return stream.emit("error", er);
  var ws = stream._writableState;
  var ts = stream._transformState;
  if (ws.length)
    throw new Error("Calling transform done when ws.length != 0");
  if (ts.transforming)
    throw new Error("Calling transform done when still transforming");
  return stream.push(null);
}

// node_modules/rollup-plugin-node-polyfills/polyfills/readable-stream/passthrough.js
inherits_default(PassThrough, Transform);
function PassThrough(options) {
  if (!(this instanceof PassThrough))
    return new PassThrough(options);
  Transform.call(this, options);
}
PassThrough.prototype._transform = function(chunk, encoding, cb) {
  cb(null, chunk);
};

// node-modules-polyfills:stream
inherits_default(Stream, events_default);
Stream.Readable = Readable;
Stream.Writable = Writable;
Stream.Duplex = Duplex;
Stream.Transform = Transform;
Stream.PassThrough = PassThrough;
Stream.Stream = Stream;
function Stream() {
  events_default.call(this);
}
Stream.prototype.pipe = function(dest, options) {
  var source = this;
  function ondata(chunk) {
    if (dest.writable) {
      if (false === dest.write(chunk) && source.pause) {
        source.pause();
      }
    }
  }
  source.on("data", ondata);
  function ondrain() {
    if (source.readable && source.resume) {
      source.resume();
    }
  }
  dest.on("drain", ondrain);
  if (!dest._isStdio && (!options || options.end !== false)) {
    source.on("end", onend2);
    source.on("close", onclose);
  }
  var didOnEnd = false;
  function onend2() {
    if (didOnEnd)
      return;
    didOnEnd = true;
    dest.end();
  }
  function onclose() {
    if (didOnEnd)
      return;
    didOnEnd = true;
    if (typeof dest.destroy === "function")
      dest.destroy();
  }
  function onerror(er) {
    cleanup();
    if (events_default.listenerCount(this, "error") === 0) {
      throw er;
    }
  }
  source.on("error", onerror);
  dest.on("error", onerror);
  function cleanup() {
    source.removeListener("data", ondata);
    dest.removeListener("drain", ondrain);
    source.removeListener("end", onend2);
    source.removeListener("close", onclose);
    source.removeListener("error", onerror);
    dest.removeListener("error", onerror);
    source.removeListener("end", cleanup);
    source.removeListener("close", cleanup);
    dest.removeListener("close", cleanup);
  }
  source.on("end", cleanup);
  source.on("close", cleanup);
  dest.on("close", cleanup);
  dest.emit("pipe", source);
  return dest;
};

// node_modules/rollup-plugin-node-polyfills/polyfills/zlib-lib/binding.js
var binding_exports = {};
__export(binding_exports, {
  DEFLATE: () => DEFLATE,
  DEFLATERAW: () => DEFLATERAW,
  GUNZIP: () => GUNZIP,
  GZIP: () => GZIP,
  INFLATE: () => INFLATE,
  INFLATERAW: () => INFLATERAW,
  NONE: () => NONE,
  UNZIP: () => UNZIP,
  Z_BEST_COMPRESSION: () => Z_BEST_COMPRESSION,
  Z_BEST_SPEED: () => Z_BEST_SPEED,
  Z_BINARY: () => Z_BINARY2,
  Z_BLOCK: () => Z_BLOCK3,
  Z_BUF_ERROR: () => Z_BUF_ERROR3,
  Z_DATA_ERROR: () => Z_DATA_ERROR3,
  Z_DEFAULT_COMPRESSION: () => Z_DEFAULT_COMPRESSION2,
  Z_DEFAULT_STRATEGY: () => Z_DEFAULT_STRATEGY,
  Z_DEFLATED: () => Z_DEFLATED3,
  Z_ERRNO: () => Z_ERRNO,
  Z_FILTERED: () => Z_FILTERED2,
  Z_FINISH: () => Z_FINISH3,
  Z_FIXED: () => Z_FIXED3,
  Z_FULL_FLUSH: () => Z_FULL_FLUSH2,
  Z_HUFFMAN_ONLY: () => Z_HUFFMAN_ONLY2,
  Z_NEED_DICT: () => Z_NEED_DICT2,
  Z_NO_COMPRESSION: () => Z_NO_COMPRESSION,
  Z_NO_FLUSH: () => Z_NO_FLUSH2,
  Z_OK: () => Z_OK3,
  Z_PARTIAL_FLUSH: () => Z_PARTIAL_FLUSH2,
  Z_RLE: () => Z_RLE2,
  Z_STREAM_END: () => Z_STREAM_END3,
  Z_STREAM_ERROR: () => Z_STREAM_ERROR3,
  Z_SYNC_FLUSH: () => Z_SYNC_FLUSH,
  Z_TEXT: () => Z_TEXT2,
  Z_TREES: () => Z_TREES2,
  Z_UNKNOWN: () => Z_UNKNOWN3,
  Zlib: () => Zlib
});

// node_modules/rollup-plugin-node-polyfills/polyfills/zlib-lib/messages.js
var messages_default = {
  2: "need dictionary",
  /* Z_NEED_DICT       2  */
  1: "stream end",
  /* Z_STREAM_END      1  */
  0: "",
  /* Z_OK              0  */
  "-1": "file error",
  /* Z_ERRNO         (-1) */
  "-2": "stream error",
  /* Z_STREAM_ERROR  (-2) */
  "-3": "data error",
  /* Z_DATA_ERROR    (-3) */
  "-4": "insufficient memory",
  /* Z_MEM_ERROR     (-4) */
  "-5": "buffer error",
  /* Z_BUF_ERROR     (-5) */
  "-6": "incompatible version"
  /* Z_VERSION_ERROR (-6) */
};

// node_modules/rollup-plugin-node-polyfills/polyfills/zlib-lib/zstream.js
function ZStream() {
  this.input = null;
  this.next_in = 0;
  this.avail_in = 0;
  this.total_in = 0;
  this.output = null;
  this.next_out = 0;
  this.avail_out = 0;
  this.total_out = 0;
  this.msg = "";
  this.state = null;
  this.data_type = 2;
  this.adler = 0;
}
var zstream_default = ZStream;

// node_modules/rollup-plugin-node-polyfills/polyfills/zlib-lib/utils.js
function arraySet(dest, src, src_offs, len, dest_offs) {
  if (src.subarray && dest.subarray) {
    dest.set(src.subarray(src_offs, src_offs + len), dest_offs);
    return;
  }
  for (var i = 0; i < len; i++) {
    dest[dest_offs + i] = src[src_offs + i];
  }
}
var Buf8 = Uint8Array;
var Buf16 = Uint16Array;
var Buf32 = Int32Array;

// node_modules/rollup-plugin-node-polyfills/polyfills/zlib-lib/trees.js
var Z_FIXED = 4;
var Z_BINARY = 0;
var Z_TEXT = 1;
var Z_UNKNOWN = 2;
function zero(buf) {
  var len = buf.length;
  while (--len >= 0) {
    buf[len] = 0;
  }
}
var STORED_BLOCK = 0;
var STATIC_TREES = 1;
var DYN_TREES = 2;
var MIN_MATCH = 3;
var MAX_MATCH = 258;
var LENGTH_CODES = 29;
var LITERALS = 256;
var L_CODES = LITERALS + 1 + LENGTH_CODES;
var D_CODES = 30;
var BL_CODES = 19;
var HEAP_SIZE = 2 * L_CODES + 1;
var MAX_BITS = 15;
var Buf_size = 16;
var MAX_BL_BITS = 7;
var END_BLOCK = 256;
var REP_3_6 = 16;
var REPZ_3_10 = 17;
var REPZ_11_138 = 18;
var extra_lbits = (
  /* extra bits for each length code */
  [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0]
);
var extra_dbits = (
  /* extra bits for each distance code */
  [0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13]
);
var extra_blbits = (
  /* extra bits for each bit length code */
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 7]
);
var bl_order = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15];
var DIST_CODE_LEN = 512;
var static_ltree = new Array((L_CODES + 2) * 2);
zero(static_ltree);
var static_dtree = new Array(D_CODES * 2);
zero(static_dtree);
var _dist_code = new Array(DIST_CODE_LEN);
zero(_dist_code);
var _length_code = new Array(MAX_MATCH - MIN_MATCH + 1);
zero(_length_code);
var base_length = new Array(LENGTH_CODES);
zero(base_length);
var base_dist = new Array(D_CODES);
zero(base_dist);
function StaticTreeDesc(static_tree, extra_bits, extra_base, elems, max_length) {
  this.static_tree = static_tree;
  this.extra_bits = extra_bits;
  this.extra_base = extra_base;
  this.elems = elems;
  this.max_length = max_length;
  this.has_stree = static_tree && static_tree.length;
}
var static_l_desc;
var static_d_desc;
var static_bl_desc;
function TreeDesc(dyn_tree, stat_desc) {
  this.dyn_tree = dyn_tree;
  this.max_code = 0;
  this.stat_desc = stat_desc;
}
function d_code(dist) {
  return dist < 256 ? _dist_code[dist] : _dist_code[256 + (dist >>> 7)];
}
function put_short(s, w) {
  s.pending_buf[s.pending++] = w & 255;
  s.pending_buf[s.pending++] = w >>> 8 & 255;
}
function send_bits(s, value, length) {
  if (s.bi_valid > Buf_size - length) {
    s.bi_buf |= value << s.bi_valid & 65535;
    put_short(s, s.bi_buf);
    s.bi_buf = value >> Buf_size - s.bi_valid;
    s.bi_valid += length - Buf_size;
  } else {
    s.bi_buf |= value << s.bi_valid & 65535;
    s.bi_valid += length;
  }
}
function send_code(s, c, tree) {
  send_bits(
    s,
    tree[c * 2],
    tree[c * 2 + 1]
    /*.Len*/
  );
}
function bi_reverse(code, len) {
  var res = 0;
  do {
    res |= code & 1;
    code >>>= 1;
    res <<= 1;
  } while (--len > 0);
  return res >>> 1;
}
function bi_flush(s) {
  if (s.bi_valid === 16) {
    put_short(s, s.bi_buf);
    s.bi_buf = 0;
    s.bi_valid = 0;
  } else if (s.bi_valid >= 8) {
    s.pending_buf[s.pending++] = s.bi_buf & 255;
    s.bi_buf >>= 8;
    s.bi_valid -= 8;
  }
}
function gen_bitlen(s, desc) {
  var tree = desc.dyn_tree;
  var max_code = desc.max_code;
  var stree = desc.stat_desc.static_tree;
  var has_stree = desc.stat_desc.has_stree;
  var extra = desc.stat_desc.extra_bits;
  var base = desc.stat_desc.extra_base;
  var max_length = desc.stat_desc.max_length;
  var h;
  var n, m;
  var bits;
  var xbits;
  var f;
  var overflow = 0;
  for (bits = 0; bits <= MAX_BITS; bits++) {
    s.bl_count[bits] = 0;
  }
  tree[s.heap[s.heap_max] * 2 + 1] = 0;
  for (h = s.heap_max + 1; h < HEAP_SIZE; h++) {
    n = s.heap[h];
    bits = tree[tree[n * 2 + 1] * 2 + 1] + 1;
    if (bits > max_length) {
      bits = max_length;
      overflow++;
    }
    tree[n * 2 + 1] = bits;
    if (n > max_code) {
      continue;
    }
    s.bl_count[bits]++;
    xbits = 0;
    if (n >= base) {
      xbits = extra[n - base];
    }
    f = tree[n * 2];
    s.opt_len += f * (bits + xbits);
    if (has_stree) {
      s.static_len += f * (stree[n * 2 + 1] + xbits);
    }
  }
  if (overflow === 0) {
    return;
  }
  do {
    bits = max_length - 1;
    while (s.bl_count[bits] === 0) {
      bits--;
    }
    s.bl_count[bits]--;
    s.bl_count[bits + 1] += 2;
    s.bl_count[max_length]--;
    overflow -= 2;
  } while (overflow > 0);
  for (bits = max_length; bits !== 0; bits--) {
    n = s.bl_count[bits];
    while (n !== 0) {
      m = s.heap[--h];
      if (m > max_code) {
        continue;
      }
      if (tree[m * 2 + 1] !== bits) {
        s.opt_len += (bits - tree[m * 2 + 1]) * tree[m * 2];
        tree[m * 2 + 1] = bits;
      }
      n--;
    }
  }
}
function gen_codes(tree, max_code, bl_count) {
  var next_code = new Array(MAX_BITS + 1);
  var code = 0;
  var bits;
  var n;
  for (bits = 1; bits <= MAX_BITS; bits++) {
    next_code[bits] = code = code + bl_count[bits - 1] << 1;
  }
  for (n = 0; n <= max_code; n++) {
    var len = tree[n * 2 + 1];
    if (len === 0) {
      continue;
    }
    tree[n * 2] = bi_reverse(next_code[len]++, len);
  }
}
function tr_static_init() {
  var n;
  var bits;
  var length;
  var code;
  var dist;
  var bl_count = new Array(MAX_BITS + 1);
  length = 0;
  for (code = 0; code < LENGTH_CODES - 1; code++) {
    base_length[code] = length;
    for (n = 0; n < 1 << extra_lbits[code]; n++) {
      _length_code[length++] = code;
    }
  }
  _length_code[length - 1] = code;
  dist = 0;
  for (code = 0; code < 16; code++) {
    base_dist[code] = dist;
    for (n = 0; n < 1 << extra_dbits[code]; n++) {
      _dist_code[dist++] = code;
    }
  }
  dist >>= 7;
  for (; code < D_CODES; code++) {
    base_dist[code] = dist << 7;
    for (n = 0; n < 1 << extra_dbits[code] - 7; n++) {
      _dist_code[256 + dist++] = code;
    }
  }
  for (bits = 0; bits <= MAX_BITS; bits++) {
    bl_count[bits] = 0;
  }
  n = 0;
  while (n <= 143) {
    static_ltree[n * 2 + 1] = 8;
    n++;
    bl_count[8]++;
  }
  while (n <= 255) {
    static_ltree[n * 2 + 1] = 9;
    n++;
    bl_count[9]++;
  }
  while (n <= 279) {
    static_ltree[n * 2 + 1] = 7;
    n++;
    bl_count[7]++;
  }
  while (n <= 287) {
    static_ltree[n * 2 + 1] = 8;
    n++;
    bl_count[8]++;
  }
  gen_codes(static_ltree, L_CODES + 1, bl_count);
  for (n = 0; n < D_CODES; n++) {
    static_dtree[n * 2 + 1] = 5;
    static_dtree[n * 2] = bi_reverse(n, 5);
  }
  static_l_desc = new StaticTreeDesc(static_ltree, extra_lbits, LITERALS + 1, L_CODES, MAX_BITS);
  static_d_desc = new StaticTreeDesc(static_dtree, extra_dbits, 0, D_CODES, MAX_BITS);
  static_bl_desc = new StaticTreeDesc(new Array(0), extra_blbits, 0, BL_CODES, MAX_BL_BITS);
}
function init_block(s) {
  var n;
  for (n = 0; n < L_CODES; n++) {
    s.dyn_ltree[n * 2] = 0;
  }
  for (n = 0; n < D_CODES; n++) {
    s.dyn_dtree[n * 2] = 0;
  }
  for (n = 0; n < BL_CODES; n++) {
    s.bl_tree[n * 2] = 0;
  }
  s.dyn_ltree[END_BLOCK * 2] = 1;
  s.opt_len = s.static_len = 0;
  s.last_lit = s.matches = 0;
}
function bi_windup(s) {
  if (s.bi_valid > 8) {
    put_short(s, s.bi_buf);
  } else if (s.bi_valid > 0) {
    s.pending_buf[s.pending++] = s.bi_buf;
  }
  s.bi_buf = 0;
  s.bi_valid = 0;
}
function copy_block(s, buf, len, header) {
  bi_windup(s);
  if (header) {
    put_short(s, len);
    put_short(s, ~len);
  }
  arraySet(s.pending_buf, s.window, buf, len, s.pending);
  s.pending += len;
}
function smaller(tree, n, m, depth) {
  var _n2 = n * 2;
  var _m2 = m * 2;
  return tree[_n2] < tree[_m2] || tree[_n2] === tree[_m2] && depth[n] <= depth[m];
}
function pqdownheap(s, tree, k) {
  var v = s.heap[k];
  var j = k << 1;
  while (j <= s.heap_len) {
    if (j < s.heap_len && smaller(tree, s.heap[j + 1], s.heap[j], s.depth)) {
      j++;
    }
    if (smaller(tree, v, s.heap[j], s.depth)) {
      break;
    }
    s.heap[k] = s.heap[j];
    k = j;
    j <<= 1;
  }
  s.heap[k] = v;
}
function compress_block(s, ltree, dtree) {
  var dist;
  var lc;
  var lx = 0;
  var code;
  var extra;
  if (s.last_lit !== 0) {
    do {
      dist = s.pending_buf[s.d_buf + lx * 2] << 8 | s.pending_buf[s.d_buf + lx * 2 + 1];
      lc = s.pending_buf[s.l_buf + lx];
      lx++;
      if (dist === 0) {
        send_code(s, lc, ltree);
      } else {
        code = _length_code[lc];
        send_code(s, code + LITERALS + 1, ltree);
        extra = extra_lbits[code];
        if (extra !== 0) {
          lc -= base_length[code];
          send_bits(s, lc, extra);
        }
        dist--;
        code = d_code(dist);
        send_code(s, code, dtree);
        extra = extra_dbits[code];
        if (extra !== 0) {
          dist -= base_dist[code];
          send_bits(s, dist, extra);
        }
      }
    } while (lx < s.last_lit);
  }
  send_code(s, END_BLOCK, ltree);
}
function build_tree(s, desc) {
  var tree = desc.dyn_tree;
  var stree = desc.stat_desc.static_tree;
  var has_stree = desc.stat_desc.has_stree;
  var elems = desc.stat_desc.elems;
  var n, m;
  var max_code = -1;
  var node;
  s.heap_len = 0;
  s.heap_max = HEAP_SIZE;
  for (n = 0; n < elems; n++) {
    if (tree[n * 2] !== 0) {
      s.heap[++s.heap_len] = max_code = n;
      s.depth[n] = 0;
    } else {
      tree[n * 2 + 1] = 0;
    }
  }
  while (s.heap_len < 2) {
    node = s.heap[++s.heap_len] = max_code < 2 ? ++max_code : 0;
    tree[node * 2] = 1;
    s.depth[node] = 0;
    s.opt_len--;
    if (has_stree) {
      s.static_len -= stree[node * 2 + 1];
    }
  }
  desc.max_code = max_code;
  for (n = s.heap_len >> 1; n >= 1; n--) {
    pqdownheap(s, tree, n);
  }
  node = elems;
  do {
    n = s.heap[
      1
      /*SMALLEST*/
    ];
    s.heap[
      1
      /*SMALLEST*/
    ] = s.heap[s.heap_len--];
    pqdownheap(
      s,
      tree,
      1
      /*SMALLEST*/
    );
    m = s.heap[
      1
      /*SMALLEST*/
    ];
    s.heap[--s.heap_max] = n;
    s.heap[--s.heap_max] = m;
    tree[node * 2] = tree[n * 2] + tree[m * 2];
    s.depth[node] = (s.depth[n] >= s.depth[m] ? s.depth[n] : s.depth[m]) + 1;
    tree[n * 2 + 1] = tree[m * 2 + 1] = node;
    s.heap[
      1
      /*SMALLEST*/
    ] = node++;
    pqdownheap(
      s,
      tree,
      1
      /*SMALLEST*/
    );
  } while (s.heap_len >= 2);
  s.heap[--s.heap_max] = s.heap[
    1
    /*SMALLEST*/
  ];
  gen_bitlen(s, desc);
  gen_codes(tree, max_code, s.bl_count);
}
function scan_tree(s, tree, max_code) {
  var n;
  var prevlen = -1;
  var curlen;
  var nextlen = tree[0 * 2 + 1];
  var count = 0;
  var max_count = 7;
  var min_count = 4;
  if (nextlen === 0) {
    max_count = 138;
    min_count = 3;
  }
  tree[(max_code + 1) * 2 + 1] = 65535;
  for (n = 0; n <= max_code; n++) {
    curlen = nextlen;
    nextlen = tree[(n + 1) * 2 + 1];
    if (++count < max_count && curlen === nextlen) {
      continue;
    } else if (count < min_count) {
      s.bl_tree[curlen * 2] += count;
    } else if (curlen !== 0) {
      if (curlen !== prevlen) {
        s.bl_tree[curlen * 2]++;
      }
      s.bl_tree[REP_3_6 * 2]++;
    } else if (count <= 10) {
      s.bl_tree[REPZ_3_10 * 2]++;
    } else {
      s.bl_tree[REPZ_11_138 * 2]++;
    }
    count = 0;
    prevlen = curlen;
    if (nextlen === 0) {
      max_count = 138;
      min_count = 3;
    } else if (curlen === nextlen) {
      max_count = 6;
      min_count = 3;
    } else {
      max_count = 7;
      min_count = 4;
    }
  }
}
function send_tree(s, tree, max_code) {
  var n;
  var prevlen = -1;
  var curlen;
  var nextlen = tree[0 * 2 + 1];
  var count = 0;
  var max_count = 7;
  var min_count = 4;
  if (nextlen === 0) {
    max_count = 138;
    min_count = 3;
  }
  for (n = 0; n <= max_code; n++) {
    curlen = nextlen;
    nextlen = tree[(n + 1) * 2 + 1];
    if (++count < max_count && curlen === nextlen) {
      continue;
    } else if (count < min_count) {
      do {
        send_code(s, curlen, s.bl_tree);
      } while (--count !== 0);
    } else if (curlen !== 0) {
      if (curlen !== prevlen) {
        send_code(s, curlen, s.bl_tree);
        count--;
      }
      send_code(s, REP_3_6, s.bl_tree);
      send_bits(s, count - 3, 2);
    } else if (count <= 10) {
      send_code(s, REPZ_3_10, s.bl_tree);
      send_bits(s, count - 3, 3);
    } else {
      send_code(s, REPZ_11_138, s.bl_tree);
      send_bits(s, count - 11, 7);
    }
    count = 0;
    prevlen = curlen;
    if (nextlen === 0) {
      max_count = 138;
      min_count = 3;
    } else if (curlen === nextlen) {
      max_count = 6;
      min_count = 3;
    } else {
      max_count = 7;
      min_count = 4;
    }
  }
}
function build_bl_tree(s) {
  var max_blindex;
  scan_tree(s, s.dyn_ltree, s.l_desc.max_code);
  scan_tree(s, s.dyn_dtree, s.d_desc.max_code);
  build_tree(s, s.bl_desc);
  for (max_blindex = BL_CODES - 1; max_blindex >= 3; max_blindex--) {
    if (s.bl_tree[bl_order[max_blindex] * 2 + 1] !== 0) {
      break;
    }
  }
  s.opt_len += 3 * (max_blindex + 1) + 5 + 5 + 4;
  return max_blindex;
}
function send_all_trees(s, lcodes, dcodes, blcodes) {
  var rank2;
  send_bits(s, lcodes - 257, 5);
  send_bits(s, dcodes - 1, 5);
  send_bits(s, blcodes - 4, 4);
  for (rank2 = 0; rank2 < blcodes; rank2++) {
    send_bits(s, s.bl_tree[bl_order[rank2] * 2 + 1], 3);
  }
  send_tree(s, s.dyn_ltree, lcodes - 1);
  send_tree(s, s.dyn_dtree, dcodes - 1);
}
function detect_data_type(s) {
  var black_mask = 4093624447;
  var n;
  for (n = 0; n <= 31; n++, black_mask >>>= 1) {
    if (black_mask & 1 && s.dyn_ltree[n * 2] !== 0) {
      return Z_BINARY;
    }
  }
  if (s.dyn_ltree[9 * 2] !== 0 || s.dyn_ltree[10 * 2] !== 0 || s.dyn_ltree[13 * 2] !== 0) {
    return Z_TEXT;
  }
  for (n = 32; n < LITERALS; n++) {
    if (s.dyn_ltree[n * 2] !== 0) {
      return Z_TEXT;
    }
  }
  return Z_BINARY;
}
var static_init_done = false;
function _tr_init(s) {
  if (!static_init_done) {
    tr_static_init();
    static_init_done = true;
  }
  s.l_desc = new TreeDesc(s.dyn_ltree, static_l_desc);
  s.d_desc = new TreeDesc(s.dyn_dtree, static_d_desc);
  s.bl_desc = new TreeDesc(s.bl_tree, static_bl_desc);
  s.bi_buf = 0;
  s.bi_valid = 0;
  init_block(s);
}
function _tr_stored_block(s, buf, stored_len, last) {
  send_bits(s, (STORED_BLOCK << 1) + (last ? 1 : 0), 3);
  copy_block(s, buf, stored_len, true);
}
function _tr_align(s) {
  send_bits(s, STATIC_TREES << 1, 3);
  send_code(s, END_BLOCK, static_ltree);
  bi_flush(s);
}
function _tr_flush_block(s, buf, stored_len, last) {
  var opt_lenb, static_lenb;
  var max_blindex = 0;
  if (s.level > 0) {
    if (s.strm.data_type === Z_UNKNOWN) {
      s.strm.data_type = detect_data_type(s);
    }
    build_tree(s, s.l_desc);
    build_tree(s, s.d_desc);
    max_blindex = build_bl_tree(s);
    opt_lenb = s.opt_len + 3 + 7 >>> 3;
    static_lenb = s.static_len + 3 + 7 >>> 3;
    if (static_lenb <= opt_lenb) {
      opt_lenb = static_lenb;
    }
  } else {
    opt_lenb = static_lenb = stored_len + 5;
  }
  if (stored_len + 4 <= opt_lenb && buf !== -1) {
    _tr_stored_block(s, buf, stored_len, last);
  } else if (s.strategy === Z_FIXED || static_lenb === opt_lenb) {
    send_bits(s, (STATIC_TREES << 1) + (last ? 1 : 0), 3);
    compress_block(s, static_ltree, static_dtree);
  } else {
    send_bits(s, (DYN_TREES << 1) + (last ? 1 : 0), 3);
    send_all_trees(s, s.l_desc.max_code + 1, s.d_desc.max_code + 1, max_blindex + 1);
    compress_block(s, s.dyn_ltree, s.dyn_dtree);
  }
  init_block(s);
  if (last) {
    bi_windup(s);
  }
}
function _tr_tally(s, dist, lc) {
  s.pending_buf[s.d_buf + s.last_lit * 2] = dist >>> 8 & 255;
  s.pending_buf[s.d_buf + s.last_lit * 2 + 1] = dist & 255;
  s.pending_buf[s.l_buf + s.last_lit] = lc & 255;
  s.last_lit++;
  if (dist === 0) {
    s.dyn_ltree[lc * 2]++;
  } else {
    s.matches++;
    dist--;
    s.dyn_ltree[(_length_code[lc] + LITERALS + 1) * 2]++;
    s.dyn_dtree[d_code(dist) * 2]++;
  }
  return s.last_lit === s.lit_bufsize - 1;
}

// node_modules/rollup-plugin-node-polyfills/polyfills/zlib-lib/adler32.js
function adler32(adler, buf, len, pos) {
  var s1 = adler & 65535 | 0, s2 = adler >>> 16 & 65535 | 0, n = 0;
  while (len !== 0) {
    n = len > 2e3 ? 2e3 : len;
    len -= n;
    do {
      s1 = s1 + buf[pos++] | 0;
      s2 = s2 + s1 | 0;
    } while (--n);
    s1 %= 65521;
    s2 %= 65521;
  }
  return s1 | s2 << 16 | 0;
}
var adler32_default = adler32;

// node_modules/rollup-plugin-node-polyfills/polyfills/zlib-lib/crc32.js
function makeTable() {
  var c, table = [];
  for (var n = 0; n < 256; n++) {
    c = n;
    for (var k = 0; k < 8; k++) {
      c = c & 1 ? 3988292384 ^ c >>> 1 : c >>> 1;
    }
    table[n] = c;
  }
  return table;
}
var crcTable = makeTable();
function crc32(crc, buf, len, pos) {
  var t = crcTable, end = pos + len;
  crc ^= -1;
  for (var i = pos; i < end; i++) {
    crc = crc >>> 8 ^ t[(crc ^ buf[i]) & 255];
  }
  return crc ^ -1;
}
var crc32_default = crc32;

// node_modules/rollup-plugin-node-polyfills/polyfills/zlib-lib/deflate.js
var Z_NO_FLUSH = 0;
var Z_PARTIAL_FLUSH = 1;
var Z_FULL_FLUSH = 3;
var Z_FINISH = 4;
var Z_BLOCK = 5;
var Z_OK = 0;
var Z_STREAM_END = 1;
var Z_STREAM_ERROR = -2;
var Z_DATA_ERROR = -3;
var Z_BUF_ERROR = -5;
var Z_DEFAULT_COMPRESSION = -1;
var Z_FILTERED = 1;
var Z_HUFFMAN_ONLY = 2;
var Z_RLE = 3;
var Z_FIXED2 = 4;
var Z_UNKNOWN2 = 2;
var Z_DEFLATED = 8;
var MAX_MEM_LEVEL = 9;
var LENGTH_CODES2 = 29;
var LITERALS2 = 256;
var L_CODES2 = LITERALS2 + 1 + LENGTH_CODES2;
var D_CODES2 = 30;
var BL_CODES2 = 19;
var HEAP_SIZE2 = 2 * L_CODES2 + 1;
var MAX_BITS2 = 15;
var MIN_MATCH2 = 3;
var MAX_MATCH2 = 258;
var MIN_LOOKAHEAD = MAX_MATCH2 + MIN_MATCH2 + 1;
var PRESET_DICT = 32;
var INIT_STATE = 42;
var EXTRA_STATE = 69;
var NAME_STATE = 73;
var COMMENT_STATE = 91;
var HCRC_STATE = 103;
var BUSY_STATE = 113;
var FINISH_STATE = 666;
var BS_NEED_MORE = 1;
var BS_BLOCK_DONE = 2;
var BS_FINISH_STARTED = 3;
var BS_FINISH_DONE = 4;
var OS_CODE = 3;
function err(strm, errorCode) {
  strm.msg = messages_default[errorCode];
  return errorCode;
}
function rank(f) {
  return (f << 1) - (f > 4 ? 9 : 0);
}
function zero2(buf) {
  var len = buf.length;
  while (--len >= 0) {
    buf[len] = 0;
  }
}
function flush_pending(strm) {
  var s = strm.state;
  var len = s.pending;
  if (len > strm.avail_out) {
    len = strm.avail_out;
  }
  if (len === 0) {
    return;
  }
  arraySet(strm.output, s.pending_buf, s.pending_out, len, strm.next_out);
  strm.next_out += len;
  s.pending_out += len;
  strm.total_out += len;
  strm.avail_out -= len;
  s.pending -= len;
  if (s.pending === 0) {
    s.pending_out = 0;
  }
}
function flush_block_only(s, last) {
  _tr_flush_block(s, s.block_start >= 0 ? s.block_start : -1, s.strstart - s.block_start, last);
  s.block_start = s.strstart;
  flush_pending(s.strm);
}
function put_byte(s, b) {
  s.pending_buf[s.pending++] = b;
}
function putShortMSB(s, b) {
  s.pending_buf[s.pending++] = b >>> 8 & 255;
  s.pending_buf[s.pending++] = b & 255;
}
function read_buf(strm, buf, start, size) {
  var len = strm.avail_in;
  if (len > size) {
    len = size;
  }
  if (len === 0) {
    return 0;
  }
  strm.avail_in -= len;
  arraySet(buf, strm.input, strm.next_in, len, start);
  if (strm.state.wrap === 1) {
    strm.adler = adler32_default(strm.adler, buf, len, start);
  } else if (strm.state.wrap === 2) {
    strm.adler = crc32_default(strm.adler, buf, len, start);
  }
  strm.next_in += len;
  strm.total_in += len;
  return len;
}
function longest_match(s, cur_match) {
  var chain_length = s.max_chain_length;
  var scan = s.strstart;
  var match;
  var len;
  var best_len = s.prev_length;
  var nice_match = s.nice_match;
  var limit = s.strstart > s.w_size - MIN_LOOKAHEAD ? s.strstart - (s.w_size - MIN_LOOKAHEAD) : 0;
  var _win = s.window;
  var wmask = s.w_mask;
  var prev = s.prev;
  var strend = s.strstart + MAX_MATCH2;
  var scan_end1 = _win[scan + best_len - 1];
  var scan_end = _win[scan + best_len];
  if (s.prev_length >= s.good_match) {
    chain_length >>= 2;
  }
  if (nice_match > s.lookahead) {
    nice_match = s.lookahead;
  }
  do {
    match = cur_match;
    if (_win[match + best_len] !== scan_end || _win[match + best_len - 1] !== scan_end1 || _win[match] !== _win[scan] || _win[++match] !== _win[scan + 1]) {
      continue;
    }
    scan += 2;
    match++;
    do {
    } while (_win[++scan] === _win[++match] && _win[++scan] === _win[++match] && _win[++scan] === _win[++match] && _win[++scan] === _win[++match] && _win[++scan] === _win[++match] && _win[++scan] === _win[++match] && _win[++scan] === _win[++match] && _win[++scan] === _win[++match] && scan < strend);
    len = MAX_MATCH2 - (strend - scan);
    scan = strend - MAX_MATCH2;
    if (len > best_len) {
      s.match_start = cur_match;
      best_len = len;
      if (len >= nice_match) {
        break;
      }
      scan_end1 = _win[scan + best_len - 1];
      scan_end = _win[scan + best_len];
    }
  } while ((cur_match = prev[cur_match & wmask]) > limit && --chain_length !== 0);
  if (best_len <= s.lookahead) {
    return best_len;
  }
  return s.lookahead;
}
function fill_window(s) {
  var _w_size = s.w_size;
  var p, n, m, more, str;
  do {
    more = s.window_size - s.lookahead - s.strstart;
    if (s.strstart >= _w_size + (_w_size - MIN_LOOKAHEAD)) {
      arraySet(s.window, s.window, _w_size, _w_size, 0);
      s.match_start -= _w_size;
      s.strstart -= _w_size;
      s.block_start -= _w_size;
      n = s.hash_size;
      p = n;
      do {
        m = s.head[--p];
        s.head[p] = m >= _w_size ? m - _w_size : 0;
      } while (--n);
      n = _w_size;
      p = n;
      do {
        m = s.prev[--p];
        s.prev[p] = m >= _w_size ? m - _w_size : 0;
      } while (--n);
      more += _w_size;
    }
    if (s.strm.avail_in === 0) {
      break;
    }
    n = read_buf(s.strm, s.window, s.strstart + s.lookahead, more);
    s.lookahead += n;
    if (s.lookahead + s.insert >= MIN_MATCH2) {
      str = s.strstart - s.insert;
      s.ins_h = s.window[str];
      s.ins_h = (s.ins_h << s.hash_shift ^ s.window[str + 1]) & s.hash_mask;
      while (s.insert) {
        s.ins_h = (s.ins_h << s.hash_shift ^ s.window[str + MIN_MATCH2 - 1]) & s.hash_mask;
        s.prev[str & s.w_mask] = s.head[s.ins_h];
        s.head[s.ins_h] = str;
        str++;
        s.insert--;
        if (s.lookahead + s.insert < MIN_MATCH2) {
          break;
        }
      }
    }
  } while (s.lookahead < MIN_LOOKAHEAD && s.strm.avail_in !== 0);
}
function deflate_stored(s, flush) {
  var max_block_size = 65535;
  if (max_block_size > s.pending_buf_size - 5) {
    max_block_size = s.pending_buf_size - 5;
  }
  for (; ; ) {
    if (s.lookahead <= 1) {
      fill_window(s);
      if (s.lookahead === 0 && flush === Z_NO_FLUSH) {
        return BS_NEED_MORE;
      }
      if (s.lookahead === 0) {
        break;
      }
    }
    s.strstart += s.lookahead;
    s.lookahead = 0;
    var max_start = s.block_start + max_block_size;
    if (s.strstart === 0 || s.strstart >= max_start) {
      s.lookahead = s.strstart - max_start;
      s.strstart = max_start;
      flush_block_only(s, false);
      if (s.strm.avail_out === 0) {
        return BS_NEED_MORE;
      }
    }
    if (s.strstart - s.block_start >= s.w_size - MIN_LOOKAHEAD) {
      flush_block_only(s, false);
      if (s.strm.avail_out === 0) {
        return BS_NEED_MORE;
      }
    }
  }
  s.insert = 0;
  if (flush === Z_FINISH) {
    flush_block_only(s, true);
    if (s.strm.avail_out === 0) {
      return BS_FINISH_STARTED;
    }
    return BS_FINISH_DONE;
  }
  if (s.strstart > s.block_start) {
    flush_block_only(s, false);
    if (s.strm.avail_out === 0) {
      return BS_NEED_MORE;
    }
  }
  return BS_NEED_MORE;
}
function deflate_fast(s, flush) {
  var hash_head;
  var bflush;
  for (; ; ) {
    if (s.lookahead < MIN_LOOKAHEAD) {
      fill_window(s);
      if (s.lookahead < MIN_LOOKAHEAD && flush === Z_NO_FLUSH) {
        return BS_NEED_MORE;
      }
      if (s.lookahead === 0) {
        break;
      }
    }
    hash_head = 0;
    if (s.lookahead >= MIN_MATCH2) {
      s.ins_h = (s.ins_h << s.hash_shift ^ s.window[s.strstart + MIN_MATCH2 - 1]) & s.hash_mask;
      hash_head = s.prev[s.strstart & s.w_mask] = s.head[s.ins_h];
      s.head[s.ins_h] = s.strstart;
    }
    if (hash_head !== 0 && s.strstart - hash_head <= s.w_size - MIN_LOOKAHEAD) {
      s.match_length = longest_match(s, hash_head);
    }
    if (s.match_length >= MIN_MATCH2) {
      bflush = _tr_tally(s, s.strstart - s.match_start, s.match_length - MIN_MATCH2);
      s.lookahead -= s.match_length;
      if (s.match_length <= s.max_lazy_match && s.lookahead >= MIN_MATCH2) {
        s.match_length--;
        do {
          s.strstart++;
          s.ins_h = (s.ins_h << s.hash_shift ^ s.window[s.strstart + MIN_MATCH2 - 1]) & s.hash_mask;
          hash_head = s.prev[s.strstart & s.w_mask] = s.head[s.ins_h];
          s.head[s.ins_h] = s.strstart;
        } while (--s.match_length !== 0);
        s.strstart++;
      } else {
        s.strstart += s.match_length;
        s.match_length = 0;
        s.ins_h = s.window[s.strstart];
        s.ins_h = (s.ins_h << s.hash_shift ^ s.window[s.strstart + 1]) & s.hash_mask;
      }
    } else {
      bflush = _tr_tally(s, 0, s.window[s.strstart]);
      s.lookahead--;
      s.strstart++;
    }
    if (bflush) {
      flush_block_only(s, false);
      if (s.strm.avail_out === 0) {
        return BS_NEED_MORE;
      }
    }
  }
  s.insert = s.strstart < MIN_MATCH2 - 1 ? s.strstart : MIN_MATCH2 - 1;
  if (flush === Z_FINISH) {
    flush_block_only(s, true);
    if (s.strm.avail_out === 0) {
      return BS_FINISH_STARTED;
    }
    return BS_FINISH_DONE;
  }
  if (s.last_lit) {
    flush_block_only(s, false);
    if (s.strm.avail_out === 0) {
      return BS_NEED_MORE;
    }
  }
  return BS_BLOCK_DONE;
}
function deflate_slow(s, flush) {
  var hash_head;
  var bflush;
  var max_insert;
  for (; ; ) {
    if (s.lookahead < MIN_LOOKAHEAD) {
      fill_window(s);
      if (s.lookahead < MIN_LOOKAHEAD && flush === Z_NO_FLUSH) {
        return BS_NEED_MORE;
      }
      if (s.lookahead === 0) {
        break;
      }
    }
    hash_head = 0;
    if (s.lookahead >= MIN_MATCH2) {
      s.ins_h = (s.ins_h << s.hash_shift ^ s.window[s.strstart + MIN_MATCH2 - 1]) & s.hash_mask;
      hash_head = s.prev[s.strstart & s.w_mask] = s.head[s.ins_h];
      s.head[s.ins_h] = s.strstart;
    }
    s.prev_length = s.match_length;
    s.prev_match = s.match_start;
    s.match_length = MIN_MATCH2 - 1;
    if (hash_head !== 0 && s.prev_length < s.max_lazy_match && s.strstart - hash_head <= s.w_size - MIN_LOOKAHEAD) {
      s.match_length = longest_match(s, hash_head);
      if (s.match_length <= 5 && (s.strategy === Z_FILTERED || s.match_length === MIN_MATCH2 && s.strstart - s.match_start > 4096)) {
        s.match_length = MIN_MATCH2 - 1;
      }
    }
    if (s.prev_length >= MIN_MATCH2 && s.match_length <= s.prev_length) {
      max_insert = s.strstart + s.lookahead - MIN_MATCH2;
      bflush = _tr_tally(s, s.strstart - 1 - s.prev_match, s.prev_length - MIN_MATCH2);
      s.lookahead -= s.prev_length - 1;
      s.prev_length -= 2;
      do {
        if (++s.strstart <= max_insert) {
          s.ins_h = (s.ins_h << s.hash_shift ^ s.window[s.strstart + MIN_MATCH2 - 1]) & s.hash_mask;
          hash_head = s.prev[s.strstart & s.w_mask] = s.head[s.ins_h];
          s.head[s.ins_h] = s.strstart;
        }
      } while (--s.prev_length !== 0);
      s.match_available = 0;
      s.match_length = MIN_MATCH2 - 1;
      s.strstart++;
      if (bflush) {
        flush_block_only(s, false);
        if (s.strm.avail_out === 0) {
          return BS_NEED_MORE;
        }
      }
    } else if (s.match_available) {
      bflush = _tr_tally(s, 0, s.window[s.strstart - 1]);
      if (bflush) {
        flush_block_only(s, false);
      }
      s.strstart++;
      s.lookahead--;
      if (s.strm.avail_out === 0) {
        return BS_NEED_MORE;
      }
    } else {
      s.match_available = 1;
      s.strstart++;
      s.lookahead--;
    }
  }
  if (s.match_available) {
    bflush = _tr_tally(s, 0, s.window[s.strstart - 1]);
    s.match_available = 0;
  }
  s.insert = s.strstart < MIN_MATCH2 - 1 ? s.strstart : MIN_MATCH2 - 1;
  if (flush === Z_FINISH) {
    flush_block_only(s, true);
    if (s.strm.avail_out === 0) {
      return BS_FINISH_STARTED;
    }
    return BS_FINISH_DONE;
  }
  if (s.last_lit) {
    flush_block_only(s, false);
    if (s.strm.avail_out === 0) {
      return BS_NEED_MORE;
    }
  }
  return BS_BLOCK_DONE;
}
function deflate_rle(s, flush) {
  var bflush;
  var prev;
  var scan, strend;
  var _win = s.window;
  for (; ; ) {
    if (s.lookahead <= MAX_MATCH2) {
      fill_window(s);
      if (s.lookahead <= MAX_MATCH2 && flush === Z_NO_FLUSH) {
        return BS_NEED_MORE;
      }
      if (s.lookahead === 0) {
        break;
      }
    }
    s.match_length = 0;
    if (s.lookahead >= MIN_MATCH2 && s.strstart > 0) {
      scan = s.strstart - 1;
      prev = _win[scan];
      if (prev === _win[++scan] && prev === _win[++scan] && prev === _win[++scan]) {
        strend = s.strstart + MAX_MATCH2;
        do {
        } while (prev === _win[++scan] && prev === _win[++scan] && prev === _win[++scan] && prev === _win[++scan] && prev === _win[++scan] && prev === _win[++scan] && prev === _win[++scan] && prev === _win[++scan] && scan < strend);
        s.match_length = MAX_MATCH2 - (strend - scan);
        if (s.match_length > s.lookahead) {
          s.match_length = s.lookahead;
        }
      }
    }
    if (s.match_length >= MIN_MATCH2) {
      bflush = _tr_tally(s, 1, s.match_length - MIN_MATCH2);
      s.lookahead -= s.match_length;
      s.strstart += s.match_length;
      s.match_length = 0;
    } else {
      bflush = _tr_tally(s, 0, s.window[s.strstart]);
      s.lookahead--;
      s.strstart++;
    }
    if (bflush) {
      flush_block_only(s, false);
      if (s.strm.avail_out === 0) {
        return BS_NEED_MORE;
      }
    }
  }
  s.insert = 0;
  if (flush === Z_FINISH) {
    flush_block_only(s, true);
    if (s.strm.avail_out === 0) {
      return BS_FINISH_STARTED;
    }
    return BS_FINISH_DONE;
  }
  if (s.last_lit) {
    flush_block_only(s, false);
    if (s.strm.avail_out === 0) {
      return BS_NEED_MORE;
    }
  }
  return BS_BLOCK_DONE;
}
function deflate_huff(s, flush) {
  var bflush;
  for (; ; ) {
    if (s.lookahead === 0) {
      fill_window(s);
      if (s.lookahead === 0) {
        if (flush === Z_NO_FLUSH) {
          return BS_NEED_MORE;
        }
        break;
      }
    }
    s.match_length = 0;
    bflush = _tr_tally(s, 0, s.window[s.strstart]);
    s.lookahead--;
    s.strstart++;
    if (bflush) {
      flush_block_only(s, false);
      if (s.strm.avail_out === 0) {
        return BS_NEED_MORE;
      }
    }
  }
  s.insert = 0;
  if (flush === Z_FINISH) {
    flush_block_only(s, true);
    if (s.strm.avail_out === 0) {
      return BS_FINISH_STARTED;
    }
    return BS_FINISH_DONE;
  }
  if (s.last_lit) {
    flush_block_only(s, false);
    if (s.strm.avail_out === 0) {
      return BS_NEED_MORE;
    }
  }
  return BS_BLOCK_DONE;
}
function Config(good_length, max_lazy, nice_length, max_chain, func) {
  this.good_length = good_length;
  this.max_lazy = max_lazy;
  this.nice_length = nice_length;
  this.max_chain = max_chain;
  this.func = func;
}
var configuration_table;
configuration_table = [
  /*      good lazy nice chain */
  new Config(0, 0, 0, 0, deflate_stored),
  /* 0 store only */
  new Config(4, 4, 8, 4, deflate_fast),
  /* 1 max speed, no lazy matches */
  new Config(4, 5, 16, 8, deflate_fast),
  /* 2 */
  new Config(4, 6, 32, 32, deflate_fast),
  /* 3 */
  new Config(4, 4, 16, 16, deflate_slow),
  /* 4 lazy matches */
  new Config(8, 16, 32, 32, deflate_slow),
  /* 5 */
  new Config(8, 16, 128, 128, deflate_slow),
  /* 6 */
  new Config(8, 32, 128, 256, deflate_slow),
  /* 7 */
  new Config(32, 128, 258, 1024, deflate_slow),
  /* 8 */
  new Config(32, 258, 258, 4096, deflate_slow)
  /* 9 max compression */
];
function lm_init(s) {
  s.window_size = 2 * s.w_size;
  zero2(s.head);
  s.max_lazy_match = configuration_table[s.level].max_lazy;
  s.good_match = configuration_table[s.level].good_length;
  s.nice_match = configuration_table[s.level].nice_length;
  s.max_chain_length = configuration_table[s.level].max_chain;
  s.strstart = 0;
  s.block_start = 0;
  s.lookahead = 0;
  s.insert = 0;
  s.match_length = s.prev_length = MIN_MATCH2 - 1;
  s.match_available = 0;
  s.ins_h = 0;
}
function DeflateState() {
  this.strm = null;
  this.status = 0;
  this.pending_buf = null;
  this.pending_buf_size = 0;
  this.pending_out = 0;
  this.pending = 0;
  this.wrap = 0;
  this.gzhead = null;
  this.gzindex = 0;
  this.method = Z_DEFLATED;
  this.last_flush = -1;
  this.w_size = 0;
  this.w_bits = 0;
  this.w_mask = 0;
  this.window = null;
  this.window_size = 0;
  this.prev = null;
  this.head = null;
  this.ins_h = 0;
  this.hash_size = 0;
  this.hash_bits = 0;
  this.hash_mask = 0;
  this.hash_shift = 0;
  this.block_start = 0;
  this.match_length = 0;
  this.prev_match = 0;
  this.match_available = 0;
  this.strstart = 0;
  this.match_start = 0;
  this.lookahead = 0;
  this.prev_length = 0;
  this.max_chain_length = 0;
  this.max_lazy_match = 0;
  this.level = 0;
  this.strategy = 0;
  this.good_match = 0;
  this.nice_match = 0;
  this.dyn_ltree = new Buf16(HEAP_SIZE2 * 2);
  this.dyn_dtree = new Buf16((2 * D_CODES2 + 1) * 2);
  this.bl_tree = new Buf16((2 * BL_CODES2 + 1) * 2);
  zero2(this.dyn_ltree);
  zero2(this.dyn_dtree);
  zero2(this.bl_tree);
  this.l_desc = null;
  this.d_desc = null;
  this.bl_desc = null;
  this.bl_count = new Buf16(MAX_BITS2 + 1);
  this.heap = new Buf16(2 * L_CODES2 + 1);
  zero2(this.heap);
  this.heap_len = 0;
  this.heap_max = 0;
  this.depth = new Buf16(2 * L_CODES2 + 1);
  zero2(this.depth);
  this.l_buf = 0;
  this.lit_bufsize = 0;
  this.last_lit = 0;
  this.d_buf = 0;
  this.opt_len = 0;
  this.static_len = 0;
  this.matches = 0;
  this.insert = 0;
  this.bi_buf = 0;
  this.bi_valid = 0;
}
function deflateResetKeep(strm) {
  var s;
  if (!strm || !strm.state) {
    return err(strm, Z_STREAM_ERROR);
  }
  strm.total_in = strm.total_out = 0;
  strm.data_type = Z_UNKNOWN2;
  s = strm.state;
  s.pending = 0;
  s.pending_out = 0;
  if (s.wrap < 0) {
    s.wrap = -s.wrap;
  }
  s.status = s.wrap ? INIT_STATE : BUSY_STATE;
  strm.adler = s.wrap === 2 ? 0 : 1;
  s.last_flush = Z_NO_FLUSH;
  _tr_init(s);
  return Z_OK;
}
function deflateReset(strm) {
  var ret = deflateResetKeep(strm);
  if (ret === Z_OK) {
    lm_init(strm.state);
  }
  return ret;
}
function deflateInit2(strm, level, method, windowBits, memLevel, strategy) {
  if (!strm) {
    return Z_STREAM_ERROR;
  }
  var wrap = 1;
  if (level === Z_DEFAULT_COMPRESSION) {
    level = 6;
  }
  if (windowBits < 0) {
    wrap = 0;
    windowBits = -windowBits;
  } else if (windowBits > 15) {
    wrap = 2;
    windowBits -= 16;
  }
  if (memLevel < 1 || memLevel > MAX_MEM_LEVEL || method !== Z_DEFLATED || windowBits < 8 || windowBits > 15 || level < 0 || level > 9 || strategy < 0 || strategy > Z_FIXED2) {
    return err(strm, Z_STREAM_ERROR);
  }
  if (windowBits === 8) {
    windowBits = 9;
  }
  var s = new DeflateState();
  strm.state = s;
  s.strm = strm;
  s.wrap = wrap;
  s.gzhead = null;
  s.w_bits = windowBits;
  s.w_size = 1 << s.w_bits;
  s.w_mask = s.w_size - 1;
  s.hash_bits = memLevel + 7;
  s.hash_size = 1 << s.hash_bits;
  s.hash_mask = s.hash_size - 1;
  s.hash_shift = ~~((s.hash_bits + MIN_MATCH2 - 1) / MIN_MATCH2);
  s.window = new Buf8(s.w_size * 2);
  s.head = new Buf16(s.hash_size);
  s.prev = new Buf16(s.w_size);
  s.lit_bufsize = 1 << memLevel + 6;
  s.pending_buf_size = s.lit_bufsize * 4;
  s.pending_buf = new Buf8(s.pending_buf_size);
  s.d_buf = 1 * s.lit_bufsize;
  s.l_buf = (1 + 2) * s.lit_bufsize;
  s.level = level;
  s.strategy = strategy;
  s.method = method;
  return deflateReset(strm);
}
function deflate(strm, flush) {
  var old_flush, s;
  var beg, val;
  if (!strm || !strm.state || flush > Z_BLOCK || flush < 0) {
    return strm ? err(strm, Z_STREAM_ERROR) : Z_STREAM_ERROR;
  }
  s = strm.state;
  if (!strm.output || !strm.input && strm.avail_in !== 0 || s.status === FINISH_STATE && flush !== Z_FINISH) {
    return err(strm, strm.avail_out === 0 ? Z_BUF_ERROR : Z_STREAM_ERROR);
  }
  s.strm = strm;
  old_flush = s.last_flush;
  s.last_flush = flush;
  if (s.status === INIT_STATE) {
    if (s.wrap === 2) {
      strm.adler = 0;
      put_byte(s, 31);
      put_byte(s, 139);
      put_byte(s, 8);
      if (!s.gzhead) {
        put_byte(s, 0);
        put_byte(s, 0);
        put_byte(s, 0);
        put_byte(s, 0);
        put_byte(s, 0);
        put_byte(s, s.level === 9 ? 2 : s.strategy >= Z_HUFFMAN_ONLY || s.level < 2 ? 4 : 0);
        put_byte(s, OS_CODE);
        s.status = BUSY_STATE;
      } else {
        put_byte(
          s,
          (s.gzhead.text ? 1 : 0) + (s.gzhead.hcrc ? 2 : 0) + (!s.gzhead.extra ? 0 : 4) + (!s.gzhead.name ? 0 : 8) + (!s.gzhead.comment ? 0 : 16)
        );
        put_byte(s, s.gzhead.time & 255);
        put_byte(s, s.gzhead.time >> 8 & 255);
        put_byte(s, s.gzhead.time >> 16 & 255);
        put_byte(s, s.gzhead.time >> 24 & 255);
        put_byte(s, s.level === 9 ? 2 : s.strategy >= Z_HUFFMAN_ONLY || s.level < 2 ? 4 : 0);
        put_byte(s, s.gzhead.os & 255);
        if (s.gzhead.extra && s.gzhead.extra.length) {
          put_byte(s, s.gzhead.extra.length & 255);
          put_byte(s, s.gzhead.extra.length >> 8 & 255);
        }
        if (s.gzhead.hcrc) {
          strm.adler = crc32_default(strm.adler, s.pending_buf, s.pending, 0);
        }
        s.gzindex = 0;
        s.status = EXTRA_STATE;
      }
    } else {
      var header = Z_DEFLATED + (s.w_bits - 8 << 4) << 8;
      var level_flags = -1;
      if (s.strategy >= Z_HUFFMAN_ONLY || s.level < 2) {
        level_flags = 0;
      } else if (s.level < 6) {
        level_flags = 1;
      } else if (s.level === 6) {
        level_flags = 2;
      } else {
        level_flags = 3;
      }
      header |= level_flags << 6;
      if (s.strstart !== 0) {
        header |= PRESET_DICT;
      }
      header += 31 - header % 31;
      s.status = BUSY_STATE;
      putShortMSB(s, header);
      if (s.strstart !== 0) {
        putShortMSB(s, strm.adler >>> 16);
        putShortMSB(s, strm.adler & 65535);
      }
      strm.adler = 1;
    }
  }
  if (s.status === EXTRA_STATE) {
    if (s.gzhead.extra) {
      beg = s.pending;
      while (s.gzindex < (s.gzhead.extra.length & 65535)) {
        if (s.pending === s.pending_buf_size) {
          if (s.gzhead.hcrc && s.pending > beg) {
            strm.adler = crc32_default(strm.adler, s.pending_buf, s.pending - beg, beg);
          }
          flush_pending(strm);
          beg = s.pending;
          if (s.pending === s.pending_buf_size) {
            break;
          }
        }
        put_byte(s, s.gzhead.extra[s.gzindex] & 255);
        s.gzindex++;
      }
      if (s.gzhead.hcrc && s.pending > beg) {
        strm.adler = crc32_default(strm.adler, s.pending_buf, s.pending - beg, beg);
      }
      if (s.gzindex === s.gzhead.extra.length) {
        s.gzindex = 0;
        s.status = NAME_STATE;
      }
    } else {
      s.status = NAME_STATE;
    }
  }
  if (s.status === NAME_STATE) {
    if (s.gzhead.name) {
      beg = s.pending;
      do {
        if (s.pending === s.pending_buf_size) {
          if (s.gzhead.hcrc && s.pending > beg) {
            strm.adler = crc32_default(strm.adler, s.pending_buf, s.pending - beg, beg);
          }
          flush_pending(strm);
          beg = s.pending;
          if (s.pending === s.pending_buf_size) {
            val = 1;
            break;
          }
        }
        if (s.gzindex < s.gzhead.name.length) {
          val = s.gzhead.name.charCodeAt(s.gzindex++) & 255;
        } else {
          val = 0;
        }
        put_byte(s, val);
      } while (val !== 0);
      if (s.gzhead.hcrc && s.pending > beg) {
        strm.adler = crc32_default(strm.adler, s.pending_buf, s.pending - beg, beg);
      }
      if (val === 0) {
        s.gzindex = 0;
        s.status = COMMENT_STATE;
      }
    } else {
      s.status = COMMENT_STATE;
    }
  }
  if (s.status === COMMENT_STATE) {
    if (s.gzhead.comment) {
      beg = s.pending;
      do {
        if (s.pending === s.pending_buf_size) {
          if (s.gzhead.hcrc && s.pending > beg) {
            strm.adler = crc32_default(strm.adler, s.pending_buf, s.pending - beg, beg);
          }
          flush_pending(strm);
          beg = s.pending;
          if (s.pending === s.pending_buf_size) {
            val = 1;
            break;
          }
        }
        if (s.gzindex < s.gzhead.comment.length) {
          val = s.gzhead.comment.charCodeAt(s.gzindex++) & 255;
        } else {
          val = 0;
        }
        put_byte(s, val);
      } while (val !== 0);
      if (s.gzhead.hcrc && s.pending > beg) {
        strm.adler = crc32_default(strm.adler, s.pending_buf, s.pending - beg, beg);
      }
      if (val === 0) {
        s.status = HCRC_STATE;
      }
    } else {
      s.status = HCRC_STATE;
    }
  }
  if (s.status === HCRC_STATE) {
    if (s.gzhead.hcrc) {
      if (s.pending + 2 > s.pending_buf_size) {
        flush_pending(strm);
      }
      if (s.pending + 2 <= s.pending_buf_size) {
        put_byte(s, strm.adler & 255);
        put_byte(s, strm.adler >> 8 & 255);
        strm.adler = 0;
        s.status = BUSY_STATE;
      }
    } else {
      s.status = BUSY_STATE;
    }
  }
  if (s.pending !== 0) {
    flush_pending(strm);
    if (strm.avail_out === 0) {
      s.last_flush = -1;
      return Z_OK;
    }
  } else if (strm.avail_in === 0 && rank(flush) <= rank(old_flush) && flush !== Z_FINISH) {
    return err(strm, Z_BUF_ERROR);
  }
  if (s.status === FINISH_STATE && strm.avail_in !== 0) {
    return err(strm, Z_BUF_ERROR);
  }
  if (strm.avail_in !== 0 || s.lookahead !== 0 || flush !== Z_NO_FLUSH && s.status !== FINISH_STATE) {
    var bstate = s.strategy === Z_HUFFMAN_ONLY ? deflate_huff(s, flush) : s.strategy === Z_RLE ? deflate_rle(s, flush) : configuration_table[s.level].func(s, flush);
    if (bstate === BS_FINISH_STARTED || bstate === BS_FINISH_DONE) {
      s.status = FINISH_STATE;
    }
    if (bstate === BS_NEED_MORE || bstate === BS_FINISH_STARTED) {
      if (strm.avail_out === 0) {
        s.last_flush = -1;
      }
      return Z_OK;
    }
    if (bstate === BS_BLOCK_DONE) {
      if (flush === Z_PARTIAL_FLUSH) {
        _tr_align(s);
      } else if (flush !== Z_BLOCK) {
        _tr_stored_block(s, 0, 0, false);
        if (flush === Z_FULL_FLUSH) {
          zero2(s.head);
          if (s.lookahead === 0) {
            s.strstart = 0;
            s.block_start = 0;
            s.insert = 0;
          }
        }
      }
      flush_pending(strm);
      if (strm.avail_out === 0) {
        s.last_flush = -1;
        return Z_OK;
      }
    }
  }
  if (flush !== Z_FINISH) {
    return Z_OK;
  }
  if (s.wrap <= 0) {
    return Z_STREAM_END;
  }
  if (s.wrap === 2) {
    put_byte(s, strm.adler & 255);
    put_byte(s, strm.adler >> 8 & 255);
    put_byte(s, strm.adler >> 16 & 255);
    put_byte(s, strm.adler >> 24 & 255);
    put_byte(s, strm.total_in & 255);
    put_byte(s, strm.total_in >> 8 & 255);
    put_byte(s, strm.total_in >> 16 & 255);
    put_byte(s, strm.total_in >> 24 & 255);
  } else {
    putShortMSB(s, strm.adler >>> 16);
    putShortMSB(s, strm.adler & 65535);
  }
  flush_pending(strm);
  if (s.wrap > 0) {
    s.wrap = -s.wrap;
  }
  return s.pending !== 0 ? Z_OK : Z_STREAM_END;
}
function deflateEnd(strm) {
  var status2;
  if (!strm || !strm.state) {
    return Z_STREAM_ERROR;
  }
  status2 = strm.state.status;
  if (status2 !== INIT_STATE && status2 !== EXTRA_STATE && status2 !== NAME_STATE && status2 !== COMMENT_STATE && status2 !== HCRC_STATE && status2 !== BUSY_STATE && status2 !== FINISH_STATE) {
    return err(strm, Z_STREAM_ERROR);
  }
  strm.state = null;
  return status2 === BUSY_STATE ? err(strm, Z_DATA_ERROR) : Z_OK;
}

// node_modules/rollup-plugin-node-polyfills/polyfills/zlib-lib/inffast.js
var BAD = 30;
var TYPE = 12;
function inflate_fast(strm, start) {
  var state;
  var _in;
  var last;
  var _out;
  var beg;
  var end;
  var dmax;
  var wsize;
  var whave;
  var wnext;
  var s_window;
  var hold;
  var bits;
  var lcode;
  var dcode;
  var lmask;
  var dmask;
  var here;
  var op;
  var len;
  var dist;
  var from2;
  var from_source;
  var input, output;
  state = strm.state;
  _in = strm.next_in;
  input = strm.input;
  last = _in + (strm.avail_in - 5);
  _out = strm.next_out;
  output = strm.output;
  beg = _out - (start - strm.avail_out);
  end = _out + (strm.avail_out - 257);
  dmax = state.dmax;
  wsize = state.wsize;
  whave = state.whave;
  wnext = state.wnext;
  s_window = state.window;
  hold = state.hold;
  bits = state.bits;
  lcode = state.lencode;
  dcode = state.distcode;
  lmask = (1 << state.lenbits) - 1;
  dmask = (1 << state.distbits) - 1;
  top:
    do {
      if (bits < 15) {
        hold += input[_in++] << bits;
        bits += 8;
        hold += input[_in++] << bits;
        bits += 8;
      }
      here = lcode[hold & lmask];
      dolen:
        for (; ; ) {
          op = here >>> 24;
          hold >>>= op;
          bits -= op;
          op = here >>> 16 & 255;
          if (op === 0) {
            output[_out++] = here & 65535;
          } else if (op & 16) {
            len = here & 65535;
            op &= 15;
            if (op) {
              if (bits < op) {
                hold += input[_in++] << bits;
                bits += 8;
              }
              len += hold & (1 << op) - 1;
              hold >>>= op;
              bits -= op;
            }
            if (bits < 15) {
              hold += input[_in++] << bits;
              bits += 8;
              hold += input[_in++] << bits;
              bits += 8;
            }
            here = dcode[hold & dmask];
            dodist:
              for (; ; ) {
                op = here >>> 24;
                hold >>>= op;
                bits -= op;
                op = here >>> 16 & 255;
                if (op & 16) {
                  dist = here & 65535;
                  op &= 15;
                  if (bits < op) {
                    hold += input[_in++] << bits;
                    bits += 8;
                    if (bits < op) {
                      hold += input[_in++] << bits;
                      bits += 8;
                    }
                  }
                  dist += hold & (1 << op) - 1;
                  if (dist > dmax) {
                    strm.msg = "invalid distance too far back";
                    state.mode = BAD;
                    break top;
                  }
                  hold >>>= op;
                  bits -= op;
                  op = _out - beg;
                  if (dist > op) {
                    op = dist - op;
                    if (op > whave) {
                      if (state.sane) {
                        strm.msg = "invalid distance too far back";
                        state.mode = BAD;
                        break top;
                      }
                    }
                    from2 = 0;
                    from_source = s_window;
                    if (wnext === 0) {
                      from2 += wsize - op;
                      if (op < len) {
                        len -= op;
                        do {
                          output[_out++] = s_window[from2++];
                        } while (--op);
                        from2 = _out - dist;
                        from_source = output;
                      }
                    } else if (wnext < op) {
                      from2 += wsize + wnext - op;
                      op -= wnext;
                      if (op < len) {
                        len -= op;
                        do {
                          output[_out++] = s_window[from2++];
                        } while (--op);
                        from2 = 0;
                        if (wnext < len) {
                          op = wnext;
                          len -= op;
                          do {
                            output[_out++] = s_window[from2++];
                          } while (--op);
                          from2 = _out - dist;
                          from_source = output;
                        }
                      }
                    } else {
                      from2 += wnext - op;
                      if (op < len) {
                        len -= op;
                        do {
                          output[_out++] = s_window[from2++];
                        } while (--op);
                        from2 = _out - dist;
                        from_source = output;
                      }
                    }
                    while (len > 2) {
                      output[_out++] = from_source[from2++];
                      output[_out++] = from_source[from2++];
                      output[_out++] = from_source[from2++];
                      len -= 3;
                    }
                    if (len) {
                      output[_out++] = from_source[from2++];
                      if (len > 1) {
                        output[_out++] = from_source[from2++];
                      }
                    }
                  } else {
                    from2 = _out - dist;
                    do {
                      output[_out++] = output[from2++];
                      output[_out++] = output[from2++];
                      output[_out++] = output[from2++];
                      len -= 3;
                    } while (len > 2);
                    if (len) {
                      output[_out++] = output[from2++];
                      if (len > 1) {
                        output[_out++] = output[from2++];
                      }
                    }
                  }
                } else if ((op & 64) === 0) {
                  here = dcode[(here & 65535) + (hold & (1 << op) - 1)];
                  continue dodist;
                } else {
                  strm.msg = "invalid distance code";
                  state.mode = BAD;
                  break top;
                }
                break;
              }
          } else if ((op & 64) === 0) {
            here = lcode[(here & 65535) + (hold & (1 << op) - 1)];
            continue dolen;
          } else if (op & 32) {
            state.mode = TYPE;
            break top;
          } else {
            strm.msg = "invalid literal/length code";
            state.mode = BAD;
            break top;
          }
          break;
        }
    } while (_in < last && _out < end);
  len = bits >> 3;
  _in -= len;
  bits -= len << 3;
  hold &= (1 << bits) - 1;
  strm.next_in = _in;
  strm.next_out = _out;
  strm.avail_in = _in < last ? 5 + (last - _in) : 5 - (_in - last);
  strm.avail_out = _out < end ? 257 + (end - _out) : 257 - (_out - end);
  state.hold = hold;
  state.bits = bits;
  return;
}

// node_modules/rollup-plugin-node-polyfills/polyfills/zlib-lib/inftrees.js
var MAXBITS = 15;
var ENOUGH_LENS = 852;
var ENOUGH_DISTS = 592;
var CODES = 0;
var LENS = 1;
var DISTS = 2;
var lbase = [
  /* Length codes 257..285 base */
  3,
  4,
  5,
  6,
  7,
  8,
  9,
  10,
  11,
  13,
  15,
  17,
  19,
  23,
  27,
  31,
  35,
  43,
  51,
  59,
  67,
  83,
  99,
  115,
  131,
  163,
  195,
  227,
  258,
  0,
  0
];
var lext = [
  /* Length codes 257..285 extra */
  16,
  16,
  16,
  16,
  16,
  16,
  16,
  16,
  17,
  17,
  17,
  17,
  18,
  18,
  18,
  18,
  19,
  19,
  19,
  19,
  20,
  20,
  20,
  20,
  21,
  21,
  21,
  21,
  16,
  72,
  78
];
var dbase = [
  /* Distance codes 0..29 base */
  1,
  2,
  3,
  4,
  5,
  7,
  9,
  13,
  17,
  25,
  33,
  49,
  65,
  97,
  129,
  193,
  257,
  385,
  513,
  769,
  1025,
  1537,
  2049,
  3073,
  4097,
  6145,
  8193,
  12289,
  16385,
  24577,
  0,
  0
];
var dext = [
  /* Distance codes 0..29 extra */
  16,
  16,
  16,
  16,
  17,
  17,
  18,
  18,
  19,
  19,
  20,
  20,
  21,
  21,
  22,
  22,
  23,
  23,
  24,
  24,
  25,
  25,
  26,
  26,
  27,
  27,
  28,
  28,
  29,
  29,
  64,
  64
];
function inflate_table(type, lens, lens_index, codes2, table, table_index, work, opts) {
  var bits = opts.bits;
  var len = 0;
  var sym = 0;
  var min = 0, max = 0;
  var root = 0;
  var curr = 0;
  var drop = 0;
  var left = 0;
  var used = 0;
  var huff = 0;
  var incr;
  var fill2;
  var low;
  var mask;
  var next;
  var base = null;
  var base_index = 0;
  var end;
  var count = new Buf16(MAXBITS + 1);
  var offs = new Buf16(MAXBITS + 1);
  var extra = null;
  var extra_index = 0;
  var here_bits, here_op, here_val;
  for (len = 0; len <= MAXBITS; len++) {
    count[len] = 0;
  }
  for (sym = 0; sym < codes2; sym++) {
    count[lens[lens_index + sym]]++;
  }
  root = bits;
  for (max = MAXBITS; max >= 1; max--) {
    if (count[max] !== 0) {
      break;
    }
  }
  if (root > max) {
    root = max;
  }
  if (max === 0) {
    table[table_index++] = 1 << 24 | 64 << 16 | 0;
    table[table_index++] = 1 << 24 | 64 << 16 | 0;
    opts.bits = 1;
    return 0;
  }
  for (min = 1; min < max; min++) {
    if (count[min] !== 0) {
      break;
    }
  }
  if (root < min) {
    root = min;
  }
  left = 1;
  for (len = 1; len <= MAXBITS; len++) {
    left <<= 1;
    left -= count[len];
    if (left < 0) {
      return -1;
    }
  }
  if (left > 0 && (type === CODES || max !== 1)) {
    return -1;
  }
  offs[1] = 0;
  for (len = 1; len < MAXBITS; len++) {
    offs[len + 1] = offs[len] + count[len];
  }
  for (sym = 0; sym < codes2; sym++) {
    if (lens[lens_index + sym] !== 0) {
      work[offs[lens[lens_index + sym]]++] = sym;
    }
  }
  if (type === CODES) {
    base = extra = work;
    end = 19;
  } else if (type === LENS) {
    base = lbase;
    base_index -= 257;
    extra = lext;
    extra_index -= 257;
    end = 256;
  } else {
    base = dbase;
    extra = dext;
    end = -1;
  }
  huff = 0;
  sym = 0;
  len = min;
  next = table_index;
  curr = root;
  drop = 0;
  low = -1;
  used = 1 << root;
  mask = used - 1;
  if (type === LENS && used > ENOUGH_LENS || type === DISTS && used > ENOUGH_DISTS) {
    return 1;
  }
  var i = 0;
  for (; ; ) {
    i++;
    here_bits = len - drop;
    if (work[sym] < end) {
      here_op = 0;
      here_val = work[sym];
    } else if (work[sym] > end) {
      here_op = extra[extra_index + work[sym]];
      here_val = base[base_index + work[sym]];
    } else {
      here_op = 32 + 64;
      here_val = 0;
    }
    incr = 1 << len - drop;
    fill2 = 1 << curr;
    min = fill2;
    do {
      fill2 -= incr;
      table[next + (huff >> drop) + fill2] = here_bits << 24 | here_op << 16 | here_val | 0;
    } while (fill2 !== 0);
    incr = 1 << len - 1;
    while (huff & incr) {
      incr >>= 1;
    }
    if (incr !== 0) {
      huff &= incr - 1;
      huff += incr;
    } else {
      huff = 0;
    }
    sym++;
    if (--count[len] === 0) {
      if (len === max) {
        break;
      }
      len = lens[lens_index + work[sym]];
    }
    if (len > root && (huff & mask) !== low) {
      if (drop === 0) {
        drop = root;
      }
      next += min;
      curr = len - drop;
      left = 1 << curr;
      while (curr + drop < max) {
        left -= count[curr + drop];
        if (left <= 0) {
          break;
        }
        curr++;
        left <<= 1;
      }
      used += 1 << curr;
      if (type === LENS && used > ENOUGH_LENS || type === DISTS && used > ENOUGH_DISTS) {
        return 1;
      }
      low = huff & mask;
      table[low] = root << 24 | curr << 16 | next - table_index | 0;
    }
  }
  if (huff !== 0) {
    table[next + huff] = len - drop << 24 | 64 << 16 | 0;
  }
  opts.bits = root;
  return 0;
}

// node_modules/rollup-plugin-node-polyfills/polyfills/zlib-lib/inflate.js
var CODES2 = 0;
var LENS2 = 1;
var DISTS2 = 2;
var Z_FINISH2 = 4;
var Z_BLOCK2 = 5;
var Z_TREES = 6;
var Z_OK2 = 0;
var Z_STREAM_END2 = 1;
var Z_NEED_DICT = 2;
var Z_STREAM_ERROR2 = -2;
var Z_DATA_ERROR2 = -3;
var Z_MEM_ERROR = -4;
var Z_BUF_ERROR2 = -5;
var Z_DEFLATED2 = 8;
var HEAD = 1;
var FLAGS = 2;
var TIME = 3;
var OS = 4;
var EXLEN = 5;
var EXTRA = 6;
var NAME = 7;
var COMMENT = 8;
var HCRC = 9;
var DICTID = 10;
var DICT = 11;
var TYPE2 = 12;
var TYPEDO = 13;
var STORED = 14;
var COPY_ = 15;
var COPY = 16;
var TABLE = 17;
var LENLENS = 18;
var CODELENS = 19;
var LEN_ = 20;
var LEN = 21;
var LENEXT = 22;
var DIST = 23;
var DISTEXT = 24;
var MATCH = 25;
var LIT = 26;
var CHECK = 27;
var LENGTH = 28;
var DONE = 29;
var BAD2 = 30;
var MEM = 31;
var SYNC = 32;
var ENOUGH_LENS2 = 852;
var ENOUGH_DISTS2 = 592;
function zswap32(q) {
  return (q >>> 24 & 255) + (q >>> 8 & 65280) + ((q & 65280) << 8) + ((q & 255) << 24);
}
function InflateState() {
  this.mode = 0;
  this.last = false;
  this.wrap = 0;
  this.havedict = false;
  this.flags = 0;
  this.dmax = 0;
  this.check = 0;
  this.total = 0;
  this.head = null;
  this.wbits = 0;
  this.wsize = 0;
  this.whave = 0;
  this.wnext = 0;
  this.window = null;
  this.hold = 0;
  this.bits = 0;
  this.length = 0;
  this.offset = 0;
  this.extra = 0;
  this.lencode = null;
  this.distcode = null;
  this.lenbits = 0;
  this.distbits = 0;
  this.ncode = 0;
  this.nlen = 0;
  this.ndist = 0;
  this.have = 0;
  this.next = null;
  this.lens = new Buf16(320);
  this.work = new Buf16(288);
  this.lendyn = null;
  this.distdyn = null;
  this.sane = 0;
  this.back = 0;
  this.was = 0;
}
function inflateResetKeep(strm) {
  var state;
  if (!strm || !strm.state) {
    return Z_STREAM_ERROR2;
  }
  state = strm.state;
  strm.total_in = strm.total_out = state.total = 0;
  strm.msg = "";
  if (state.wrap) {
    strm.adler = state.wrap & 1;
  }
  state.mode = HEAD;
  state.last = 0;
  state.havedict = 0;
  state.dmax = 32768;
  state.head = null;
  state.hold = 0;
  state.bits = 0;
  state.lencode = state.lendyn = new Buf32(ENOUGH_LENS2);
  state.distcode = state.distdyn = new Buf32(ENOUGH_DISTS2);
  state.sane = 1;
  state.back = -1;
  return Z_OK2;
}
function inflateReset(strm) {
  var state;
  if (!strm || !strm.state) {
    return Z_STREAM_ERROR2;
  }
  state = strm.state;
  state.wsize = 0;
  state.whave = 0;
  state.wnext = 0;
  return inflateResetKeep(strm);
}
function inflateReset2(strm, windowBits) {
  var wrap;
  var state;
  if (!strm || !strm.state) {
    return Z_STREAM_ERROR2;
  }
  state = strm.state;
  if (windowBits < 0) {
    wrap = 0;
    windowBits = -windowBits;
  } else {
    wrap = (windowBits >> 4) + 1;
    if (windowBits < 48) {
      windowBits &= 15;
    }
  }
  if (windowBits && (windowBits < 8 || windowBits > 15)) {
    return Z_STREAM_ERROR2;
  }
  if (state.window !== null && state.wbits !== windowBits) {
    state.window = null;
  }
  state.wrap = wrap;
  state.wbits = windowBits;
  return inflateReset(strm);
}
function inflateInit2(strm, windowBits) {
  var ret;
  var state;
  if (!strm) {
    return Z_STREAM_ERROR2;
  }
  state = new InflateState();
  strm.state = state;
  state.window = null;
  ret = inflateReset2(strm, windowBits);
  if (ret !== Z_OK2) {
    strm.state = null;
  }
  return ret;
}
var virgin = true;
var lenfix;
var distfix;
function fixedtables(state) {
  if (virgin) {
    var sym;
    lenfix = new Buf32(512);
    distfix = new Buf32(32);
    sym = 0;
    while (sym < 144) {
      state.lens[sym++] = 8;
    }
    while (sym < 256) {
      state.lens[sym++] = 9;
    }
    while (sym < 280) {
      state.lens[sym++] = 7;
    }
    while (sym < 288) {
      state.lens[sym++] = 8;
    }
    inflate_table(LENS2, state.lens, 0, 288, lenfix, 0, state.work, {
      bits: 9
    });
    sym = 0;
    while (sym < 32) {
      state.lens[sym++] = 5;
    }
    inflate_table(DISTS2, state.lens, 0, 32, distfix, 0, state.work, {
      bits: 5
    });
    virgin = false;
  }
  state.lencode = lenfix;
  state.lenbits = 9;
  state.distcode = distfix;
  state.distbits = 5;
}
function updatewindow(strm, src, end, copy2) {
  var dist;
  var state = strm.state;
  if (state.window === null) {
    state.wsize = 1 << state.wbits;
    state.wnext = 0;
    state.whave = 0;
    state.window = new Buf8(state.wsize);
  }
  if (copy2 >= state.wsize) {
    arraySet(state.window, src, end - state.wsize, state.wsize, 0);
    state.wnext = 0;
    state.whave = state.wsize;
  } else {
    dist = state.wsize - state.wnext;
    if (dist > copy2) {
      dist = copy2;
    }
    arraySet(state.window, src, end - copy2, dist, state.wnext);
    copy2 -= dist;
    if (copy2) {
      arraySet(state.window, src, end - copy2, copy2, 0);
      state.wnext = copy2;
      state.whave = state.wsize;
    } else {
      state.wnext += dist;
      if (state.wnext === state.wsize) {
        state.wnext = 0;
      }
      if (state.whave < state.wsize) {
        state.whave += dist;
      }
    }
  }
  return 0;
}
function inflate(strm, flush) {
  var state;
  var input, output;
  var next;
  var put;
  var have, left;
  var hold;
  var bits;
  var _in, _out;
  var copy2;
  var from2;
  var from_source;
  var here = 0;
  var here_bits, here_op, here_val;
  var last_bits, last_op, last_val;
  var len;
  var ret;
  var hbuf = new Buf8(4);
  var opts;
  var n;
  var order = (
    /* permutation of code lengths */
    [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]
  );
  if (!strm || !strm.state || !strm.output || !strm.input && strm.avail_in !== 0) {
    return Z_STREAM_ERROR2;
  }
  state = strm.state;
  if (state.mode === TYPE2) {
    state.mode = TYPEDO;
  }
  put = strm.next_out;
  output = strm.output;
  left = strm.avail_out;
  next = strm.next_in;
  input = strm.input;
  have = strm.avail_in;
  hold = state.hold;
  bits = state.bits;
  _in = have;
  _out = left;
  ret = Z_OK2;
  inf_leave:
    for (; ; ) {
      switch (state.mode) {
        case HEAD:
          if (state.wrap === 0) {
            state.mode = TYPEDO;
            break;
          }
          while (bits < 16) {
            if (have === 0) {
              break inf_leave;
            }
            have--;
            hold += input[next++] << bits;
            bits += 8;
          }
          if (state.wrap & 2 && hold === 35615) {
            state.check = 0;
            hbuf[0] = hold & 255;
            hbuf[1] = hold >>> 8 & 255;
            state.check = crc32_default(state.check, hbuf, 2, 0);
            hold = 0;
            bits = 0;
            state.mode = FLAGS;
            break;
          }
          state.flags = 0;
          if (state.head) {
            state.head.done = false;
          }
          if (!(state.wrap & 1) || /* check if zlib header allowed */
          (((hold & 255) << 8) + (hold >> 8)) % 31) {
            strm.msg = "incorrect header check";
            state.mode = BAD2;
            break;
          }
          if ((hold & 15) !== Z_DEFLATED2) {
            strm.msg = "unknown compression method";
            state.mode = BAD2;
            break;
          }
          hold >>>= 4;
          bits -= 4;
          len = (hold & 15) + 8;
          if (state.wbits === 0) {
            state.wbits = len;
          } else if (len > state.wbits) {
            strm.msg = "invalid window size";
            state.mode = BAD2;
            break;
          }
          state.dmax = 1 << len;
          strm.adler = state.check = 1;
          state.mode = hold & 512 ? DICTID : TYPE2;
          hold = 0;
          bits = 0;
          break;
        case FLAGS:
          while (bits < 16) {
            if (have === 0) {
              break inf_leave;
            }
            have--;
            hold += input[next++] << bits;
            bits += 8;
          }
          state.flags = hold;
          if ((state.flags & 255) !== Z_DEFLATED2) {
            strm.msg = "unknown compression method";
            state.mode = BAD2;
            break;
          }
          if (state.flags & 57344) {
            strm.msg = "unknown header flags set";
            state.mode = BAD2;
            break;
          }
          if (state.head) {
            state.head.text = hold >> 8 & 1;
          }
          if (state.flags & 512) {
            hbuf[0] = hold & 255;
            hbuf[1] = hold >>> 8 & 255;
            state.check = crc32_default(state.check, hbuf, 2, 0);
          }
          hold = 0;
          bits = 0;
          state.mode = TIME;
        case TIME:
          while (bits < 32) {
            if (have === 0) {
              break inf_leave;
            }
            have--;
            hold += input[next++] << bits;
            bits += 8;
          }
          if (state.head) {
            state.head.time = hold;
          }
          if (state.flags & 512) {
            hbuf[0] = hold & 255;
            hbuf[1] = hold >>> 8 & 255;
            hbuf[2] = hold >>> 16 & 255;
            hbuf[3] = hold >>> 24 & 255;
            state.check = crc32_default(state.check, hbuf, 4, 0);
          }
          hold = 0;
          bits = 0;
          state.mode = OS;
        case OS:
          while (bits < 16) {
            if (have === 0) {
              break inf_leave;
            }
            have--;
            hold += input[next++] << bits;
            bits += 8;
          }
          if (state.head) {
            state.head.xflags = hold & 255;
            state.head.os = hold >> 8;
          }
          if (state.flags & 512) {
            hbuf[0] = hold & 255;
            hbuf[1] = hold >>> 8 & 255;
            state.check = crc32_default(state.check, hbuf, 2, 0);
          }
          hold = 0;
          bits = 0;
          state.mode = EXLEN;
        case EXLEN:
          if (state.flags & 1024) {
            while (bits < 16) {
              if (have === 0) {
                break inf_leave;
              }
              have--;
              hold += input[next++] << bits;
              bits += 8;
            }
            state.length = hold;
            if (state.head) {
              state.head.extra_len = hold;
            }
            if (state.flags & 512) {
              hbuf[0] = hold & 255;
              hbuf[1] = hold >>> 8 & 255;
              state.check = crc32_default(state.check, hbuf, 2, 0);
            }
            hold = 0;
            bits = 0;
          } else if (state.head) {
            state.head.extra = null;
          }
          state.mode = EXTRA;
        case EXTRA:
          if (state.flags & 1024) {
            copy2 = state.length;
            if (copy2 > have) {
              copy2 = have;
            }
            if (copy2) {
              if (state.head) {
                len = state.head.extra_len - state.length;
                if (!state.head.extra) {
                  state.head.extra = new Array(state.head.extra_len);
                }
                arraySet(
                  state.head.extra,
                  input,
                  next,
                  // extra field is limited to 65536 bytes
                  // - no need for additional size check
                  copy2,
                  /*len + copy > state.head.extra_max - len ? state.head.extra_max : copy,*/
                  len
                );
              }
              if (state.flags & 512) {
                state.check = crc32_default(state.check, input, copy2, next);
              }
              have -= copy2;
              next += copy2;
              state.length -= copy2;
            }
            if (state.length) {
              break inf_leave;
            }
          }
          state.length = 0;
          state.mode = NAME;
        case NAME:
          if (state.flags & 2048) {
            if (have === 0) {
              break inf_leave;
            }
            copy2 = 0;
            do {
              len = input[next + copy2++];
              if (state.head && len && state.length < 65536) {
                state.head.name += String.fromCharCode(len);
              }
            } while (len && copy2 < have);
            if (state.flags & 512) {
              state.check = crc32_default(state.check, input, copy2, next);
            }
            have -= copy2;
            next += copy2;
            if (len) {
              break inf_leave;
            }
          } else if (state.head) {
            state.head.name = null;
          }
          state.length = 0;
          state.mode = COMMENT;
        case COMMENT:
          if (state.flags & 4096) {
            if (have === 0) {
              break inf_leave;
            }
            copy2 = 0;
            do {
              len = input[next + copy2++];
              if (state.head && len && state.length < 65536) {
                state.head.comment += String.fromCharCode(len);
              }
            } while (len && copy2 < have);
            if (state.flags & 512) {
              state.check = crc32_default(state.check, input, copy2, next);
            }
            have -= copy2;
            next += copy2;
            if (len) {
              break inf_leave;
            }
          } else if (state.head) {
            state.head.comment = null;
          }
          state.mode = HCRC;
        case HCRC:
          if (state.flags & 512) {
            while (bits < 16) {
              if (have === 0) {
                break inf_leave;
              }
              have--;
              hold += input[next++] << bits;
              bits += 8;
            }
            if (hold !== (state.check & 65535)) {
              strm.msg = "header crc mismatch";
              state.mode = BAD2;
              break;
            }
            hold = 0;
            bits = 0;
          }
          if (state.head) {
            state.head.hcrc = state.flags >> 9 & 1;
            state.head.done = true;
          }
          strm.adler = state.check = 0;
          state.mode = TYPE2;
          break;
        case DICTID:
          while (bits < 32) {
            if (have === 0) {
              break inf_leave;
            }
            have--;
            hold += input[next++] << bits;
            bits += 8;
          }
          strm.adler = state.check = zswap32(hold);
          hold = 0;
          bits = 0;
          state.mode = DICT;
        case DICT:
          if (state.havedict === 0) {
            strm.next_out = put;
            strm.avail_out = left;
            strm.next_in = next;
            strm.avail_in = have;
            state.hold = hold;
            state.bits = bits;
            return Z_NEED_DICT;
          }
          strm.adler = state.check = 1;
          state.mode = TYPE2;
        case TYPE2:
          if (flush === Z_BLOCK2 || flush === Z_TREES) {
            break inf_leave;
          }
        case TYPEDO:
          if (state.last) {
            hold >>>= bits & 7;
            bits -= bits & 7;
            state.mode = CHECK;
            break;
          }
          while (bits < 3) {
            if (have === 0) {
              break inf_leave;
            }
            have--;
            hold += input[next++] << bits;
            bits += 8;
          }
          state.last = hold & 1;
          hold >>>= 1;
          bits -= 1;
          switch (hold & 3) {
            case 0:
              state.mode = STORED;
              break;
            case 1:
              fixedtables(state);
              state.mode = LEN_;
              if (flush === Z_TREES) {
                hold >>>= 2;
                bits -= 2;
                break inf_leave;
              }
              break;
            case 2:
              state.mode = TABLE;
              break;
            case 3:
              strm.msg = "invalid block type";
              state.mode = BAD2;
          }
          hold >>>= 2;
          bits -= 2;
          break;
        case STORED:
          hold >>>= bits & 7;
          bits -= bits & 7;
          while (bits < 32) {
            if (have === 0) {
              break inf_leave;
            }
            have--;
            hold += input[next++] << bits;
            bits += 8;
          }
          if ((hold & 65535) !== (hold >>> 16 ^ 65535)) {
            strm.msg = "invalid stored block lengths";
            state.mode = BAD2;
            break;
          }
          state.length = hold & 65535;
          hold = 0;
          bits = 0;
          state.mode = COPY_;
          if (flush === Z_TREES) {
            break inf_leave;
          }
        case COPY_:
          state.mode = COPY;
        case COPY:
          copy2 = state.length;
          if (copy2) {
            if (copy2 > have) {
              copy2 = have;
            }
            if (copy2 > left) {
              copy2 = left;
            }
            if (copy2 === 0) {
              break inf_leave;
            }
            arraySet(output, input, next, copy2, put);
            have -= copy2;
            next += copy2;
            left -= copy2;
            put += copy2;
            state.length -= copy2;
            break;
          }
          state.mode = TYPE2;
          break;
        case TABLE:
          while (bits < 14) {
            if (have === 0) {
              break inf_leave;
            }
            have--;
            hold += input[next++] << bits;
            bits += 8;
          }
          state.nlen = (hold & 31) + 257;
          hold >>>= 5;
          bits -= 5;
          state.ndist = (hold & 31) + 1;
          hold >>>= 5;
          bits -= 5;
          state.ncode = (hold & 15) + 4;
          hold >>>= 4;
          bits -= 4;
          if (state.nlen > 286 || state.ndist > 30) {
            strm.msg = "too many length or distance symbols";
            state.mode = BAD2;
            break;
          }
          state.have = 0;
          state.mode = LENLENS;
        case LENLENS:
          while (state.have < state.ncode) {
            while (bits < 3) {
              if (have === 0) {
                break inf_leave;
              }
              have--;
              hold += input[next++] << bits;
              bits += 8;
            }
            state.lens[order[state.have++]] = hold & 7;
            hold >>>= 3;
            bits -= 3;
          }
          while (state.have < 19) {
            state.lens[order[state.have++]] = 0;
          }
          state.lencode = state.lendyn;
          state.lenbits = 7;
          opts = {
            bits: state.lenbits
          };
          ret = inflate_table(CODES2, state.lens, 0, 19, state.lencode, 0, state.work, opts);
          state.lenbits = opts.bits;
          if (ret) {
            strm.msg = "invalid code lengths set";
            state.mode = BAD2;
            break;
          }
          state.have = 0;
          state.mode = CODELENS;
        case CODELENS:
          while (state.have < state.nlen + state.ndist) {
            for (; ; ) {
              here = state.lencode[hold & (1 << state.lenbits) - 1];
              here_bits = here >>> 24;
              here_op = here >>> 16 & 255;
              here_val = here & 65535;
              if (here_bits <= bits) {
                break;
              }
              if (have === 0) {
                break inf_leave;
              }
              have--;
              hold += input[next++] << bits;
              bits += 8;
            }
            if (here_val < 16) {
              hold >>>= here_bits;
              bits -= here_bits;
              state.lens[state.have++] = here_val;
            } else {
              if (here_val === 16) {
                n = here_bits + 2;
                while (bits < n) {
                  if (have === 0) {
                    break inf_leave;
                  }
                  have--;
                  hold += input[next++] << bits;
                  bits += 8;
                }
                hold >>>= here_bits;
                bits -= here_bits;
                if (state.have === 0) {
                  strm.msg = "invalid bit length repeat";
                  state.mode = BAD2;
                  break;
                }
                len = state.lens[state.have - 1];
                copy2 = 3 + (hold & 3);
                hold >>>= 2;
                bits -= 2;
              } else if (here_val === 17) {
                n = here_bits + 3;
                while (bits < n) {
                  if (have === 0) {
                    break inf_leave;
                  }
                  have--;
                  hold += input[next++] << bits;
                  bits += 8;
                }
                hold >>>= here_bits;
                bits -= here_bits;
                len = 0;
                copy2 = 3 + (hold & 7);
                hold >>>= 3;
                bits -= 3;
              } else {
                n = here_bits + 7;
                while (bits < n) {
                  if (have === 0) {
                    break inf_leave;
                  }
                  have--;
                  hold += input[next++] << bits;
                  bits += 8;
                }
                hold >>>= here_bits;
                bits -= here_bits;
                len = 0;
                copy2 = 11 + (hold & 127);
                hold >>>= 7;
                bits -= 7;
              }
              if (state.have + copy2 > state.nlen + state.ndist) {
                strm.msg = "invalid bit length repeat";
                state.mode = BAD2;
                break;
              }
              while (copy2--) {
                state.lens[state.have++] = len;
              }
            }
          }
          if (state.mode === BAD2) {
            break;
          }
          if (state.lens[256] === 0) {
            strm.msg = "invalid code -- missing end-of-block";
            state.mode = BAD2;
            break;
          }
          state.lenbits = 9;
          opts = {
            bits: state.lenbits
          };
          ret = inflate_table(LENS2, state.lens, 0, state.nlen, state.lencode, 0, state.work, opts);
          state.lenbits = opts.bits;
          if (ret) {
            strm.msg = "invalid literal/lengths set";
            state.mode = BAD2;
            break;
          }
          state.distbits = 6;
          state.distcode = state.distdyn;
          opts = {
            bits: state.distbits
          };
          ret = inflate_table(DISTS2, state.lens, state.nlen, state.ndist, state.distcode, 0, state.work, opts);
          state.distbits = opts.bits;
          if (ret) {
            strm.msg = "invalid distances set";
            state.mode = BAD2;
            break;
          }
          state.mode = LEN_;
          if (flush === Z_TREES) {
            break inf_leave;
          }
        case LEN_:
          state.mode = LEN;
        case LEN:
          if (have >= 6 && left >= 258) {
            strm.next_out = put;
            strm.avail_out = left;
            strm.next_in = next;
            strm.avail_in = have;
            state.hold = hold;
            state.bits = bits;
            inflate_fast(strm, _out);
            put = strm.next_out;
            output = strm.output;
            left = strm.avail_out;
            next = strm.next_in;
            input = strm.input;
            have = strm.avail_in;
            hold = state.hold;
            bits = state.bits;
            if (state.mode === TYPE2) {
              state.back = -1;
            }
            break;
          }
          state.back = 0;
          for (; ; ) {
            here = state.lencode[hold & (1 << state.lenbits) - 1];
            here_bits = here >>> 24;
            here_op = here >>> 16 & 255;
            here_val = here & 65535;
            if (here_bits <= bits) {
              break;
            }
            if (have === 0) {
              break inf_leave;
            }
            have--;
            hold += input[next++] << bits;
            bits += 8;
          }
          if (here_op && (here_op & 240) === 0) {
            last_bits = here_bits;
            last_op = here_op;
            last_val = here_val;
            for (; ; ) {
              here = state.lencode[last_val + ((hold & (1 << last_bits + last_op) - 1) >> last_bits)];
              here_bits = here >>> 24;
              here_op = here >>> 16 & 255;
              here_val = here & 65535;
              if (last_bits + here_bits <= bits) {
                break;
              }
              if (have === 0) {
                break inf_leave;
              }
              have--;
              hold += input[next++] << bits;
              bits += 8;
            }
            hold >>>= last_bits;
            bits -= last_bits;
            state.back += last_bits;
          }
          hold >>>= here_bits;
          bits -= here_bits;
          state.back += here_bits;
          state.length = here_val;
          if (here_op === 0) {
            state.mode = LIT;
            break;
          }
          if (here_op & 32) {
            state.back = -1;
            state.mode = TYPE2;
            break;
          }
          if (here_op & 64) {
            strm.msg = "invalid literal/length code";
            state.mode = BAD2;
            break;
          }
          state.extra = here_op & 15;
          state.mode = LENEXT;
        case LENEXT:
          if (state.extra) {
            n = state.extra;
            while (bits < n) {
              if (have === 0) {
                break inf_leave;
              }
              have--;
              hold += input[next++] << bits;
              bits += 8;
            }
            state.length += hold & (1 << state.extra) - 1;
            hold >>>= state.extra;
            bits -= state.extra;
            state.back += state.extra;
          }
          state.was = state.length;
          state.mode = DIST;
        case DIST:
          for (; ; ) {
            here = state.distcode[hold & (1 << state.distbits) - 1];
            here_bits = here >>> 24;
            here_op = here >>> 16 & 255;
            here_val = here & 65535;
            if (here_bits <= bits) {
              break;
            }
            if (have === 0) {
              break inf_leave;
            }
            have--;
            hold += input[next++] << bits;
            bits += 8;
          }
          if ((here_op & 240) === 0) {
            last_bits = here_bits;
            last_op = here_op;
            last_val = here_val;
            for (; ; ) {
              here = state.distcode[last_val + ((hold & (1 << last_bits + last_op) - 1) >> last_bits)];
              here_bits = here >>> 24;
              here_op = here >>> 16 & 255;
              here_val = here & 65535;
              if (last_bits + here_bits <= bits) {
                break;
              }
              if (have === 0) {
                break inf_leave;
              }
              have--;
              hold += input[next++] << bits;
              bits += 8;
            }
            hold >>>= last_bits;
            bits -= last_bits;
            state.back += last_bits;
          }
          hold >>>= here_bits;
          bits -= here_bits;
          state.back += here_bits;
          if (here_op & 64) {
            strm.msg = "invalid distance code";
            state.mode = BAD2;
            break;
          }
          state.offset = here_val;
          state.extra = here_op & 15;
          state.mode = DISTEXT;
        case DISTEXT:
          if (state.extra) {
            n = state.extra;
            while (bits < n) {
              if (have === 0) {
                break inf_leave;
              }
              have--;
              hold += input[next++] << bits;
              bits += 8;
            }
            state.offset += hold & (1 << state.extra) - 1;
            hold >>>= state.extra;
            bits -= state.extra;
            state.back += state.extra;
          }
          if (state.offset > state.dmax) {
            strm.msg = "invalid distance too far back";
            state.mode = BAD2;
            break;
          }
          state.mode = MATCH;
        case MATCH:
          if (left === 0) {
            break inf_leave;
          }
          copy2 = _out - left;
          if (state.offset > copy2) {
            copy2 = state.offset - copy2;
            if (copy2 > state.whave) {
              if (state.sane) {
                strm.msg = "invalid distance too far back";
                state.mode = BAD2;
                break;
              }
            }
            if (copy2 > state.wnext) {
              copy2 -= state.wnext;
              from2 = state.wsize - copy2;
            } else {
              from2 = state.wnext - copy2;
            }
            if (copy2 > state.length) {
              copy2 = state.length;
            }
            from_source = state.window;
          } else {
            from_source = output;
            from2 = put - state.offset;
            copy2 = state.length;
          }
          if (copy2 > left) {
            copy2 = left;
          }
          left -= copy2;
          state.length -= copy2;
          do {
            output[put++] = from_source[from2++];
          } while (--copy2);
          if (state.length === 0) {
            state.mode = LEN;
          }
          break;
        case LIT:
          if (left === 0) {
            break inf_leave;
          }
          output[put++] = state.length;
          left--;
          state.mode = LEN;
          break;
        case CHECK:
          if (state.wrap) {
            while (bits < 32) {
              if (have === 0) {
                break inf_leave;
              }
              have--;
              hold |= input[next++] << bits;
              bits += 8;
            }
            _out -= left;
            strm.total_out += _out;
            state.total += _out;
            if (_out) {
              strm.adler = state.check = /*UPDATE(state.check, put - _out, _out);*/
              state.flags ? crc32_default(state.check, output, _out, put - _out) : adler32_default(state.check, output, _out, put - _out);
            }
            _out = left;
            if ((state.flags ? hold : zswap32(hold)) !== state.check) {
              strm.msg = "incorrect data check";
              state.mode = BAD2;
              break;
            }
            hold = 0;
            bits = 0;
          }
          state.mode = LENGTH;
        case LENGTH:
          if (state.wrap && state.flags) {
            while (bits < 32) {
              if (have === 0) {
                break inf_leave;
              }
              have--;
              hold += input[next++] << bits;
              bits += 8;
            }
            if (hold !== (state.total & 4294967295)) {
              strm.msg = "incorrect length check";
              state.mode = BAD2;
              break;
            }
            hold = 0;
            bits = 0;
          }
          state.mode = DONE;
        case DONE:
          ret = Z_STREAM_END2;
          break inf_leave;
        case BAD2:
          ret = Z_DATA_ERROR2;
          break inf_leave;
        case MEM:
          return Z_MEM_ERROR;
        case SYNC:
        default:
          return Z_STREAM_ERROR2;
      }
    }
  strm.next_out = put;
  strm.avail_out = left;
  strm.next_in = next;
  strm.avail_in = have;
  state.hold = hold;
  state.bits = bits;
  if (state.wsize || _out !== strm.avail_out && state.mode < BAD2 && (state.mode < CHECK || flush !== Z_FINISH2)) {
    if (updatewindow(strm, strm.output, strm.next_out, _out - strm.avail_out)) {
      state.mode = MEM;
      return Z_MEM_ERROR;
    }
  }
  _in -= strm.avail_in;
  _out -= strm.avail_out;
  strm.total_in += _in;
  strm.total_out += _out;
  state.total += _out;
  if (state.wrap && _out) {
    strm.adler = state.check = /*UPDATE(state.check, strm.next_out - _out, _out);*/
    state.flags ? crc32_default(state.check, output, _out, strm.next_out - _out) : adler32_default(state.check, output, _out, strm.next_out - _out);
  }
  strm.data_type = state.bits + (state.last ? 64 : 0) + (state.mode === TYPE2 ? 128 : 0) + (state.mode === LEN_ || state.mode === COPY_ ? 256 : 0);
  if ((_in === 0 && _out === 0 || flush === Z_FINISH2) && ret === Z_OK2) {
    ret = Z_BUF_ERROR2;
  }
  return ret;
}
function inflateEnd(strm) {
  if (!strm || !strm.state) {
    return Z_STREAM_ERROR2;
  }
  var state = strm.state;
  if (state.window) {
    state.window = null;
  }
  strm.state = null;
  return Z_OK2;
}

// node_modules/rollup-plugin-node-polyfills/polyfills/zlib-lib/binding.js
var NONE = 0;
var DEFLATE = 1;
var INFLATE = 2;
var GZIP = 3;
var GUNZIP = 4;
var DEFLATERAW = 5;
var INFLATERAW = 6;
var UNZIP = 7;
var Z_NO_FLUSH2 = 0;
var Z_PARTIAL_FLUSH2 = 1;
var Z_SYNC_FLUSH = 2;
var Z_FULL_FLUSH2 = 3;
var Z_FINISH3 = 4;
var Z_BLOCK3 = 5;
var Z_TREES2 = 6;
var Z_OK3 = 0;
var Z_STREAM_END3 = 1;
var Z_NEED_DICT2 = 2;
var Z_ERRNO = -1;
var Z_STREAM_ERROR3 = -2;
var Z_DATA_ERROR3 = -3;
var Z_BUF_ERROR3 = -5;
var Z_NO_COMPRESSION = 0;
var Z_BEST_SPEED = 1;
var Z_BEST_COMPRESSION = 9;
var Z_DEFAULT_COMPRESSION2 = -1;
var Z_FILTERED2 = 1;
var Z_HUFFMAN_ONLY2 = 2;
var Z_RLE2 = 3;
var Z_FIXED3 = 4;
var Z_DEFAULT_STRATEGY = 0;
var Z_BINARY2 = 0;
var Z_TEXT2 = 1;
var Z_UNKNOWN3 = 2;
var Z_DEFLATED3 = 8;
function Zlib(mode) {
  if (mode < DEFLATE || mode > UNZIP)
    throw new TypeError("Bad argument");
  this.mode = mode;
  this.init_done = false;
  this.write_in_progress = false;
  this.pending_close = false;
  this.windowBits = 0;
  this.level = 0;
  this.memLevel = 0;
  this.strategy = 0;
  this.dictionary = null;
}
Zlib.prototype.init = function(windowBits, level, memLevel, strategy, dictionary) {
  this.windowBits = windowBits;
  this.level = level;
  this.memLevel = memLevel;
  this.strategy = strategy;
  if (this.mode === GZIP || this.mode === GUNZIP)
    this.windowBits += 16;
  if (this.mode === UNZIP)
    this.windowBits += 32;
  if (this.mode === DEFLATERAW || this.mode === INFLATERAW)
    this.windowBits = -this.windowBits;
  this.strm = new zstream_default();
  var status2;
  switch (this.mode) {
    case DEFLATE:
    case GZIP:
    case DEFLATERAW:
      status2 = deflateInit2(
        this.strm,
        this.level,
        Z_DEFLATED3,
        this.windowBits,
        this.memLevel,
        this.strategy
      );
      break;
    case INFLATE:
    case GUNZIP:
    case INFLATERAW:
    case UNZIP:
      status2 = inflateInit2(
        this.strm,
        this.windowBits
      );
      break;
    default:
      throw new Error("Unknown mode " + this.mode);
  }
  if (status2 !== Z_OK3) {
    this._error(status2);
    return;
  }
  this.write_in_progress = false;
  this.init_done = true;
};
Zlib.prototype.params = function() {
  throw new Error("deflateParams Not supported");
};
Zlib.prototype._writeCheck = function() {
  if (!this.init_done)
    throw new Error("write before init");
  if (this.mode === NONE)
    throw new Error("already finalized");
  if (this.write_in_progress)
    throw new Error("write already in progress");
  if (this.pending_close)
    throw new Error("close is pending");
};
Zlib.prototype.write = function(flush, input, in_off, in_len, out, out_off, out_len) {
  this._writeCheck();
  this.write_in_progress = true;
  var self2 = this;
  process.nextTick(function() {
    self2.write_in_progress = false;
    var res = self2._write(flush, input, in_off, in_len, out, out_off, out_len);
    self2.callback(res[0], res[1]);
    if (self2.pending_close)
      self2.close();
  });
  return this;
};
function bufferSet(data, offset) {
  for (var i = 0; i < data.length; i++) {
    this[offset + i] = data[i];
  }
}
Zlib.prototype.writeSync = function(flush, input, in_off, in_len, out, out_off, out_len) {
  this._writeCheck();
  return this._write(flush, input, in_off, in_len, out, out_off, out_len);
};
Zlib.prototype._write = function(flush, input, in_off, in_len, out, out_off, out_len) {
  this.write_in_progress = true;
  if (flush !== Z_NO_FLUSH2 && flush !== Z_PARTIAL_FLUSH2 && flush !== Z_SYNC_FLUSH && flush !== Z_FULL_FLUSH2 && flush !== Z_FINISH3 && flush !== Z_BLOCK3) {
    throw new Error("Invalid flush value");
  }
  if (input == null) {
    input = new Buffer(0);
    in_len = 0;
    in_off = 0;
  }
  if (out._set)
    out.set = out._set;
  else
    out.set = bufferSet;
  var strm = this.strm;
  strm.avail_in = in_len;
  strm.input = input;
  strm.next_in = in_off;
  strm.avail_out = out_len;
  strm.output = out;
  strm.next_out = out_off;
  var status2;
  switch (this.mode) {
    case DEFLATE:
    case GZIP:
    case DEFLATERAW:
      status2 = deflate(strm, flush);
      break;
    case UNZIP:
    case INFLATE:
    case GUNZIP:
    case INFLATERAW:
      status2 = inflate(strm, flush);
      break;
    default:
      throw new Error("Unknown mode " + this.mode);
  }
  if (status2 !== Z_STREAM_END3 && status2 !== Z_OK3) {
    this._error(status2);
  }
  this.write_in_progress = false;
  return [strm.avail_in, strm.avail_out];
};
Zlib.prototype.close = function() {
  if (this.write_in_progress) {
    this.pending_close = true;
    return;
  }
  this.pending_close = false;
  if (this.mode === DEFLATE || this.mode === GZIP || this.mode === DEFLATERAW) {
    deflateEnd(this.strm);
  } else {
    inflateEnd(this.strm);
  }
  this.mode = NONE;
};
var status;
Zlib.prototype.reset = function() {
  switch (this.mode) {
    case DEFLATE:
    case DEFLATERAW:
      status = deflateReset(this.strm);
      break;
    case INFLATE:
    case INFLATERAW:
      status = inflateReset(this.strm);
      break;
  }
  if (status !== Z_OK3) {
    this._error(status);
  }
};
Zlib.prototype._error = function(status2) {
  this.onerror(messages_default[status2] + ": " + this.strm.msg, status2);
  this.write_in_progress = false;
  if (this.pending_close)
    this.close();
};

// node-modules-polyfills:zlib
function assert(a, msg) {
  if (!a) {
    throw new Error(msg);
  }
}
var binding2 = {};
Object.keys(binding_exports).forEach(function(key) {
  binding2[key] = binding_exports[key];
});
binding2.Z_MIN_WINDOWBITS = 8;
binding2.Z_MAX_WINDOWBITS = 15;
binding2.Z_DEFAULT_WINDOWBITS = 15;
binding2.Z_MIN_CHUNK = 64;
binding2.Z_MAX_CHUNK = Infinity;
binding2.Z_DEFAULT_CHUNK = 16 * 1024;
binding2.Z_MIN_MEMLEVEL = 1;
binding2.Z_MAX_MEMLEVEL = 9;
binding2.Z_DEFAULT_MEMLEVEL = 8;
binding2.Z_MIN_LEVEL = -1;
binding2.Z_MAX_LEVEL = 9;
binding2.Z_DEFAULT_LEVEL = binding2.Z_DEFAULT_COMPRESSION;
var codes = {
  Z_OK: binding2.Z_OK,
  Z_STREAM_END: binding2.Z_STREAM_END,
  Z_NEED_DICT: binding2.Z_NEED_DICT,
  Z_ERRNO: binding2.Z_ERRNO,
  Z_STREAM_ERROR: binding2.Z_STREAM_ERROR,
  Z_DATA_ERROR: binding2.Z_DATA_ERROR,
  Z_MEM_ERROR: binding2.Z_MEM_ERROR,
  Z_BUF_ERROR: binding2.Z_BUF_ERROR,
  Z_VERSION_ERROR: binding2.Z_VERSION_ERROR
};
Object.keys(codes).forEach(function(k) {
  codes[codes[k]] = k;
});
function inflateRawSync(buffer, opts) {
  return zlibBufferSync(new InflateRaw(opts), buffer);
}
function zlibBufferSync(engine, buffer) {
  if (typeof buffer === "string")
    buffer = new Buffer(buffer);
  if (!Buffer.isBuffer(buffer))
    throw new TypeError("Not a string or buffer");
  var flushFlag = binding2.Z_FINISH;
  return engine._processChunk(buffer, flushFlag);
}
function Deflate(opts) {
  if (!(this instanceof Deflate))
    return new Deflate(opts);
  Zlib2.call(this, opts, binding2.DEFLATE);
}
function Inflate(opts) {
  if (!(this instanceof Inflate))
    return new Inflate(opts);
  Zlib2.call(this, opts, binding2.INFLATE);
}
function Gzip(opts) {
  if (!(this instanceof Gzip))
    return new Gzip(opts);
  Zlib2.call(this, opts, binding2.GZIP);
}
function Gunzip(opts) {
  if (!(this instanceof Gunzip))
    return new Gunzip(opts);
  Zlib2.call(this, opts, binding2.GUNZIP);
}
function DeflateRaw(opts) {
  if (!(this instanceof DeflateRaw))
    return new DeflateRaw(opts);
  Zlib2.call(this, opts, binding2.DEFLATERAW);
}
function InflateRaw(opts) {
  if (!(this instanceof InflateRaw))
    return new InflateRaw(opts);
  Zlib2.call(this, opts, binding2.INFLATERAW);
}
function Unzip(opts) {
  if (!(this instanceof Unzip))
    return new Unzip(opts);
  Zlib2.call(this, opts, binding2.UNZIP);
}
function Zlib2(opts, mode) {
  this._opts = opts = opts || {};
  this._chunkSize = opts.chunkSize || binding2.Z_DEFAULT_CHUNK;
  Transform.call(this, opts);
  if (opts.flush) {
    if (opts.flush !== binding2.Z_NO_FLUSH && opts.flush !== binding2.Z_PARTIAL_FLUSH && opts.flush !== binding2.Z_SYNC_FLUSH && opts.flush !== binding2.Z_FULL_FLUSH && opts.flush !== binding2.Z_FINISH && opts.flush !== binding2.Z_BLOCK) {
      throw new Error("Invalid flush flag: " + opts.flush);
    }
  }
  this._flushFlag = opts.flush || binding2.Z_NO_FLUSH;
  if (opts.chunkSize) {
    if (opts.chunkSize < binding2.Z_MIN_CHUNK || opts.chunkSize > binding2.Z_MAX_CHUNK) {
      throw new Error("Invalid chunk size: " + opts.chunkSize);
    }
  }
  if (opts.windowBits) {
    if (opts.windowBits < binding2.Z_MIN_WINDOWBITS || opts.windowBits > binding2.Z_MAX_WINDOWBITS) {
      throw new Error("Invalid windowBits: " + opts.windowBits);
    }
  }
  if (opts.level) {
    if (opts.level < binding2.Z_MIN_LEVEL || opts.level > binding2.Z_MAX_LEVEL) {
      throw new Error("Invalid compression level: " + opts.level);
    }
  }
  if (opts.memLevel) {
    if (opts.memLevel < binding2.Z_MIN_MEMLEVEL || opts.memLevel > binding2.Z_MAX_MEMLEVEL) {
      throw new Error("Invalid memLevel: " + opts.memLevel);
    }
  }
  if (opts.strategy) {
    if (opts.strategy != binding2.Z_FILTERED && opts.strategy != binding2.Z_HUFFMAN_ONLY && opts.strategy != binding2.Z_RLE && opts.strategy != binding2.Z_FIXED && opts.strategy != binding2.Z_DEFAULT_STRATEGY) {
      throw new Error("Invalid strategy: " + opts.strategy);
    }
  }
  if (opts.dictionary) {
    if (!Buffer.isBuffer(opts.dictionary)) {
      throw new Error("Invalid dictionary: it should be a Buffer instance");
    }
  }
  this._binding = new binding2.Zlib(mode);
  var self2 = this;
  this._hadError = false;
  this._binding.onerror = function(message, errno) {
    self2._binding = null;
    self2._hadError = true;
    var error = new Error(message);
    error.errno = errno;
    error.code = binding2.codes[errno];
    self2.emit("error", error);
  };
  var level = binding2.Z_DEFAULT_COMPRESSION;
  if (typeof opts.level === "number")
    level = opts.level;
  var strategy = binding2.Z_DEFAULT_STRATEGY;
  if (typeof opts.strategy === "number")
    strategy = opts.strategy;
  this._binding.init(
    opts.windowBits || binding2.Z_DEFAULT_WINDOWBITS,
    level,
    opts.memLevel || binding2.Z_DEFAULT_MEMLEVEL,
    strategy,
    opts.dictionary
  );
  this._buffer = new Buffer(this._chunkSize);
  this._offset = 0;
  this._closed = false;
  this._level = level;
  this._strategy = strategy;
  this.once("end", this.close);
}
inherits_default(Zlib2, Transform);
Zlib2.prototype.params = function(level, strategy, callback) {
  if (level < binding2.Z_MIN_LEVEL || level > binding2.Z_MAX_LEVEL) {
    throw new RangeError("Invalid compression level: " + level);
  }
  if (strategy != binding2.Z_FILTERED && strategy != binding2.Z_HUFFMAN_ONLY && strategy != binding2.Z_RLE && strategy != binding2.Z_FIXED && strategy != binding2.Z_DEFAULT_STRATEGY) {
    throw new TypeError("Invalid strategy: " + strategy);
  }
  if (this._level !== level || this._strategy !== strategy) {
    var self2 = this;
    this.flush(binding2.Z_SYNC_FLUSH, function() {
      self2._binding.params(level, strategy);
      if (!self2._hadError) {
        self2._level = level;
        self2._strategy = strategy;
        if (callback)
          callback();
      }
    });
  } else {
    process.nextTick(callback);
  }
};
Zlib2.prototype.reset = function() {
  return this._binding.reset();
};
Zlib2.prototype._flush = function(callback) {
  this._transform(new Buffer(0), "", callback);
};
Zlib2.prototype.flush = function(kind, callback) {
  var ws = this._writableState;
  if (typeof kind === "function" || kind === void 0 && !callback) {
    callback = kind;
    kind = binding2.Z_FULL_FLUSH;
  }
  if (ws.ended) {
    if (callback)
      process.nextTick(callback);
  } else if (ws.ending) {
    if (callback)
      this.once("end", callback);
  } else if (ws.needDrain) {
    var self2 = this;
    this.once("drain", function() {
      self2.flush(callback);
    });
  } else {
    this._flushFlag = kind;
    this.write(new Buffer(0), "", callback);
  }
};
Zlib2.prototype.close = function(callback) {
  if (callback)
    process.nextTick(callback);
  if (this._closed)
    return;
  this._closed = true;
  this._binding.close();
  var self2 = this;
  process.nextTick(function() {
    self2.emit("close");
  });
};
Zlib2.prototype._transform = function(chunk, encoding, cb) {
  var flushFlag;
  var ws = this._writableState;
  var ending = ws.ending || ws.ended;
  var last = ending && (!chunk || ws.length === chunk.length);
  if (!chunk === null && !Buffer.isBuffer(chunk))
    return cb(new Error("invalid input"));
  if (last)
    flushFlag = binding2.Z_FINISH;
  else {
    flushFlag = this._flushFlag;
    if (chunk.length >= ws.length) {
      this._flushFlag = this._opts.flush || binding2.Z_NO_FLUSH;
    }
  }
  this._processChunk(chunk, flushFlag, cb);
};
Zlib2.prototype._processChunk = function(chunk, flushFlag, cb) {
  var availInBefore = chunk && chunk.length;
  var availOutBefore = this._chunkSize - this._offset;
  var inOff = 0;
  var self2 = this;
  var async = typeof cb === "function";
  if (!async) {
    var buffers = [];
    var nread = 0;
    var error;
    this.on("error", function(er) {
      error = er;
    });
    do {
      var res = this._binding.writeSync(
        flushFlag,
        chunk,
        // in
        inOff,
        // in_off
        availInBefore,
        // in_len
        this._buffer,
        // out
        this._offset,
        //out_off
        availOutBefore
      );
    } while (!this._hadError && callback(res[0], res[1]));
    if (this._hadError) {
      throw error;
    }
    var buf = Buffer.concat(buffers, nread);
    this.close();
    return buf;
  }
  var req = this._binding.write(
    flushFlag,
    chunk,
    // in
    inOff,
    // in_off
    availInBefore,
    // in_len
    this._buffer,
    // out
    this._offset,
    //out_off
    availOutBefore
  );
  req.buffer = chunk;
  req.callback = callback;
  function callback(availInAfter, availOutAfter) {
    if (self2._hadError)
      return;
    var have = availOutBefore - availOutAfter;
    assert(have >= 0, "have should not go down");
    if (have > 0) {
      var out = self2._buffer.slice(self2._offset, self2._offset + have);
      self2._offset += have;
      if (async) {
        self2.push(out);
      } else {
        buffers.push(out);
        nread += out.length;
      }
    }
    if (availOutAfter === 0 || self2._offset >= self2._chunkSize) {
      availOutBefore = self2._chunkSize;
      self2._offset = 0;
      self2._buffer = new Buffer(self2._chunkSize);
    }
    if (availOutAfter === 0) {
      inOff += availInBefore - availInAfter;
      availInBefore = availInAfter;
      if (!async)
        return true;
      var newReq = self2._binding.write(
        flushFlag,
        chunk,
        inOff,
        availInBefore,
        self2._buffer,
        self2._offset,
        self2._chunkSize
      );
      newReq.callback = callback;
      newReq.buffer = chunk;
      return;
    }
    if (!async)
      return false;
    cb();
  }
};
inherits_default(Deflate, Zlib2);
inherits_default(Inflate, Zlib2);
inherits_default(Gzip, Zlib2);
inherits_default(Gunzip, Zlib2);
inherits_default(DeflateRaw, Zlib2);
inherits_default(InflateRaw, Zlib2);
inherits_default(Unzip, Zlib2);

// src/backend/ZipFS.ts
var decompressionMethods = {};
var CompressionMethod = /* @__PURE__ */ ((CompressionMethod2) => {
  CompressionMethod2[CompressionMethod2["STORED"] = 0] = "STORED";
  CompressionMethod2[CompressionMethod2["SHRUNK"] = 1] = "SHRUNK";
  CompressionMethod2[CompressionMethod2["REDUCED_1"] = 2] = "REDUCED_1";
  CompressionMethod2[CompressionMethod2["REDUCED_2"] = 3] = "REDUCED_2";
  CompressionMethod2[CompressionMethod2["REDUCED_3"] = 4] = "REDUCED_3";
  CompressionMethod2[CompressionMethod2["REDUCED_4"] = 5] = "REDUCED_4";
  CompressionMethod2[CompressionMethod2["IMPLODE"] = 6] = "IMPLODE";
  CompressionMethod2[CompressionMethod2["DEFLATE"] = 8] = "DEFLATE";
  CompressionMethod2[CompressionMethod2["DEFLATE64"] = 9] = "DEFLATE64";
  CompressionMethod2[CompressionMethod2["TERSE_OLD"] = 10] = "TERSE_OLD";
  CompressionMethod2[CompressionMethod2["BZIP2"] = 12] = "BZIP2";
  CompressionMethod2[CompressionMethod2["LZMA"] = 14] = "LZMA";
  CompressionMethod2[CompressionMethod2["TERSE_NEW"] = 18] = "TERSE_NEW";
  CompressionMethod2[CompressionMethod2["LZ77"] = 19] = "LZ77";
  CompressionMethod2[CompressionMethod2["WAVPACK"] = 97] = "WAVPACK";
  CompressionMethod2[CompressionMethod2["PPMD"] = 98] = "PPMD";
  return CompressionMethod2;
})(CompressionMethod || {});
function msdos2date(time, date) {
  const day = date & 31;
  const month = (date >> 5 & 15) - 1;
  const year = (date >> 9) + 1980;
  const second = time & 31;
  const minute = time >> 5 & 63;
  const hour = time >> 11;
  return new Date(year, month, day, hour, minute, second);
}
function safeToString(buff, useUTF8, start, length) {
  if (length === 0) {
    return "";
  } else if (useUTF8) {
    return buff.toString("utf8", start, start + length);
  } else {
    return ExtendedASCII.byte2str(buff.slice(start, start + length));
  }
}
var FileHeader = class {
  constructor(data) {
    this.data = data;
    if (data.readUInt32LE(0) !== 67324752) {
      throw new ApiError(22 /* EINVAL */, "Invalid Zip file: Local file header has invalid signature: " + this.data.readUInt32LE(0));
    }
  }
  versionNeeded() {
    return this.data.readUInt16LE(4);
  }
  flags() {
    return this.data.readUInt16LE(6);
  }
  compressionMethod() {
    return this.data.readUInt16LE(8);
  }
  lastModFileTime() {
    return msdos2date(this.data.readUInt16LE(10), this.data.readUInt16LE(12));
  }
  rawLastModFileTime() {
    return this.data.readUInt32LE(10);
  }
  crc32() {
    return this.data.readUInt32LE(14);
  }
  /**
   * These two values are COMPLETELY USELESS.
   *
   * Section 4.4.9:
   *   If bit 3 of the general purpose bit flag is set,
   *   these fields are set to zero in the local header and the
   *   correct values are put in the data descriptor and
   *   in the central directory.
   *
   * So we'll just use the central directory's values.
   */
  // public compressedSize(): number { return this.data.readUInt32LE(18); }
  // public uncompressedSize(): number { return this.data.readUInt32LE(22); }
  fileNameLength() {
    return this.data.readUInt16LE(26);
  }
  extraFieldLength() {
    return this.data.readUInt16LE(28);
  }
  fileName() {
    return safeToString(this.data, this.useUTF8(), 30, this.fileNameLength());
  }
  extraField() {
    const start = 30 + this.fileNameLength();
    return this.data.slice(start, start + this.extraFieldLength());
  }
  totalSize() {
    return 30 + this.fileNameLength() + this.extraFieldLength();
  }
  useUTF8() {
    return (this.flags() & 2048) === 2048;
  }
};
var FileData = class {
  constructor(header, record, data) {
    this.header = header;
    this.record = record;
    this.data = data;
  }
  decompress() {
    const compressionMethod = this.header.compressionMethod();
    const fcn = decompressionMethods[compressionMethod];
    if (fcn) {
      return fcn(this.data, this.record.compressedSize(), this.record.uncompressedSize(), this.record.flag());
    } else {
      let name = CompressionMethod[compressionMethod];
      if (!name) {
        name = `Unknown: ${compressionMethod}`;
      }
      throw new ApiError(22 /* EINVAL */, `Invalid compression method on file '${this.header.fileName()}': ${name}`);
    }
  }
  getHeader() {
    return this.header;
  }
  getRecord() {
    return this.record;
  }
  getRawData() {
    return this.data;
  }
};
var CentralDirectory = class {
  constructor(zipData, data) {
    this.zipData = zipData;
    this.data = data;
    if (this.data.readUInt32LE(0) !== 33639248) {
      throw new ApiError(22 /* EINVAL */, `Invalid Zip file: Central directory record has invalid signature: ${this.data.readUInt32LE(0)}`);
    }
    this._filename = this.produceFilename();
  }
  versionMadeBy() {
    return this.data.readUInt16LE(4);
  }
  versionNeeded() {
    return this.data.readUInt16LE(6);
  }
  flag() {
    return this.data.readUInt16LE(8);
  }
  compressionMethod() {
    return this.data.readUInt16LE(10);
  }
  lastModFileTime() {
    return msdos2date(this.data.readUInt16LE(12), this.data.readUInt16LE(14));
  }
  rawLastModFileTime() {
    return this.data.readUInt32LE(12);
  }
  crc32() {
    return this.data.readUInt32LE(16);
  }
  compressedSize() {
    return this.data.readUInt32LE(20);
  }
  uncompressedSize() {
    return this.data.readUInt32LE(24);
  }
  fileNameLength() {
    return this.data.readUInt16LE(28);
  }
  extraFieldLength() {
    return this.data.readUInt16LE(30);
  }
  fileCommentLength() {
    return this.data.readUInt16LE(32);
  }
  diskNumberStart() {
    return this.data.readUInt16LE(34);
  }
  internalAttributes() {
    return this.data.readUInt16LE(36);
  }
  externalAttributes() {
    return this.data.readUInt32LE(38);
  }
  headerRelativeOffset() {
    return this.data.readUInt32LE(42);
  }
  produceFilename() {
    const fileName = safeToString(this.data, this.useUTF8(), 46, this.fileNameLength());
    return fileName.replace(/\\/g, "/");
  }
  fileName() {
    return this._filename;
  }
  rawFileName() {
    return this.data.slice(46, 46 + this.fileNameLength());
  }
  extraField() {
    const start = 44 + this.fileNameLength();
    return this.data.slice(start, start + this.extraFieldLength());
  }
  fileComment() {
    const start = 46 + this.fileNameLength() + this.extraFieldLength();
    return safeToString(this.data, this.useUTF8(), start, this.fileCommentLength());
  }
  rawFileComment() {
    const start = 46 + this.fileNameLength() + this.extraFieldLength();
    return this.data.slice(start, start + this.fileCommentLength());
  }
  totalSize() {
    return 46 + this.fileNameLength() + this.extraFieldLength() + this.fileCommentLength();
  }
  isDirectory() {
    const fileName = this.fileName();
    return (this.externalAttributes() & 16 ? true : false) || fileName.charAt(fileName.length - 1) === "/";
  }
  isFile() {
    return !this.isDirectory();
  }
  useUTF8() {
    return (this.flag() & 2048) === 2048;
  }
  isEncrypted() {
    return (this.flag() & 1) === 1;
  }
  getFileData() {
    const start = this.headerRelativeOffset();
    const header = new FileHeader(this.zipData.slice(start));
    return new FileData(header, this, this.zipData.slice(start + header.totalSize()));
  }
  getData() {
    return this.getFileData().decompress();
  }
  getRawData() {
    return this.getFileData().getRawData();
  }
  getStats() {
    return new Stats(32768 /* FILE */, this.uncompressedSize(), 365, Date.now(), this.lastModFileTime().getTime());
  }
};
var EndOfCentralDirectory = class {
  constructor(data) {
    this.data = data;
    if (this.data.readUInt32LE(0) !== 101010256) {
      throw new ApiError(22 /* EINVAL */, `Invalid Zip file: End of central directory record has invalid signature: ${this.data.readUInt32LE(0)}`);
    }
  }
  diskNumber() {
    return this.data.readUInt16LE(4);
  }
  cdDiskNumber() {
    return this.data.readUInt16LE(6);
  }
  cdDiskEntryCount() {
    return this.data.readUInt16LE(8);
  }
  cdTotalEntryCount() {
    return this.data.readUInt16LE(10);
  }
  cdSize() {
    return this.data.readUInt32LE(12);
  }
  cdOffset() {
    return this.data.readUInt32LE(16);
  }
  cdZipCommentLength() {
    return this.data.readUInt16LE(20);
  }
  cdZipComment() {
    return safeToString(this.data, true, 22, this.cdZipCommentLength());
  }
  rawCdZipComment() {
    return this.data.slice(22, 22 + this.cdZipCommentLength());
  }
};
var ZipTOC = class {
  constructor(index, directoryEntries, eocd, data) {
    this.index = index;
    this.directoryEntries = directoryEntries;
    this.eocd = eocd;
    this.data = data;
  }
};
var _ZipFS = class extends SynchronousFileSystem {
  constructor(input, name = "") {
    super();
    this.name = name;
    this._index = new FileIndex();
    this._directoryEntries = [];
    this._eocd = null;
    this._index = input.index;
    this._directoryEntries = input.directoryEntries;
    this._eocd = input.eocd;
    this.data = input.data;
  }
  /**
   * Constructs a ZipFS instance with the given options.
   */
  static Create(opts, cb) {
    try {
      _ZipFS._computeIndex(opts.zipData, (e, zipTOC) => {
        if (zipTOC) {
          const fs2 = new _ZipFS(zipTOC, opts.name);
          cb(null, fs2);
        } else {
          cb(e);
        }
      });
    } catch (e) {
      cb(e);
    }
  }
  static CreateAsync(opts) {
    return new Promise((resolve2, reject) => {
      this.Create(opts, (error, fs2) => {
        if (error || !fs2) {
          reject(error);
        } else {
          resolve2(fs2);
        }
      });
    });
  }
  static isAvailable() {
    return true;
  }
  static RegisterDecompressionMethod(m, fcn) {
    decompressionMethods[m] = fcn;
  }
  /**
   * Locates the end of central directory record at the end of the file.
   * Throws an exception if it cannot be found.
   */
  static _getEOCD(data) {
    const startOffset = 22;
    const endOffset = Math.min(startOffset + 65535, data.length - 1);
    for (let i = startOffset; i < endOffset; i++) {
      if (data.readUInt32LE(data.length - i) === 101010256) {
        return new EndOfCentralDirectory(data.slice(data.length - i));
      }
    }
    throw new ApiError(22 /* EINVAL */, "Invalid ZIP file: Could not locate End of Central Directory signature.");
  }
  static _addToIndex(cd, index) {
    let filename = cd.fileName();
    if (filename.charAt(0) === "/") {
      throw new ApiError(1 /* EPERM */, `Unexpectedly encountered an absolute path in a zip file. Please file a bug.`);
    }
    if (filename.charAt(filename.length - 1) === "/") {
      filename = filename.substr(0, filename.length - 1);
    }
    if (cd.isDirectory()) {
      index.addPathFast("/" + filename, new DirInode(cd));
    } else {
      index.addPathFast("/" + filename, new FileInode(cd));
    }
  }
  static _computeIndex(data, cb) {
    try {
      const index = new FileIndex();
      const eocd = _ZipFS._getEOCD(data);
      if (eocd.diskNumber() !== eocd.cdDiskNumber()) {
        return cb(new ApiError(22 /* EINVAL */, "ZipFS does not support spanned zip files."));
      }
      const cdPtr = eocd.cdOffset();
      if (cdPtr === 4294967295) {
        return cb(new ApiError(22 /* EINVAL */, "ZipFS does not support Zip64."));
      }
      const cdEnd = cdPtr + eocd.cdSize();
      _ZipFS._computeIndexResponsive(data, index, cdPtr, cdEnd, cb, [], eocd);
    } catch (e) {
      cb(e);
    }
  }
  static _computeIndexResponsiveTrampoline(data, index, cdPtr, cdEnd, cb, cdEntries, eocd) {
    try {
      _ZipFS._computeIndexResponsive(data, index, cdPtr, cdEnd, cb, cdEntries, eocd);
    } catch (e) {
      cb(e);
    }
  }
  static _computeIndexResponsive(data, index, cdPtr, cdEnd, cb, cdEntries, eocd) {
    if (cdPtr < cdEnd) {
      let count = 0;
      while (count++ < 200 && cdPtr < cdEnd) {
        const cd = new CentralDirectory(data, data.slice(cdPtr));
        _ZipFS._addToIndex(cd, index);
        cdPtr += cd.totalSize();
        cdEntries.push(cd);
      }
      setImmediate_default(() => {
        _ZipFS._computeIndexResponsiveTrampoline(data, index, cdPtr, cdEnd, cb, cdEntries, eocd);
      });
    } else {
      cb(null, new ZipTOC(index, cdEntries, eocd, data));
    }
  }
  getName() {
    return _ZipFS.Name + (this.name !== "" ? ` ${this.name}` : "");
  }
  /**
   * Get the CentralDirectory object for the given path.
   */
  getCentralDirectoryEntry(path) {
    const inode = this._index.getInode(path);
    if (inode === null) {
      throw ApiError.ENOENT(path);
    }
    if (isFileInode(inode)) {
      return inode.getData();
    } else if (isDirInode(inode)) {
      return inode.getData();
    } else {
      throw ApiError.EPERM(`Invalid inode: ${inode}`);
    }
  }
  getCentralDirectoryEntryAt(index) {
    const dirEntry = this._directoryEntries[index];
    if (!dirEntry) {
      throw new RangeError(`Invalid directory index: ${index}.`);
    }
    return dirEntry;
  }
  getNumberOfCentralDirectoryEntries() {
    return this._directoryEntries.length;
  }
  getEndOfCentralDirectory() {
    return this._eocd;
  }
  diskSpace(path, cb) {
    cb(this.data.length, 0);
  }
  isReadOnly() {
    return true;
  }
  supportsLinks() {
    return false;
  }
  supportsProps() {
    return false;
  }
  supportsSynch() {
    return true;
  }
  statSync(path, isLstat) {
    const inode = this._index.getInode(path);
    if (inode === null) {
      throw ApiError.ENOENT(path);
    }
    let stats;
    if (isFileInode(inode)) {
      stats = inode.getData().getStats();
    } else if (isDirInode(inode)) {
      stats = inode.getStats();
    } else {
      throw new ApiError(22 /* EINVAL */, "Invalid inode.");
    }
    return stats;
  }
  openSync(path, flags, mode) {
    if (flags.isWriteable()) {
      throw new ApiError(1 /* EPERM */, path);
    }
    const inode = this._index.getInode(path);
    if (!inode) {
      throw ApiError.ENOENT(path);
    } else if (isFileInode(inode) || isDirInode(inode)) {
      const stats = !isDirInode(inode) ? inode.getData().getStats() : inode.getStats();
      const data = !isDirInode(inode) ? inode.getData().getData() : inode.getStats().fileData;
      switch (flags.pathExistsAction()) {
        case 1 /* THROW_EXCEPTION */:
        case 2 /* TRUNCATE_FILE */:
          throw ApiError.EEXIST(path);
        case 0 /* NOP */:
          return new NoSyncFile(this, path, flags, stats, data || void 0);
        default:
          throw new ApiError(22 /* EINVAL */, "Invalid FileMode object.");
      }
    } else {
      throw ApiError.EPERM(path);
    }
  }
  readdirSync(path) {
    const inode = this._index.getInode(path);
    if (!inode) {
      throw ApiError.ENOENT(path);
    } else if (isDirInode(inode)) {
      return inode.getListing();
    } else {
      throw ApiError.ENOTDIR(path);
    }
  }
  /**
   * Specially-optimized readfile.
   */
  readFileSync(fname, encoding, flag) {
    const fd = this.openSync(fname, flag, 420);
    try {
      const fdCast = fd;
      const fdBuff = fdCast.getBuffer();
      if (encoding === null) {
        return copyingSlice(fdBuff);
      }
      return fdBuff.toString(encoding);
    } finally {
      fd.closeSync();
    }
  }
};
var ZipFS = _ZipFS;
ZipFS.Name = "ZipFS";
ZipFS.Options = {
  zipData: {
    type: "object",
    description: "The zip file as a Buffer object.",
    validator: bufferValidator
  },
  name: {
    type: "string",
    optional: true,
    description: "The name of the zip file (optional)."
  }
};
ZipFS.CompressionMethod = CompressionMethod;
ZipFS.RegisterDecompressionMethod(8 /* DEFLATE */, (data, compressedSize, uncompressedSize) => {
  return inflateRawSync(data.slice(0, compressedSize), { chunkSize: uncompressedSize });
});
ZipFS.RegisterDecompressionMethod(0 /* STORED */, (data, compressedSize, uncompressedSize) => {
  return copyingSlice(data, 0, uncompressedSize);
});

// src/backend/IsoFS.ts
var rockRidgeIdentifier = "IEEE_P1282";
function getASCIIString(data, startIndex, length) {
  return data.toString("ascii", startIndex, startIndex + length).trim();
}
function getJolietString(data, startIndex, length) {
  if (length === 1) {
    return String.fromCharCode(data[startIndex]);
  }
  const pairs = Math.floor(length / 2);
  const chars = new Array(pairs);
  for (let i = 0; i < pairs; i++) {
    const pos = startIndex + (i << 1);
    chars[i] = String.fromCharCode(data[pos + 1] | data[pos] << 8);
  }
  return chars.join("");
}
function getDate(data, startIndex) {
  const year = parseInt(getASCIIString(data, startIndex, 4), 10);
  const mon = parseInt(getASCIIString(data, startIndex + 4, 2), 10);
  const day = parseInt(getASCIIString(data, startIndex + 6, 2), 10);
  const hour = parseInt(getASCIIString(data, startIndex + 8, 2), 10);
  const min = parseInt(getASCIIString(data, startIndex + 10, 2), 10);
  const sec = parseInt(getASCIIString(data, startIndex + 12, 2), 10);
  const hundrethsSec = parseInt(getASCIIString(data, startIndex + 14, 2), 10);
  return new Date(year, mon, day, hour, min, sec, hundrethsSec * 100);
}
function getShortFormDate(data, startIndex) {
  const yearsSince1900 = data[startIndex];
  const month = data[startIndex + 1];
  const day = data[startIndex + 2];
  const hour = data[startIndex + 3];
  const minute = data[startIndex + 4];
  const second = data[startIndex + 5];
  return new Date(yearsSince1900, month - 1, day, hour, minute, second);
}
function constructSystemUseEntry(bigData, i) {
  const data = bigData.slice(i);
  const sue = new SystemUseEntry(data);
  switch (sue.signatureWord()) {
    case 17221 /* CE */:
      return new CEEntry(data);
    case 20548 /* PD */:
      return new PDEntry(data);
    case 21328 /* SP */:
      return new SPEntry(data);
    case 21332 /* ST */:
      return new STEntry(data);
    case 17746 /* ER */:
      return new EREntry(data);
    case 17747 /* ES */:
      return new ESEntry(data);
    case 20568 /* PX */:
      return new PXEntry(data);
    case 20558 /* PN */:
      return new PNEntry(data);
    case 21324 /* SL */:
      return new SLEntry(data);
    case 20045 /* NM */:
      return new NMEntry(data);
    case 17228 /* CL */:
      return new CLEntry(data);
    case 20556 /* PL */:
      return new PLEntry(data);
    case 21061 /* RE */:
      return new REEntry(data);
    case 21574 /* TF */:
      return new TFEntry(data);
    case 21318 /* SF */:
      return new SFEntry(data);
    case 21074 /* RR */:
      return new RREntry(data);
    default:
      return sue;
  }
}
function constructSystemUseEntries(data, i, len, isoData) {
  len = len - 4;
  let entries = new Array();
  while (i < len) {
    const entry = constructSystemUseEntry(data, i);
    const length = entry.length();
    if (length === 0) {
      return entries;
    }
    i += length;
    if (entry instanceof STEntry) {
      break;
    }
    if (entry instanceof CEEntry) {
      entries = entries.concat(entry.getEntries(isoData));
    } else {
      entries.push(entry);
    }
  }
  return entries;
}
var VolumeDescriptor = class {
  constructor(data) {
    this._data = data;
  }
  type() {
    return this._data[0];
  }
  standardIdentifier() {
    return getASCIIString(this._data, 1, 5);
  }
  version() {
    return this._data[6];
  }
  data() {
    return this._data.slice(7, 2048);
  }
};
var PrimaryOrSupplementaryVolumeDescriptor = class extends VolumeDescriptor {
  constructor(data) {
    super(data);
    this._root = null;
  }
  systemIdentifier() {
    return this._getString32(8);
  }
  volumeIdentifier() {
    return this._getString32(40);
  }
  volumeSpaceSize() {
    return this._data.readUInt32LE(80);
  }
  volumeSetSize() {
    return this._data.readUInt16LE(120);
  }
  volumeSequenceNumber() {
    return this._data.readUInt16LE(124);
  }
  logicalBlockSize() {
    return this._data.readUInt16LE(128);
  }
  pathTableSize() {
    return this._data.readUInt32LE(132);
  }
  locationOfTypeLPathTable() {
    return this._data.readUInt32LE(140);
  }
  locationOfOptionalTypeLPathTable() {
    return this._data.readUInt32LE(144);
  }
  locationOfTypeMPathTable() {
    return this._data.readUInt32BE(148);
  }
  locationOfOptionalTypeMPathTable() {
    return this._data.readUInt32BE(152);
  }
  rootDirectoryEntry(isoData) {
    if (this._root === null) {
      this._root = this._constructRootDirectoryRecord(this._data.slice(156));
      this._root.rootCheckForRockRidge(isoData);
    }
    return this._root;
  }
  volumeSetIdentifier() {
    return this._getString(190, 128);
  }
  publisherIdentifier() {
    return this._getString(318, 128);
  }
  dataPreparerIdentifier() {
    return this._getString(446, 128);
  }
  applicationIdentifier() {
    return this._getString(574, 128);
  }
  copyrightFileIdentifier() {
    return this._getString(702, 38);
  }
  abstractFileIdentifier() {
    return this._getString(740, 36);
  }
  bibliographicFileIdentifier() {
    return this._getString(776, 37);
  }
  volumeCreationDate() {
    return getDate(this._data, 813);
  }
  volumeModificationDate() {
    return getDate(this._data, 830);
  }
  volumeExpirationDate() {
    return getDate(this._data, 847);
  }
  volumeEffectiveDate() {
    return getDate(this._data, 864);
  }
  fileStructureVersion() {
    return this._data[881];
  }
  applicationUsed() {
    return this._data.slice(883, 883 + 512);
  }
  reserved() {
    return this._data.slice(1395, 1395 + 653);
  }
  _getString32(idx) {
    return this._getString(idx, 32);
  }
};
var PrimaryVolumeDescriptor = class extends PrimaryOrSupplementaryVolumeDescriptor {
  constructor(data) {
    super(data);
    if (this.type() !== 1 /* PrimaryVolumeDescriptor */) {
      throw new ApiError(5 /* EIO */, `Invalid primary volume descriptor.`);
    }
  }
  name() {
    return "ISO9660";
  }
  _constructRootDirectoryRecord(data) {
    return new ISODirectoryRecord(data, -1);
  }
  _getString(idx, len) {
    return this._getString(idx, len);
  }
};
var SupplementaryVolumeDescriptor = class extends PrimaryOrSupplementaryVolumeDescriptor {
  constructor(data) {
    super(data);
    if (this.type() !== 2 /* SupplementaryVolumeDescriptor */) {
      throw new ApiError(5 /* EIO */, `Invalid supplementary volume descriptor.`);
    }
    const escapeSequence = this.escapeSequence();
    const third = escapeSequence[2];
    if (escapeSequence[0] !== 37 || escapeSequence[1] !== 47 || third !== 64 && third !== 67 && third !== 69) {
      throw new ApiError(5 /* EIO */, `Unrecognized escape sequence for SupplementaryVolumeDescriptor: ${escapeSequence.toString()}`);
    }
  }
  name() {
    return "Joliet";
  }
  escapeSequence() {
    return this._data.slice(88, 120);
  }
  _constructRootDirectoryRecord(data) {
    return new JolietDirectoryRecord(data, -1);
  }
  _getString(idx, len) {
    return getJolietString(this._data, idx, len);
  }
};
var DirectoryRecord = class {
  constructor(data, rockRidgeOffset) {
    this._suEntries = null;
    this._fileOrDir = null;
    this._data = data;
    this._rockRidgeOffset = rockRidgeOffset;
  }
  hasRockRidge() {
    return this._rockRidgeOffset > -1;
  }
  getRockRidgeOffset() {
    return this._rockRidgeOffset;
  }
  /**
   * !!ONLY VALID ON ROOT NODE!!
   * Checks if Rock Ridge is enabled, and sets the offset.
   */
  rootCheckForRockRidge(isoData) {
    const dir = this.getDirectory(isoData);
    this._rockRidgeOffset = dir.getDotEntry(isoData)._getRockRidgeOffset(isoData);
    if (this._rockRidgeOffset > -1) {
      this._fileOrDir = null;
    }
  }
  length() {
    return this._data[0];
  }
  extendedAttributeRecordLength() {
    return this._data[1];
  }
  lba() {
    return this._data.readUInt32LE(2) * 2048;
  }
  dataLength() {
    return this._data.readUInt32LE(10);
  }
  recordingDate() {
    return getShortFormDate(this._data, 18);
  }
  fileFlags() {
    return this._data[25];
  }
  fileUnitSize() {
    return this._data[26];
  }
  interleaveGapSize() {
    return this._data[27];
  }
  volumeSequenceNumber() {
    return this._data.readUInt16LE(28);
  }
  identifier() {
    return this._getString(33, this._data[32]);
  }
  fileName(isoData) {
    if (this.hasRockRidge()) {
      const fn = this._rockRidgeFilename(isoData);
      if (fn !== null) {
        return fn;
      }
    }
    const ident = this.identifier();
    if (this.isDirectory(isoData)) {
      return ident;
    }
    const versionSeparator = ident.indexOf(";");
    if (versionSeparator === -1) {
      return ident;
    } else if (ident[versionSeparator - 1] === ".") {
      return ident.slice(0, versionSeparator - 1);
    } else {
      return ident.slice(0, versionSeparator);
    }
  }
  isDirectory(isoData) {
    let rv = !!(this.fileFlags() & 2 /* Directory */);
    if (!rv && this.hasRockRidge()) {
      rv = this.getSUEntries(isoData).filter((e) => e instanceof CLEntry).length > 0;
    }
    return rv;
  }
  isSymlink(isoData) {
    return this.hasRockRidge() && this.getSUEntries(isoData).filter((e) => e instanceof SLEntry).length > 0;
  }
  getSymlinkPath(isoData) {
    let p = "";
    const entries = this.getSUEntries(isoData);
    const getStr = this._getGetString();
    for (const entry of entries) {
      if (entry instanceof SLEntry) {
        const components = entry.componentRecords();
        for (const component of components) {
          const flags = component.flags();
          if (flags & 2 /* CURRENT */) {
            p += "./";
          } else if (flags & 4 /* PARENT */) {
            p += "../";
          } else if (flags & 8 /* ROOT */) {
            p += "/";
          } else {
            p += component.content(getStr);
            if (!(flags & 1 /* CONTINUE */)) {
              p += "/";
            }
          }
        }
        if (!entry.continueFlag()) {
          break;
        }
      }
    }
    if (p.length > 1 && p[p.length - 1] === "/") {
      return p.slice(0, p.length - 1);
    } else {
      return p;
    }
  }
  getFile(isoData) {
    if (this.isDirectory(isoData)) {
      throw new Error(`Tried to get a File from a directory.`);
    }
    if (this._fileOrDir === null) {
      this._fileOrDir = isoData.slice(this.lba(), this.lba() + this.dataLength());
    }
    return this._fileOrDir;
  }
  getDirectory(isoData) {
    if (!this.isDirectory(isoData)) {
      throw new Error(`Tried to get a Directory from a file.`);
    }
    if (this._fileOrDir === null) {
      this._fileOrDir = this._constructDirectory(isoData);
    }
    return this._fileOrDir;
  }
  getSUEntries(isoData) {
    if (!this._suEntries) {
      this._constructSUEntries(isoData);
    }
    return this._suEntries;
  }
  _rockRidgeFilename(isoData) {
    const nmEntries = this.getSUEntries(isoData).filter((e) => e instanceof NMEntry);
    if (nmEntries.length === 0 || nmEntries[0].flags() & (2 /* CURRENT */ | 4 /* PARENT */)) {
      return null;
    }
    let str = "";
    const getString = this._getGetString();
    for (const e of nmEntries) {
      str += e.name(getString);
      if (!(e.flags() & 1 /* CONTINUE */)) {
        break;
      }
    }
    return str;
  }
  _constructSUEntries(isoData) {
    let i = 33 + this._data[32];
    if (i % 2 === 1) {
      i++;
    }
    i += this._rockRidgeOffset;
    this._suEntries = constructSystemUseEntries(this._data, i, this.length(), isoData);
  }
  /**
   * !!ONLY VALID ON FIRST ENTRY OF ROOT DIRECTORY!!
   * Returns -1 if rock ridge is not enabled. Otherwise, returns the offset
   * at which system use fields begin.
   */
  _getRockRidgeOffset(isoData) {
    this._rockRidgeOffset = 0;
    const suEntries = this.getSUEntries(isoData);
    if (suEntries.length > 0) {
      const spEntry = suEntries[0];
      if (spEntry instanceof SPEntry && spEntry.checkBytesPass()) {
        for (let i = 1; i < suEntries.length; i++) {
          const entry = suEntries[i];
          if (entry instanceof RREntry || entry instanceof EREntry && entry.extensionIdentifier() === rockRidgeIdentifier) {
            return spEntry.bytesSkipped();
          }
        }
      }
    }
    this._rockRidgeOffset = -1;
    return -1;
  }
};
var ISODirectoryRecord = class extends DirectoryRecord {
  constructor(data, rockRidgeOffset) {
    super(data, rockRidgeOffset);
  }
  _getString(i, len) {
    return getASCIIString(this._data, i, len);
  }
  _constructDirectory(isoData) {
    return new ISODirectory(this, isoData);
  }
  _getGetString() {
    return getASCIIString;
  }
};
var JolietDirectoryRecord = class extends DirectoryRecord {
  constructor(data, rockRidgeOffset) {
    super(data, rockRidgeOffset);
  }
  _getString(i, len) {
    return getJolietString(this._data, i, len);
  }
  _constructDirectory(isoData) {
    return new JolietDirectory(this, isoData);
  }
  _getGetString() {
    return getJolietString;
  }
};
var SystemUseEntry = class {
  constructor(data) {
    this._data = data;
  }
  signatureWord() {
    return this._data.readUInt16BE(0);
  }
  signatureWordString() {
    return getASCIIString(this._data, 0, 2);
  }
  length() {
    return this._data[2];
  }
  suVersion() {
    return this._data[3];
  }
};
var CEEntry = class extends SystemUseEntry {
  constructor(data) {
    super(data);
    this._entries = null;
  }
  /**
   * Logical block address of the continuation area.
   */
  continuationLba() {
    return this._data.readUInt32LE(4);
  }
  /**
   * Offset into the logical block.
   */
  continuationLbaOffset() {
    return this._data.readUInt32LE(12);
  }
  /**
   * Length of the continuation area.
   */
  continuationLength() {
    return this._data.readUInt32LE(20);
  }
  getEntries(isoData) {
    if (!this._entries) {
      const start = this.continuationLba() * 2048 + this.continuationLbaOffset();
      this._entries = constructSystemUseEntries(isoData, start, this.continuationLength(), isoData);
    }
    return this._entries;
  }
};
var PDEntry = class extends SystemUseEntry {
  constructor(data) {
    super(data);
  }
};
var SPEntry = class extends SystemUseEntry {
  constructor(data) {
    super(data);
  }
  checkBytesPass() {
    return this._data[4] === 190 && this._data[5] === 239;
  }
  bytesSkipped() {
    return this._data[6];
  }
};
var STEntry = class extends SystemUseEntry {
  constructor(data) {
    super(data);
  }
};
var EREntry = class extends SystemUseEntry {
  constructor(data) {
    super(data);
  }
  identifierLength() {
    return this._data[4];
  }
  descriptorLength() {
    return this._data[5];
  }
  sourceLength() {
    return this._data[6];
  }
  extensionVersion() {
    return this._data[7];
  }
  extensionIdentifier() {
    return getASCIIString(this._data, 8, this.identifierLength());
  }
  extensionDescriptor() {
    return getASCIIString(this._data, 8 + this.identifierLength(), this.descriptorLength());
  }
  extensionSource() {
    return getASCIIString(this._data, 8 + this.identifierLength() + this.descriptorLength(), this.sourceLength());
  }
};
var ESEntry = class extends SystemUseEntry {
  constructor(data) {
    super(data);
  }
  extensionSequence() {
    return this._data[4];
  }
};
var RREntry = class extends SystemUseEntry {
  constructor(data) {
    super(data);
  }
};
var PXEntry = class extends SystemUseEntry {
  constructor(data) {
    super(data);
  }
  mode() {
    return this._data.readUInt32LE(4);
  }
  fileLinks() {
    return this._data.readUInt32LE(12);
  }
  uid() {
    return this._data.readUInt32LE(20);
  }
  gid() {
    return this._data.readUInt32LE(28);
  }
  inode() {
    return this._data.readUInt32LE(36);
  }
};
var PNEntry = class extends SystemUseEntry {
  constructor(data) {
    super(data);
  }
  devTHigh() {
    return this._data.readUInt32LE(4);
  }
  devTLow() {
    return this._data.readUInt32LE(12);
  }
};
var SLEntry = class extends SystemUseEntry {
  constructor(data) {
    super(data);
  }
  flags() {
    return this._data[4];
  }
  continueFlag() {
    return this.flags() & 1;
  }
  componentRecords() {
    const records = new Array();
    let i = 5;
    while (i < this.length()) {
      const record = new SLComponentRecord(this._data.slice(i));
      records.push(record);
      i += record.length();
    }
    return records;
  }
};
var SLComponentRecord = class {
  constructor(data) {
    this._data = data;
  }
  flags() {
    return this._data[0];
  }
  length() {
    return 2 + this.componentLength();
  }
  componentLength() {
    return this._data[1];
  }
  content(getString) {
    return getString(this._data, 2, this.componentLength());
  }
};
var NMEntry = class extends SystemUseEntry {
  constructor(data) {
    super(data);
  }
  flags() {
    return this._data[4];
  }
  name(getString) {
    return getString(this._data, 5, this.length() - 5);
  }
};
var CLEntry = class extends SystemUseEntry {
  constructor(data) {
    super(data);
  }
  childDirectoryLba() {
    return this._data.readUInt32LE(4);
  }
};
var PLEntry = class extends SystemUseEntry {
  constructor(data) {
    super(data);
  }
  parentDirectoryLba() {
    return this._data.readUInt32LE(4);
  }
};
var REEntry = class extends SystemUseEntry {
  constructor(data) {
    super(data);
  }
};
var TFEntry = class extends SystemUseEntry {
  constructor(data) {
    super(data);
  }
  flags() {
    return this._data[4];
  }
  creation() {
    if (this.flags() & 1 /* CREATION */) {
      if (this._longFormDates()) {
        return getDate(this._data, 5);
      } else {
        return getShortFormDate(this._data, 5);
      }
    } else {
      return null;
    }
  }
  modify() {
    if (this.flags() & 2 /* MODIFY */) {
      const previousDates = this.flags() & 1 /* CREATION */ ? 1 : 0;
      if (this._longFormDates()) {
        return getDate(this._data, 5 + previousDates * 17);
      } else {
        return getShortFormDate(this._data, 5 + previousDates * 7);
      }
    } else {
      return null;
    }
  }
  access() {
    if (this.flags() & 4 /* ACCESS */) {
      let previousDates = this.flags() & 1 /* CREATION */ ? 1 : 0;
      previousDates += this.flags() & 2 /* MODIFY */ ? 1 : 0;
      if (this._longFormDates()) {
        return getDate(this._data, 5 + previousDates * 17);
      } else {
        return getShortFormDate(this._data, 5 + previousDates * 7);
      }
    } else {
      return null;
    }
  }
  backup() {
    if (this.flags() & 16 /* BACKUP */) {
      let previousDates = this.flags() & 1 /* CREATION */ ? 1 : 0;
      previousDates += this.flags() & 2 /* MODIFY */ ? 1 : 0;
      previousDates += this.flags() & 4 /* ACCESS */ ? 1 : 0;
      if (this._longFormDates()) {
        return getDate(this._data, 5 + previousDates * 17);
      } else {
        return getShortFormDate(this._data, 5 + previousDates * 7);
      }
    } else {
      return null;
    }
  }
  expiration() {
    if (this.flags() & 32 /* EXPIRATION */) {
      let previousDates = this.flags() & 1 /* CREATION */ ? 1 : 0;
      previousDates += this.flags() & 2 /* MODIFY */ ? 1 : 0;
      previousDates += this.flags() & 4 /* ACCESS */ ? 1 : 0;
      previousDates += this.flags() & 16 /* BACKUP */ ? 1 : 0;
      if (this._longFormDates()) {
        return getDate(this._data, 5 + previousDates * 17);
      } else {
        return getShortFormDate(this._data, 5 + previousDates * 7);
      }
    } else {
      return null;
    }
  }
  effective() {
    if (this.flags() & 64 /* EFFECTIVE */) {
      let previousDates = this.flags() & 1 /* CREATION */ ? 1 : 0;
      previousDates += this.flags() & 2 /* MODIFY */ ? 1 : 0;
      previousDates += this.flags() & 4 /* ACCESS */ ? 1 : 0;
      previousDates += this.flags() & 16 /* BACKUP */ ? 1 : 0;
      previousDates += this.flags() & 32 /* EXPIRATION */ ? 1 : 0;
      if (this._longFormDates()) {
        return getDate(this._data, 5 + previousDates * 17);
      } else {
        return getShortFormDate(this._data, 5 + previousDates * 7);
      }
    } else {
      return null;
    }
  }
  _longFormDates() {
    return !!(this.flags() && 128 /* LONG_FORM */);
  }
};
var SFEntry = class extends SystemUseEntry {
  constructor(data) {
    super(data);
  }
  virtualSizeHigh() {
    return this._data.readUInt32LE(4);
  }
  virtualSizeLow() {
    return this._data.readUInt32LE(12);
  }
  tableDepth() {
    return this._data[20];
  }
};
var Directory = class {
  constructor(record, isoData) {
    this._fileList = [];
    this._fileMap = {};
    this._record = record;
    let i = record.lba();
    let iLimit = i + record.dataLength();
    if (!(record.fileFlags() & 2 /* Directory */)) {
      const cl = record.getSUEntries(isoData).filter((e) => e instanceof CLEntry)[0];
      i = cl.childDirectoryLba() * 2048;
      iLimit = Infinity;
    }
    while (i < iLimit) {
      const len = isoData[i];
      if (len === 0) {
        i++;
        continue;
      }
      const r = this._constructDirectoryRecord(isoData.slice(i));
      const fname = r.fileName(isoData);
      if (fname !== "\0" && fname !== "") {
        if (!r.hasRockRidge() || r.getSUEntries(isoData).filter((e) => e instanceof REEntry).length === 0) {
          this._fileMap[fname] = r;
          this._fileList.push(fname);
        }
      } else if (iLimit === Infinity) {
        iLimit = i + r.dataLength();
      }
      i += r.length();
    }
  }
  /**
   * Get the record with the given name.
   * Returns undefined if not present.
   */
  getRecord(name) {
    return this._fileMap[name];
  }
  getFileList() {
    return this._fileList;
  }
  getDotEntry(isoData) {
    return this._constructDirectoryRecord(isoData.slice(this._record.lba()));
  }
};
var ISODirectory = class extends Directory {
  constructor(record, isoData) {
    super(record, isoData);
  }
  _constructDirectoryRecord(data) {
    return new ISODirectoryRecord(data, this._record.getRockRidgeOffset());
  }
};
var JolietDirectory = class extends Directory {
  constructor(record, isoData) {
    super(record, isoData);
  }
  _constructDirectoryRecord(data) {
    return new JolietDirectoryRecord(data, this._record.getRockRidgeOffset());
  }
};
var _IsoFS = class extends SynchronousFileSystem {
  /**
   * **Deprecated. Please use IsoFS.Create() method instead.**
   *
   * Constructs a read-only file system from the given ISO.
   * @param data The ISO file in a buffer.
   * @param name The name of the ISO (optional; used for debug messages / identification via getName()).
   */
  constructor(data, name = "") {
    super();
    this._data = data;
    let vdTerminatorFound = false;
    let i = 16 * 2048;
    const candidateVDs = new Array();
    while (!vdTerminatorFound) {
      const slice2 = data.slice(i);
      const vd = new VolumeDescriptor(slice2);
      switch (vd.type()) {
        case 1 /* PrimaryVolumeDescriptor */:
          candidateVDs.push(new PrimaryVolumeDescriptor(slice2));
          break;
        case 2 /* SupplementaryVolumeDescriptor */:
          candidateVDs.push(new SupplementaryVolumeDescriptor(slice2));
          break;
        case 255 /* VolumeDescriptorSetTerminator */:
          vdTerminatorFound = true;
          break;
      }
      i += 2048;
    }
    if (candidateVDs.length === 0) {
      throw new ApiError(5 /* EIO */, `Unable to find a suitable volume descriptor.`);
    }
    candidateVDs.forEach((v) => {
      if (!this._pvd || this._pvd.type() !== 2 /* SupplementaryVolumeDescriptor */) {
        this._pvd = v;
      }
    });
    this._root = this._pvd.rootDirectoryEntry(data);
    this._name = name;
  }
  /**
   * Creates an IsoFS instance with the given options.
   */
  static Create(opts, cb) {
    try {
      cb(null, new _IsoFS(opts.data, opts.name));
    } catch (e) {
      cb(e);
    }
  }
  static CreateAsync(opts) {
    return new Promise((resolve2, reject) => {
      this.Create(opts, (error, fs2) => {
        if (error || !fs2) {
          reject(error);
        } else {
          resolve2(fs2);
        }
      });
    });
  }
  static isAvailable() {
    return true;
  }
  getName() {
    let name = `IsoFS${this._name}${this._pvd ? `-${this._pvd.name()}` : ""}`;
    if (this._root && this._root.hasRockRidge()) {
      name += `-RockRidge`;
    }
    return name;
  }
  diskSpace(path, cb) {
    cb(this._data.length, 0);
  }
  isReadOnly() {
    return true;
  }
  supportsLinks() {
    return false;
  }
  supportsProps() {
    return false;
  }
  supportsSynch() {
    return true;
  }
  statSync(p, isLstat) {
    const record = this._getDirectoryRecord(p);
    if (record === null) {
      throw ApiError.ENOENT(p);
    }
    return this._getStats(p, record);
  }
  openSync(p, flags, mode) {
    if (flags.isWriteable()) {
      throw new ApiError(1 /* EPERM */, p);
    }
    const record = this._getDirectoryRecord(p);
    if (!record) {
      throw ApiError.ENOENT(p);
    } else if (record.isSymlink(this._data)) {
      return this.openSync(resolve(p, record.getSymlinkPath(this._data)), flags, mode);
    } else {
      const data = !record.isDirectory(this._data) ? record.getFile(this._data) : void 0;
      const stats = this._getStats(p, record);
      switch (flags.pathExistsAction()) {
        case 1 /* THROW_EXCEPTION */:
        case 2 /* TRUNCATE_FILE */:
          throw ApiError.EEXIST(p);
        case 0 /* NOP */:
          return new NoSyncFile(this, p, flags, stats, data);
        default:
          throw new ApiError(22 /* EINVAL */, "Invalid FileMode object.");
      }
    }
  }
  readdirSync(path) {
    const record = this._getDirectoryRecord(path);
    if (!record) {
      throw ApiError.ENOENT(path);
    } else if (record.isDirectory(this._data)) {
      return record.getDirectory(this._data).getFileList().slice(0);
    } else {
      throw ApiError.ENOTDIR(path);
    }
  }
  /**
   * Specially-optimized readfile.
   */
  readFileSync(fname, encoding, flag) {
    const fd = this.openSync(fname, flag, 420);
    try {
      const fdCast = fd;
      const fdBuff = fdCast.getBuffer();
      if (encoding === null) {
        return copyingSlice(fdBuff);
      }
      return fdBuff.toString(encoding);
    } finally {
      fd.closeSync();
    }
  }
  _getDirectoryRecord(path) {
    if (path === "/") {
      return this._root;
    }
    const components = path.split("/").slice(1);
    let dir = this._root;
    for (const component of components) {
      if (dir.isDirectory(this._data)) {
        dir = dir.getDirectory(this._data).getRecord(component);
        if (!dir) {
          return null;
        }
      } else {
        return null;
      }
    }
    return dir;
  }
  _getStats(p, record) {
    if (record.isSymlink(this._data)) {
      const newP = resolve(p, record.getSymlinkPath(this._data));
      const dirRec = this._getDirectoryRecord(newP);
      if (!dirRec) {
        return null;
      }
      return this._getStats(newP, dirRec);
    } else {
      const len = record.dataLength();
      let mode = 365;
      const date = record.recordingDate().getTime();
      let atime = date;
      let mtime = date;
      let ctime = date;
      if (record.hasRockRidge()) {
        const entries = record.getSUEntries(this._data);
        for (const entry of entries) {
          if (entry instanceof PXEntry) {
            mode = entry.mode();
          } else if (entry instanceof TFEntry) {
            const flags = entry.flags();
            if (flags & 4 /* ACCESS */) {
              atime = entry.access().getTime();
            }
            if (flags & 2 /* MODIFY */) {
              mtime = entry.modify().getTime();
            }
            if (flags & 1 /* CREATION */) {
              ctime = entry.creation().getTime();
            }
          }
        }
      }
      mode = mode & 365;
      return new Stats(record.isDirectory(this._data) ? 16384 /* DIRECTORY */ : 32768 /* FILE */, len, mode, atime, mtime, ctime);
    }
  }
};
var IsoFS = _IsoFS;
IsoFS.Name = "IsoFS";
IsoFS.Options = {
  data: {
    type: "object",
    description: "The ISO file in a buffer",
    validator: bufferValidator
  }
};

// src/core/backends.ts
[AsyncMirror, DropboxFileSystem, EmscriptenFileSystem, FileSystemAccessFileSystem, FolderAdapter, InMemoryFileSystem, IndexedDBFileSystem, IsoFS, LocalStorageFileSystem, MountableFileSystem, OverlayFS, WorkerFS, HTTPRequest, ZipFS].forEach(
  (fsType) => {
    const create = fsType.Create;
    fsType.Create = function(opts, cb) {
      const oneArg = typeof opts === "function";
      const normalizedCb = oneArg ? opts : cb;
      const normalizedOpts = oneArg ? {} : opts;
      function wrappedCb(e) {
        if (e) {
          normalizedCb(e);
        } else {
          create.call(fsType, normalizedOpts, normalizedCb);
        }
      }
      checkOptions(fsType, normalizedOpts, wrappedCb);
    };
  }
);
var Backends = {
  AsyncMirror,
  Dropbox: DropboxFileSystem,
  Emscripten: EmscriptenFileSystem,
  FileSystemAccess: FileSystemAccessFileSystem,
  FolderAdapter,
  InMemory: InMemoryFileSystem,
  IndexedDB: IndexedDBFileSystem,
  IsoFS,
  LocalStorage: LocalStorageFileSystem,
  MountableFileSystem,
  OverlayFS,
  WorkerFS,
  HTTPRequest,
  XmlHttpRequest: HTTPRequest,
  ZipFS
};
var backends_default = Backends;

// src/core/browserfs.ts
if (process_exports && void 0) {
  (void 0)();
}
function install(obj) {
  obj.Buffer = Buffer;
  obj.process = process_exports;
  const oldRequire = obj.require ? obj.require : null;
  obj.require = function(arg) {
    const rv = BFSRequire(arg);
    if (!rv) {
      return oldRequire.apply(null, Array.prototype.slice.call(arguments, 0));
    } else {
      return rv;
    }
  };
}
function registerFileSystem(name, fs2) {
  backends_default[name] = fs2;
}
var BFSRequire = (module) => {
  switch (module) {
    case "fs":
      return node_fs_default;
    case "path":
      return path_exports;
    case "buffer":
      return buffer_exports;
    case "process":
      return process_exports;
    case "bfs_utils":
    case "bfs-utils":
      return util_exports;
    default:
      return backends_default[module];
  }
};
function initialize(rootfs, uid = 0, gid = 0) {
  const cred = new Cred(uid, gid, uid, gid, uid, gid);
  return node_fs_default.initialize(rootfs, cred);
}
function configure(config2, cb) {
  getFileSystem(config2, (e, fs2) => {
    if (fs2) {
      initialize(fs2);
      cb();
    } else {
      cb(e);
    }
  });
}
function configureAsync(config2) {
  return new Promise((resolve2, reject) => {
    getFileSystem(config2, (e, fs2) => {
      if (fs2) {
        initialize(fs2);
        resolve2(fs2);
      } else {
        reject(e);
      }
    });
  });
}
function getFileSystem(config2, cb) {
  const fsName = config2["fs"];
  if (!fsName) {
    return cb(new ApiError(1 /* EPERM */, 'Missing "fs" property on configuration object.'));
  }
  const options = config2["options"];
  let waitCount = 0;
  let called = false;
  function finish() {
    if (!called) {
      called = true;
      const fsc = backends_default[fsName];
      if (!fsc) {
        cb(new ApiError(1 /* EPERM */, `File system ${fsName} is not available in BrowserFS.`));
      } else {
        fsc.Create(options, cb);
      }
    }
  }
  if (options !== null && typeof options === "object") {
    let finishedIterating = false;
    const props = Object.keys(options).filter((k) => k !== "fs");
    props.forEach((p) => {
      const d = options[p];
      if (d !== null && typeof d === "object" && d["fs"]) {
        waitCount++;
        getFileSystem(d, function(e, fs2) {
          waitCount--;
          if (e) {
            if (called) {
              return;
            }
            called = true;
            cb(e);
          } else {
            options[p] = fs2;
            if (waitCount === 0 && finishedIterating) {
              finish();
            }
          }
        });
      }
    });
    finishedIterating = true;
  }
  if (waitCount === 0) {
    finish();
  }
}
export {
  BFSRequire,
  BFSEmscriptenFS as EmscriptenFS,
  api_error_exports as Errors,
  backends_default as FileSystem,
  configure,
  configureAsync,
  getFileSystem,
  initialize,
  install,
  registerFileSystem,
  setImmediate_default as setImmediate
};
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibm9kZS1tb2R1bGVzLXBvbHlmaWxsczpidWZmZXIiLCAiLi4vc3JjL2NvcmUvYXBpX2Vycm9yLnRzIiwgIi4uL3NyYy9jb3JlL2ZpbGVfZmxhZy50cyIsICJub2RlLW1vZHVsZXMtcG9seWZpbGxzOnBhdGgiLCAiLi4vc3JjL2NvcmUvY3JlZC50cyIsICIuLi9zcmMvY29yZS9zdGF0cy50cyIsICIuLi9zcmMvZ2VuZXJpYy9zZXRJbW1lZGlhdGUudHMiLCAiLi4vc3JjL2NvcmUvRlMudHMiLCAiLi4vc3JjL2NvcmUvbm9kZV9mcy50cyIsICIuLi9zcmMvY29yZS91dGlsLnRzIiwgIi4uL3NyYy9jb3JlL2xldmVuc2h0ZWluLnRzIiwgIi4uL3NyYy9nZW5lcmljL2Vtc2NyaXB0ZW5fZnMudHMiLCAiLi4vc3JjL2NvcmUvZmlsZV9zeXN0ZW0udHMiLCAiLi4vc3JjL2NvcmUvZmlsZS50cyIsICIuLi9zcmMvZ2VuZXJpYy9wcmVsb2FkX2ZpbGUudHMiLCAiLi4vc3JjL2JhY2tlbmQvQXN5bmNNaXJyb3IudHMiLCAiLi4vc3JjL2dlbmVyaWMvZHJvcGJveF9icmlkZ2VfYWN0dWFsLnRzIiwgIi4uL3NyYy9iYWNrZW5kL0Ryb3Bib3gudHMiLCAiLi4vc3JjL2JhY2tlbmQvRW1zY3JpcHRlbi50cyIsICIuLi9zcmMvYmFja2VuZC9GaWxlU3lzdGVtQWNjZXNzLnRzIiwgIi4uL3NyYy9iYWNrZW5kL0ZvbGRlckFkYXB0ZXIudHMiLCAibm9kZS1tb2R1bGVzLXBvbHlmaWxsczpwcm9jZXNzIiwgIi4uL3NyYy9nZW5lcmljL2lub2RlLnRzIiwgIi4uL3NyYy9nZW5lcmljL2tleV92YWx1ZV9maWxlc3lzdGVtLnRzIiwgIi4uL3NyYy9iYWNrZW5kL0luTWVtb3J5LnRzIiwgIi4uL3NyYy9iYWNrZW5kL0luZGV4ZWREQi50cyIsICIuLi9zcmMvYmFja2VuZC9Mb2NhbFN0b3JhZ2UudHMiLCAiLi4vc3JjL2JhY2tlbmQvTW91bnRhYmxlRmlsZVN5c3RlbS50cyIsICIuLi9zcmMvZ2VuZXJpYy9tdXRleC50cyIsICIuLi9zcmMvZ2VuZXJpYy9sb2NrZWRfZnMudHMiLCAiLi4vc3JjL2JhY2tlbmQvT3ZlcmxheUZTLnRzIiwgIi4uL3NyYy9iYWNrZW5kL1dvcmtlckZTLnRzIiwgIi4uL3NyYy9nZW5lcmljL3hoci50cyIsICIuLi9zcmMvZ2VuZXJpYy9mZXRjaC50cyIsICIuLi9zcmMvZ2VuZXJpYy9maWxlX2luZGV4LnRzIiwgIi4uL3NyYy9iYWNrZW5kL0hUVFBSZXF1ZXN0LnRzIiwgIi4uL3NyYy9nZW5lcmljL2V4dGVuZGVkX2FzY2lpLnRzIiwgIm5vZGUtbW9kdWxlcy1wb2x5ZmlsbHM6ZXZlbnRzIiwgIi4uL25vZGVfbW9kdWxlcy9yb2xsdXAtcGx1Z2luLW5vZGUtcG9seWZpbGxzL3BvbHlmaWxscy9pbmhlcml0cy5qcyIsICJub2RlLW1vZHVsZXMtcG9seWZpbGxzOnV0aWwiLCAiLi4vbm9kZV9tb2R1bGVzL3JvbGx1cC1wbHVnaW4tbm9kZS1wb2x5ZmlsbHMvcG9seWZpbGxzL3JlYWRhYmxlLXN0cmVhbS9idWZmZXItbGlzdC5qcyIsICJub2RlLW1vZHVsZXMtcG9seWZpbGxzOnN0cmluZ19kZWNvZGVyIiwgIi4uL25vZGVfbW9kdWxlcy9yb2xsdXAtcGx1Z2luLW5vZGUtcG9seWZpbGxzL3BvbHlmaWxscy9yZWFkYWJsZS1zdHJlYW0vcmVhZGFibGUuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3JvbGx1cC1wbHVnaW4tbm9kZS1wb2x5ZmlsbHMvcG9seWZpbGxzL3JlYWRhYmxlLXN0cmVhbS93cml0YWJsZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvcm9sbHVwLXBsdWdpbi1ub2RlLXBvbHlmaWxscy9wb2x5ZmlsbHMvcmVhZGFibGUtc3RyZWFtL2R1cGxleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvcm9sbHVwLXBsdWdpbi1ub2RlLXBvbHlmaWxscy9wb2x5ZmlsbHMvcmVhZGFibGUtc3RyZWFtL3RyYW5zZm9ybS5qcyIsICIuLi9ub2RlX21vZHVsZXMvcm9sbHVwLXBsdWdpbi1ub2RlLXBvbHlmaWxscy9wb2x5ZmlsbHMvcmVhZGFibGUtc3RyZWFtL3Bhc3N0aHJvdWdoLmpzIiwgIm5vZGUtbW9kdWxlcy1wb2x5ZmlsbHM6c3RyZWFtIiwgIi4uL25vZGVfbW9kdWxlcy9yb2xsdXAtcGx1Z2luLW5vZGUtcG9seWZpbGxzL3BvbHlmaWxscy96bGliLWxpYi9iaW5kaW5nLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9yb2xsdXAtcGx1Z2luLW5vZGUtcG9seWZpbGxzL3BvbHlmaWxscy96bGliLWxpYi9tZXNzYWdlcy5qcyIsICIuLi9ub2RlX21vZHVsZXMvcm9sbHVwLXBsdWdpbi1ub2RlLXBvbHlmaWxscy9wb2x5ZmlsbHMvemxpYi1saWIvenN0cmVhbS5qcyIsICIuLi9ub2RlX21vZHVsZXMvcm9sbHVwLXBsdWdpbi1ub2RlLXBvbHlmaWxscy9wb2x5ZmlsbHMvemxpYi1saWIvdXRpbHMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3JvbGx1cC1wbHVnaW4tbm9kZS1wb2x5ZmlsbHMvcG9seWZpbGxzL3psaWItbGliL3RyZWVzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9yb2xsdXAtcGx1Z2luLW5vZGUtcG9seWZpbGxzL3BvbHlmaWxscy96bGliLWxpYi9hZGxlcjMyLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9yb2xsdXAtcGx1Z2luLW5vZGUtcG9seWZpbGxzL3BvbHlmaWxscy96bGliLWxpYi9jcmMzMi5qcyIsICIuLi9ub2RlX21vZHVsZXMvcm9sbHVwLXBsdWdpbi1ub2RlLXBvbHlmaWxscy9wb2x5ZmlsbHMvemxpYi1saWIvZGVmbGF0ZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvcm9sbHVwLXBsdWdpbi1ub2RlLXBvbHlmaWxscy9wb2x5ZmlsbHMvemxpYi1saWIvaW5mZmFzdC5qcyIsICIuLi9ub2RlX21vZHVsZXMvcm9sbHVwLXBsdWdpbi1ub2RlLXBvbHlmaWxscy9wb2x5ZmlsbHMvemxpYi1saWIvaW5mdHJlZXMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3JvbGx1cC1wbHVnaW4tbm9kZS1wb2x5ZmlsbHMvcG9seWZpbGxzL3psaWItbGliL2luZmxhdGUuanMiLCAibm9kZS1tb2R1bGVzLXBvbHlmaWxsczp6bGliIiwgIi4uL3NyYy9iYWNrZW5kL1ppcEZTLnRzIiwgIi4uL3NyYy9iYWNrZW5kL0lzb0ZTLnRzIiwgIi4uL3NyYy9jb3JlL2JhY2tlbmRzLnRzIiwgIi4uL3NyYy9jb3JlL2Jyb3dzZXJmcy50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsidmFyIGxvb2t1cCA9IFtdO1xudmFyIHJldkxvb2t1cCA9IFtdO1xudmFyIEFyciA9IHR5cGVvZiBVaW50OEFycmF5ICE9PSAndW5kZWZpbmVkJyA/IFVpbnQ4QXJyYXkgOiBBcnJheTtcbnZhciBpbml0ZWQgPSBmYWxzZTtcbmZ1bmN0aW9uIGluaXQgKCkge1xuICBpbml0ZWQgPSB0cnVlO1xuICB2YXIgY29kZSA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvJztcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNvZGUubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICBsb29rdXBbaV0gPSBjb2RlW2ldO1xuICAgIHJldkxvb2t1cFtjb2RlLmNoYXJDb2RlQXQoaSldID0gaTtcbiAgfVxuXG4gIHJldkxvb2t1cFsnLScuY2hhckNvZGVBdCgwKV0gPSA2MjtcbiAgcmV2TG9va3VwWydfJy5jaGFyQ29kZUF0KDApXSA9IDYzO1xufVxuXG5mdW5jdGlvbiB0b0J5dGVBcnJheSAoYjY0KSB7XG4gIGlmICghaW5pdGVkKSB7XG4gICAgaW5pdCgpO1xuICB9XG4gIHZhciBpLCBqLCBsLCB0bXAsIHBsYWNlSG9sZGVycywgYXJyO1xuICB2YXIgbGVuID0gYjY0Lmxlbmd0aDtcblxuICBpZiAobGVuICUgNCA+IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc3RyaW5nLiBMZW5ndGggbXVzdCBiZSBhIG11bHRpcGxlIG9mIDQnKVxuICB9XG5cbiAgLy8gdGhlIG51bWJlciBvZiBlcXVhbCBzaWducyAocGxhY2UgaG9sZGVycylcbiAgLy8gaWYgdGhlcmUgYXJlIHR3byBwbGFjZWhvbGRlcnMsIHRoYW4gdGhlIHR3byBjaGFyYWN0ZXJzIGJlZm9yZSBpdFxuICAvLyByZXByZXNlbnQgb25lIGJ5dGVcbiAgLy8gaWYgdGhlcmUgaXMgb25seSBvbmUsIHRoZW4gdGhlIHRocmVlIGNoYXJhY3RlcnMgYmVmb3JlIGl0IHJlcHJlc2VudCAyIGJ5dGVzXG4gIC8vIHRoaXMgaXMganVzdCBhIGNoZWFwIGhhY2sgdG8gbm90IGRvIGluZGV4T2YgdHdpY2VcbiAgcGxhY2VIb2xkZXJzID0gYjY0W2xlbiAtIDJdID09PSAnPScgPyAyIDogYjY0W2xlbiAtIDFdID09PSAnPScgPyAxIDogMDtcblxuICAvLyBiYXNlNjQgaXMgNC8zICsgdXAgdG8gdHdvIGNoYXJhY3RlcnMgb2YgdGhlIG9yaWdpbmFsIGRhdGFcbiAgYXJyID0gbmV3IEFycihsZW4gKiAzIC8gNCAtIHBsYWNlSG9sZGVycyk7XG5cbiAgLy8gaWYgdGhlcmUgYXJlIHBsYWNlaG9sZGVycywgb25seSBnZXQgdXAgdG8gdGhlIGxhc3QgY29tcGxldGUgNCBjaGFyc1xuICBsID0gcGxhY2VIb2xkZXJzID4gMCA/IGxlbiAtIDQgOiBsZW47XG5cbiAgdmFyIEwgPSAwO1xuXG4gIGZvciAoaSA9IDAsIGogPSAwOyBpIDwgbDsgaSArPSA0LCBqICs9IDMpIHtcbiAgICB0bXAgPSAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAxOCkgfCAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPDwgMTIpIHwgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMildIDw8IDYpIHwgcmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAzKV07XG4gICAgYXJyW0wrK10gPSAodG1wID4+IDE2KSAmIDB4RkY7XG4gICAgYXJyW0wrK10gPSAodG1wID4+IDgpICYgMHhGRjtcbiAgICBhcnJbTCsrXSA9IHRtcCAmIDB4RkY7XG4gIH1cblxuICBpZiAocGxhY2VIb2xkZXJzID09PSAyKSB7XG4gICAgdG1wID0gKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMikgfCAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPj4gNCk7XG4gICAgYXJyW0wrK10gPSB0bXAgJiAweEZGO1xuICB9IGVsc2UgaWYgKHBsYWNlSG9sZGVycyA9PT0gMSkge1xuICAgIHRtcCA9IChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDEwKSB8IChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCA0KSB8IChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDIpXSA+PiAyKTtcbiAgICBhcnJbTCsrXSA9ICh0bXAgPj4gOCkgJiAweEZGO1xuICAgIGFycltMKytdID0gdG1wICYgMHhGRjtcbiAgfVxuXG4gIHJldHVybiBhcnJcbn1cblxuZnVuY3Rpb24gdHJpcGxldFRvQmFzZTY0IChudW0pIHtcbiAgcmV0dXJuIGxvb2t1cFtudW0gPj4gMTggJiAweDNGXSArIGxvb2t1cFtudW0gPj4gMTIgJiAweDNGXSArIGxvb2t1cFtudW0gPj4gNiAmIDB4M0ZdICsgbG9va3VwW251bSAmIDB4M0ZdXG59XG5cbmZ1bmN0aW9uIGVuY29kZUNodW5rICh1aW50OCwgc3RhcnQsIGVuZCkge1xuICB2YXIgdG1wO1xuICB2YXIgb3V0cHV0ID0gW107XG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSArPSAzKSB7XG4gICAgdG1wID0gKHVpbnQ4W2ldIDw8IDE2KSArICh1aW50OFtpICsgMV0gPDwgOCkgKyAodWludDhbaSArIDJdKTtcbiAgICBvdXRwdXQucHVzaCh0cmlwbGV0VG9CYXNlNjQodG1wKSk7XG4gIH1cbiAgcmV0dXJuIG91dHB1dC5qb2luKCcnKVxufVxuXG5mdW5jdGlvbiBmcm9tQnl0ZUFycmF5ICh1aW50OCkge1xuICBpZiAoIWluaXRlZCkge1xuICAgIGluaXQoKTtcbiAgfVxuICB2YXIgdG1wO1xuICB2YXIgbGVuID0gdWludDgubGVuZ3RoO1xuICB2YXIgZXh0cmFCeXRlcyA9IGxlbiAlIDM7IC8vIGlmIHdlIGhhdmUgMSBieXRlIGxlZnQsIHBhZCAyIGJ5dGVzXG4gIHZhciBvdXRwdXQgPSAnJztcbiAgdmFyIHBhcnRzID0gW107XG4gIHZhciBtYXhDaHVua0xlbmd0aCA9IDE2MzgzOyAvLyBtdXN0IGJlIG11bHRpcGxlIG9mIDNcblxuICAvLyBnbyB0aHJvdWdoIHRoZSBhcnJheSBldmVyeSB0aHJlZSBieXRlcywgd2UnbGwgZGVhbCB3aXRoIHRyYWlsaW5nIHN0dWZmIGxhdGVyXG4gIGZvciAodmFyIGkgPSAwLCBsZW4yID0gbGVuIC0gZXh0cmFCeXRlczsgaSA8IGxlbjI7IGkgKz0gbWF4Q2h1bmtMZW5ndGgpIHtcbiAgICBwYXJ0cy5wdXNoKGVuY29kZUNodW5rKHVpbnQ4LCBpLCAoaSArIG1heENodW5rTGVuZ3RoKSA+IGxlbjIgPyBsZW4yIDogKGkgKyBtYXhDaHVua0xlbmd0aCkpKTtcbiAgfVxuXG4gIC8vIHBhZCB0aGUgZW5kIHdpdGggemVyb3MsIGJ1dCBtYWtlIHN1cmUgdG8gbm90IGZvcmdldCB0aGUgZXh0cmEgYnl0ZXNcbiAgaWYgKGV4dHJhQnl0ZXMgPT09IDEpIHtcbiAgICB0bXAgPSB1aW50OFtsZW4gLSAxXTtcbiAgICBvdXRwdXQgKz0gbG9va3VwW3RtcCA+PiAyXTtcbiAgICBvdXRwdXQgKz0gbG9va3VwWyh0bXAgPDwgNCkgJiAweDNGXTtcbiAgICBvdXRwdXQgKz0gJz09JztcbiAgfSBlbHNlIGlmIChleHRyYUJ5dGVzID09PSAyKSB7XG4gICAgdG1wID0gKHVpbnQ4W2xlbiAtIDJdIDw8IDgpICsgKHVpbnQ4W2xlbiAtIDFdKTtcbiAgICBvdXRwdXQgKz0gbG9va3VwW3RtcCA+PiAxMF07XG4gICAgb3V0cHV0ICs9IGxvb2t1cFsodG1wID4+IDQpICYgMHgzRl07XG4gICAgb3V0cHV0ICs9IGxvb2t1cFsodG1wIDw8IDIpICYgMHgzRl07XG4gICAgb3V0cHV0ICs9ICc9JztcbiAgfVxuXG4gIHBhcnRzLnB1c2gob3V0cHV0KTtcblxuICByZXR1cm4gcGFydHMuam9pbignJylcbn1cblxuZnVuY3Rpb24gcmVhZCAoYnVmZmVyLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykge1xuICB2YXIgZSwgbTtcbiAgdmFyIGVMZW4gPSBuQnl0ZXMgKiA4IC0gbUxlbiAtIDE7XG4gIHZhciBlTWF4ID0gKDEgPDwgZUxlbikgLSAxO1xuICB2YXIgZUJpYXMgPSBlTWF4ID4+IDE7XG4gIHZhciBuQml0cyA9IC03O1xuICB2YXIgaSA9IGlzTEUgPyAobkJ5dGVzIC0gMSkgOiAwO1xuICB2YXIgZCA9IGlzTEUgPyAtMSA6IDE7XG4gIHZhciBzID0gYnVmZmVyW29mZnNldCArIGldO1xuXG4gIGkgKz0gZDtcblxuICBlID0gcyAmICgoMSA8PCAoLW5CaXRzKSkgLSAxKTtcbiAgcyA+Pj0gKC1uQml0cyk7XG4gIG5CaXRzICs9IGVMZW47XG4gIGZvciAoOyBuQml0cyA+IDA7IGUgPSBlICogMjU2ICsgYnVmZmVyW29mZnNldCArIGldLCBpICs9IGQsIG5CaXRzIC09IDgpIHt9XG5cbiAgbSA9IGUgJiAoKDEgPDwgKC1uQml0cykpIC0gMSk7XG4gIGUgPj49ICgtbkJpdHMpO1xuICBuQml0cyArPSBtTGVuO1xuICBmb3IgKDsgbkJpdHMgPiAwOyBtID0gbSAqIDI1NiArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7fVxuXG4gIGlmIChlID09PSAwKSB7XG4gICAgZSA9IDEgLSBlQmlhcztcbiAgfSBlbHNlIGlmIChlID09PSBlTWF4KSB7XG4gICAgcmV0dXJuIG0gPyBOYU4gOiAoKHMgPyAtMSA6IDEpICogSW5maW5pdHkpXG4gIH0gZWxzZSB7XG4gICAgbSA9IG0gKyBNYXRoLnBvdygyLCBtTGVuKTtcbiAgICBlID0gZSAtIGVCaWFzO1xuICB9XG4gIHJldHVybiAocyA/IC0xIDogMSkgKiBtICogTWF0aC5wb3coMiwgZSAtIG1MZW4pXG59XG5cbmZ1bmN0aW9uIHdyaXRlIChidWZmZXIsIHZhbHVlLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykge1xuICB2YXIgZSwgbSwgYztcbiAgdmFyIGVMZW4gPSBuQnl0ZXMgKiA4IC0gbUxlbiAtIDE7XG4gIHZhciBlTWF4ID0gKDEgPDwgZUxlbikgLSAxO1xuICB2YXIgZUJpYXMgPSBlTWF4ID4+IDE7XG4gIHZhciBydCA9IChtTGVuID09PSAyMyA/IE1hdGgucG93KDIsIC0yNCkgLSBNYXRoLnBvdygyLCAtNzcpIDogMCk7XG4gIHZhciBpID0gaXNMRSA/IDAgOiAobkJ5dGVzIC0gMSk7XG4gIHZhciBkID0gaXNMRSA/IDEgOiAtMTtcbiAgdmFyIHMgPSB2YWx1ZSA8IDAgfHwgKHZhbHVlID09PSAwICYmIDEgLyB2YWx1ZSA8IDApID8gMSA6IDA7XG5cbiAgdmFsdWUgPSBNYXRoLmFicyh2YWx1ZSk7XG5cbiAgaWYgKGlzTmFOKHZhbHVlKSB8fCB2YWx1ZSA9PT0gSW5maW5pdHkpIHtcbiAgICBtID0gaXNOYU4odmFsdWUpID8gMSA6IDA7XG4gICAgZSA9IGVNYXg7XG4gIH0gZWxzZSB7XG4gICAgZSA9IE1hdGguZmxvb3IoTWF0aC5sb2codmFsdWUpIC8gTWF0aC5MTjIpO1xuICAgIGlmICh2YWx1ZSAqIChjID0gTWF0aC5wb3coMiwgLWUpKSA8IDEpIHtcbiAgICAgIGUtLTtcbiAgICAgIGMgKj0gMjtcbiAgICB9XG4gICAgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG4gICAgICB2YWx1ZSArPSBydCAvIGM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlICs9IHJ0ICogTWF0aC5wb3coMiwgMSAtIGVCaWFzKTtcbiAgICB9XG4gICAgaWYgKHZhbHVlICogYyA+PSAyKSB7XG4gICAgICBlKys7XG4gICAgICBjIC89IDI7XG4gICAgfVxuXG4gICAgaWYgKGUgKyBlQmlhcyA+PSBlTWF4KSB7XG4gICAgICBtID0gMDtcbiAgICAgIGUgPSBlTWF4O1xuICAgIH0gZWxzZSBpZiAoZSArIGVCaWFzID49IDEpIHtcbiAgICAgIG0gPSAodmFsdWUgKiBjIC0gMSkgKiBNYXRoLnBvdygyLCBtTGVuKTtcbiAgICAgIGUgPSBlICsgZUJpYXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIG0gPSB2YWx1ZSAqIE1hdGgucG93KDIsIGVCaWFzIC0gMSkgKiBNYXRoLnBvdygyLCBtTGVuKTtcbiAgICAgIGUgPSAwO1xuICAgIH1cbiAgfVxuXG4gIGZvciAoOyBtTGVuID49IDg7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IG0gJiAweGZmLCBpICs9IGQsIG0gLz0gMjU2LCBtTGVuIC09IDgpIHt9XG5cbiAgZSA9IChlIDw8IG1MZW4pIHwgbTtcbiAgZUxlbiArPSBtTGVuO1xuICBmb3IgKDsgZUxlbiA+IDA7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IGUgJiAweGZmLCBpICs9IGQsIGUgLz0gMjU2LCBlTGVuIC09IDgpIHt9XG5cbiAgYnVmZmVyW29mZnNldCArIGkgLSBkXSB8PSBzICogMTI4O1xufVxuXG52YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblxudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIChhcnIpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoYXJyKSA9PSAnW29iamVjdCBBcnJheV0nO1xufTtcblxuLyohXG4gKiBUaGUgYnVmZmVyIG1vZHVsZSBmcm9tIG5vZGUuanMsIGZvciB0aGUgYnJvd3Nlci5cbiAqXG4gKiBAYXV0aG9yICAgRmVyb3NzIEFib3VraGFkaWplaCA8ZmVyb3NzQGZlcm9zcy5vcmc+IDxodHRwOi8vZmVyb3NzLm9yZz5cbiAqIEBsaWNlbnNlICBNSVRcbiAqL1xuXG52YXIgSU5TUEVDVF9NQVhfQllURVMgPSA1MDtcblxuLyoqXG4gKiBJZiBgQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRgOlxuICogICA9PT0gdHJ1ZSAgICBVc2UgVWludDhBcnJheSBpbXBsZW1lbnRhdGlvbiAoZmFzdGVzdClcbiAqICAgPT09IGZhbHNlICAgVXNlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiAobW9zdCBjb21wYXRpYmxlLCBldmVuIElFNilcbiAqXG4gKiBCcm93c2VycyB0aGF0IHN1cHBvcnQgdHlwZWQgYXJyYXlzIGFyZSBJRSAxMCssIEZpcmVmb3ggNCssIENocm9tZSA3KywgU2FmYXJpIDUuMSssXG4gKiBPcGVyYSAxMS42KywgaU9TIDQuMisuXG4gKlxuICogRHVlIHRvIHZhcmlvdXMgYnJvd3NlciBidWdzLCBzb21ldGltZXMgdGhlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiB3aWxsIGJlIHVzZWQgZXZlblxuICogd2hlbiB0aGUgYnJvd3NlciBzdXBwb3J0cyB0eXBlZCBhcnJheXMuXG4gKlxuICogTm90ZTpcbiAqXG4gKiAgIC0gRmlyZWZveCA0LTI5IGxhY2tzIHN1cHBvcnQgZm9yIGFkZGluZyBuZXcgcHJvcGVydGllcyB0byBgVWludDhBcnJheWAgaW5zdGFuY2VzLFxuICogICAgIFNlZTogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9Njk1NDM4LlxuICpcbiAqICAgLSBDaHJvbWUgOS0xMCBpcyBtaXNzaW5nIHRoZSBgVHlwZWRBcnJheS5wcm90b3R5cGUuc3ViYXJyYXlgIGZ1bmN0aW9uLlxuICpcbiAqICAgLSBJRTEwIGhhcyBhIGJyb2tlbiBgVHlwZWRBcnJheS5wcm90b3R5cGUuc3ViYXJyYXlgIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgYXJyYXlzIG9mXG4gKiAgICAgaW5jb3JyZWN0IGxlbmd0aCBpbiBzb21lIHNpdHVhdGlvbnMuXG5cbiAqIFdlIGRldGVjdCB0aGVzZSBidWdneSBicm93c2VycyBhbmQgc2V0IGBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVGAgdG8gYGZhbHNlYCBzbyB0aGV5XG4gKiBnZXQgdGhlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiwgd2hpY2ggaXMgc2xvd2VyIGJ1dCBiZWhhdmVzIGNvcnJlY3RseS5cbiAqL1xuQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgPSBnbG9iYWwuVFlQRURfQVJSQVlfU1VQUE9SVCAhPT0gdW5kZWZpbmVkXG4gID8gZ2xvYmFsLlRZUEVEX0FSUkFZX1NVUFBPUlRcbiAgOiB0cnVlO1xuXG4vKlxuICogRXhwb3J0IGtNYXhMZW5ndGggYWZ0ZXIgdHlwZWQgYXJyYXkgc3VwcG9ydCBpcyBkZXRlcm1pbmVkLlxuICovXG52YXIgX2tNYXhMZW5ndGggPSBrTWF4TGVuZ3RoKCk7XG5cbmZ1bmN0aW9uIGtNYXhMZW5ndGggKCkge1xuICByZXR1cm4gQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRcbiAgICA/IDB4N2ZmZmZmZmZcbiAgICA6IDB4M2ZmZmZmZmZcbn1cblxuZnVuY3Rpb24gY3JlYXRlQnVmZmVyICh0aGF0LCBsZW5ndGgpIHtcbiAgaWYgKGtNYXhMZW5ndGgoKSA8IGxlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbnZhbGlkIHR5cGVkIGFycmF5IGxlbmd0aCcpXG4gIH1cbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2UsIGZvciBiZXN0IHBlcmZvcm1hbmNlXG4gICAgdGhhdCA9IG5ldyBVaW50OEFycmF5KGxlbmd0aCk7XG4gICAgdGhhdC5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlO1xuICB9IGVsc2Uge1xuICAgIC8vIEZhbGxiYWNrOiBSZXR1cm4gYW4gb2JqZWN0IGluc3RhbmNlIG9mIHRoZSBCdWZmZXIgY2xhc3NcbiAgICBpZiAodGhhdCA9PT0gbnVsbCkge1xuICAgICAgdGhhdCA9IG5ldyBCdWZmZXIobGVuZ3RoKTtcbiAgICB9XG4gICAgdGhhdC5sZW5ndGggPSBsZW5ndGg7XG4gIH1cblxuICByZXR1cm4gdGhhdFxufVxuXG4vKipcbiAqIFRoZSBCdWZmZXIgY29uc3RydWN0b3IgcmV0dXJucyBpbnN0YW5jZXMgb2YgYFVpbnQ4QXJyYXlgIHRoYXQgaGF2ZSB0aGVpclxuICogcHJvdG90eXBlIGNoYW5nZWQgdG8gYEJ1ZmZlci5wcm90b3R5cGVgLiBGdXJ0aGVybW9yZSwgYEJ1ZmZlcmAgaXMgYSBzdWJjbGFzcyBvZlxuICogYFVpbnQ4QXJyYXlgLCBzbyB0aGUgcmV0dXJuZWQgaW5zdGFuY2VzIHdpbGwgaGF2ZSBhbGwgdGhlIG5vZGUgYEJ1ZmZlcmAgbWV0aG9kc1xuICogYW5kIHRoZSBgVWludDhBcnJheWAgbWV0aG9kcy4gU3F1YXJlIGJyYWNrZXQgbm90YXRpb24gd29ya3MgYXMgZXhwZWN0ZWQgLS0gaXRcbiAqIHJldHVybnMgYSBzaW5nbGUgb2N0ZXQuXG4gKlxuICogVGhlIGBVaW50OEFycmF5YCBwcm90b3R5cGUgcmVtYWlucyB1bm1vZGlmaWVkLlxuICovXG5cbmZ1bmN0aW9uIEJ1ZmZlciAoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCAmJiAhKHRoaXMgaW5zdGFuY2VvZiBCdWZmZXIpKSB7XG4gICAgcmV0dXJuIG5ldyBCdWZmZXIoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG4gIH1cblxuICAvLyBDb21tb24gY2FzZS5cbiAgaWYgKHR5cGVvZiBhcmcgPT09ICdudW1iZXInKSB7XG4gICAgaWYgKHR5cGVvZiBlbmNvZGluZ09yT2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnSWYgZW5jb2RpbmcgaXMgc3BlY2lmaWVkIHRoZW4gdGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmcnXG4gICAgICApXG4gICAgfVxuICAgIHJldHVybiBhbGxvY1Vuc2FmZSh0aGlzLCBhcmcpXG4gIH1cbiAgcmV0dXJuIGZyb20odGhpcywgYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG59XG5cbkJ1ZmZlci5wb29sU2l6ZSA9IDgxOTI7IC8vIG5vdCB1c2VkIGJ5IHRoaXMgaW1wbGVtZW50YXRpb25cblxuLy8gVE9ETzogTGVnYWN5LCBub3QgbmVlZGVkIGFueW1vcmUuIFJlbW92ZSBpbiBuZXh0IG1ham9yIHZlcnNpb24uXG5CdWZmZXIuX2F1Z21lbnQgPSBmdW5jdGlvbiAoYXJyKSB7XG4gIGFyci5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlO1xuICByZXR1cm4gYXJyXG59O1xuXG5mdW5jdGlvbiBmcm9tICh0aGF0LCB2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IG11c3Qgbm90IGJlIGEgbnVtYmVyJylcbiAgfVxuXG4gIGlmICh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmIHZhbHVlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICByZXR1cm4gZnJvbUFycmF5QnVmZmVyKHRoYXQsIHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG4gIH1cblxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBmcm9tU3RyaW5nKHRoYXQsIHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0KVxuICB9XG5cbiAgcmV0dXJuIGZyb21PYmplY3QodGhhdCwgdmFsdWUpXG59XG5cbi8qKlxuICogRnVuY3Rpb25hbGx5IGVxdWl2YWxlbnQgdG8gQnVmZmVyKGFyZywgZW5jb2RpbmcpIGJ1dCB0aHJvd3MgYSBUeXBlRXJyb3JcbiAqIGlmIHZhbHVlIGlzIGEgbnVtYmVyLlxuICogQnVmZmVyLmZyb20oc3RyWywgZW5jb2RpbmddKVxuICogQnVmZmVyLmZyb20oYXJyYXkpXG4gKiBCdWZmZXIuZnJvbShidWZmZXIpXG4gKiBCdWZmZXIuZnJvbShhcnJheUJ1ZmZlclssIGJ5dGVPZmZzZXRbLCBsZW5ndGhdXSlcbiAqKi9cbkJ1ZmZlci5mcm9tID0gZnVuY3Rpb24gKHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGZyb20obnVsbCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbn07XG5cbmlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICBCdWZmZXIucHJvdG90eXBlLl9fcHJvdG9fXyA9IFVpbnQ4QXJyYXkucHJvdG90eXBlO1xuICBCdWZmZXIuX19wcm90b19fID0gVWludDhBcnJheTtcbn1cblxuZnVuY3Rpb24gYXNzZXJ0U2l6ZSAoc2l6ZSkge1xuICBpZiAodHlwZW9mIHNpemUgIT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJzaXplXCIgYXJndW1lbnQgbXVzdCBiZSBhIG51bWJlcicpXG4gIH0gZWxzZSBpZiAoc2l6ZSA8IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJzaXplXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgbmVnYXRpdmUnKVxuICB9XG59XG5cbmZ1bmN0aW9uIGFsbG9jICh0aGF0LCBzaXplLCBmaWxsLCBlbmNvZGluZykge1xuICBhc3NlcnRTaXplKHNpemUpO1xuICBpZiAoc2l6ZSA8PSAwKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplKVxuICB9XG4gIGlmIChmaWxsICE9PSB1bmRlZmluZWQpIHtcbiAgICAvLyBPbmx5IHBheSBhdHRlbnRpb24gdG8gZW5jb2RpbmcgaWYgaXQncyBhIHN0cmluZy4gVGhpc1xuICAgIC8vIHByZXZlbnRzIGFjY2lkZW50YWxseSBzZW5kaW5nIGluIGEgbnVtYmVyIHRoYXQgd291bGRcbiAgICAvLyBiZSBpbnRlcnByZXR0ZWQgYXMgYSBzdGFydCBvZmZzZXQuXG4gICAgcmV0dXJuIHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZydcbiAgICAgID8gY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUpLmZpbGwoZmlsbCwgZW5jb2RpbmcpXG4gICAgICA6IGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplKS5maWxsKGZpbGwpXG4gIH1cbiAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplKVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgZmlsbGVkIEJ1ZmZlciBpbnN0YW5jZS5cbiAqIGFsbG9jKHNpemVbLCBmaWxsWywgZW5jb2RpbmddXSlcbiAqKi9cbkJ1ZmZlci5hbGxvYyA9IGZ1bmN0aW9uIChzaXplLCBmaWxsLCBlbmNvZGluZykge1xuICByZXR1cm4gYWxsb2MobnVsbCwgc2l6ZSwgZmlsbCwgZW5jb2RpbmcpXG59O1xuXG5mdW5jdGlvbiBhbGxvY1Vuc2FmZSAodGhhdCwgc2l6ZSkge1xuICBhc3NlcnRTaXplKHNpemUpO1xuICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUgPCAwID8gMCA6IGNoZWNrZWQoc2l6ZSkgfCAwKTtcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2l6ZTsgKytpKSB7XG4gICAgICB0aGF0W2ldID0gMDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRoYXRcbn1cblxuLyoqXG4gKiBFcXVpdmFsZW50IHRvIEJ1ZmZlcihudW0pLCBieSBkZWZhdWx0IGNyZWF0ZXMgYSBub24temVyby1maWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICogKi9cbkJ1ZmZlci5hbGxvY1Vuc2FmZSA9IGZ1bmN0aW9uIChzaXplKSB7XG4gIHJldHVybiBhbGxvY1Vuc2FmZShudWxsLCBzaXplKVxufTtcbi8qKlxuICogRXF1aXZhbGVudCB0byBTbG93QnVmZmVyKG51bSksIGJ5IGRlZmF1bHQgY3JlYXRlcyBhIG5vbi16ZXJvLWZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG4gKi9cbkJ1ZmZlci5hbGxvY1Vuc2FmZVNsb3cgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICByZXR1cm4gYWxsb2NVbnNhZmUobnVsbCwgc2l6ZSlcbn07XG5cbmZ1bmN0aW9uIGZyb21TdHJpbmcgKHRoYXQsIHN0cmluZywgZW5jb2RpbmcpIHtcbiAgaWYgKHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycgfHwgZW5jb2RpbmcgPT09ICcnKSB7XG4gICAgZW5jb2RpbmcgPSAndXRmOCc7XG4gIH1cblxuICBpZiAoIUJ1ZmZlci5pc0VuY29kaW5nKGVuY29kaW5nKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiZW5jb2RpbmdcIiBtdXN0IGJlIGEgdmFsaWQgc3RyaW5nIGVuY29kaW5nJylcbiAgfVxuXG4gIHZhciBsZW5ndGggPSBieXRlTGVuZ3RoKHN0cmluZywgZW5jb2RpbmcpIHwgMDtcbiAgdGhhdCA9IGNyZWF0ZUJ1ZmZlcih0aGF0LCBsZW5ndGgpO1xuXG4gIHZhciBhY3R1YWwgPSB0aGF0LndyaXRlKHN0cmluZywgZW5jb2RpbmcpO1xuXG4gIGlmIChhY3R1YWwgIT09IGxlbmd0aCkge1xuICAgIC8vIFdyaXRpbmcgYSBoZXggc3RyaW5nLCBmb3IgZXhhbXBsZSwgdGhhdCBjb250YWlucyBpbnZhbGlkIGNoYXJhY3RlcnMgd2lsbFxuICAgIC8vIGNhdXNlIGV2ZXJ5dGhpbmcgYWZ0ZXIgdGhlIGZpcnN0IGludmFsaWQgY2hhcmFjdGVyIHRvIGJlIGlnbm9yZWQuIChlLmcuXG4gICAgLy8gJ2FieHhjZCcgd2lsbCBiZSB0cmVhdGVkIGFzICdhYicpXG4gICAgdGhhdCA9IHRoYXQuc2xpY2UoMCwgYWN0dWFsKTtcbiAgfVxuXG4gIHJldHVybiB0aGF0XG59XG5cbmZ1bmN0aW9uIGZyb21BcnJheUxpa2UgKHRoYXQsIGFycmF5KSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGggPCAwID8gMCA6IGNoZWNrZWQoYXJyYXkubGVuZ3RoKSB8IDA7XG4gIHRoYXQgPSBjcmVhdGVCdWZmZXIodGhhdCwgbGVuZ3RoKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgIHRoYXRbaV0gPSBhcnJheVtpXSAmIDI1NTtcbiAgfVxuICByZXR1cm4gdGhhdFxufVxuXG5mdW5jdGlvbiBmcm9tQXJyYXlCdWZmZXIgKHRoYXQsIGFycmF5LCBieXRlT2Zmc2V0LCBsZW5ndGgpIHtcbiAgYXJyYXkuYnl0ZUxlbmd0aDsgLy8gdGhpcyB0aHJvd3MgaWYgYGFycmF5YCBpcyBub3QgYSB2YWxpZCBBcnJheUJ1ZmZlclxuXG4gIGlmIChieXRlT2Zmc2V0IDwgMCB8fCBhcnJheS5ieXRlTGVuZ3RoIDwgYnl0ZU9mZnNldCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcXCdvZmZzZXRcXCcgaXMgb3V0IG9mIGJvdW5kcycpXG4gIH1cblxuICBpZiAoYXJyYXkuYnl0ZUxlbmd0aCA8IGJ5dGVPZmZzZXQgKyAobGVuZ3RoIHx8IDApKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1xcJ2xlbmd0aFxcJyBpcyBvdXQgb2YgYm91bmRzJylcbiAgfVxuXG4gIGlmIChieXRlT2Zmc2V0ID09PSB1bmRlZmluZWQgJiYgbGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBhcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5KTtcbiAgfSBlbHNlIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXksIGJ5dGVPZmZzZXQpO1xuICB9IGVsc2Uge1xuICAgIGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXksIGJ5dGVPZmZzZXQsIGxlbmd0aCk7XG4gIH1cblxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICAvLyBSZXR1cm4gYW4gYXVnbWVudGVkIGBVaW50OEFycmF5YCBpbnN0YW5jZSwgZm9yIGJlc3QgcGVyZm9ybWFuY2VcbiAgICB0aGF0ID0gYXJyYXk7XG4gICAgdGhhdC5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlO1xuICB9IGVsc2Uge1xuICAgIC8vIEZhbGxiYWNrOiBSZXR1cm4gYW4gb2JqZWN0IGluc3RhbmNlIG9mIHRoZSBCdWZmZXIgY2xhc3NcbiAgICB0aGF0ID0gZnJvbUFycmF5TGlrZSh0aGF0LCBhcnJheSk7XG4gIH1cbiAgcmV0dXJuIHRoYXRcbn1cblxuZnVuY3Rpb24gZnJvbU9iamVjdCAodGhhdCwgb2JqKSB7XG4gIGlmIChpbnRlcm5hbElzQnVmZmVyKG9iaikpIHtcbiAgICB2YXIgbGVuID0gY2hlY2tlZChvYmoubGVuZ3RoKSB8IDA7XG4gICAgdGhhdCA9IGNyZWF0ZUJ1ZmZlcih0aGF0LCBsZW4pO1xuXG4gICAgaWYgKHRoYXQubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhhdFxuICAgIH1cblxuICAgIG9iai5jb3B5KHRoYXQsIDAsIDAsIGxlbik7XG4gICAgcmV0dXJuIHRoYXRcbiAgfVxuXG4gIGlmIChvYmopIHtcbiAgICBpZiAoKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgb2JqLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB8fCAnbGVuZ3RoJyBpbiBvYmopIHtcbiAgICAgIGlmICh0eXBlb2Ygb2JqLmxlbmd0aCAhPT0gJ251bWJlcicgfHwgaXNuYW4ob2JqLmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcih0aGF0LCAwKVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZyb21BcnJheUxpa2UodGhhdCwgb2JqKVxuICAgIH1cblxuICAgIGlmIChvYmoudHlwZSA9PT0gJ0J1ZmZlcicgJiYgaXNBcnJheShvYmouZGF0YSkpIHtcbiAgICAgIHJldHVybiBmcm9tQXJyYXlMaWtlKHRoYXQsIG9iai5kYXRhKVxuICAgIH1cbiAgfVxuXG4gIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCBvciBhcnJheS1saWtlIG9iamVjdC4nKVxufVxuXG5mdW5jdGlvbiBjaGVja2VkIChsZW5ndGgpIHtcbiAgLy8gTm90ZTogY2Fubm90IHVzZSBgbGVuZ3RoIDwga01heExlbmd0aCgpYCBoZXJlIGJlY2F1c2UgdGhhdCBmYWlscyB3aGVuXG4gIC8vIGxlbmd0aCBpcyBOYU4gKHdoaWNoIGlzIG90aGVyd2lzZSBjb2VyY2VkIHRvIHplcm8uKVxuICBpZiAobGVuZ3RoID49IGtNYXhMZW5ndGgoKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdBdHRlbXB0IHRvIGFsbG9jYXRlIEJ1ZmZlciBsYXJnZXIgdGhhbiBtYXhpbXVtICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICdzaXplOiAweCcgKyBrTWF4TGVuZ3RoKCkudG9TdHJpbmcoMTYpICsgJyBieXRlcycpXG4gIH1cbiAgcmV0dXJuIGxlbmd0aCB8IDBcbn1cblxuZnVuY3Rpb24gU2xvd0J1ZmZlciAobGVuZ3RoKSB7XG4gIGlmICgrbGVuZ3RoICE9IGxlbmd0aCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGVxZXFlcVxuICAgIGxlbmd0aCA9IDA7XG4gIH1cbiAgcmV0dXJuIEJ1ZmZlci5hbGxvYygrbGVuZ3RoKVxufVxuQnVmZmVyLmlzQnVmZmVyID0gaXNCdWZmZXI7XG5mdW5jdGlvbiBpbnRlcm5hbElzQnVmZmVyIChiKSB7XG4gIHJldHVybiAhIShiICE9IG51bGwgJiYgYi5faXNCdWZmZXIpXG59XG5cbkJ1ZmZlci5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZSAoYSwgYikge1xuICBpZiAoIWludGVybmFsSXNCdWZmZXIoYSkgfHwgIWludGVybmFsSXNCdWZmZXIoYikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudHMgbXVzdCBiZSBCdWZmZXJzJylcbiAgfVxuXG4gIGlmIChhID09PSBiKSByZXR1cm4gMFxuXG4gIHZhciB4ID0gYS5sZW5ndGg7XG4gIHZhciB5ID0gYi5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IE1hdGgubWluKHgsIHkpOyBpIDwgbGVuOyArK2kpIHtcbiAgICBpZiAoYVtpXSAhPT0gYltpXSkge1xuICAgICAgeCA9IGFbaV07XG4gICAgICB5ID0gYltpXTtcbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgaWYgKHggPCB5KSByZXR1cm4gLTFcbiAgaWYgKHkgPCB4KSByZXR1cm4gMVxuICByZXR1cm4gMFxufTtcblxuQnVmZmVyLmlzRW5jb2RpbmcgPSBmdW5jdGlvbiBpc0VuY29kaW5nIChlbmNvZGluZykge1xuICBzd2l0Y2ggKFN0cmluZyhlbmNvZGluZykudG9Mb3dlckNhc2UoKSkge1xuICAgIGNhc2UgJ2hleCc6XG4gICAgY2FzZSAndXRmOCc6XG4gICAgY2FzZSAndXRmLTgnOlxuICAgIGNhc2UgJ2FzY2lpJzpcbiAgICBjYXNlICdsYXRpbjEnOlxuICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgY2FzZSAnYmFzZTY0JzpcbiAgICBjYXNlICd1Y3MyJzpcbiAgICBjYXNlICd1Y3MtMic6XG4gICAgY2FzZSAndXRmMTZsZSc6XG4gICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgcmV0dXJuIHRydWVcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlXG4gIH1cbn07XG5cbkJ1ZmZlci5jb25jYXQgPSBmdW5jdGlvbiBjb25jYXQgKGxpc3QsIGxlbmd0aCkge1xuICBpZiAoIWlzQXJyYXkobGlzdCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKVxuICB9XG5cbiAgaWYgKGxpc3QubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIEJ1ZmZlci5hbGxvYygwKVxuICB9XG5cbiAgdmFyIGk7XG4gIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGxlbmd0aCA9IDA7XG4gICAgZm9yIChpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyArK2kpIHtcbiAgICAgIGxlbmd0aCArPSBsaXN0W2ldLmxlbmd0aDtcbiAgICB9XG4gIH1cblxuICB2YXIgYnVmZmVyID0gQnVmZmVyLmFsbG9jVW5zYWZlKGxlbmd0aCk7XG4gIHZhciBwb3MgPSAwO1xuICBmb3IgKGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7ICsraSkge1xuICAgIHZhciBidWYgPSBsaXN0W2ldO1xuICAgIGlmICghaW50ZXJuYWxJc0J1ZmZlcihidWYpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKVxuICAgIH1cbiAgICBidWYuY29weShidWZmZXIsIHBvcyk7XG4gICAgcG9zICs9IGJ1Zi5sZW5ndGg7XG4gIH1cbiAgcmV0dXJuIGJ1ZmZlclxufTtcblxuZnVuY3Rpb24gYnl0ZUxlbmd0aCAoc3RyaW5nLCBlbmNvZGluZykge1xuICBpZiAoaW50ZXJuYWxJc0J1ZmZlcihzdHJpbmcpKSB7XG4gICAgcmV0dXJuIHN0cmluZy5sZW5ndGhcbiAgfVxuICBpZiAodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgQXJyYXlCdWZmZXIuaXNWaWV3ID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAoQXJyYXlCdWZmZXIuaXNWaWV3KHN0cmluZykgfHwgc3RyaW5nIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpKSB7XG4gICAgcmV0dXJuIHN0cmluZy5ieXRlTGVuZ3RoXG4gIH1cbiAgaWYgKHR5cGVvZiBzdHJpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgc3RyaW5nID0gJycgKyBzdHJpbmc7XG4gIH1cblxuICB2YXIgbGVuID0gc3RyaW5nLmxlbmd0aDtcbiAgaWYgKGxlbiA9PT0gMCkgcmV0dXJuIDBcblxuICAvLyBVc2UgYSBmb3IgbG9vcCB0byBhdm9pZCByZWN1cnNpb25cbiAgdmFyIGxvd2VyZWRDYXNlID0gZmFsc2U7XG4gIGZvciAoOzspIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdhc2NpaSc6XG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGxlblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICBjYXNlIHVuZGVmaW5lZDpcbiAgICAgICAgcmV0dXJuIHV0ZjhUb0J5dGVzKHN0cmluZykubGVuZ3RoXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gbGVuICogMlxuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGxlbiA+Pj4gMVxuICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgICAgcmV0dXJuIGJhc2U2NFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGhcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgcmV0dXJuIHV0ZjhUb0J5dGVzKHN0cmluZykubGVuZ3RoIC8vIGFzc3VtZSB1dGY4XG4gICAgICAgIGVuY29kaW5nID0gKCcnICsgZW5jb2RpbmcpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZTtcbiAgICB9XG4gIH1cbn1cbkJ1ZmZlci5ieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aDtcblxuZnVuY3Rpb24gc2xvd1RvU3RyaW5nIChlbmNvZGluZywgc3RhcnQsIGVuZCkge1xuICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZTtcblxuICAvLyBObyBuZWVkIHRvIHZlcmlmeSB0aGF0IFwidGhpcy5sZW5ndGggPD0gTUFYX1VJTlQzMlwiIHNpbmNlIGl0J3MgYSByZWFkLW9ubHlcbiAgLy8gcHJvcGVydHkgb2YgYSB0eXBlZCBhcnJheS5cblxuICAvLyBUaGlzIGJlaGF2ZXMgbmVpdGhlciBsaWtlIFN0cmluZyBub3IgVWludDhBcnJheSBpbiB0aGF0IHdlIHNldCBzdGFydC9lbmRcbiAgLy8gdG8gdGhlaXIgdXBwZXIvbG93ZXIgYm91bmRzIGlmIHRoZSB2YWx1ZSBwYXNzZWQgaXMgb3V0IG9mIHJhbmdlLlxuICAvLyB1bmRlZmluZWQgaXMgaGFuZGxlZCBzcGVjaWFsbHkgYXMgcGVyIEVDTUEtMjYyIDZ0aCBFZGl0aW9uLFxuICAvLyBTZWN0aW9uIDEzLjMuMy43IFJ1bnRpbWUgU2VtYW50aWNzOiBLZXllZEJpbmRpbmdJbml0aWFsaXphdGlvbi5cbiAgaWYgKHN0YXJ0ID09PSB1bmRlZmluZWQgfHwgc3RhcnQgPCAwKSB7XG4gICAgc3RhcnQgPSAwO1xuICB9XG4gIC8vIFJldHVybiBlYXJseSBpZiBzdGFydCA+IHRoaXMubGVuZ3RoLiBEb25lIGhlcmUgdG8gcHJldmVudCBwb3RlbnRpYWwgdWludDMyXG4gIC8vIGNvZXJjaW9uIGZhaWwgYmVsb3cuXG4gIGlmIChzdGFydCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICBpZiAoZW5kID09PSB1bmRlZmluZWQgfHwgZW5kID4gdGhpcy5sZW5ndGgpIHtcbiAgICBlbmQgPSB0aGlzLmxlbmd0aDtcbiAgfVxuXG4gIGlmIChlbmQgPD0gMCkge1xuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgLy8gRm9yY2UgY29lcnNpb24gdG8gdWludDMyLiBUaGlzIHdpbGwgYWxzbyBjb2VyY2UgZmFsc2V5L05hTiB2YWx1ZXMgdG8gMC5cbiAgZW5kID4+Pj0gMDtcbiAgc3RhcnQgPj4+PSAwO1xuXG4gIGlmIChlbmQgPD0gc3RhcnQpIHtcbiAgICByZXR1cm4gJydcbiAgfVxuXG4gIGlmICghZW5jb2RpbmcpIGVuY29kaW5nID0gJ3V0ZjgnO1xuXG4gIHdoaWxlICh0cnVlKSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGhleFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgICByZXR1cm4gdXRmOFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgICAgcmV0dXJuIGFzY2lpU2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBsYXRpbjFTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICByZXR1cm4gYmFzZTY0U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIHV0ZjE2bGVTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICAgICAgZW5jb2RpbmcgPSAoZW5jb2RpbmcgKyAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgbG93ZXJlZENhc2UgPSB0cnVlO1xuICAgIH1cbiAgfVxufVxuXG4vLyBUaGUgcHJvcGVydHkgaXMgdXNlZCBieSBgQnVmZmVyLmlzQnVmZmVyYCBhbmQgYGlzLWJ1ZmZlcmAgKGluIFNhZmFyaSA1LTcpIHRvIGRldGVjdFxuLy8gQnVmZmVyIGluc3RhbmNlcy5cbkJ1ZmZlci5wcm90b3R5cGUuX2lzQnVmZmVyID0gdHJ1ZTtcblxuZnVuY3Rpb24gc3dhcCAoYiwgbiwgbSkge1xuICB2YXIgaSA9IGJbbl07XG4gIGJbbl0gPSBiW21dO1xuICBiW21dID0gaTtcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zd2FwMTYgPSBmdW5jdGlvbiBzd2FwMTYgKCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGg7XG4gIGlmIChsZW4gJSAyICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAxNi1iaXRzJylcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSAyKSB7XG4gICAgc3dhcCh0aGlzLCBpLCBpICsgMSk7XG4gIH1cbiAgcmV0dXJuIHRoaXNcbn07XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDMyID0gZnVuY3Rpb24gc3dhcDMyICgpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoO1xuICBpZiAobGVuICUgNCAhPT0gMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMzItYml0cycpXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgIHN3YXAodGhpcywgaSwgaSArIDMpO1xuICAgIHN3YXAodGhpcywgaSArIDEsIGkgKyAyKTtcbiAgfVxuICByZXR1cm4gdGhpc1xufTtcblxuQnVmZmVyLnByb3RvdHlwZS5zd2FwNjQgPSBmdW5jdGlvbiBzd2FwNjQgKCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGg7XG4gIGlmIChsZW4gJSA4ICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA2NC1iaXRzJylcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSA4KSB7XG4gICAgc3dhcCh0aGlzLCBpLCBpICsgNyk7XG4gICAgc3dhcCh0aGlzLCBpICsgMSwgaSArIDYpO1xuICAgIHN3YXAodGhpcywgaSArIDIsIGkgKyA1KTtcbiAgICBzd2FwKHRoaXMsIGkgKyAzLCBpICsgNCk7XG4gIH1cbiAgcmV0dXJuIHRoaXNcbn07XG5cbkJ1ZmZlci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyAoKSB7XG4gIHZhciBsZW5ndGggPSB0aGlzLmxlbmd0aCB8IDA7XG4gIGlmIChsZW5ndGggPT09IDApIHJldHVybiAnJ1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHV0ZjhTbGljZSh0aGlzLCAwLCBsZW5ndGgpXG4gIHJldHVybiBzbG93VG9TdHJpbmcuYXBwbHkodGhpcywgYXJndW1lbnRzKVxufTtcblxuQnVmZmVyLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiBlcXVhbHMgKGIpIHtcbiAgaWYgKCFpbnRlcm5hbElzQnVmZmVyKGIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyJylcbiAgaWYgKHRoaXMgPT09IGIpIHJldHVybiB0cnVlXG4gIHJldHVybiBCdWZmZXIuY29tcGFyZSh0aGlzLCBiKSA9PT0gMFxufTtcblxuQnVmZmVyLnByb3RvdHlwZS5pbnNwZWN0ID0gZnVuY3Rpb24gaW5zcGVjdCAoKSB7XG4gIHZhciBzdHIgPSAnJztcbiAgdmFyIG1heCA9IElOU1BFQ1RfTUFYX0JZVEVTO1xuICBpZiAodGhpcy5sZW5ndGggPiAwKSB7XG4gICAgc3RyID0gdGhpcy50b1N0cmluZygnaGV4JywgMCwgbWF4KS5tYXRjaCgvLnsyfS9nKS5qb2luKCcgJyk7XG4gICAgaWYgKHRoaXMubGVuZ3RoID4gbWF4KSBzdHIgKz0gJyAuLi4gJztcbiAgfVxuICByZXR1cm4gJzxCdWZmZXIgJyArIHN0ciArICc+J1xufTtcblxuQnVmZmVyLnByb3RvdHlwZS5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZSAodGFyZ2V0LCBzdGFydCwgZW5kLCB0aGlzU3RhcnQsIHRoaXNFbmQpIHtcbiAgaWYgKCFpbnRlcm5hbElzQnVmZmVyKHRhcmdldCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyJylcbiAgfVxuXG4gIGlmIChzdGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgc3RhcnQgPSAwO1xuICB9XG4gIGlmIChlbmQgPT09IHVuZGVmaW5lZCkge1xuICAgIGVuZCA9IHRhcmdldCA/IHRhcmdldC5sZW5ndGggOiAwO1xuICB9XG4gIGlmICh0aGlzU3RhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXNTdGFydCA9IDA7XG4gIH1cbiAgaWYgKHRoaXNFbmQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXNFbmQgPSB0aGlzLmxlbmd0aDtcbiAgfVxuXG4gIGlmIChzdGFydCA8IDAgfHwgZW5kID4gdGFyZ2V0Lmxlbmd0aCB8fCB0aGlzU3RhcnQgPCAwIHx8IHRoaXNFbmQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdvdXQgb2YgcmFuZ2UgaW5kZXgnKVxuICB9XG5cbiAgaWYgKHRoaXNTdGFydCA+PSB0aGlzRW5kICYmIHN0YXJ0ID49IGVuZCkge1xuICAgIHJldHVybiAwXG4gIH1cbiAgaWYgKHRoaXNTdGFydCA+PSB0aGlzRW5kKSB7XG4gICAgcmV0dXJuIC0xXG4gIH1cbiAgaWYgKHN0YXJ0ID49IGVuZCkge1xuICAgIHJldHVybiAxXG4gIH1cblxuICBzdGFydCA+Pj49IDA7XG4gIGVuZCA+Pj49IDA7XG4gIHRoaXNTdGFydCA+Pj49IDA7XG4gIHRoaXNFbmQgPj4+PSAwO1xuXG4gIGlmICh0aGlzID09PSB0YXJnZXQpIHJldHVybiAwXG5cbiAgdmFyIHggPSB0aGlzRW5kIC0gdGhpc1N0YXJ0O1xuICB2YXIgeSA9IGVuZCAtIHN0YXJ0O1xuICB2YXIgbGVuID0gTWF0aC5taW4oeCwgeSk7XG5cbiAgdmFyIHRoaXNDb3B5ID0gdGhpcy5zbGljZSh0aGlzU3RhcnQsIHRoaXNFbmQpO1xuICB2YXIgdGFyZ2V0Q29weSA9IHRhcmdldC5zbGljZShzdGFydCwgZW5kKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgaWYgKHRoaXNDb3B5W2ldICE9PSB0YXJnZXRDb3B5W2ldKSB7XG4gICAgICB4ID0gdGhpc0NvcHlbaV07XG4gICAgICB5ID0gdGFyZ2V0Q29weVtpXTtcbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgaWYgKHggPCB5KSByZXR1cm4gLTFcbiAgaWYgKHkgPCB4KSByZXR1cm4gMVxuICByZXR1cm4gMFxufTtcblxuLy8gRmluZHMgZWl0aGVyIHRoZSBmaXJzdCBpbmRleCBvZiBgdmFsYCBpbiBgYnVmZmVyYCBhdCBvZmZzZXQgPj0gYGJ5dGVPZmZzZXRgLFxuLy8gT1IgdGhlIGxhc3QgaW5kZXggb2YgYHZhbGAgaW4gYGJ1ZmZlcmAgYXQgb2Zmc2V0IDw9IGBieXRlT2Zmc2V0YC5cbi8vXG4vLyBBcmd1bWVudHM6XG4vLyAtIGJ1ZmZlciAtIGEgQnVmZmVyIHRvIHNlYXJjaFxuLy8gLSB2YWwgLSBhIHN0cmluZywgQnVmZmVyLCBvciBudW1iZXJcbi8vIC0gYnl0ZU9mZnNldCAtIGFuIGluZGV4IGludG8gYGJ1ZmZlcmA7IHdpbGwgYmUgY2xhbXBlZCB0byBhbiBpbnQzMlxuLy8gLSBlbmNvZGluZyAtIGFuIG9wdGlvbmFsIGVuY29kaW5nLCByZWxldmFudCBpcyB2YWwgaXMgYSBzdHJpbmdcbi8vIC0gZGlyIC0gdHJ1ZSBmb3IgaW5kZXhPZiwgZmFsc2UgZm9yIGxhc3RJbmRleE9mXG5mdW5jdGlvbiBiaWRpcmVjdGlvbmFsSW5kZXhPZiAoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpIHtcbiAgLy8gRW1wdHkgYnVmZmVyIG1lYW5zIG5vIG1hdGNoXG4gIGlmIChidWZmZXIubGVuZ3RoID09PSAwKSByZXR1cm4gLTFcblxuICAvLyBOb3JtYWxpemUgYnl0ZU9mZnNldFxuICBpZiAodHlwZW9mIGJ5dGVPZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgZW5jb2RpbmcgPSBieXRlT2Zmc2V0O1xuICAgIGJ5dGVPZmZzZXQgPSAwO1xuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPiAweDdmZmZmZmZmKSB7XG4gICAgYnl0ZU9mZnNldCA9IDB4N2ZmZmZmZmY7XG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA8IC0weDgwMDAwMDAwKSB7XG4gICAgYnl0ZU9mZnNldCA9IC0weDgwMDAwMDAwO1xuICB9XG4gIGJ5dGVPZmZzZXQgPSArYnl0ZU9mZnNldDsgIC8vIENvZXJjZSB0byBOdW1iZXIuXG4gIGlmIChpc05hTihieXRlT2Zmc2V0KSkge1xuICAgIC8vIGJ5dGVPZmZzZXQ6IGl0IGl0J3MgdW5kZWZpbmVkLCBudWxsLCBOYU4sIFwiZm9vXCIsIGV0Yywgc2VhcmNoIHdob2xlIGJ1ZmZlclxuICAgIGJ5dGVPZmZzZXQgPSBkaXIgPyAwIDogKGJ1ZmZlci5sZW5ndGggLSAxKTtcbiAgfVxuXG4gIC8vIE5vcm1hbGl6ZSBieXRlT2Zmc2V0OiBuZWdhdGl2ZSBvZmZzZXRzIHN0YXJ0IGZyb20gdGhlIGVuZCBvZiB0aGUgYnVmZmVyXG4gIGlmIChieXRlT2Zmc2V0IDwgMCkgYnl0ZU9mZnNldCA9IGJ1ZmZlci5sZW5ndGggKyBieXRlT2Zmc2V0O1xuICBpZiAoYnl0ZU9mZnNldCA+PSBidWZmZXIubGVuZ3RoKSB7XG4gICAgaWYgKGRpcikgcmV0dXJuIC0xXG4gICAgZWxzZSBieXRlT2Zmc2V0ID0gYnVmZmVyLmxlbmd0aCAtIDE7XG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA8IDApIHtcbiAgICBpZiAoZGlyKSBieXRlT2Zmc2V0ID0gMDtcbiAgICBlbHNlIHJldHVybiAtMVxuICB9XG5cbiAgLy8gTm9ybWFsaXplIHZhbFxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICB2YWwgPSBCdWZmZXIuZnJvbSh2YWwsIGVuY29kaW5nKTtcbiAgfVxuXG4gIC8vIEZpbmFsbHksIHNlYXJjaCBlaXRoZXIgaW5kZXhPZiAoaWYgZGlyIGlzIHRydWUpIG9yIGxhc3RJbmRleE9mXG4gIGlmIChpbnRlcm5hbElzQnVmZmVyKHZhbCkpIHtcbiAgICAvLyBTcGVjaWFsIGNhc2U6IGxvb2tpbmcgZm9yIGVtcHR5IHN0cmluZy9idWZmZXIgYWx3YXlzIGZhaWxzXG4gICAgaWYgKHZhbC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiAtMVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXlJbmRleE9mKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKVxuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgdmFsID0gdmFsICYgMHhGRjsgLy8gU2VhcmNoIGZvciBhIGJ5dGUgdmFsdWUgWzAtMjU1XVxuICAgIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCAmJlxuICAgICAgICB0eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaWYgKGRpcikge1xuICAgICAgICByZXR1cm4gVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mLmNhbGwoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQpXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnJheUluZGV4T2YoYnVmZmVyLCBbIHZhbCBdLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKVxuICB9XG5cbiAgdGhyb3cgbmV3IFR5cGVFcnJvcigndmFsIG11c3QgYmUgc3RyaW5nLCBudW1iZXIgb3IgQnVmZmVyJylcbn1cblxuZnVuY3Rpb24gYXJyYXlJbmRleE9mIChhcnIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcikge1xuICB2YXIgaW5kZXhTaXplID0gMTtcbiAgdmFyIGFyckxlbmd0aCA9IGFyci5sZW5ndGg7XG4gIHZhciB2YWxMZW5ndGggPSB2YWwubGVuZ3RoO1xuXG4gIGlmIChlbmNvZGluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZW5jb2RpbmcgPSBTdHJpbmcoZW5jb2RpbmcpLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKGVuY29kaW5nID09PSAndWNzMicgfHwgZW5jb2RpbmcgPT09ICd1Y3MtMicgfHxcbiAgICAgICAgZW5jb2RpbmcgPT09ICd1dGYxNmxlJyB8fCBlbmNvZGluZyA9PT0gJ3V0Zi0xNmxlJykge1xuICAgICAgaWYgKGFyci5sZW5ndGggPCAyIHx8IHZhbC5sZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiAtMVxuICAgICAgfVxuICAgICAgaW5kZXhTaXplID0gMjtcbiAgICAgIGFyckxlbmd0aCAvPSAyO1xuICAgICAgdmFsTGVuZ3RoIC89IDI7XG4gICAgICBieXRlT2Zmc2V0IC89IDI7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVhZCAoYnVmLCBpKSB7XG4gICAgaWYgKGluZGV4U2l6ZSA9PT0gMSkge1xuICAgICAgcmV0dXJuIGJ1ZltpXVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYnVmLnJlYWRVSW50MTZCRShpICogaW5kZXhTaXplKVxuICAgIH1cbiAgfVxuXG4gIHZhciBpO1xuICBpZiAoZGlyKSB7XG4gICAgdmFyIGZvdW5kSW5kZXggPSAtMTtcbiAgICBmb3IgKGkgPSBieXRlT2Zmc2V0OyBpIDwgYXJyTGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChyZWFkKGFyciwgaSkgPT09IHJlYWQodmFsLCBmb3VuZEluZGV4ID09PSAtMSA/IDAgOiBpIC0gZm91bmRJbmRleCkpIHtcbiAgICAgICAgaWYgKGZvdW5kSW5kZXggPT09IC0xKSBmb3VuZEluZGV4ID0gaTtcbiAgICAgICAgaWYgKGkgLSBmb3VuZEluZGV4ICsgMSA9PT0gdmFsTGVuZ3RoKSByZXR1cm4gZm91bmRJbmRleCAqIGluZGV4U2l6ZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGZvdW5kSW5kZXggIT09IC0xKSBpIC09IGkgLSBmb3VuZEluZGV4O1xuICAgICAgICBmb3VuZEluZGV4ID0gLTE7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChieXRlT2Zmc2V0ICsgdmFsTGVuZ3RoID4gYXJyTGVuZ3RoKSBieXRlT2Zmc2V0ID0gYXJyTGVuZ3RoIC0gdmFsTGVuZ3RoO1xuICAgIGZvciAoaSA9IGJ5dGVPZmZzZXQ7IGkgPj0gMDsgaS0tKSB7XG4gICAgICB2YXIgZm91bmQgPSB0cnVlO1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB2YWxMZW5ndGg7IGorKykge1xuICAgICAgICBpZiAocmVhZChhcnIsIGkgKyBqKSAhPT0gcmVhZCh2YWwsIGopKSB7XG4gICAgICAgICAgZm91bmQgPSBmYWxzZTtcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZm91bmQpIHJldHVybiBpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIC0xXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5jbHVkZXMgPSBmdW5jdGlvbiBpbmNsdWRlcyAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gdGhpcy5pbmRleE9mKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpICE9PSAtMVxufTtcblxuQnVmZmVyLnByb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24gaW5kZXhPZiAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gYmlkaXJlY3Rpb25hbEluZGV4T2YodGhpcywgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgdHJ1ZSlcbn07XG5cbkJ1ZmZlci5wcm90b3R5cGUubGFzdEluZGV4T2YgPSBmdW5jdGlvbiBsYXN0SW5kZXhPZiAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gYmlkaXJlY3Rpb25hbEluZGV4T2YodGhpcywgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZmFsc2UpXG59O1xuXG5mdW5jdGlvbiBoZXhXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIG9mZnNldCA9IE51bWJlcihvZmZzZXQpIHx8IDA7XG4gIHZhciByZW1haW5pbmcgPSBidWYubGVuZ3RoIC0gb2Zmc2V0O1xuICBpZiAoIWxlbmd0aCkge1xuICAgIGxlbmd0aCA9IHJlbWFpbmluZztcbiAgfSBlbHNlIHtcbiAgICBsZW5ndGggPSBOdW1iZXIobGVuZ3RoKTtcbiAgICBpZiAobGVuZ3RoID4gcmVtYWluaW5nKSB7XG4gICAgICBsZW5ndGggPSByZW1haW5pbmc7XG4gICAgfVxuICB9XG5cbiAgLy8gbXVzdCBiZSBhbiBldmVuIG51bWJlciBvZiBkaWdpdHNcbiAgdmFyIHN0ckxlbiA9IHN0cmluZy5sZW5ndGg7XG4gIGlmIChzdHJMZW4gJSAyICE9PSAwKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGhleCBzdHJpbmcnKVxuXG4gIGlmIChsZW5ndGggPiBzdHJMZW4gLyAyKSB7XG4gICAgbGVuZ3RoID0gc3RyTGVuIC8gMjtcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgdmFyIHBhcnNlZCA9IHBhcnNlSW50KHN0cmluZy5zdWJzdHIoaSAqIDIsIDIpLCAxNik7XG4gICAgaWYgKGlzTmFOKHBhcnNlZCkpIHJldHVybiBpXG4gICAgYnVmW29mZnNldCArIGldID0gcGFyc2VkO1xuICB9XG4gIHJldHVybiBpXG59XG5cbmZ1bmN0aW9uIHV0ZjhXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKHV0ZjhUb0J5dGVzKHN0cmluZywgYnVmLmxlbmd0aCAtIG9mZnNldCksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGFzY2lpV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcihhc2NpaVRvQnl0ZXMoc3RyaW5nKSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gbGF0aW4xV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYXNjaWlXcml0ZShidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGJhc2U2NFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIoYmFzZTY0VG9CeXRlcyhzdHJpbmcpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiB1Y3MyV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcih1dGYxNmxlVG9CeXRlcyhzdHJpbmcsIGJ1Zi5sZW5ndGggLSBvZmZzZXQpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gd3JpdGUgKHN0cmluZywgb2Zmc2V0LCBsZW5ndGgsIGVuY29kaW5nKSB7XG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcpXG4gIGlmIChvZmZzZXQgPT09IHVuZGVmaW5lZCkge1xuICAgIGVuY29kaW5nID0gJ3V0ZjgnO1xuICAgIGxlbmd0aCA9IHRoaXMubGVuZ3RoO1xuICAgIG9mZnNldCA9IDA7XG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcsIGVuY29kaW5nKVxuICB9IGVsc2UgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiBvZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgZW5jb2RpbmcgPSBvZmZzZXQ7XG4gICAgbGVuZ3RoID0gdGhpcy5sZW5ndGg7XG4gICAgb2Zmc2V0ID0gMDtcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZywgb2Zmc2V0WywgbGVuZ3RoXVssIGVuY29kaW5nXSlcbiAgfSBlbHNlIGlmIChpc0Zpbml0ZShvZmZzZXQpKSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHwgMDtcbiAgICBpZiAoaXNGaW5pdGUobGVuZ3RoKSkge1xuICAgICAgbGVuZ3RoID0gbGVuZ3RoIHwgMDtcbiAgICAgIGlmIChlbmNvZGluZyA9PT0gdW5kZWZpbmVkKSBlbmNvZGluZyA9ICd1dGY4JztcbiAgICB9IGVsc2Uge1xuICAgICAgZW5jb2RpbmcgPSBsZW5ndGg7XG4gICAgICBsZW5ndGggPSB1bmRlZmluZWQ7XG4gICAgfVxuICAvLyBsZWdhY3kgd3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0LCBsZW5ndGgpIC0gcmVtb3ZlIGluIHYwLjEzXG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ0J1ZmZlci53cml0ZShzdHJpbmcsIGVuY29kaW5nLCBvZmZzZXRbLCBsZW5ndGhdKSBpcyBubyBsb25nZXIgc3VwcG9ydGVkJ1xuICAgIClcbiAgfVxuXG4gIHZhciByZW1haW5pbmcgPSB0aGlzLmxlbmd0aCAtIG9mZnNldDtcbiAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkIHx8IGxlbmd0aCA+IHJlbWFpbmluZykgbGVuZ3RoID0gcmVtYWluaW5nO1xuXG4gIGlmICgoc3RyaW5nLmxlbmd0aCA+IDAgJiYgKGxlbmd0aCA8IDAgfHwgb2Zmc2V0IDwgMCkpIHx8IG9mZnNldCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0F0dGVtcHQgdG8gd3JpdGUgb3V0c2lkZSBidWZmZXIgYm91bmRzJylcbiAgfVxuXG4gIGlmICghZW5jb2RpbmcpIGVuY29kaW5nID0gJ3V0ZjgnO1xuXG4gIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlO1xuICBmb3IgKDs7KSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGhleFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgICByZXR1cm4gdXRmOFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgICAgcmV0dXJuIGFzY2lpV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBsYXRpbjFXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICAvLyBXYXJuaW5nOiBtYXhMZW5ndGggbm90IHRha2VuIGludG8gYWNjb3VudCBpbiBiYXNlNjRXcml0ZVxuICAgICAgICByZXR1cm4gYmFzZTY0V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIHVjczJXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICAgICAgZW5jb2RpbmcgPSAoJycgKyBlbmNvZGluZykudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgbG93ZXJlZENhc2UgPSB0cnVlO1xuICAgIH1cbiAgfVxufTtcblxuQnVmZmVyLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04gKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdCdWZmZXInLFxuICAgIGRhdGE6IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2FyciB8fCB0aGlzLCAwKVxuICB9XG59O1xuXG5mdW5jdGlvbiBiYXNlNjRTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIGlmIChzdGFydCA9PT0gMCAmJiBlbmQgPT09IGJ1Zi5sZW5ndGgpIHtcbiAgICByZXR1cm4gZnJvbUJ5dGVBcnJheShidWYpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZyb21CeXRlQXJyYXkoYnVmLnNsaWNlKHN0YXJ0LCBlbmQpKVxuICB9XG59XG5cbmZ1bmN0aW9uIHV0ZjhTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZCk7XG4gIHZhciByZXMgPSBbXTtcblxuICB2YXIgaSA9IHN0YXJ0O1xuICB3aGlsZSAoaSA8IGVuZCkge1xuICAgIHZhciBmaXJzdEJ5dGUgPSBidWZbaV07XG4gICAgdmFyIGNvZGVQb2ludCA9IG51bGw7XG4gICAgdmFyIGJ5dGVzUGVyU2VxdWVuY2UgPSAoZmlyc3RCeXRlID4gMHhFRikgPyA0XG4gICAgICA6IChmaXJzdEJ5dGUgPiAweERGKSA/IDNcbiAgICAgIDogKGZpcnN0Qnl0ZSA+IDB4QkYpID8gMlxuICAgICAgOiAxO1xuXG4gICAgaWYgKGkgKyBieXRlc1BlclNlcXVlbmNlIDw9IGVuZCkge1xuICAgICAgdmFyIHNlY29uZEJ5dGUsIHRoaXJkQnl0ZSwgZm91cnRoQnl0ZSwgdGVtcENvZGVQb2ludDtcblxuICAgICAgc3dpdGNoIChieXRlc1BlclNlcXVlbmNlKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBpZiAoZmlyc3RCeXRlIDwgMHg4MCkge1xuICAgICAgICAgICAgY29kZVBvaW50ID0gZmlyc3RCeXRlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV07XG4gICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHgxRikgPDwgMHg2IHwgKHNlY29uZEJ5dGUgJiAweDNGKTtcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHg3Rikge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV07XG4gICAgICAgICAgdGhpcmRCeXRlID0gYnVmW2kgKyAyXTtcbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAodGhpcmRCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHhGKSA8PCAweEMgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpIDw8IDB4NiB8ICh0aGlyZEJ5dGUgJiAweDNGKTtcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHg3RkYgJiYgKHRlbXBDb2RlUG9pbnQgPCAweEQ4MDAgfHwgdGVtcENvZGVQb2ludCA+IDB4REZGRikpIHtcbiAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdO1xuICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl07XG4gICAgICAgICAgZm91cnRoQnl0ZSA9IGJ1ZltpICsgM107XG4gICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKHRoaXJkQnl0ZSAmIDB4QzApID09PSAweDgwICYmIChmb3VydGhCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHhGKSA8PCAweDEyIHwgKHNlY29uZEJ5dGUgJiAweDNGKSA8PCAweEMgfCAodGhpcmRCeXRlICYgMHgzRikgPDwgMHg2IHwgKGZvdXJ0aEJ5dGUgJiAweDNGKTtcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHhGRkZGICYmIHRlbXBDb2RlUG9pbnQgPCAweDExMDAwMCkge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY29kZVBvaW50ID09PSBudWxsKSB7XG4gICAgICAvLyB3ZSBkaWQgbm90IGdlbmVyYXRlIGEgdmFsaWQgY29kZVBvaW50IHNvIGluc2VydCBhXG4gICAgICAvLyByZXBsYWNlbWVudCBjaGFyIChVK0ZGRkQpIGFuZCBhZHZhbmNlIG9ubHkgMSBieXRlXG4gICAgICBjb2RlUG9pbnQgPSAweEZGRkQ7XG4gICAgICBieXRlc1BlclNlcXVlbmNlID0gMTtcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA+IDB4RkZGRikge1xuICAgICAgLy8gZW5jb2RlIHRvIHV0ZjE2IChzdXJyb2dhdGUgcGFpciBkYW5jZSlcbiAgICAgIGNvZGVQb2ludCAtPSAweDEwMDAwO1xuICAgICAgcmVzLnB1c2goY29kZVBvaW50ID4+PiAxMCAmIDB4M0ZGIHwgMHhEODAwKTtcbiAgICAgIGNvZGVQb2ludCA9IDB4REMwMCB8IGNvZGVQb2ludCAmIDB4M0ZGO1xuICAgIH1cblxuICAgIHJlcy5wdXNoKGNvZGVQb2ludCk7XG4gICAgaSArPSBieXRlc1BlclNlcXVlbmNlO1xuICB9XG5cbiAgcmV0dXJuIGRlY29kZUNvZGVQb2ludHNBcnJheShyZXMpXG59XG5cbi8vIEJhc2VkIG9uIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIyNzQ3MjcyLzY4MDc0MiwgdGhlIGJyb3dzZXIgd2l0aFxuLy8gdGhlIGxvd2VzdCBsaW1pdCBpcyBDaHJvbWUsIHdpdGggMHgxMDAwMCBhcmdzLlxuLy8gV2UgZ28gMSBtYWduaXR1ZGUgbGVzcywgZm9yIHNhZmV0eVxudmFyIE1BWF9BUkdVTUVOVFNfTEVOR1RIID0gMHgxMDAwO1xuXG5mdW5jdGlvbiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkgKGNvZGVQb2ludHMpIHtcbiAgdmFyIGxlbiA9IGNvZGVQb2ludHMubGVuZ3RoO1xuICBpZiAobGVuIDw9IE1BWF9BUkdVTUVOVFNfTEVOR1RIKSB7XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLCBjb2RlUG9pbnRzKSAvLyBhdm9pZCBleHRyYSBzbGljZSgpXG4gIH1cblxuICAvLyBEZWNvZGUgaW4gY2h1bmtzIHRvIGF2b2lkIFwiY2FsbCBzdGFjayBzaXplIGV4Y2VlZGVkXCIuXG4gIHZhciByZXMgPSAnJztcbiAgdmFyIGkgPSAwO1xuICB3aGlsZSAoaSA8IGxlbikge1xuICAgIHJlcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFxuICAgICAgU3RyaW5nLFxuICAgICAgY29kZVBvaW50cy5zbGljZShpLCBpICs9IE1BWF9BUkdVTUVOVFNfTEVOR1RIKVxuICAgICk7XG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5mdW5jdGlvbiBhc2NpaVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHJldCA9ICcnO1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpO1xuXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgcmV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldICYgMHg3Rik7XG4gIH1cbiAgcmV0dXJuIHJldFxufVxuXG5mdW5jdGlvbiBsYXRpbjFTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciByZXQgPSAnJztcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKTtcblxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSk7XG4gIH1cbiAgcmV0dXJuIHJldFxufVxuXG5mdW5jdGlvbiBoZXhTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciBsZW4gPSBidWYubGVuZ3RoO1xuXG4gIGlmICghc3RhcnQgfHwgc3RhcnQgPCAwKSBzdGFydCA9IDA7XG4gIGlmICghZW5kIHx8IGVuZCA8IDAgfHwgZW5kID4gbGVuKSBlbmQgPSBsZW47XG5cbiAgdmFyIG91dCA9ICcnO1xuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgIG91dCArPSB0b0hleChidWZbaV0pO1xuICB9XG4gIHJldHVybiBvdXRcbn1cblxuZnVuY3Rpb24gdXRmMTZsZVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGJ5dGVzID0gYnVmLnNsaWNlKHN0YXJ0LCBlbmQpO1xuICB2YXIgcmVzID0gJyc7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICByZXMgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShieXRlc1tpXSArIGJ5dGVzW2kgKyAxXSAqIDI1Nik7XG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24gc2xpY2UgKHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoO1xuICBzdGFydCA9IH5+c3RhcnQ7XG4gIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuIDogfn5lbmQ7XG5cbiAgaWYgKHN0YXJ0IDwgMCkge1xuICAgIHN0YXJ0ICs9IGxlbjtcbiAgICBpZiAoc3RhcnQgPCAwKSBzdGFydCA9IDA7XG4gIH0gZWxzZSBpZiAoc3RhcnQgPiBsZW4pIHtcbiAgICBzdGFydCA9IGxlbjtcbiAgfVxuXG4gIGlmIChlbmQgPCAwKSB7XG4gICAgZW5kICs9IGxlbjtcbiAgICBpZiAoZW5kIDwgMCkgZW5kID0gMDtcbiAgfSBlbHNlIGlmIChlbmQgPiBsZW4pIHtcbiAgICBlbmQgPSBsZW47XG4gIH1cblxuICBpZiAoZW5kIDwgc3RhcnQpIGVuZCA9IHN0YXJ0O1xuXG4gIHZhciBuZXdCdWY7XG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIG5ld0J1ZiA9IHRoaXMuc3ViYXJyYXkoc3RhcnQsIGVuZCk7XG4gICAgbmV3QnVmLl9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGU7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHNsaWNlTGVuID0gZW5kIC0gc3RhcnQ7XG4gICAgbmV3QnVmID0gbmV3IEJ1ZmZlcihzbGljZUxlbiwgdW5kZWZpbmVkKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNsaWNlTGVuOyArK2kpIHtcbiAgICAgIG5ld0J1ZltpXSA9IHRoaXNbaSArIHN0YXJ0XTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3QnVmXG59O1xuXG4vKlxuICogTmVlZCB0byBtYWtlIHN1cmUgdGhhdCBidWZmZXIgaXNuJ3QgdHJ5aW5nIHRvIHdyaXRlIG91dCBvZiBib3VuZHMuXG4gKi9cbmZ1bmN0aW9uIGNoZWNrT2Zmc2V0IChvZmZzZXQsIGV4dCwgbGVuZ3RoKSB7XG4gIGlmICgob2Zmc2V0ICUgMSkgIT09IDAgfHwgb2Zmc2V0IDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ29mZnNldCBpcyBub3QgdWludCcpXG4gIGlmIChvZmZzZXQgKyBleHQgPiBsZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdUcnlpbmcgdG8gYWNjZXNzIGJleW9uZCBidWZmZXIgbGVuZ3RoJylcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludExFID0gZnVuY3Rpb24gcmVhZFVJbnRMRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwO1xuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDA7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpO1xuXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldF07XG4gIHZhciBtdWwgPSAxO1xuICB2YXIgaSA9IDA7XG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgaV0gKiBtdWw7XG4gIH1cblxuICByZXR1cm4gdmFsXG59O1xuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50QkUgPSBmdW5jdGlvbiByZWFkVUludEJFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDA7XG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMDtcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpO1xuICB9XG5cbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0ICsgLS1ieXRlTGVuZ3RoXTtcbiAgdmFyIG11bCA9IDE7XG4gIHdoaWxlIChieXRlTGVuZ3RoID4gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIC0tYnl0ZUxlbmd0aF0gKiBtdWw7XG4gIH1cblxuICByZXR1cm4gdmFsXG59O1xuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50OCA9IGZ1bmN0aW9uIHJlYWRVSW50OCAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDEsIHRoaXMubGVuZ3RoKTtcbiAgcmV0dXJuIHRoaXNbb2Zmc2V0XVxufTtcblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2TEUgPSBmdW5jdGlvbiByZWFkVUludDE2TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aCk7XG4gIHJldHVybiB0aGlzW29mZnNldF0gfCAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KVxufTtcblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2QkUgPSBmdW5jdGlvbiByZWFkVUludDE2QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aCk7XG4gIHJldHVybiAodGhpc1tvZmZzZXRdIDw8IDgpIHwgdGhpc1tvZmZzZXQgKyAxXVxufTtcblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDMyTEUgPSBmdW5jdGlvbiByZWFkVUludDMyTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aCk7XG5cbiAgcmV0dXJuICgodGhpc1tvZmZzZXRdKSB8XG4gICAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KSB8XG4gICAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCAxNikpICtcbiAgICAgICh0aGlzW29mZnNldCArIDNdICogMHgxMDAwMDAwKVxufTtcblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDMyQkUgPSBmdW5jdGlvbiByZWFkVUludDMyQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aCk7XG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0gKiAweDEwMDAwMDApICtcbiAgICAoKHRoaXNbb2Zmc2V0ICsgMV0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCA4KSB8XG4gICAgdGhpc1tvZmZzZXQgKyAzXSlcbn07XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludExFID0gZnVuY3Rpb24gcmVhZEludExFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDA7XG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMDtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aCk7XG5cbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XTtcbiAgdmFyIG11bCA9IDE7XG4gIHZhciBpID0gMDtcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyBpXSAqIG11bDtcbiAgfVxuICBtdWwgKj0gMHg4MDtcblxuICBpZiAodmFsID49IG11bCkgdmFsIC09IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKTtcblxuICByZXR1cm4gdmFsXG59O1xuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnRCRSA9IGZ1bmN0aW9uIHJlYWRJbnRCRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwO1xuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDA7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpO1xuXG4gIHZhciBpID0gYnl0ZUxlbmd0aDtcbiAgdmFyIG11bCA9IDE7XG4gIHZhciB2YWwgPSB0aGlzW29mZnNldCArIC0taV07XG4gIHdoaWxlIChpID4gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIC0taV0gKiBtdWw7XG4gIH1cbiAgbXVsICo9IDB4ODA7XG5cbiAgaWYgKHZhbCA+PSBtdWwpIHZhbCAtPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCk7XG5cbiAgcmV0dXJuIHZhbFxufTtcblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50OCA9IGZ1bmN0aW9uIHJlYWRJbnQ4IChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMSwgdGhpcy5sZW5ndGgpO1xuICBpZiAoISh0aGlzW29mZnNldF0gJiAweDgwKSkgcmV0dXJuICh0aGlzW29mZnNldF0pXG4gIHJldHVybiAoKDB4ZmYgLSB0aGlzW29mZnNldF0gKyAxKSAqIC0xKVxufTtcblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZMRSA9IGZ1bmN0aW9uIHJlYWRJbnQxNkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpO1xuICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdIHwgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOCk7XG4gIHJldHVybiAodmFsICYgMHg4MDAwKSA/IHZhbCB8IDB4RkZGRjAwMDAgOiB2YWxcbn07XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDE2QkUgPSBmdW5jdGlvbiByZWFkSW50MTZCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKTtcbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0ICsgMV0gfCAodGhpc1tvZmZzZXRdIDw8IDgpO1xuICByZXR1cm4gKHZhbCAmIDB4ODAwMCkgPyB2YWwgfCAweEZGRkYwMDAwIDogdmFsXG59O1xuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkxFID0gZnVuY3Rpb24gcmVhZEludDMyTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aCk7XG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0pIHxcbiAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAzXSA8PCAyNClcbn07XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDMyQkUgPSBmdW5jdGlvbiByZWFkSW50MzJCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKTtcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSA8PCAyNCkgfFxuICAgICh0aGlzW29mZnNldCArIDFdIDw8IDE2KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgOCkgfFxuICAgICh0aGlzW29mZnNldCArIDNdKVxufTtcblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRmxvYXRMRSA9IGZ1bmN0aW9uIHJlYWRGbG9hdExFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpO1xuICByZXR1cm4gcmVhZCh0aGlzLCBvZmZzZXQsIHRydWUsIDIzLCA0KVxufTtcblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRmxvYXRCRSA9IGZ1bmN0aW9uIHJlYWRGbG9hdEJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpO1xuICByZXR1cm4gcmVhZCh0aGlzLCBvZmZzZXQsIGZhbHNlLCAyMywgNClcbn07XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUxFID0gZnVuY3Rpb24gcmVhZERvdWJsZUxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgOCwgdGhpcy5sZW5ndGgpO1xuICByZXR1cm4gcmVhZCh0aGlzLCBvZmZzZXQsIHRydWUsIDUyLCA4KVxufTtcblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlQkUgPSBmdW5jdGlvbiByZWFkRG91YmxlQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA4LCB0aGlzLmxlbmd0aCk7XG4gIHJldHVybiByZWFkKHRoaXMsIG9mZnNldCwgZmFsc2UsIDUyLCA4KVxufTtcblxuZnVuY3Rpb24gY2hlY2tJbnQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgZXh0LCBtYXgsIG1pbikge1xuICBpZiAoIWludGVybmFsSXNCdWZmZXIoYnVmKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJidWZmZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIGluc3RhbmNlJylcbiAgaWYgKHZhbHVlID4gbWF4IHx8IHZhbHVlIDwgbWluKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IGlzIG91dCBvZiBib3VuZHMnKVxuICBpZiAob2Zmc2V0ICsgZXh0ID4gYnVmLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50TEUgPSBmdW5jdGlvbiB3cml0ZVVJbnRMRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWU7XG4gIG9mZnNldCA9IG9mZnNldCB8IDA7XG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMDtcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBtYXhCeXRlcyA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKSAtIDE7XG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbWF4Qnl0ZXMsIDApO1xuICB9XG5cbiAgdmFyIG11bCA9IDE7XG4gIHZhciBpID0gMDtcbiAgdGhpc1tvZmZzZXRdID0gdmFsdWUgJiAweEZGO1xuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAodmFsdWUgLyBtdWwpICYgMHhGRjtcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59O1xuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludEJFID0gZnVuY3Rpb24gd3JpdGVVSW50QkUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlO1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwO1xuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDA7XG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbWF4Qnl0ZXMgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCkgLSAxO1xuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG1heEJ5dGVzLCAwKTtcbiAgfVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aCAtIDE7XG4gIHZhciBtdWwgPSAxO1xuICB0aGlzW29mZnNldCArIGldID0gdmFsdWUgJiAweEZGO1xuICB3aGlsZSAoLS1pID49IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB0aGlzW29mZnNldCArIGldID0gKHZhbHVlIC8gbXVsKSAmIDB4RkY7XG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufTtcblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQ4ID0gZnVuY3Rpb24gd3JpdGVVSW50OCAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWU7XG4gIG9mZnNldCA9IG9mZnNldCB8IDA7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDEsIDB4ZmYsIDApO1xuICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB2YWx1ZSA9IE1hdGguZmxvb3IodmFsdWUpO1xuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKTtcbiAgcmV0dXJuIG9mZnNldCArIDFcbn07XG5cbmZ1bmN0aW9uIG9iamVjdFdyaXRlVUludDE2IChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbikge1xuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmZmZiArIHZhbHVlICsgMTtcbiAgZm9yICh2YXIgaSA9IDAsIGogPSBNYXRoLm1pbihidWYubGVuZ3RoIC0gb2Zmc2V0LCAyKTsgaSA8IGo7ICsraSkge1xuICAgIGJ1ZltvZmZzZXQgKyBpXSA9ICh2YWx1ZSAmICgweGZmIDw8ICg4ICogKGxpdHRsZUVuZGlhbiA/IGkgOiAxIC0gaSkpKSkgPj4+XG4gICAgICAobGl0dGxlRW5kaWFuID8gaSA6IDEgLSBpKSAqIDg7XG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQxNkxFID0gZnVuY3Rpb24gd3JpdGVVSW50MTZMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWU7XG4gIG9mZnNldCA9IG9mZnNldCB8IDA7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4ZmZmZiwgMCk7XG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpO1xuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpO1xuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpO1xuICB9XG4gIHJldHVybiBvZmZzZXQgKyAyXG59O1xuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2QkUgPSBmdW5jdGlvbiB3cml0ZVVJbnQxNkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZTtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMDtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHhmZmZmLCAwKTtcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiA4KTtcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlICYgMHhmZik7XG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpO1xuICB9XG4gIHJldHVybiBvZmZzZXQgKyAyXG59O1xuXG5mdW5jdGlvbiBvYmplY3RXcml0ZVVJbnQzMiAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4pIHtcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmZmZmZmICsgdmFsdWUgKyAxO1xuICBmb3IgKHZhciBpID0gMCwgaiA9IE1hdGgubWluKGJ1Zi5sZW5ndGggLSBvZmZzZXQsIDQpOyBpIDwgajsgKytpKSB7XG4gICAgYnVmW29mZnNldCArIGldID0gKHZhbHVlID4+PiAobGl0dGxlRW5kaWFuID8gaSA6IDMgLSBpKSAqIDgpICYgMHhmZjtcbiAgfVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyTEUgPSBmdW5jdGlvbiB3cml0ZVVJbnQzMkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZTtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMDtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHhmZmZmZmZmZiwgMCk7XG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgPj4+IDI0KTtcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiAxNik7XG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOCk7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZik7XG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSk7XG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn07XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MzJCRSA9IGZ1bmN0aW9uIHdyaXRlVUludDMyQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlO1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwO1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweGZmZmZmZmZmLCAwKTtcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiAyNCk7XG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gMTYpO1xuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDgpO1xuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgJiAweGZmKTtcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSk7XG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn07XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnRMRSA9IGZ1bmN0aW9uIHdyaXRlSW50TEUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlO1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwO1xuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgdmFyIGxpbWl0ID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGggLSAxKTtcblxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIGxpbWl0IC0gMSwgLWxpbWl0KTtcbiAgfVxuXG4gIHZhciBpID0gMDtcbiAgdmFyIG11bCA9IDE7XG4gIHZhciBzdWIgPSAwO1xuICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkY7XG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgaWYgKHZhbHVlIDwgMCAmJiBzdWIgPT09IDAgJiYgdGhpc1tvZmZzZXQgKyBpIC0gMV0gIT09IDApIHtcbiAgICAgIHN1YiA9IDE7XG4gICAgfVxuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAoKHZhbHVlIC8gbXVsKSA+PiAwKSAtIHN1YiAmIDB4RkY7XG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufTtcblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludEJFID0gZnVuY3Rpb24gd3JpdGVJbnRCRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWU7XG4gIG9mZnNldCA9IG9mZnNldCB8IDA7XG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbGltaXQgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCAtIDEpO1xuXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbGltaXQgLSAxLCAtbGltaXQpO1xuICB9XG5cbiAgdmFyIGkgPSBieXRlTGVuZ3RoIC0gMTtcbiAgdmFyIG11bCA9IDE7XG4gIHZhciBzdWIgPSAwO1xuICB0aGlzW29mZnNldCArIGldID0gdmFsdWUgJiAweEZGO1xuICB3aGlsZSAoLS1pID49IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICBpZiAodmFsdWUgPCAwICYmIHN1YiA9PT0gMCAmJiB0aGlzW29mZnNldCArIGkgKyAxXSAhPT0gMCkge1xuICAgICAgc3ViID0gMTtcbiAgICB9XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICgodmFsdWUgLyBtdWwpID4+IDApIC0gc3ViICYgMHhGRjtcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59O1xuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50OCA9IGZ1bmN0aW9uIHdyaXRlSW50OCAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWU7XG4gIG9mZnNldCA9IG9mZnNldCB8IDA7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDEsIDB4N2YsIC0weDgwKTtcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkgdmFsdWUgPSBNYXRoLmZsb29yKHZhbHVlKTtcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmICsgdmFsdWUgKyAxO1xuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKTtcbiAgcmV0dXJuIG9mZnNldCArIDFcbn07XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQxNkxFID0gZnVuY3Rpb24gd3JpdGVJbnQxNkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZTtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMDtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHg3ZmZmLCAtMHg4MDAwKTtcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZik7XG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOCk7XG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSk7XG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn07XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQxNkJFID0gZnVuY3Rpb24gd3JpdGVJbnQxNkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZTtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMDtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHg3ZmZmLCAtMHg4MDAwKTtcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiA4KTtcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlICYgMHhmZik7XG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpO1xuICB9XG4gIHJldHVybiBvZmZzZXQgKyAyXG59O1xuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJMRSA9IGZ1bmN0aW9uIHdyaXRlSW50MzJMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWU7XG4gIG9mZnNldCA9IG9mZnNldCB8IDA7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4N2ZmZmZmZmYsIC0weDgwMDAwMDAwKTtcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZik7XG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOCk7XG4gICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gMTYpO1xuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgPj4+IDI0KTtcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKTtcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufTtcblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZUludDMyQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlO1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwO1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweDdmZmZmZmZmLCAtMHg4MDAwMDAwMCk7XG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZmZmZmZmZiArIHZhbHVlICsgMTtcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiAyNCk7XG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gMTYpO1xuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDgpO1xuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgJiAweGZmKTtcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSk7XG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn07XG5cbmZ1bmN0aW9uIGNoZWNrSUVFRTc1NCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBleHQsIG1heCwgbWluKSB7XG4gIGlmIChvZmZzZXQgKyBleHQgPiBidWYubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcbiAgaWYgKG9mZnNldCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxufVxuXG5mdW5jdGlvbiB3cml0ZUZsb2F0IChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrSUVFRTc1NChidWYsIHZhbHVlLCBvZmZzZXQsIDQpO1xuICB9XG4gIHdyaXRlKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCAyMywgNCk7XG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdExFID0gZnVuY3Rpb24gd3JpdGVGbG9hdExFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVGbG9hdCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn07XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdEJFID0gZnVuY3Rpb24gd3JpdGVGbG9hdEJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVGbG9hdCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59O1xuXG5mdW5jdGlvbiB3cml0ZURvdWJsZSAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjaGVja0lFRUU3NTQoYnVmLCB2YWx1ZSwgb2Zmc2V0LCA4KTtcbiAgfVxuICB3cml0ZShidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgNTIsIDgpO1xuICByZXR1cm4gb2Zmc2V0ICsgOFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlTEUgPSBmdW5jdGlvbiB3cml0ZURvdWJsZUxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVEb3VibGUodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpXG59O1xuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlQkUgPSBmdW5jdGlvbiB3cml0ZURvdWJsZUJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVEb3VibGUodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UsIG5vQXNzZXJ0KVxufTtcblxuLy8gY29weSh0YXJnZXRCdWZmZXIsIHRhcmdldFN0YXJ0PTAsIHNvdXJjZVN0YXJ0PTAsIHNvdXJjZUVuZD1idWZmZXIubGVuZ3RoKVxuQnVmZmVyLnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weSAodGFyZ2V0LCB0YXJnZXRTdGFydCwgc3RhcnQsIGVuZCkge1xuICBpZiAoIXN0YXJ0KSBzdGFydCA9IDA7XG4gIGlmICghZW5kICYmIGVuZCAhPT0gMCkgZW5kID0gdGhpcy5sZW5ndGg7XG4gIGlmICh0YXJnZXRTdGFydCA+PSB0YXJnZXQubGVuZ3RoKSB0YXJnZXRTdGFydCA9IHRhcmdldC5sZW5ndGg7XG4gIGlmICghdGFyZ2V0U3RhcnQpIHRhcmdldFN0YXJ0ID0gMDtcbiAgaWYgKGVuZCA+IDAgJiYgZW5kIDwgc3RhcnQpIGVuZCA9IHN0YXJ0O1xuXG4gIC8vIENvcHkgMCBieXRlczsgd2UncmUgZG9uZVxuICBpZiAoZW5kID09PSBzdGFydCkgcmV0dXJuIDBcbiAgaWYgKHRhcmdldC5sZW5ndGggPT09IDAgfHwgdGhpcy5sZW5ndGggPT09IDApIHJldHVybiAwXG5cbiAgLy8gRmF0YWwgZXJyb3IgY29uZGl0aW9uc1xuICBpZiAodGFyZ2V0U3RhcnQgPCAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3RhcmdldFN0YXJ0IG91dCBvZiBib3VuZHMnKVxuICB9XG4gIGlmIChzdGFydCA8IDAgfHwgc3RhcnQgPj0gdGhpcy5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdzb3VyY2VTdGFydCBvdXQgb2YgYm91bmRzJylcbiAgaWYgKGVuZCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdzb3VyY2VFbmQgb3V0IG9mIGJvdW5kcycpXG5cbiAgLy8gQXJlIHdlIG9vYj9cbiAgaWYgKGVuZCA+IHRoaXMubGVuZ3RoKSBlbmQgPSB0aGlzLmxlbmd0aDtcbiAgaWYgKHRhcmdldC5sZW5ndGggLSB0YXJnZXRTdGFydCA8IGVuZCAtIHN0YXJ0KSB7XG4gICAgZW5kID0gdGFyZ2V0Lmxlbmd0aCAtIHRhcmdldFN0YXJ0ICsgc3RhcnQ7XG4gIH1cblxuICB2YXIgbGVuID0gZW5kIC0gc3RhcnQ7XG4gIHZhciBpO1xuXG4gIGlmICh0aGlzID09PSB0YXJnZXQgJiYgc3RhcnQgPCB0YXJnZXRTdGFydCAmJiB0YXJnZXRTdGFydCA8IGVuZCkge1xuICAgIC8vIGRlc2NlbmRpbmcgY29weSBmcm9tIGVuZFxuICAgIGZvciAoaSA9IGxlbiAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICB0YXJnZXRbaSArIHRhcmdldFN0YXJ0XSA9IHRoaXNbaSArIHN0YXJ0XTtcbiAgICB9XG4gIH0gZWxzZSBpZiAobGVuIDwgMTAwMCB8fCAhQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICAvLyBhc2NlbmRpbmcgY29weSBmcm9tIHN0YXJ0XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICB0YXJnZXRbaSArIHRhcmdldFN0YXJ0XSA9IHRoaXNbaSArIHN0YXJ0XTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgVWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwoXG4gICAgICB0YXJnZXQsXG4gICAgICB0aGlzLnN1YmFycmF5KHN0YXJ0LCBzdGFydCArIGxlbiksXG4gICAgICB0YXJnZXRTdGFydFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gbGVuXG59O1xuXG4vLyBVc2FnZTpcbi8vICAgIGJ1ZmZlci5maWxsKG51bWJlclssIG9mZnNldFssIGVuZF1dKVxuLy8gICAgYnVmZmVyLmZpbGwoYnVmZmVyWywgb2Zmc2V0WywgZW5kXV0pXG4vLyAgICBidWZmZXIuZmlsbChzdHJpbmdbLCBvZmZzZXRbLCBlbmRdXVssIGVuY29kaW5nXSlcbkJ1ZmZlci5wcm90b3R5cGUuZmlsbCA9IGZ1bmN0aW9uIGZpbGwgKHZhbCwgc3RhcnQsIGVuZCwgZW5jb2RpbmcpIHtcbiAgLy8gSGFuZGxlIHN0cmluZyBjYXNlczpcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XG4gICAgaWYgKHR5cGVvZiBzdGFydCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGVuY29kaW5nID0gc3RhcnQ7XG4gICAgICBzdGFydCA9IDA7XG4gICAgICBlbmQgPSB0aGlzLmxlbmd0aDtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBlbmQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbmNvZGluZyA9IGVuZDtcbiAgICAgIGVuZCA9IHRoaXMubGVuZ3RoO1xuICAgIH1cbiAgICBpZiAodmFsLmxlbmd0aCA9PT0gMSkge1xuICAgICAgdmFyIGNvZGUgPSB2YWwuY2hhckNvZGVBdCgwKTtcbiAgICAgIGlmIChjb2RlIDwgMjU2KSB7XG4gICAgICAgIHZhbCA9IGNvZGU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChlbmNvZGluZyAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2VuY29kaW5nIG11c3QgYmUgYSBzdHJpbmcnKVxuICAgIH1cbiAgICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJyAmJiAhQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgdmFsID0gdmFsICYgMjU1O1xuICB9XG5cbiAgLy8gSW52YWxpZCByYW5nZXMgYXJlIG5vdCBzZXQgdG8gYSBkZWZhdWx0LCBzbyBjYW4gcmFuZ2UgY2hlY2sgZWFybHkuXG4gIGlmIChzdGFydCA8IDAgfHwgdGhpcy5sZW5ndGggPCBzdGFydCB8fCB0aGlzLmxlbmd0aCA8IGVuZCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdPdXQgb2YgcmFuZ2UgaW5kZXgnKVxuICB9XG5cbiAgaWYgKGVuZCA8PSBzdGFydCkge1xuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBzdGFydCA9IHN0YXJ0ID4+PiAwO1xuICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IHRoaXMubGVuZ3RoIDogZW5kID4+PiAwO1xuXG4gIGlmICghdmFsKSB2YWwgPSAwO1xuXG4gIHZhciBpO1xuICBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICBmb3IgKGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgICB0aGlzW2ldID0gdmFsO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgYnl0ZXMgPSBpbnRlcm5hbElzQnVmZmVyKHZhbClcbiAgICAgID8gdmFsXG4gICAgICA6IHV0ZjhUb0J5dGVzKG5ldyBCdWZmZXIodmFsLCBlbmNvZGluZykudG9TdHJpbmcoKSk7XG4gICAgdmFyIGxlbiA9IGJ5dGVzLmxlbmd0aDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgZW5kIC0gc3RhcnQ7ICsraSkge1xuICAgICAgdGhpc1tpICsgc3RhcnRdID0gYnl0ZXNbaSAlIGxlbl07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXNcbn07XG5cbi8vIEhFTFBFUiBGVU5DVElPTlNcbi8vID09PT09PT09PT09PT09PT1cblxudmFyIElOVkFMSURfQkFTRTY0X1JFID0gL1teK1xcLzAtOUEtWmEtei1fXS9nO1xuXG5mdW5jdGlvbiBiYXNlNjRjbGVhbiAoc3RyKSB7XG4gIC8vIE5vZGUgc3RyaXBzIG91dCBpbnZhbGlkIGNoYXJhY3RlcnMgbGlrZSBcXG4gYW5kIFxcdCBmcm9tIHRoZSBzdHJpbmcsIGJhc2U2NC1qcyBkb2VzIG5vdFxuICBzdHIgPSBzdHJpbmd0cmltKHN0cikucmVwbGFjZShJTlZBTElEX0JBU0U2NF9SRSwgJycpO1xuICAvLyBOb2RlIGNvbnZlcnRzIHN0cmluZ3Mgd2l0aCBsZW5ndGggPCAyIHRvICcnXG4gIGlmIChzdHIubGVuZ3RoIDwgMikgcmV0dXJuICcnXG4gIC8vIE5vZGUgYWxsb3dzIGZvciBub24tcGFkZGVkIGJhc2U2NCBzdHJpbmdzIChtaXNzaW5nIHRyYWlsaW5nID09PSksIGJhc2U2NC1qcyBkb2VzIG5vdFxuICB3aGlsZSAoc3RyLmxlbmd0aCAlIDQgIT09IDApIHtcbiAgICBzdHIgPSBzdHIgKyAnPSc7XG4gIH1cbiAgcmV0dXJuIHN0clxufVxuXG5mdW5jdGlvbiBzdHJpbmd0cmltIChzdHIpIHtcbiAgaWYgKHN0ci50cmltKSByZXR1cm4gc3RyLnRyaW0oKVxuICByZXR1cm4gc3RyLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKVxufVxuXG5mdW5jdGlvbiB0b0hleCAobikge1xuICBpZiAobiA8IDE2KSByZXR1cm4gJzAnICsgbi50b1N0cmluZygxNilcbiAgcmV0dXJuIG4udG9TdHJpbmcoMTYpXG59XG5cbmZ1bmN0aW9uIHV0ZjhUb0J5dGVzIChzdHJpbmcsIHVuaXRzKSB7XG4gIHVuaXRzID0gdW5pdHMgfHwgSW5maW5pdHk7XG4gIHZhciBjb2RlUG9pbnQ7XG4gIHZhciBsZW5ndGggPSBzdHJpbmcubGVuZ3RoO1xuICB2YXIgbGVhZFN1cnJvZ2F0ZSA9IG51bGw7XG4gIHZhciBieXRlcyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICBjb2RlUG9pbnQgPSBzdHJpbmcuY2hhckNvZGVBdChpKTtcblxuICAgIC8vIGlzIHN1cnJvZ2F0ZSBjb21wb25lbnRcbiAgICBpZiAoY29kZVBvaW50ID4gMHhEN0ZGICYmIGNvZGVQb2ludCA8IDB4RTAwMCkge1xuICAgICAgLy8gbGFzdCBjaGFyIHdhcyBhIGxlYWRcbiAgICAgIGlmICghbGVhZFN1cnJvZ2F0ZSkge1xuICAgICAgICAvLyBubyBsZWFkIHlldFxuICAgICAgICBpZiAoY29kZVBvaW50ID4gMHhEQkZGKSB7XG4gICAgICAgICAgLy8gdW5leHBlY3RlZCB0cmFpbFxuICAgICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKTtcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9IGVsc2UgaWYgKGkgKyAxID09PSBsZW5ndGgpIHtcbiAgICAgICAgICAvLyB1bnBhaXJlZCBsZWFkXG4gICAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpO1xuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICAvLyB2YWxpZCBsZWFkXG4gICAgICAgIGxlYWRTdXJyb2dhdGUgPSBjb2RlUG9pbnQ7XG5cbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgLy8gMiBsZWFkcyBpbiBhIHJvd1xuICAgICAgaWYgKGNvZGVQb2ludCA8IDB4REMwMCkge1xuICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRCk7XG4gICAgICAgIGxlYWRTdXJyb2dhdGUgPSBjb2RlUG9pbnQ7XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIC8vIHZhbGlkIHN1cnJvZ2F0ZSBwYWlyXG4gICAgICBjb2RlUG9pbnQgPSAobGVhZFN1cnJvZ2F0ZSAtIDB4RDgwMCA8PCAxMCB8IGNvZGVQb2ludCAtIDB4REMwMCkgKyAweDEwMDAwO1xuICAgIH0gZWxzZSBpZiAobGVhZFN1cnJvZ2F0ZSkge1xuICAgICAgLy8gdmFsaWQgYm1wIGNoYXIsIGJ1dCBsYXN0IGNoYXIgd2FzIGEgbGVhZFxuICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpO1xuICAgIH1cblxuICAgIGxlYWRTdXJyb2dhdGUgPSBudWxsO1xuXG4gICAgLy8gZW5jb2RlIHV0ZjhcbiAgICBpZiAoY29kZVBvaW50IDwgMHg4MCkge1xuICAgICAgaWYgKCh1bml0cyAtPSAxKSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKGNvZGVQb2ludCk7XG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDgwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSAyKSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2IHwgMHhDMCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDEwMDAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDMpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweEMgfCAweEUwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2ICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHgxMTAwMDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gNCkgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4MTIgfCAweEYwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHhDICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDYgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBjb2RlIHBvaW50JylcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYnl0ZXNcbn1cblxuZnVuY3Rpb24gYXNjaWlUb0J5dGVzIChzdHIpIHtcbiAgdmFyIGJ5dGVBcnJheSA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgIC8vIE5vZGUncyBjb2RlIHNlZW1zIHRvIGJlIGRvaW5nIHRoaXMgYW5kIG5vdCAmIDB4N0YuLlxuICAgIGJ5dGVBcnJheS5wdXNoKHN0ci5jaGFyQ29kZUF0KGkpICYgMHhGRik7XG4gIH1cbiAgcmV0dXJuIGJ5dGVBcnJheVxufVxuXG5mdW5jdGlvbiB1dGYxNmxlVG9CeXRlcyAoc3RyLCB1bml0cykge1xuICB2YXIgYywgaGksIGxvO1xuICB2YXIgYnl0ZUFycmF5ID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG4gICAgaWYgKCh1bml0cyAtPSAyKSA8IDApIGJyZWFrXG5cbiAgICBjID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgaGkgPSBjID4+IDg7XG4gICAgbG8gPSBjICUgMjU2O1xuICAgIGJ5dGVBcnJheS5wdXNoKGxvKTtcbiAgICBieXRlQXJyYXkucHVzaChoaSk7XG4gIH1cblxuICByZXR1cm4gYnl0ZUFycmF5XG59XG5cblxuZnVuY3Rpb24gYmFzZTY0VG9CeXRlcyAoc3RyKSB7XG4gIHJldHVybiB0b0J5dGVBcnJheShiYXNlNjRjbGVhbihzdHIpKVxufVxuXG5mdW5jdGlvbiBibGl0QnVmZmVyIChzcmMsIGRzdCwgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGlmICgoaSArIG9mZnNldCA+PSBkc3QubGVuZ3RoKSB8fCAoaSA+PSBzcmMubGVuZ3RoKSkgYnJlYWtcbiAgICBkc3RbaSArIG9mZnNldF0gPSBzcmNbaV07XG4gIH1cbiAgcmV0dXJuIGlcbn1cblxuZnVuY3Rpb24gaXNuYW4gKHZhbCkge1xuICByZXR1cm4gdmFsICE9PSB2YWwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zZWxmLWNvbXBhcmVcbn1cblxuXG4vLyB0aGUgZm9sbG93aW5nIGlzIGZyb20gaXMtYnVmZmVyLCBhbHNvIGJ5IEZlcm9zcyBBYm91a2hhZGlqZWggYW5kIHdpdGggc2FtZSBsaXNlbmNlXG4vLyBUaGUgX2lzQnVmZmVyIGNoZWNrIGlzIGZvciBTYWZhcmkgNS03IHN1cHBvcnQsIGJlY2F1c2UgaXQncyBtaXNzaW5nXG4vLyBPYmplY3QucHJvdG90eXBlLmNvbnN0cnVjdG9yLiBSZW1vdmUgdGhpcyBldmVudHVhbGx5XG5mdW5jdGlvbiBpc0J1ZmZlcihvYmopIHtcbiAgcmV0dXJuIG9iaiAhPSBudWxsICYmICghIW9iai5faXNCdWZmZXIgfHwgaXNGYXN0QnVmZmVyKG9iaikgfHwgaXNTbG93QnVmZmVyKG9iaikpXG59XG5cbmZ1bmN0aW9uIGlzRmFzdEJ1ZmZlciAob2JqKSB7XG4gIHJldHVybiAhIW9iai5jb25zdHJ1Y3RvciAmJiB0eXBlb2Ygb2JqLmNvbnN0cnVjdG9yLmlzQnVmZmVyID09PSAnZnVuY3Rpb24nICYmIG9iai5jb25zdHJ1Y3Rvci5pc0J1ZmZlcihvYmopXG59XG5cbi8vIEZvciBOb2RlIHYwLjEwIHN1cHBvcnQuIFJlbW92ZSB0aGlzIGV2ZW50dWFsbHkuXG5mdW5jdGlvbiBpc1Nsb3dCdWZmZXIgKG9iaikge1xuICByZXR1cm4gdHlwZW9mIG9iai5yZWFkRmxvYXRMRSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Ygb2JqLnNsaWNlID09PSAnZnVuY3Rpb24nICYmIGlzRmFzdEJ1ZmZlcihvYmouc2xpY2UoMCwgMCkpXG59XG5cbmV4cG9ydCB7IEJ1ZmZlciwgSU5TUEVDVF9NQVhfQllURVMsIFNsb3dCdWZmZXIsIGlzQnVmZmVyLCBfa01heExlbmd0aCBhcyBrTWF4TGVuZ3RoIH07XG4iLCAiaW1wb3J0IHsgQnVmZmVyIH0gZnJvbSAnYnVmZmVyJztcbi8qKlxuICogU3RhbmRhcmQgbGliYyBlcnJvciBjb2Rlcy4gQWRkIG1vcmUgdG8gdGhpcyBlbnVtIGFuZCBFcnJvclN0cmluZ3MgYXMgdGhleSBhcmVcbiAqIG5lZWRlZC5cbiAqIEB1cmwgaHR0cDovL3d3dy5nbnUub3JnL3NvZnR3YXJlL2xpYmMvbWFudWFsL2h0bWxfbm9kZS9FcnJvci1Db2Rlcy5odG1sXG4gKi9cbmV4cG9ydCBlbnVtIEVycm9yQ29kZSB7XG5cdEVQRVJNID0gMSxcblx0RU5PRU5UID0gMixcblx0RUlPID0gNSxcblx0RUJBREYgPSA5LFxuXHRFQUNDRVMgPSAxMyxcblx0RUJVU1kgPSAxNixcblx0RUVYSVNUID0gMTcsXG5cdEVOT1RESVIgPSAyMCxcblx0RUlTRElSID0gMjEsXG5cdEVJTlZBTCA9IDIyLFxuXHRFRkJJRyA9IDI3LFxuXHRFTk9TUEMgPSAyOCxcblx0RVJPRlMgPSAzMCxcblx0RU5PVEVNUFRZID0gMzksXG5cdEVOT1RTVVAgPSA5NSxcbn1cbi8qIHRzbGludDpkaXNhYmxlOnZhcmlhYmxlLW5hbWUgKi9cbi8qKlxuICogU3RyaW5ncyBhc3NvY2lhdGVkIHdpdGggZWFjaCBlcnJvciBjb2RlLlxuICogQGhpZGRlblxuICovXG5leHBvcnQgY29uc3QgRXJyb3JTdHJpbmdzOiB7IFtjb2RlOiBzdHJpbmddOiBzdHJpbmc7IFtjb2RlOiBudW1iZXJdOiBzdHJpbmcgfSA9IHt9O1xuRXJyb3JTdHJpbmdzW0Vycm9yQ29kZS5FUEVSTV0gPSAnT3BlcmF0aW9uIG5vdCBwZXJtaXR0ZWQuJztcbkVycm9yU3RyaW5nc1tFcnJvckNvZGUuRU5PRU5UXSA9ICdObyBzdWNoIGZpbGUgb3IgZGlyZWN0b3J5Lic7XG5FcnJvclN0cmluZ3NbRXJyb3JDb2RlLkVJT10gPSAnSW5wdXQvb3V0cHV0IGVycm9yLic7XG5FcnJvclN0cmluZ3NbRXJyb3JDb2RlLkVCQURGXSA9ICdCYWQgZmlsZSBkZXNjcmlwdG9yLic7XG5FcnJvclN0cmluZ3NbRXJyb3JDb2RlLkVBQ0NFU10gPSAnUGVybWlzc2lvbiBkZW5pZWQuJztcbkVycm9yU3RyaW5nc1tFcnJvckNvZGUuRUJVU1ldID0gJ1Jlc291cmNlIGJ1c3kgb3IgbG9ja2VkLic7XG5FcnJvclN0cmluZ3NbRXJyb3JDb2RlLkVFWElTVF0gPSAnRmlsZSBleGlzdHMuJztcbkVycm9yU3RyaW5nc1tFcnJvckNvZGUuRU5PVERJUl0gPSAnRmlsZSBpcyBub3QgYSBkaXJlY3RvcnkuJztcbkVycm9yU3RyaW5nc1tFcnJvckNvZGUuRUlTRElSXSA9ICdGaWxlIGlzIGEgZGlyZWN0b3J5Lic7XG5FcnJvclN0cmluZ3NbRXJyb3JDb2RlLkVJTlZBTF0gPSAnSW52YWxpZCBhcmd1bWVudC4nO1xuRXJyb3JTdHJpbmdzW0Vycm9yQ29kZS5FRkJJR10gPSAnRmlsZSBpcyB0b28gYmlnLic7XG5FcnJvclN0cmluZ3NbRXJyb3JDb2RlLkVOT1NQQ10gPSAnTm8gc3BhY2UgbGVmdCBvbiBkaXNrLic7XG5FcnJvclN0cmluZ3NbRXJyb3JDb2RlLkVST0ZTXSA9ICdDYW5ub3QgbW9kaWZ5IGEgcmVhZC1vbmx5IGZpbGUgc3lzdGVtLic7XG5FcnJvclN0cmluZ3NbRXJyb3JDb2RlLkVOT1RFTVBUWV0gPSAnRGlyZWN0b3J5IGlzIG5vdCBlbXB0eS4nO1xuRXJyb3JTdHJpbmdzW0Vycm9yQ29kZS5FTk9UU1VQXSA9ICdPcGVyYXRpb24gaXMgbm90IHN1cHBvcnRlZC4nO1xuLyogdHNsaW50OmVuYWJsZTp2YXJpYWJsZS1uYW1lICovXG5cbi8qKlxuICogUmVwcmVzZW50cyBhIEJyb3dzZXJGUyBlcnJvci4gUGFzc2VkIGJhY2sgdG8gYXBwbGljYXRpb25zIGFmdGVyIGEgZmFpbGVkXG4gKiBjYWxsIHRvIHRoZSBCcm93c2VyRlMgQVBJLlxuICovXG5leHBvcnQgY2xhc3MgQXBpRXJyb3IgZXh0ZW5kcyBFcnJvciBpbXBsZW1lbnRzIE5vZGVKUy5FcnJub0V4Y2VwdGlvbiB7XG5cdHB1YmxpYyBzdGF0aWMgZnJvbUpTT04oanNvbjogYW55KTogQXBpRXJyb3Ige1xuXHRcdGNvbnN0IGVyciA9IG5ldyBBcGlFcnJvcihqc29uLmVycm5vLCBqc29uLm1lc3NhZ2UsIGpzb24ucGF0aCk7XG5cdFx0ZXJyLmNvZGUgPSBqc29uLmNvZGU7XG5cdFx0ZXJyLnN0YWNrID0ganNvbi5zdGFjaztcblx0XHRyZXR1cm4gZXJyO1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYW4gQXBpRXJyb3Igb2JqZWN0IGZyb20gYSBidWZmZXIuXG5cdCAqL1xuXHRwdWJsaWMgc3RhdGljIGZyb21CdWZmZXIoYnVmZmVyOiBCdWZmZXIsIGk6IG51bWJlciA9IDApOiBBcGlFcnJvciB7XG5cdFx0cmV0dXJuIEFwaUVycm9yLmZyb21KU09OKEpTT04ucGFyc2UoYnVmZmVyLnRvU3RyaW5nKCd1dGY4JywgaSArIDQsIGkgKyA0ICsgYnVmZmVyLnJlYWRVSW50MzJMRShpKSkpKTtcblx0fVxuXG5cdHB1YmxpYyBzdGF0aWMgRmlsZUVycm9yKGNvZGU6IEVycm9yQ29kZSwgcDogc3RyaW5nKTogQXBpRXJyb3Ige1xuXHRcdHJldHVybiBuZXcgQXBpRXJyb3IoY29kZSwgRXJyb3JTdHJpbmdzW2NvZGVdLCBwKTtcblx0fVxuXG5cdHB1YmxpYyBzdGF0aWMgRUFDQ0VTKHBhdGg6IHN0cmluZyk6IEFwaUVycm9yIHtcblx0XHRyZXR1cm4gdGhpcy5GaWxlRXJyb3IoRXJyb3JDb2RlLkVBQ0NFUywgcGF0aCk7XG5cdH1cblxuXHRwdWJsaWMgc3RhdGljIEVOT0VOVChwYXRoOiBzdHJpbmcpOiBBcGlFcnJvciB7XG5cdFx0cmV0dXJuIHRoaXMuRmlsZUVycm9yKEVycm9yQ29kZS5FTk9FTlQsIHBhdGgpO1xuXHR9XG5cblx0cHVibGljIHN0YXRpYyBFRVhJU1QocGF0aDogc3RyaW5nKTogQXBpRXJyb3Ige1xuXHRcdHJldHVybiB0aGlzLkZpbGVFcnJvcihFcnJvckNvZGUuRUVYSVNULCBwYXRoKTtcblx0fVxuXG5cdHB1YmxpYyBzdGF0aWMgRUlTRElSKHBhdGg6IHN0cmluZyk6IEFwaUVycm9yIHtcblx0XHRyZXR1cm4gdGhpcy5GaWxlRXJyb3IoRXJyb3JDb2RlLkVJU0RJUiwgcGF0aCk7XG5cdH1cblxuXHRwdWJsaWMgc3RhdGljIEVOT1RESVIocGF0aDogc3RyaW5nKTogQXBpRXJyb3Ige1xuXHRcdHJldHVybiB0aGlzLkZpbGVFcnJvcihFcnJvckNvZGUuRU5PVERJUiwgcGF0aCk7XG5cdH1cblxuXHRwdWJsaWMgc3RhdGljIEVQRVJNKHBhdGg6IHN0cmluZyk6IEFwaUVycm9yIHtcblx0XHRyZXR1cm4gdGhpcy5GaWxlRXJyb3IoRXJyb3JDb2RlLkVQRVJNLCBwYXRoKTtcblx0fVxuXG5cdHB1YmxpYyBzdGF0aWMgRU5PVEVNUFRZKHBhdGg6IHN0cmluZyk6IEFwaUVycm9yIHtcblx0XHRyZXR1cm4gdGhpcy5GaWxlRXJyb3IoRXJyb3JDb2RlLkVOT1RFTVBUWSwgcGF0aCk7XG5cdH1cblxuXHRwdWJsaWMgZXJybm86IEVycm9yQ29kZTtcblx0cHVibGljIGNvZGU6IHN0cmluZztcblx0cHVibGljIHBhdGg/OiBzdHJpbmc7XG5cdC8vIFVuc3VwcG9ydGVkLlxuXHRwdWJsaWMgc3lzY2FsbDogc3RyaW5nID0gJyc7XG5cdHB1YmxpYyBzdGFjaz86IHN0cmluZztcblxuXHQvKipcblx0ICogUmVwcmVzZW50cyBhIEJyb3dzZXJGUyBlcnJvci4gUGFzc2VkIGJhY2sgdG8gYXBwbGljYXRpb25zIGFmdGVyIGEgZmFpbGVkXG5cdCAqIGNhbGwgdG8gdGhlIEJyb3dzZXJGUyBBUEkuXG5cdCAqXG5cdCAqIEVycm9yIGNvZGVzIG1pcnJvciB0aG9zZSByZXR1cm5lZCBieSByZWd1bGFyIFVuaXggZmlsZSBvcGVyYXRpb25zLCB3aGljaCBpc1xuXHQgKiB3aGF0IE5vZGUgcmV0dXJucy5cblx0ICogQGNvbnN0cnVjdG9yIEFwaUVycm9yXG5cdCAqIEBwYXJhbSB0eXBlIFRoZSB0eXBlIG9mIHRoZSBlcnJvci5cblx0ICogQHBhcmFtIFttZXNzYWdlXSBBIGRlc2NyaXB0aXZlIGVycm9yIG1lc3NhZ2UuXG5cdCAqL1xuXHRjb25zdHJ1Y3Rvcih0eXBlOiBFcnJvckNvZGUsIG1lc3NhZ2U6IHN0cmluZyA9IEVycm9yU3RyaW5nc1t0eXBlXSwgcGF0aD86IHN0cmluZykge1xuXHRcdHN1cGVyKG1lc3NhZ2UpO1xuXHRcdHRoaXMuZXJybm8gPSB0eXBlO1xuXHRcdHRoaXMuY29kZSA9IEVycm9yQ29kZVt0eXBlXTtcblx0XHR0aGlzLnBhdGggPSBwYXRoO1xuXHRcdHRoaXMubWVzc2FnZSA9IGBFcnJvcjogJHt0aGlzLmNvZGV9OiAke21lc3NhZ2V9JHt0aGlzLnBhdGggPyBgLCAnJHt0aGlzLnBhdGh9J2AgOiAnJ31gO1xuXHR9XG5cblx0LyoqXG5cdCAqIEByZXR1cm4gQSBmcmllbmRseSBlcnJvciBtZXNzYWdlLlxuXHQgKi9cblx0cHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIHRoaXMubWVzc2FnZTtcblx0fVxuXG5cdHB1YmxpYyB0b0pTT04oKTogYW55IHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0ZXJybm86IHRoaXMuZXJybm8sXG5cdFx0XHRjb2RlOiB0aGlzLmNvZGUsXG5cdFx0XHRwYXRoOiB0aGlzLnBhdGgsXG5cdFx0XHRzdGFjazogdGhpcy5zdGFjayxcblx0XHRcdG1lc3NhZ2U6IHRoaXMubWVzc2FnZSxcblx0XHR9O1xuXHR9XG5cblx0LyoqXG5cdCAqIFdyaXRlcyB0aGUgQVBJIGVycm9yIGludG8gYSBidWZmZXIuXG5cdCAqL1xuXHRwdWJsaWMgd3JpdGVUb0J1ZmZlcihidWZmZXI6IEJ1ZmZlciA9IEJ1ZmZlci5hbGxvYyh0aGlzLmJ1ZmZlclNpemUoKSksIGk6IG51bWJlciA9IDApOiBCdWZmZXIge1xuXHRcdGNvbnN0IGJ5dGVzV3JpdHRlbiA9IGJ1ZmZlci53cml0ZShKU09OLnN0cmluZ2lmeSh0aGlzLnRvSlNPTigpKSwgaSArIDQpO1xuXHRcdGJ1ZmZlci53cml0ZVVJbnQzMkxFKGJ5dGVzV3JpdHRlbiwgaSk7XG5cdFx0cmV0dXJuIGJ1ZmZlcjtcblx0fVxuXG5cdC8qKlxuXHQgKiBUaGUgc2l6ZSBvZiB0aGUgQVBJIGVycm9yIGluIGJ1ZmZlci1mb3JtIGluIGJ5dGVzLlxuXHQgKi9cblx0cHVibGljIGJ1ZmZlclNpemUoKTogbnVtYmVyIHtcblx0XHQvLyA0IGJ5dGVzIGZvciBzdHJpbmcgbGVuZ3RoLlxuXHRcdHJldHVybiA0ICsgQnVmZmVyLmJ5dGVMZW5ndGgoSlNPTi5zdHJpbmdpZnkodGhpcy50b0pTT04oKSkpO1xuXHR9XG59XG4iLCAiaW1wb3J0IHsgRXJyb3JDb2RlLCBBcGlFcnJvciB9IGZyb20gJy4vYXBpX2Vycm9yJztcblxuZXhwb3J0IGVudW0gQWN0aW9uVHlwZSB7XG5cdC8vIEluZGljYXRlcyB0aGF0IHRoZSBjb2RlIHNob3VsZCBub3QgZG8gYW55dGhpbmcuXG5cdE5PUCA9IDAsXG5cdC8vIEluZGljYXRlcyB0aGF0IHRoZSBjb2RlIHNob3VsZCB0aHJvdyBhbiBleGNlcHRpb24uXG5cdFRIUk9XX0VYQ0VQVElPTiA9IDEsXG5cdC8vIEluZGljYXRlcyB0aGF0IHRoZSBjb2RlIHNob3VsZCB0cnVuY2F0ZSB0aGUgZmlsZSwgYnV0IG9ubHkgaWYgaXQgaXMgYSBmaWxlLlxuXHRUUlVOQ0FURV9GSUxFID0gMixcblx0Ly8gSW5kaWNhdGVzIHRoYXQgdGhlIGNvZGUgc2hvdWxkIGNyZWF0ZSB0aGUgZmlsZS5cblx0Q1JFQVRFX0ZJTEUgPSAzLFxufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgb25lIG9mIHRoZSBmb2xsb3dpbmcgZmlsZSBmbGFncy4gQSBjb252ZW5pZW5jZSBvYmplY3QuXG4gKlxuICogKiBgJ3InYCAtIE9wZW4gZmlsZSBmb3IgcmVhZGluZy4gQW4gZXhjZXB0aW9uIG9jY3VycyBpZiB0aGUgZmlsZSBkb2VzIG5vdCBleGlzdC5cbiAqICogYCdyKydgIC0gT3BlbiBmaWxlIGZvciByZWFkaW5nIGFuZCB3cml0aW5nLiBBbiBleGNlcHRpb24gb2NjdXJzIGlmIHRoZSBmaWxlIGRvZXMgbm90IGV4aXN0LlxuICogKiBgJ3JzJ2AgLSBPcGVuIGZpbGUgZm9yIHJlYWRpbmcgaW4gc3luY2hyb25vdXMgbW9kZS4gSW5zdHJ1Y3RzIHRoZSBmaWxlc3lzdGVtIHRvIG5vdCBjYWNoZSB3cml0ZXMuXG4gKiAqIGAncnMrJ2AgLSBPcGVuIGZpbGUgZm9yIHJlYWRpbmcgYW5kIHdyaXRpbmcsIGFuZCBvcGVucyB0aGUgZmlsZSBpbiBzeW5jaHJvbm91cyBtb2RlLlxuICogKiBgJ3cnYCAtIE9wZW4gZmlsZSBmb3Igd3JpdGluZy4gVGhlIGZpbGUgaXMgY3JlYXRlZCAoaWYgaXQgZG9lcyBub3QgZXhpc3QpIG9yIHRydW5jYXRlZCAoaWYgaXQgZXhpc3RzKS5cbiAqICogYCd3eCdgIC0gTGlrZSAndycgYnV0IG9wZW5zIHRoZSBmaWxlIGluIGV4Y2x1c2l2ZSBtb2RlLlxuICogKiBgJ3crJ2AgLSBPcGVuIGZpbGUgZm9yIHJlYWRpbmcgYW5kIHdyaXRpbmcuIFRoZSBmaWxlIGlzIGNyZWF0ZWQgKGlmIGl0IGRvZXMgbm90IGV4aXN0KSBvciB0cnVuY2F0ZWQgKGlmIGl0IGV4aXN0cykuXG4gKiAqIGAnd3grJ2AgLSBMaWtlICd3KycgYnV0IG9wZW5zIHRoZSBmaWxlIGluIGV4Y2x1c2l2ZSBtb2RlLlxuICogKiBgJ2EnYCAtIE9wZW4gZmlsZSBmb3IgYXBwZW5kaW5nLiBUaGUgZmlsZSBpcyBjcmVhdGVkIGlmIGl0IGRvZXMgbm90IGV4aXN0LlxuICogKiBgJ2F4J2AgLSBMaWtlICdhJyBidXQgb3BlbnMgdGhlIGZpbGUgaW4gZXhjbHVzaXZlIG1vZGUuXG4gKiAqIGAnYSsnYCAtIE9wZW4gZmlsZSBmb3IgcmVhZGluZyBhbmQgYXBwZW5kaW5nLiBUaGUgZmlsZSBpcyBjcmVhdGVkIGlmIGl0IGRvZXMgbm90IGV4aXN0LlxuICogKiBgJ2F4KydgIC0gTGlrZSAnYSsnIGJ1dCBvcGVucyB0aGUgZmlsZSBpbiBleGNsdXNpdmUgbW9kZS5cbiAqXG4gKiBFeGNsdXNpdmUgbW9kZSBlbnN1cmVzIHRoYXQgdGhlIGZpbGUgcGF0aCBpcyBuZXdseSBjcmVhdGVkLlxuICovXG5leHBvcnQgY2xhc3MgRmlsZUZsYWcge1xuXHQvLyBDb250YWlucyBjYWNoZWQgRmlsZU1vZGUgaW5zdGFuY2VzLlxuXHRwcml2YXRlIHN0YXRpYyBmbGFnQ2FjaGU6IE1hcDxzdHJpbmcsIEZpbGVGbGFnPiA9IG5ldyBNYXAoKTtcblx0Ly8gQXJyYXkgb2YgdmFsaWQgbW9kZSBzdHJpbmdzLlxuXHRwcml2YXRlIHN0YXRpYyB2YWxpZEZsYWdTdHJzID0gWydyJywgJ3IrJywgJ3JzJywgJ3JzKycsICd3JywgJ3d4JywgJ3crJywgJ3d4KycsICdhJywgJ2F4JywgJ2ErJywgJ2F4KyddO1xuXG5cdC8qKlxuXHQgKiBHZXQgYW4gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgZ2l2ZW4gZmlsZSBmbGFnLlxuXHQgKiBAcGFyYW0gbW9kZVN0ciBUaGUgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgZmxhZ1xuXHQgKiBAcmV0dXJuIFRoZSBGaWxlRmxhZyBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBmbGFnXG5cdCAqIEB0aHJvdyB3aGVuIHRoZSBmbGFnIHN0cmluZyBpcyBpbnZhbGlkXG5cdCAqL1xuXHRwdWJsaWMgc3RhdGljIGdldEZpbGVGbGFnKGZsYWdTdHI6IHN0cmluZyk6IEZpbGVGbGFnIHtcblx0XHQvLyBDaGVjayBjYWNoZSBmaXJzdC5cblx0XHRpZiAoIUZpbGVGbGFnLmZsYWdDYWNoZS5oYXMoZmxhZ1N0cikpIHtcblx0XHRcdEZpbGVGbGFnLmZsYWdDYWNoZS5zZXQoZmxhZ1N0ciwgbmV3IEZpbGVGbGFnKGZsYWdTdHIpKTtcblx0XHR9XG5cdFx0cmV0dXJuIEZpbGVGbGFnLmZsYWdDYWNoZS5nZXQoZmxhZ1N0cik7XG5cdH1cblxuXHRwcml2YXRlIGZsYWdTdHI6IHN0cmluZztcblx0LyoqXG5cdCAqIFRoaXMgc2hvdWxkIG5ldmVyIGJlIGNhbGxlZCBkaXJlY3RseS5cblx0ICogQHBhcmFtIG1vZGVTdHIgVGhlIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIG1vZGVcblx0ICogQHRocm93IHdoZW4gdGhlIG1vZGUgc3RyaW5nIGlzIGludmFsaWRcblx0ICovXG5cdGNvbnN0cnVjdG9yKGZsYWdTdHI6IHN0cmluZykge1xuXHRcdHRoaXMuZmxhZ1N0ciA9IGZsYWdTdHI7XG5cdFx0aWYgKEZpbGVGbGFnLnZhbGlkRmxhZ1N0cnMuaW5kZXhPZihmbGFnU3RyKSA8IDApIHtcblx0XHRcdHRocm93IG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRUlOVkFMLCAnSW52YWxpZCBmbGFnOiAnICsgZmxhZ1N0cik7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEdldCB0aGUgdW5kZXJseWluZyBmbGFnIHN0cmluZyBmb3IgdGhpcyBmbGFnLlxuXHQgKi9cblx0cHVibGljIGdldEZsYWdTdHJpbmcoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gdGhpcy5mbGFnU3RyO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldCB0aGUgZXF1aXZhbGVudCBtb2RlICgwYjB4eHg6IHJlYWQsIHdyaXRlLCBleGVjdXRlKVxuXHQgKiBOb3RlOiBFeGVjdXRlIHdpbGwgYWx3YXlzIGJlIDBcblx0ICovXG5cdHB1YmxpYyBnZXRNb2RlKCk6IG51bWJlciB7XG5cdFx0bGV0IG1vZGUgPSAwO1xuXHRcdG1vZGUgPDw9IDE7XG5cdFx0bW9kZSArPSArdGhpcy5pc1JlYWRhYmxlKCk7XG5cdFx0bW9kZSA8PD0gMTtcblx0XHRtb2RlICs9ICt0aGlzLmlzV3JpdGVhYmxlKCk7XG5cdFx0bW9kZSA8PD0gMTtcblx0XHRyZXR1cm4gbW9kZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGZpbGUgaXMgcmVhZGFibGUuXG5cdCAqL1xuXHRwdWJsaWMgaXNSZWFkYWJsZSgpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdGhpcy5mbGFnU3RyLmluZGV4T2YoJ3InKSAhPT0gLTEgfHwgdGhpcy5mbGFnU3RyLmluZGV4T2YoJysnKSAhPT0gLTE7XG5cdH1cblx0LyoqXG5cdCAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZmlsZSBpcyB3cml0ZWFibGUuXG5cdCAqL1xuXHRwdWJsaWMgaXNXcml0ZWFibGUoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMuZmxhZ1N0ci5pbmRleE9mKCd3JykgIT09IC0xIHx8IHRoaXMuZmxhZ1N0ci5pbmRleE9mKCdhJykgIT09IC0xIHx8IHRoaXMuZmxhZ1N0ci5pbmRleE9mKCcrJykgIT09IC0xO1xuXHR9XG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGZpbGUgbW9kZSBzaG91bGQgdHJ1bmNhdGUuXG5cdCAqL1xuXHRwdWJsaWMgaXNUcnVuY2F0aW5nKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0aGlzLmZsYWdTdHIuaW5kZXhPZigndycpICE9PSAtMTtcblx0fVxuXHQvKipcblx0ICogUmV0dXJucyB0cnVlIGlmIHRoZSBmaWxlIGlzIGFwcGVuZGFibGUuXG5cdCAqL1xuXHRwdWJsaWMgaXNBcHBlbmRhYmxlKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0aGlzLmZsYWdTdHIuaW5kZXhPZignYScpICE9PSAtMTtcblx0fVxuXHQvKipcblx0ICogUmV0dXJucyB0cnVlIGlmIHRoZSBmaWxlIGlzIG9wZW4gaW4gc3luY2hyb25vdXMgbW9kZS5cblx0ICovXG5cdHB1YmxpYyBpc1N5bmNocm9ub3VzKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0aGlzLmZsYWdTdHIuaW5kZXhPZigncycpICE9PSAtMTtcblx0fVxuXHQvKipcblx0ICogUmV0dXJucyB0cnVlIGlmIHRoZSBmaWxlIGlzIG9wZW4gaW4gZXhjbHVzaXZlIG1vZGUuXG5cdCAqL1xuXHRwdWJsaWMgaXNFeGNsdXNpdmUoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMuZmxhZ1N0ci5pbmRleE9mKCd4JykgIT09IC0xO1xuXHR9XG5cdC8qKlxuXHQgKiBSZXR1cm5zIG9uZSBvZiB0aGUgc3RhdGljIGZpZWxkcyBvbiB0aGlzIG9iamVjdCB0aGF0IGluZGljYXRlcyB0aGVcblx0ICogYXBwcm9wcmlhdGUgcmVzcG9uc2UgdG8gdGhlIHBhdGggZXhpc3RpbmcuXG5cdCAqL1xuXHRwdWJsaWMgcGF0aEV4aXN0c0FjdGlvbigpOiBBY3Rpb25UeXBlIHtcblx0XHRpZiAodGhpcy5pc0V4Y2x1c2l2ZSgpKSB7XG5cdFx0XHRyZXR1cm4gQWN0aW9uVHlwZS5USFJPV19FWENFUFRJT047XG5cdFx0fSBlbHNlIGlmICh0aGlzLmlzVHJ1bmNhdGluZygpKSB7XG5cdFx0XHRyZXR1cm4gQWN0aW9uVHlwZS5UUlVOQ0FURV9GSUxFO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gQWN0aW9uVHlwZS5OT1A7XG5cdFx0fVxuXHR9XG5cdC8qKlxuXHQgKiBSZXR1cm5zIG9uZSBvZiB0aGUgc3RhdGljIGZpZWxkcyBvbiB0aGlzIG9iamVjdCB0aGF0IGluZGljYXRlcyB0aGVcblx0ICogYXBwcm9wcmlhdGUgcmVzcG9uc2UgdG8gdGhlIHBhdGggbm90IGV4aXN0aW5nLlxuXHQgKi9cblx0cHVibGljIHBhdGhOb3RFeGlzdHNBY3Rpb24oKTogQWN0aW9uVHlwZSB7XG5cdFx0aWYgKCh0aGlzLmlzV3JpdGVhYmxlKCkgfHwgdGhpcy5pc0FwcGVuZGFibGUoKSkgJiYgdGhpcy5mbGFnU3RyICE9PSAncisnKSB7XG5cdFx0XHRyZXR1cm4gQWN0aW9uVHlwZS5DUkVBVEVfRklMRTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIEFjdGlvblR5cGUuVEhST1dfRVhDRVBUSU9OO1xuXHRcdH1cblx0fVxufVxuIiwgIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4vLyByZXNvbHZlcyAuIGFuZCAuLiBlbGVtZW50cyBpbiBhIHBhdGggYXJyYXkgd2l0aCBkaXJlY3RvcnkgbmFtZXMgdGhlcmVcbi8vIG11c3QgYmUgbm8gc2xhc2hlcywgZW1wdHkgZWxlbWVudHMsIG9yIGRldmljZSBuYW1lcyAoYzpcXCkgaW4gdGhlIGFycmF5XG4vLyAoc28gYWxzbyBubyBsZWFkaW5nIGFuZCB0cmFpbGluZyBzbGFzaGVzIC0gaXQgZG9lcyBub3QgZGlzdGluZ3Vpc2hcbi8vIHJlbGF0aXZlIGFuZCBhYnNvbHV0ZSBwYXRocylcbmZ1bmN0aW9uIG5vcm1hbGl6ZUFycmF5KHBhcnRzLCBhbGxvd0Fib3ZlUm9vdCkge1xuICAvLyBpZiB0aGUgcGF0aCB0cmllcyB0byBnbyBhYm92ZSB0aGUgcm9vdCwgYHVwYCBlbmRzIHVwID4gMFxuICB2YXIgdXAgPSAwO1xuICBmb3IgKHZhciBpID0gcGFydHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICB2YXIgbGFzdCA9IHBhcnRzW2ldO1xuICAgIGlmIChsYXN0ID09PSAnLicpIHtcbiAgICAgIHBhcnRzLnNwbGljZShpLCAxKTtcbiAgICB9IGVsc2UgaWYgKGxhc3QgPT09ICcuLicpIHtcbiAgICAgIHBhcnRzLnNwbGljZShpLCAxKTtcbiAgICAgIHVwKys7XG4gICAgfSBlbHNlIGlmICh1cCkge1xuICAgICAgcGFydHMuc3BsaWNlKGksIDEpO1xuICAgICAgdXAtLTtcbiAgICB9XG4gIH1cblxuICAvLyBpZiB0aGUgcGF0aCBpcyBhbGxvd2VkIHRvIGdvIGFib3ZlIHRoZSByb290LCByZXN0b3JlIGxlYWRpbmcgLi5zXG4gIGlmIChhbGxvd0Fib3ZlUm9vdCkge1xuICAgIGZvciAoOyB1cC0tOyB1cCkge1xuICAgICAgcGFydHMudW5zaGlmdCgnLi4nKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcGFydHM7XG59XG5cbi8vIFNwbGl0IGEgZmlsZW5hbWUgaW50byBbcm9vdCwgZGlyLCBiYXNlbmFtZSwgZXh0XSwgdW5peCB2ZXJzaW9uXG4vLyAncm9vdCcgaXMganVzdCBhIHNsYXNoLCBvciBub3RoaW5nLlxudmFyIHNwbGl0UGF0aFJlID1cbiAgICAvXihcXC8/fCkoW1xcc1xcU10qPykoKD86XFwuezEsMn18W15cXC9dKz98KShcXC5bXi5cXC9dKnwpKSg/OltcXC9dKikkLztcbnZhciBzcGxpdFBhdGggPSBmdW5jdGlvbihmaWxlbmFtZSkge1xuICByZXR1cm4gc3BsaXRQYXRoUmUuZXhlYyhmaWxlbmFtZSkuc2xpY2UoMSk7XG59O1xuXG4vLyBwYXRoLnJlc29sdmUoW2Zyb20gLi4uXSwgdG8pXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZSgpIHtcbiAgdmFyIHJlc29sdmVkUGF0aCA9ICcnLFxuICAgICAgcmVzb2x2ZWRBYnNvbHV0ZSA9IGZhbHNlO1xuXG4gIGZvciAodmFyIGkgPSBhcmd1bWVudHMubGVuZ3RoIC0gMTsgaSA+PSAtMSAmJiAhcmVzb2x2ZWRBYnNvbHV0ZTsgaS0tKSB7XG4gICAgdmFyIHBhdGggPSAoaSA+PSAwKSA/IGFyZ3VtZW50c1tpXSA6ICcvJztcblxuICAgIC8vIFNraXAgZW1wdHkgYW5kIGludmFsaWQgZW50cmllc1xuICAgIGlmICh0eXBlb2YgcGF0aCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50cyB0byBwYXRoLnJlc29sdmUgbXVzdCBiZSBzdHJpbmdzJyk7XG4gICAgfSBlbHNlIGlmICghcGF0aCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgcmVzb2x2ZWRQYXRoID0gcGF0aCArICcvJyArIHJlc29sdmVkUGF0aDtcbiAgICByZXNvbHZlZEFic29sdXRlID0gcGF0aC5jaGFyQXQoMCkgPT09ICcvJztcbiAgfVxuXG4gIC8vIEF0IHRoaXMgcG9pbnQgdGhlIHBhdGggc2hvdWxkIGJlIHJlc29sdmVkIHRvIGEgZnVsbCBhYnNvbHV0ZSBwYXRoLCBidXRcbiAgLy8gaGFuZGxlIHJlbGF0aXZlIHBhdGhzIHRvIGJlIHNhZmUgKG1pZ2h0IGhhcHBlbiB3aGVuIHByb2Nlc3MuY3dkKCkgZmFpbHMpXG5cbiAgLy8gTm9ybWFsaXplIHRoZSBwYXRoXG4gIHJlc29sdmVkUGF0aCA9IG5vcm1hbGl6ZUFycmF5KGZpbHRlcihyZXNvbHZlZFBhdGguc3BsaXQoJy8nKSwgZnVuY3Rpb24ocCkge1xuICAgIHJldHVybiAhIXA7XG4gIH0pLCAhcmVzb2x2ZWRBYnNvbHV0ZSkuam9pbignLycpO1xuXG4gIHJldHVybiAoKHJlc29sdmVkQWJzb2x1dGUgPyAnLycgOiAnJykgKyByZXNvbHZlZFBhdGgpIHx8ICcuJztcbn07XG5cbi8vIHBhdGgubm9ybWFsaXplKHBhdGgpXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplKHBhdGgpIHtcbiAgdmFyIGlzUGF0aEFic29sdXRlID0gaXNBYnNvbHV0ZShwYXRoKSxcbiAgICAgIHRyYWlsaW5nU2xhc2ggPSBzdWJzdHIocGF0aCwgLTEpID09PSAnLyc7XG5cbiAgLy8gTm9ybWFsaXplIHRoZSBwYXRoXG4gIHBhdGggPSBub3JtYWxpemVBcnJheShmaWx0ZXIocGF0aC5zcGxpdCgnLycpLCBmdW5jdGlvbihwKSB7XG4gICAgcmV0dXJuICEhcDtcbiAgfSksICFpc1BhdGhBYnNvbHV0ZSkuam9pbignLycpO1xuXG4gIGlmICghcGF0aCAmJiAhaXNQYXRoQWJzb2x1dGUpIHtcbiAgICBwYXRoID0gJy4nO1xuICB9XG4gIGlmIChwYXRoICYmIHRyYWlsaW5nU2xhc2gpIHtcbiAgICBwYXRoICs9ICcvJztcbiAgfVxuXG4gIHJldHVybiAoaXNQYXRoQWJzb2x1dGUgPyAnLycgOiAnJykgKyBwYXRoO1xufTtcblxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0IGZ1bmN0aW9uIGlzQWJzb2x1dGUocGF0aCkge1xuICByZXR1cm4gcGF0aC5jaGFyQXQoMCkgPT09ICcvJztcbn1cblxuLy8gcG9zaXggdmVyc2lvblxuZXhwb3J0IGZ1bmN0aW9uIGpvaW4oKSB7XG4gIHZhciBwYXRocyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XG4gIHJldHVybiBub3JtYWxpemUoZmlsdGVyKHBhdGhzLCBmdW5jdGlvbihwLCBpbmRleCkge1xuICAgIGlmICh0eXBlb2YgcCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50cyB0byBwYXRoLmpvaW4gbXVzdCBiZSBzdHJpbmdzJyk7XG4gICAgfVxuICAgIHJldHVybiBwO1xuICB9KS5qb2luKCcvJykpO1xufVxuXG5cbi8vIHBhdGgucmVsYXRpdmUoZnJvbSwgdG8pXG4vLyBwb3NpeCB2ZXJzaW9uXG5leHBvcnQgZnVuY3Rpb24gcmVsYXRpdmUoZnJvbSwgdG8pIHtcbiAgZnJvbSA9IHJlc29sdmUoZnJvbSkuc3Vic3RyKDEpO1xuICB0byA9IHJlc29sdmUodG8pLnN1YnN0cigxKTtcblxuICBmdW5jdGlvbiB0cmltKGFycikge1xuICAgIHZhciBzdGFydCA9IDA7XG4gICAgZm9yICg7IHN0YXJ0IDwgYXJyLmxlbmd0aDsgc3RhcnQrKykge1xuICAgICAgaWYgKGFycltzdGFydF0gIT09ICcnKSBicmVhaztcbiAgICB9XG5cbiAgICB2YXIgZW5kID0gYXJyLmxlbmd0aCAtIDE7XG4gICAgZm9yICg7IGVuZCA+PSAwOyBlbmQtLSkge1xuICAgICAgaWYgKGFycltlbmRdICE9PSAnJykgYnJlYWs7XG4gICAgfVxuXG4gICAgaWYgKHN0YXJ0ID4gZW5kKSByZXR1cm4gW107XG4gICAgcmV0dXJuIGFyci5zbGljZShzdGFydCwgZW5kIC0gc3RhcnQgKyAxKTtcbiAgfVxuXG4gIHZhciBmcm9tUGFydHMgPSB0cmltKGZyb20uc3BsaXQoJy8nKSk7XG4gIHZhciB0b1BhcnRzID0gdHJpbSh0by5zcGxpdCgnLycpKTtcblxuICB2YXIgbGVuZ3RoID0gTWF0aC5taW4oZnJvbVBhcnRzLmxlbmd0aCwgdG9QYXJ0cy5sZW5ndGgpO1xuICB2YXIgc2FtZVBhcnRzTGVuZ3RoID0gbGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGZyb21QYXJ0c1tpXSAhPT0gdG9QYXJ0c1tpXSkge1xuICAgICAgc2FtZVBhcnRzTGVuZ3RoID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHZhciBvdXRwdXRQYXJ0cyA9IFtdO1xuICBmb3IgKHZhciBpID0gc2FtZVBhcnRzTGVuZ3RoOyBpIDwgZnJvbVBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgb3V0cHV0UGFydHMucHVzaCgnLi4nKTtcbiAgfVxuXG4gIG91dHB1dFBhcnRzID0gb3V0cHV0UGFydHMuY29uY2F0KHRvUGFydHMuc2xpY2Uoc2FtZVBhcnRzTGVuZ3RoKSk7XG5cbiAgcmV0dXJuIG91dHB1dFBhcnRzLmpvaW4oJy8nKTtcbn1cblxuZXhwb3J0IHZhciBzZXAgPSAnLyc7XG5leHBvcnQgdmFyIGRlbGltaXRlciA9ICc6JztcblxuZXhwb3J0IGZ1bmN0aW9uIGRpcm5hbWUocGF0aCkge1xuICB2YXIgcmVzdWx0ID0gc3BsaXRQYXRoKHBhdGgpLFxuICAgICAgcm9vdCA9IHJlc3VsdFswXSxcbiAgICAgIGRpciA9IHJlc3VsdFsxXTtcblxuICBpZiAoIXJvb3QgJiYgIWRpcikge1xuICAgIC8vIE5vIGRpcm5hbWUgd2hhdHNvZXZlclxuICAgIHJldHVybiAnLic7XG4gIH1cblxuICBpZiAoZGlyKSB7XG4gICAgLy8gSXQgaGFzIGEgZGlybmFtZSwgc3RyaXAgdHJhaWxpbmcgc2xhc2hcbiAgICBkaXIgPSBkaXIuc3Vic3RyKDAsIGRpci5sZW5ndGggLSAxKTtcbiAgfVxuXG4gIHJldHVybiByb290ICsgZGlyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYmFzZW5hbWUocGF0aCwgZXh0KSB7XG4gIHZhciBmID0gc3BsaXRQYXRoKHBhdGgpWzJdO1xuICAvLyBUT0RPOiBtYWtlIHRoaXMgY29tcGFyaXNvbiBjYXNlLWluc2Vuc2l0aXZlIG9uIHdpbmRvd3M/XG4gIGlmIChleHQgJiYgZi5zdWJzdHIoLTEgKiBleHQubGVuZ3RoKSA9PT0gZXh0KSB7XG4gICAgZiA9IGYuc3Vic3RyKDAsIGYubGVuZ3RoIC0gZXh0Lmxlbmd0aCk7XG4gIH1cbiAgcmV0dXJuIGY7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGV4dG5hbWUocGF0aCkge1xuICByZXR1cm4gc3BsaXRQYXRoKHBhdGgpWzNdO1xufVxuZXhwb3J0IGRlZmF1bHQge1xuICBleHRuYW1lOiBleHRuYW1lLFxuICBiYXNlbmFtZTogYmFzZW5hbWUsXG4gIGRpcm5hbWU6IGRpcm5hbWUsXG4gIHNlcDogc2VwLFxuICBkZWxpbWl0ZXI6IGRlbGltaXRlcixcbiAgcmVsYXRpdmU6IHJlbGF0aXZlLFxuICBqb2luOiBqb2luLFxuICBpc0Fic29sdXRlOiBpc0Fic29sdXRlLFxuICBub3JtYWxpemU6IG5vcm1hbGl6ZSxcbiAgcmVzb2x2ZTogcmVzb2x2ZVxufTtcbmZ1bmN0aW9uIGZpbHRlciAoeHMsIGYpIHtcbiAgICBpZiAoeHMuZmlsdGVyKSByZXR1cm4geHMuZmlsdGVyKGYpO1xuICAgIHZhciByZXMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHhzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChmKHhzW2ldLCBpLCB4cykpIHJlcy5wdXNoKHhzW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cblxuLy8gU3RyaW5nLnByb3RvdHlwZS5zdWJzdHIgLSBuZWdhdGl2ZSBpbmRleCBkb24ndCB3b3JrIGluIElFOFxudmFyIHN1YnN0ciA9ICdhYicuc3Vic3RyKC0xKSA9PT0gJ2InID9cbiAgICBmdW5jdGlvbiAoc3RyLCBzdGFydCwgbGVuKSB7IHJldHVybiBzdHIuc3Vic3RyKHN0YXJ0LCBsZW4pIH0gOlxuICAgIGZ1bmN0aW9uIChzdHIsIHN0YXJ0LCBsZW4pIHtcbiAgICAgICAgaWYgKHN0YXJ0IDwgMCkgc3RhcnQgPSBzdHIubGVuZ3RoICsgc3RhcnQ7XG4gICAgICAgIHJldHVybiBzdHIuc3Vic3RyKHN0YXJ0LCBsZW4pO1xuICAgIH1cbjtcbiIsICIvKipcbiAqIENyZWRlbnRpYWxzIHVzZWQgZm9yIEZTIG9wcy5cbiAqIFNpbWlsYXIgdG8gTGludXgncyBjcmVkIHN0cnVjdC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS90b3J2YWxkcy9saW51eC9ibG9iL21hc3Rlci9pbmNsdWRlL2xpbnV4L2NyZWQuaFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDcmVkIHtcblx0Y29uc3RydWN0b3IocHVibGljIHVpZDogbnVtYmVyLCBwdWJsaWMgZ2lkOiBudW1iZXIsIHB1YmxpYyBzdWlkOiBudW1iZXIsIHB1YmxpYyBzZ2lkOiBudW1iZXIsIHB1YmxpYyBldWlkOiBudW1iZXIsIHB1YmxpYyBlZ2lkOiBudW1iZXIpIHt9XG5cblx0cHVibGljIHN0YXRpYyBSb290ID0gbmV3IENyZWQoMCwgMCwgMCwgMCwgMCwgMCk7XG59XG4iLCAiaW1wb3J0ICogYXMgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IENyZWQgZnJvbSAnLi9jcmVkJztcbmltcG9ydCB7IEJ1ZmZlciB9IGZyb20gJ2J1ZmZlcic7XG5cbi8qKlxuICogSW5kaWNhdGVzIHRoZSB0eXBlIG9mIHRoZSBnaXZlbiBmaWxlLiBBcHBsaWVkIHRvICdtb2RlJy5cbiAqL1xuZXhwb3J0IGVudW0gRmlsZVR5cGUge1xuXHRGSUxFID0gMHg4MDAwLFxuXHRESVJFQ1RPUlkgPSAweDQwMDAsXG5cdFNZTUxJTksgPSAweGEwMDAsXG59XG5cbi8qKlxuICogSW5kaWNhdGVzIHRoZSBkaWZmZXJlbnQgcGVybXNzaW9ucyBvbiB0aGUgZmlsZS5cbiAqL1xuZXhwb3J0IGVudW0gRmlsZVBlcm0ge1xuXHRSRUFEID0gMGIxMDAsXG5cdFdSSVRFID0gMGIxMCxcblx0RVhFQ1VURSA9IDBiMSxcbn1cblxuLyoqXG4gKiBFbXVsYXRpb24gb2YgTm9kZSdzIGBmcy5TdGF0c2Agb2JqZWN0LlxuICpcbiAqIEF0dHJpYnV0ZSBkZXNjcmlwdGlvbnMgYXJlIGZyb20gYG1hbiAyIHN0YXQnXG4gKiBAc2VlIGh0dHA6Ly9ub2RlanMub3JnL2FwaS9mcy5odG1sI2ZzX2NsYXNzX2ZzX3N0YXRzXG4gKiBAc2VlIGh0dHA6Ly9tYW43Lm9yZy9saW51eC9tYW4tcGFnZXMvbWFuMi9zdGF0LjIuaHRtbFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdGF0cyBpbXBsZW1lbnRzIGZzLlN0YXRzIHtcblx0cHVibGljIHN0YXRpYyBmcm9tQnVmZmVyKGJ1ZmZlcjogQnVmZmVyKTogU3RhdHMge1xuXHRcdGNvbnN0IHNpemUgPSBidWZmZXIucmVhZFVJbnQzMkxFKDApLFxuXHRcdFx0bW9kZSA9IGJ1ZmZlci5yZWFkVUludDMyTEUoNCksXG5cdFx0XHRhdGltZSA9IGJ1ZmZlci5yZWFkRG91YmxlTEUoOCksXG5cdFx0XHRtdGltZSA9IGJ1ZmZlci5yZWFkRG91YmxlTEUoMTYpLFxuXHRcdFx0Y3RpbWUgPSBidWZmZXIucmVhZERvdWJsZUxFKDI0KSxcblx0XHRcdHVpZCA9IGJ1ZmZlci5yZWFkVUludDMyTEUoMzIpLFxuXHRcdFx0Z2lkID0gYnVmZmVyLnJlYWRVSW50MzJMRSgzNik7XG5cblx0XHRyZXR1cm4gbmV3IFN0YXRzKG1vZGUgJiAweGYwMDAsIHNpemUsIG1vZGUgJiAweGZmZiwgYXRpbWUsIG10aW1lLCBjdGltZSwgdWlkLCBnaWQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENsb25lcyB0aGUgc3RhdHMgb2JqZWN0LlxuXHQgKi9cblx0cHVibGljIHN0YXRpYyBjbG9uZShzOiBTdGF0cyk6IFN0YXRzIHtcblx0XHRyZXR1cm4gbmV3IFN0YXRzKHMubW9kZSAmIDB4ZjAwMCwgcy5zaXplLCBzLm1vZGUgJiAweGZmZiwgcy5hdGltZU1zLCBzLm10aW1lTXMsIHMuY3RpbWVNcywgcy51aWQsIHMuZ2lkLCBzLmJpcnRodGltZU1zKTtcblx0fVxuXG5cdHB1YmxpYyBibG9ja3M6IG51bWJlcjtcblx0cHVibGljIG1vZGU6IG51bWJlcjtcblx0LyoqXG5cdCAqIFVOU1VQUE9SVEVEIEFUVFJJQlVURVNcblx0ICogSSBhc3N1bWUgbm8gb25lIGlzIGdvaW5nIHRvIG5lZWQgdGhlc2UgZGV0YWlscywgYWx0aG91Z2ggd2UgY291bGQgZmFrZVxuXHQgKiBhcHByb3ByaWF0ZSB2YWx1ZXMgaWYgbmVlZCBiZS5cblx0ICovXG5cdC8vIElEIG9mIGRldmljZSBjb250YWluaW5nIGZpbGVcblx0cHVibGljIGRldjogbnVtYmVyID0gMDtcblx0Ly8gaW5vZGUgbnVtYmVyXG5cdHB1YmxpYyBpbm86IG51bWJlciA9IDA7XG5cdC8vIGRldmljZSBJRCAoaWYgc3BlY2lhbCBmaWxlKVxuXHRwdWJsaWMgcmRldjogbnVtYmVyID0gMDtcblx0Ly8gbnVtYmVyIG9mIGhhcmQgbGlua3Ncblx0cHVibGljIG5saW5rOiBudW1iZXIgPSAxO1xuXHQvLyBibG9ja3NpemUgZm9yIGZpbGUgc3lzdGVtIEkvT1xuXHRwdWJsaWMgYmxrc2l6ZTogbnVtYmVyID0gNDA5Njtcblx0Ly8gdXNlciBJRCBvZiBvd25lclxuXHRwdWJsaWMgdWlkOiBudW1iZXIgPSAwO1xuXHQvLyBncm91cCBJRCBvZiBvd25lclxuXHRwdWJsaWMgZ2lkOiBudW1iZXIgPSAwO1xuXHQvLyBYWFg6IFNvbWUgZmlsZSBzeXN0ZW1zIHN0YXNoIGRhdGEgb24gc3RhdHMgb2JqZWN0cy5cblx0cHVibGljIGZpbGVEYXRhOiBCdWZmZXIgfCBudWxsID0gbnVsbDtcblx0cHVibGljIGF0aW1lTXM6IG51bWJlcjtcblx0cHVibGljIG10aW1lTXM6IG51bWJlcjtcblx0cHVibGljIGN0aW1lTXM6IG51bWJlcjtcblx0cHVibGljIGJpcnRodGltZU1zOiBudW1iZXI7XG5cdHB1YmxpYyBzaXplOiBudW1iZXI7XG5cblx0cHVibGljIGdldCBhdGltZSgpOiBEYXRlIHtcblx0XHRyZXR1cm4gbmV3IERhdGUodGhpcy5hdGltZU1zKTtcblx0fVxuXG5cdHB1YmxpYyBnZXQgbXRpbWUoKTogRGF0ZSB7XG5cdFx0cmV0dXJuIG5ldyBEYXRlKHRoaXMubXRpbWVNcyk7XG5cdH1cblxuXHRwdWJsaWMgZ2V0IGN0aW1lKCk6IERhdGUge1xuXHRcdHJldHVybiBuZXcgRGF0ZSh0aGlzLmN0aW1lTXMpO1xuXHR9XG5cblx0cHVibGljIGdldCBiaXJ0aHRpbWUoKTogRGF0ZSB7XG5cdFx0cmV0dXJuIG5ldyBEYXRlKHRoaXMuYmlydGh0aW1lTXMpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFByb3ZpZGVzIGluZm9ybWF0aW9uIGFib3V0IGEgcGFydGljdWxhciBlbnRyeSBpbiB0aGUgZmlsZSBzeXN0ZW0uXG5cdCAqIEBwYXJhbSBpdGVtVHlwZSBUeXBlIG9mIHRoZSBpdGVtIChGSUxFLCBESVJFQ1RPUlksIFNZTUxJTkssIG9yIFNPQ0tFVClcblx0ICogQHBhcmFtIHNpemUgU2l6ZSBvZiB0aGUgaXRlbSBpbiBieXRlcy4gRm9yIGRpcmVjdG9yaWVzL3N5bWxpbmtzLFxuXHQgKiAgIHRoaXMgaXMgbm9ybWFsbHkgdGhlIHNpemUgb2YgdGhlIHN0cnVjdCB0aGF0IHJlcHJlc2VudHMgdGhlIGl0ZW0uXG5cdCAqIEBwYXJhbSBtb2RlIFVuaXgtc3R5bGUgZmlsZSBtb2RlIChlLmcuIDBvNjQ0KVxuXHQgKiBAcGFyYW0gYXRpbWVNcyB0aW1lIG9mIGxhc3QgYWNjZXNzLCBpbiBtaWxsaXNlY29uZHMgc2luY2UgZXBvY2hcblx0ICogQHBhcmFtIG10aW1lTXMgdGltZSBvZiBsYXN0IG1vZGlmaWNhdGlvbiwgaW4gbWlsbGlzZWNvbmRzIHNpbmNlIGVwb2NoXG5cdCAqIEBwYXJhbSBjdGltZU1zIHRpbWUgb2YgbGFzdCB0aW1lIGZpbGUgc3RhdHVzIHdhcyBjaGFuZ2VkLCBpbiBtaWxsaXNlY29uZHMgc2luY2UgZXBvY2hcblx0ICogQHBhcmFtIHVpZCB0aGUgaWQgb2YgdGhlIHVzZXIgdGhhdCBvd25zIHRoZSBmaWxlXG5cdCAqIEBwYXJhbSBnaWQgdGhlIGlkIG9mIHRoZSBncm91cCB0aGF0IG93bnMgdGhlIGZpbGVcblx0ICogQHBhcmFtIGJpcnRodGltZU1zIHRpbWUgb2YgZmlsZSBjcmVhdGlvbiwgaW4gbWlsbGlzZWNvbmRzIHNpbmNlIGVwb2NoXG5cdCAqL1xuXHRjb25zdHJ1Y3RvcihpdGVtVHlwZTogRmlsZVR5cGUsIHNpemU6IG51bWJlciwgbW9kZT86IG51bWJlciwgYXRpbWVNcz86IG51bWJlciwgbXRpbWVNcz86IG51bWJlciwgY3RpbWVNcz86IG51bWJlciwgdWlkPzogbnVtYmVyLCBnaWQ/OiBudW1iZXIsIGJpcnRodGltZU1zPzogbnVtYmVyKSB7XG5cdFx0dGhpcy5zaXplID0gc2l6ZTtcblx0XHRsZXQgY3VycmVudFRpbWUgPSAwO1xuXHRcdGlmICh0eXBlb2YgYXRpbWVNcyAhPT0gJ251bWJlcicpIHtcblx0XHRcdGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcblx0XHRcdGF0aW1lTXMgPSBjdXJyZW50VGltZTtcblx0XHR9XG5cdFx0aWYgKHR5cGVvZiBtdGltZU1zICE9PSAnbnVtYmVyJykge1xuXHRcdFx0aWYgKCFjdXJyZW50VGltZSkge1xuXHRcdFx0XHRjdXJyZW50VGltZSA9IERhdGUubm93KCk7XG5cdFx0XHR9XG5cdFx0XHRtdGltZU1zID0gY3VycmVudFRpbWU7XG5cdFx0fVxuXHRcdGlmICh0eXBlb2YgY3RpbWVNcyAhPT0gJ251bWJlcicpIHtcblx0XHRcdGlmICghY3VycmVudFRpbWUpIHtcblx0XHRcdFx0Y3VycmVudFRpbWUgPSBEYXRlLm5vdygpO1xuXHRcdFx0fVxuXHRcdFx0Y3RpbWVNcyA9IGN1cnJlbnRUaW1lO1xuXHRcdH1cblx0XHRpZiAodHlwZW9mIGJpcnRodGltZU1zICE9PSAnbnVtYmVyJykge1xuXHRcdFx0aWYgKCFjdXJyZW50VGltZSkge1xuXHRcdFx0XHRjdXJyZW50VGltZSA9IERhdGUubm93KCk7XG5cdFx0XHR9XG5cdFx0XHRiaXJ0aHRpbWVNcyA9IGN1cnJlbnRUaW1lO1xuXHRcdH1cblx0XHRpZiAodHlwZW9mIHVpZCAhPT0gJ251bWJlcicpIHtcblx0XHRcdHVpZCA9IDA7XG5cdFx0fVxuXHRcdGlmICh0eXBlb2YgZ2lkICE9PSAnbnVtYmVyJykge1xuXHRcdFx0Z2lkID0gMDtcblx0XHR9XG5cdFx0dGhpcy5hdGltZU1zID0gYXRpbWVNcztcblx0XHR0aGlzLmN0aW1lTXMgPSBjdGltZU1zO1xuXHRcdHRoaXMubXRpbWVNcyA9IG10aW1lTXM7XG5cdFx0dGhpcy5iaXJ0aHRpbWVNcyA9IGJpcnRodGltZU1zO1xuXG5cdFx0aWYgKCFtb2RlKSB7XG5cdFx0XHRzd2l0Y2ggKGl0ZW1UeXBlKSB7XG5cdFx0XHRcdGNhc2UgRmlsZVR5cGUuRklMRTpcblx0XHRcdFx0XHR0aGlzLm1vZGUgPSAweDFhNDtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBGaWxlVHlwZS5ESVJFQ1RPUlk6XG5cdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0dGhpcy5tb2RlID0gMHgxZmY7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMubW9kZSA9IG1vZGU7XG5cdFx0fVxuXHRcdC8vIG51bWJlciBvZiA1MTJCIGJsb2NrcyBhbGxvY2F0ZWRcblx0XHR0aGlzLmJsb2NrcyA9IE1hdGguY2VpbChzaXplIC8gNTEyKTtcblx0XHQvLyBDaGVjayBpZiBtb2RlIGFsc28gaW5jbHVkZXMgdG9wLW1vc3QgYml0cywgd2hpY2ggaW5kaWNhdGUgdGhlIGZpbGUnc1xuXHRcdC8vIHR5cGUuXG5cdFx0aWYgKHRoaXMubW9kZSA8IDB4MTAwMCkge1xuXHRcdFx0dGhpcy5tb2RlIHw9IGl0ZW1UeXBlO1xuXHRcdH1cblx0fVxuXG5cdHB1YmxpYyB0b0J1ZmZlcigpOiBCdWZmZXIge1xuXHRcdGNvbnN0IGJ1ZmZlciA9IEJ1ZmZlci5hbGxvYygzMik7XG5cdFx0YnVmZmVyLndyaXRlVUludDMyTEUodGhpcy5zaXplLCAwKTtcblx0XHRidWZmZXIud3JpdGVVSW50MzJMRSh0aGlzLm1vZGUsIDQpO1xuXHRcdGJ1ZmZlci53cml0ZURvdWJsZUxFKHRoaXMuYXRpbWUuZ2V0VGltZSgpLCA4KTtcblx0XHRidWZmZXIud3JpdGVEb3VibGVMRSh0aGlzLm10aW1lLmdldFRpbWUoKSwgMTYpO1xuXHRcdGJ1ZmZlci53cml0ZURvdWJsZUxFKHRoaXMuY3RpbWUuZ2V0VGltZSgpLCAyNCk7XG5cdFx0YnVmZmVyLndyaXRlVUludDMyTEUodGhpcy51aWQsIDMyKTtcblx0XHRidWZmZXIud3JpdGVVSW50MzJMRSh0aGlzLmdpZCwgMzYpO1xuXHRcdHJldHVybiBidWZmZXI7XG5cdH1cblxuXHQvKipcblx0ICogQHJldHVybiBbQm9vbGVhbl0gVHJ1ZSBpZiB0aGlzIGl0ZW0gaXMgYSBmaWxlLlxuXHQgKi9cblx0cHVibGljIGlzRmlsZSgpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gKHRoaXMubW9kZSAmIDB4ZjAwMCkgPT09IEZpbGVUeXBlLkZJTEU7XG5cdH1cblxuXHQvKipcblx0ICogQHJldHVybiBbQm9vbGVhbl0gVHJ1ZSBpZiB0aGlzIGl0ZW0gaXMgYSBkaXJlY3RvcnkuXG5cdCAqL1xuXHRwdWJsaWMgaXNEaXJlY3RvcnkoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuICh0aGlzLm1vZGUgJiAweGYwMDApID09PSBGaWxlVHlwZS5ESVJFQ1RPUlk7XG5cdH1cblxuXHQvKipcblx0ICogQHJldHVybiBbQm9vbGVhbl0gVHJ1ZSBpZiB0aGlzIGl0ZW0gaXMgYSBzeW1ib2xpYyBsaW5rIChvbmx5IHZhbGlkIHRocm91Z2ggbHN0YXQpXG5cdCAqL1xuXHRwdWJsaWMgaXNTeW1ib2xpY0xpbmsoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuICh0aGlzLm1vZGUgJiAweGYwMDApID09PSBGaWxlVHlwZS5TWU1MSU5LO1xuXHR9XG5cblx0LyoqXG5cdCAqIENoZWNrcyBpZiBhIGdpdmVuIHVzZXIvZ3JvdXAgaGFzIGFjY2VzcyB0byB0aGlzIGl0ZW1cblx0ICogQHBhcmFtIG1vZGUgVGhlIHJlcXVlc3QgYWNjZXNzIGFzIDQgYml0cyAodW51c2VkLCByZWFkLCB3cml0ZSwgZXhlY3V0ZSlcblx0ICogQHBhcmFtIHVpZCBUaGUgcmVxdWVzdGluZyBVSURcblx0ICogQHBhcmFtIGdpZCBUaGUgcmVxdWVzdGluZyBHSURcblx0ICogQHJldHVybnMgW0Jvb2xlYW5dIFRydWUgaWYgdGhlIHJlcXVlc3QgaGFzIGFjY2VzcywgZmFsc2UgaWYgdGhlIHJlcXVlc3QgZG9lcyBub3Rcblx0ICovXG5cdHB1YmxpYyBoYXNBY2Nlc3MobW9kZTogbnVtYmVyLCBjcmVkOiBDcmVkKTogYm9vbGVhbiB7XG5cdFx0aWYgKGNyZWQuZXVpZCA9PT0gMCB8fCBjcmVkLmVnaWQgPT09IDApIHtcblx0XHRcdC8vUnVubmluZyBhcyByb290XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdFx0Y29uc3QgcGVybXMgPSB0aGlzLm1vZGUgJiAweGZmZjtcblx0XHRsZXQgdU1vZGUgPSAweGYsXG5cdFx0XHRnTW9kZSA9IDB4Zixcblx0XHRcdHdNb2RlID0gMHhmO1xuXG5cdFx0aWYgKGNyZWQuZXVpZCA9PSB0aGlzLnVpZCkge1xuXHRcdFx0Y29uc3QgdVBlcm1zID0gKDB4ZjAwICYgcGVybXMpID4+IDg7XG5cdFx0XHR1TW9kZSA9IChtb2RlIF4gdVBlcm1zKSAmIG1vZGU7XG5cdFx0fVxuXHRcdGlmIChjcmVkLmVnaWQgPT0gdGhpcy5naWQpIHtcblx0XHRcdGNvbnN0IGdQZXJtcyA9ICgweGYwICYgcGVybXMpID4+IDQ7XG5cdFx0XHRnTW9kZSA9IChtb2RlIF4gZ1Blcm1zKSAmIG1vZGU7XG5cdFx0fVxuXHRcdGNvbnN0IHdQZXJtcyA9IDB4ZiAmIHBlcm1zO1xuXHRcdHdNb2RlID0gKG1vZGUgXiB3UGVybXMpICYgbW9kZTtcblx0XHQvKlxuICAgICAgICBSZXN1bHQgPSAwYjB4eHggKHJlYWQsIHdyaXRlLCBleGVjdXRlKVxuICAgICAgICBJZiBhbnkgYml0cyBhcmUgc2V0IHRoYXQgbWVhbnMgdGhlIHJlcXVlc3QgZG9lcyBub3QgaGF2ZSB0aGF0IHBlcm1pc3Npb24uXG4gICAgKi9cblx0XHRjb25zdCByZXN1bHQgPSB1TW9kZSAmIGdNb2RlICYgd01vZGU7XG5cdFx0cmV0dXJuICFyZXN1bHQ7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydCB0aGUgY3VycmVudCBzdGF0cyBvYmplY3QgaW50byBhIGNyZWQgb2JqZWN0XG5cdCAqL1xuXHRwdWJsaWMgZ2V0Q3JlZCh1aWQ6IG51bWJlciA9IHRoaXMudWlkLCBnaWQ6IG51bWJlciA9IHRoaXMuZ2lkKTogQ3JlZCB7XG5cdFx0cmV0dXJuIG5ldyBDcmVkKHVpZCwgZ2lkLCB0aGlzLnVpZCwgdGhpcy5naWQsIHVpZCwgZ2lkKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDaGFuZ2UgdGhlIG1vZGUgb2YgdGhlIGZpbGUuIFdlIHVzZSB0aGlzIGhlbHBlciBmdW5jdGlvbiB0byBwcmV2ZW50IG1lc3Npbmdcblx0ICogdXAgdGhlIHR5cGUgb2YgdGhlIGZpbGUsIHdoaWNoIGlzIGVuY29kZWQgaW4gbW9kZS5cblx0ICovXG5cdHB1YmxpYyBjaG1vZChtb2RlOiBudW1iZXIpOiB2b2lkIHtcblx0XHR0aGlzLm1vZGUgPSAodGhpcy5tb2RlICYgMHhmMDAwKSB8IG1vZGU7XG5cdH1cblxuXHQvKipcblx0ICogQ2hhbmdlIHRoZSBvd25lciB1c2VyL2dyb3VwIG9mIHRoZSBmaWxlLlxuXHQgKiBUaGlzIGZ1bmN0aW9uIG1ha2VzIHN1cmUgaXQgaXMgYSB2YWxpZCBVSUQvR0lEICh0aGF0IGlzLCBhIDMyIHVuc2lnbmVkIGludClcblx0ICovXG5cdHB1YmxpYyBjaG93bih1aWQ6IG51bWJlciwgZ2lkOiBudW1iZXIpOiB2b2lkIHtcblx0XHRpZiAoIWlzTmFOKCt1aWQpICYmIDAgPD0gK3VpZCAmJiArdWlkIDwgMiAqKiAzMikge1xuXHRcdFx0dGhpcy51aWQgPSB1aWQ7XG5cdFx0fVxuXHRcdGlmICghaXNOYU4oK2dpZCkgJiYgMCA8PSArZ2lkICYmICtnaWQgPCAyICoqIDMyKSB7XG5cdFx0XHR0aGlzLmdpZCA9IGdpZDtcblx0XHR9XG5cdH1cblxuXHQvLyBXZSBkb24ndCBzdXBwb3J0IHRoZSBmb2xsb3dpbmcgdHlwZXMgb2YgZmlsZXMuXG5cblx0cHVibGljIGlzU29ja2V0KCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdHB1YmxpYyBpc0Jsb2NrRGV2aWNlKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdHB1YmxpYyBpc0NoYXJhY3RlckRldmljZSgpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRwdWJsaWMgaXNGSUZPKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxufVxuIiwgIi8qKlxuICogQGhpZGRlblxuICovXG5sZXQgYmZzU2V0SW1tZWRpYXRlOiAoY2I6ICgpID0+IGFueSkgPT4gYW55O1xuaWYgKHR5cGVvZiBzZXRJbW1lZGlhdGUgIT09ICd1bmRlZmluZWQnKSB7XG5cdGJmc1NldEltbWVkaWF0ZSA9IHNldEltbWVkaWF0ZTtcbn0gZWxzZSB7XG5cdGNvbnN0IGdTY29wZSA9IGdsb2JhbFRoaXM7XG5cdGNvbnN0IHRpbWVvdXRzOiAoKCkgPT4gdm9pZClbXSA9IFtdO1xuXHRjb25zdCBtZXNzYWdlTmFtZSA9ICd6ZXJvLXRpbWVvdXQtbWVzc2FnZSc7XG5cdGNvbnN0IGNhblVzZVBvc3RNZXNzYWdlID0gZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0eXBlb2YgZ1Njb3BlLmltcG9ydFNjcmlwdHMgIT09ICd1bmRlZmluZWQnIHx8ICFnU2NvcGUucG9zdE1lc3NhZ2UpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0bGV0IHBvc3RNZXNzYWdlSXNBc3luYyA9IHRydWU7XG5cdFx0Y29uc3Qgb2xkT25NZXNzYWdlID0gZ1Njb3BlLm9ubWVzc2FnZTtcblx0XHRnU2NvcGUub25tZXNzYWdlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cG9zdE1lc3NhZ2VJc0FzeW5jID0gZmFsc2U7XG5cdFx0fTtcblx0XHRnU2NvcGUucG9zdE1lc3NhZ2UoJycsICcqJyk7XG5cdFx0Z1Njb3BlLm9ubWVzc2FnZSA9IG9sZE9uTWVzc2FnZTtcblx0XHRyZXR1cm4gcG9zdE1lc3NhZ2VJc0FzeW5jO1xuXHR9O1xuXHRpZiAoY2FuVXNlUG9zdE1lc3NhZ2UoKSkge1xuXHRcdGJmc1NldEltbWVkaWF0ZSA9IGZ1bmN0aW9uIChmbjogKCkgPT4gdm9pZCkge1xuXHRcdFx0dGltZW91dHMucHVzaChmbik7XG5cdFx0XHRnU2NvcGUucG9zdE1lc3NhZ2UobWVzc2FnZU5hbWUsICcqJyk7XG5cdFx0fTtcblx0XHRjb25zdCBoYW5kbGVNZXNzYWdlID0gZnVuY3Rpb24gKGV2ZW50OiBNZXNzYWdlRXZlbnQpIHtcblx0XHRcdGlmIChldmVudC5zb3VyY2UgPT09IHNlbGYgJiYgZXZlbnQuZGF0YSA9PT0gbWVzc2FnZU5hbWUpIHtcblx0XHRcdFx0aWYgKGV2ZW50LnN0b3BQcm9wYWdhdGlvbikge1xuXHRcdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGV2ZW50LmNhbmNlbEJ1YmJsZSA9IHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHRpbWVvdXRzLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHRjb25zdCBmbiA9IHRpbWVvdXRzLnNoaWZ0KCkhO1xuXHRcdFx0XHRcdHJldHVybiBmbigpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblx0XHRpZiAoZ1Njb3BlLmFkZEV2ZW50TGlzdGVuZXIpIHtcblx0XHRcdGdTY29wZS5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgaGFuZGxlTWVzc2FnZSwgdHJ1ZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGdTY29wZS5hdHRhY2hFdmVudCgnb25tZXNzYWdlJywgaGFuZGxlTWVzc2FnZSk7XG5cdFx0fVxuXHR9IGVsc2UgaWYgKGdTY29wZS5NZXNzYWdlQ2hhbm5lbCkge1xuXHRcdC8vIFdlYldvcmtlciBNZXNzYWdlQ2hhbm5lbFxuXHRcdGNvbnN0IGNoYW5uZWwgPSBuZXcgZ1Njb3BlLk1lc3NhZ2VDaGFubmVsKCk7XG5cdFx0Y2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSAoZXZlbnQ6IGFueSkgPT4ge1xuXHRcdFx0aWYgKHRpbWVvdXRzLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0cmV0dXJuIHRpbWVvdXRzLnNoaWZ0KCkhKCk7XG5cdFx0XHR9XG5cdFx0fTtcblx0XHRiZnNTZXRJbW1lZGlhdGUgPSAoZm46ICgpID0+IHZvaWQpID0+IHtcblx0XHRcdHRpbWVvdXRzLnB1c2goZm4pO1xuXHRcdFx0Y2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZSgnJyk7XG5cdFx0fTtcblx0fSBlbHNlIHtcblx0XHRiZnNTZXRJbW1lZGlhdGUgPSBmdW5jdGlvbiAoZm46ICgpID0+IHZvaWQpIHtcblx0XHRcdHJldHVybiBzZXRUaW1lb3V0KGZuLCAwKTtcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGJmc1NldEltbWVkaWF0ZTtcbiIsICJpbXBvcnQgeyBGaWxlIH0gZnJvbSAnLi9maWxlJztcbmltcG9ydCB7IEFwaUVycm9yLCBFcnJvckNvZGUgfSBmcm9tICcuL2FwaV9lcnJvcic7XG5pbXBvcnQgeyBGaWxlU3lzdGVtLCBCRlNPbmVBcmdDYWxsYmFjaywgQkZTQ2FsbGJhY2ssIEJGU1RocmVlQXJnQ2FsbGJhY2sgfSBmcm9tICcuL2ZpbGVfc3lzdGVtJztcbmltcG9ydCB7IEZpbGVGbGFnIH0gZnJvbSAnLi9maWxlX2ZsYWcnO1xuaW1wb3J0ICogYXMgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCB7IGRlZmF1bHQgYXMgU3RhdHMsIEZpbGVQZXJtIH0gZnJvbSAnLi9zdGF0cyc7XG5pbXBvcnQgc2V0SW1tZWRpYXRlIGZyb20gJy4uL2dlbmVyaWMvc2V0SW1tZWRpYXRlJztcbmltcG9ydCB7IEJ1ZmZlciB9IGZyb20gJ2J1ZmZlcic7XG5pbXBvcnQgQ3JlZCBmcm9tICcuL2NyZWQnO1xuXG4vLyBUeXBpbmcgaW5mbyBvbmx5LlxuaW1wb3J0IHR5cGUgKiBhcyBfZnMgZnJvbSAnZnMnO1xuXG4vKiogVXNlZCBmb3IgdW5pdCB0ZXN0aW5nLiBEZWZhdWx0cyB0byBhIE5PUC4gKi9cbmxldCB3cmFwQ2JIb29rID0gZnVuY3Rpb24gPFQ+KGNiOiBULCBudW1BcmdzOiBudW1iZXIpOiBUIHtcblx0cmV0dXJuIGNiO1xufTtcblxuLyoqXG4gKiBXcmFwcyBhIGNhbGxiYWNrIGZ1bmN0aW9uLCBlbnN1cmluZyBpdCBpcyBpbnZva2VkIHRocm91Z2ggc2V0SW1tZWRpYXRlLlxuICogQGhpZGRlblxuICovXG5mdW5jdGlvbiB3cmFwQ2I8VCBleHRlbmRzIEZ1bmN0aW9uPihjYjogVCwgbnVtQXJnczogbnVtYmVyKTogVCB7XG5cdGlmICh0eXBlb2YgY2IgIT09ICdmdW5jdGlvbicpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ0NhbGxiYWNrIG11c3QgYmUgYSBmdW5jdGlvbi4nKTtcblx0fVxuXG5cdGNvbnN0IGhvb2tlZENiID0gd3JhcENiSG9vayhjYiwgbnVtQXJncyk7XG5cblx0Ly8gV2UgY291bGQgdXNlIGBhcmd1bWVudHNgLCBidXQgRnVuY3Rpb24uY2FsbC9hcHBseSBpcyBleHBlbnNpdmUuIEFuZCB3ZSBvbmx5XG5cdC8vIG5lZWQgdG8gaGFuZGxlIDEtMyBhcmd1bWVudHNcblx0c3dpdGNoIChudW1BcmdzKSB7XG5cdFx0Y2FzZSAxOlxuXHRcdFx0cmV0dXJuIDxhbnk+ZnVuY3Rpb24gKGFyZzE6IGFueSkge1xuXHRcdFx0XHRzZXRJbW1lZGlhdGUoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdHJldHVybiBob29rZWRDYihhcmcxKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9O1xuXHRcdGNhc2UgMjpcblx0XHRcdHJldHVybiA8YW55PmZ1bmN0aW9uIChhcmcxOiBhbnksIGFyZzI6IGFueSkge1xuXHRcdFx0XHRzZXRJbW1lZGlhdGUoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdHJldHVybiBob29rZWRDYihhcmcxLCBhcmcyKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9O1xuXHRcdGNhc2UgMzpcblx0XHRcdHJldHVybiA8YW55PmZ1bmN0aW9uIChhcmcxOiBhbnksIGFyZzI6IGFueSwgYXJnMzogYW55KSB7XG5cdFx0XHRcdHNldEltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGhvb2tlZENiKGFyZzEsIGFyZzIsIGFyZzMpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH07XG5cdFx0ZGVmYXVsdDpcblx0XHRcdHRocm93IG5ldyBFcnJvcignSW52YWxpZCBpbnZvY2F0aW9uIG9mIHdyYXBDYi4nKTtcblx0fVxufVxuXG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuZnVuY3Rpb24gYXNzZXJ0Um9vdChmcz86IEZpbGVTeXN0ZW0gfCBudWxsKTogRmlsZVN5c3RlbSB7XG5cdGlmIChmcykge1xuXHRcdHJldHVybiBmcztcblx0fVxuXHR0aHJvdyBuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVJTywgYEluaXRpYWxpemUgQnJvd3NlckZTIHdpdGggYSBmaWxlIHN5c3RlbSB1c2luZyBCcm93c2VyRlMuaW5pdGlhbGl6ZShmaWxlc3lzdGVtKWApO1xufVxuXG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplTW9kZShtb2RlOiBudW1iZXIgfCBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkLCBkZWY6IG51bWJlcik6IG51bWJlciB7XG5cdHN3aXRjaCAodHlwZW9mIG1vZGUpIHtcblx0XHRjYXNlICdudW1iZXInOlxuXHRcdFx0Ly8gKHBhdGgsIGZsYWcsIG1vZGUsIGNiPylcblx0XHRcdHJldHVybiA8bnVtYmVyPm1vZGU7XG5cdFx0Y2FzZSAnc3RyaW5nJzpcblx0XHRcdC8vIChwYXRoLCBmbGFnLCBtb2RlU3RyaW5nLCBjYj8pXG5cdFx0XHRjb25zdCB0cnVlTW9kZSA9IHBhcnNlSW50KDxzdHJpbmc+bW9kZSwgOCk7XG5cdFx0XHRpZiAoIWlzTmFOKHRydWVNb2RlKSkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZU1vZGU7XG5cdFx0XHR9XG5cdFx0XHQvLyBJbnZhbGlkIHN0cmluZy5cblx0XHRcdHJldHVybiBkZWY7XG5cdFx0ZGVmYXVsdDpcblx0XHRcdHJldHVybiBkZWY7XG5cdH1cbn1cblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmZ1bmN0aW9uIG5vcm1hbGl6ZVRpbWUodGltZTogbnVtYmVyIHwgRGF0ZSk6IERhdGUge1xuXHRpZiAodGltZSBpbnN0YW5jZW9mIERhdGUpIHtcblx0XHRyZXR1cm4gdGltZTtcblx0fSBlbHNlIGlmICh0eXBlb2YgdGltZSA9PT0gJ251bWJlcicpIHtcblx0XHRyZXR1cm4gbmV3IERhdGUodGltZSAqIDEwMDApO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRUlOVkFMLCBgSW52YWxpZCB0aW1lLmApO1xuXHR9XG59XG5cbi8qKlxuICogQGhpZGRlblxuICovXG5mdW5jdGlvbiBub3JtYWxpemVQYXRoKHA6IHN0cmluZyk6IHN0cmluZyB7XG5cdC8vIE5vZGUgZG9lc24ndCBhbGxvdyBudWxsIGNoYXJhY3RlcnMgaW4gcGF0aHMuXG5cdGlmIChwLmluZGV4T2YoJ1xcdTAwMDAnKSA+PSAwKSB7XG5cdFx0dGhyb3cgbmV3IEFwaUVycm9yKEVycm9yQ29kZS5FSU5WQUwsICdQYXRoIG11c3QgYmUgYSBzdHJpbmcgd2l0aG91dCBudWxsIGJ5dGVzLicpO1xuXHR9IGVsc2UgaWYgKHAgPT09ICcnKSB7XG5cdFx0dGhyb3cgbmV3IEFwaUVycm9yKEVycm9yQ29kZS5FSU5WQUwsICdQYXRoIG11c3Qgbm90IGJlIGVtcHR5LicpO1xuXHR9XG5cdHJldHVybiBwYXRoLnJlc29sdmUocCk7XG59XG5cbi8qKlxuICogQGhpZGRlblxuICovXG5mdW5jdGlvbiBub3JtYWxpemVPcHRpb25zKG9wdGlvbnM6IGFueSwgZGVmRW5jOiBzdHJpbmcgfCBudWxsLCBkZWZGbGFnOiBzdHJpbmcsIGRlZk1vZGU6IG51bWJlciB8IG51bGwpOiB7IGVuY29kaW5nOiBzdHJpbmc7IGZsYWc6IHN0cmluZzsgbW9kZTogbnVtYmVyIH0ge1xuXHQvLyB0eXBlb2YgbnVsbCA9PT0gJ29iamVjdCcgc28gc3BlY2lhbC1jYXNlIGhhbmRpbmcgaXMgbmVlZGVkLlxuXHRzd2l0Y2ggKG9wdGlvbnMgPT09IG51bGwgPyAnbnVsbCcgOiB0eXBlb2Ygb3B0aW9ucykge1xuXHRcdGNhc2UgJ29iamVjdCc6XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRlbmNvZGluZzogdHlwZW9mIG9wdGlvbnNbJ2VuY29kaW5nJ10gIT09ICd1bmRlZmluZWQnID8gb3B0aW9uc1snZW5jb2RpbmcnXSA6IGRlZkVuYyxcblx0XHRcdFx0ZmxhZzogdHlwZW9mIG9wdGlvbnNbJ2ZsYWcnXSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zWydmbGFnJ10gOiBkZWZGbGFnLFxuXHRcdFx0XHRtb2RlOiBub3JtYWxpemVNb2RlKG9wdGlvbnNbJ21vZGUnXSwgZGVmTW9kZSEpLFxuXHRcdFx0fTtcblx0XHRjYXNlICdzdHJpbmcnOlxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0ZW5jb2Rpbmc6IG9wdGlvbnMsXG5cdFx0XHRcdGZsYWc6IGRlZkZsYWcsXG5cdFx0XHRcdG1vZGU6IGRlZk1vZGUhLFxuXHRcdFx0fTtcblx0XHRjYXNlICdudWxsJzpcblx0XHRjYXNlICd1bmRlZmluZWQnOlxuXHRcdGNhc2UgJ2Z1bmN0aW9uJzpcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGVuY29kaW5nOiBkZWZFbmMhLFxuXHRcdFx0XHRmbGFnOiBkZWZGbGFnLFxuXHRcdFx0XHRtb2RlOiBkZWZNb2RlISxcblx0XHRcdH07XG5cdFx0ZGVmYXVsdDpcblx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoYFwib3B0aW9uc1wiIG11c3QgYmUgYSBzdHJpbmcgb3IgYW4gb2JqZWN0LCBnb3QgJHt0eXBlb2Ygb3B0aW9uc30gaW5zdGVhZC5gKTtcblx0fVxufVxuXG4vKipcbiAqIFRoZSBkZWZhdWx0IGNhbGxiYWNrIGlzIGEgTk9QLlxuICogQGhpZGRlblxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gbm9wQ2IoKSB7XG5cdC8vIE5PUC5cbn1cblxuLyoqXG4gKiBUaGUgbm9kZSBmcm9udGVuZCB0byBhbGwgZmlsZXN5c3RlbXMuXG4gKiBUaGlzIGxheWVyIGhhbmRsZXM6XG4gKlxuICogKiBTYW5pdHkgY2hlY2tpbmcgaW5wdXRzLlxuICogKiBOb3JtYWxpemluZyBwYXRocy5cbiAqICogUmVzZXR0aW5nIHN0YWNrIGRlcHRoIGZvciBhc3luY2hyb25vdXMgb3BlcmF0aW9ucyB3aGljaCBtYXkgbm90IGdvIHRocm91Z2hcbiAqICAgdGhlIGJyb3dzZXIgYnkgd3JhcHBpbmcgYWxsIGlucHV0IGNhbGxiYWNrcyB1c2luZyBgc2V0SW1tZWRpYXRlYC5cbiAqICogUGVyZm9ybWluZyB0aGUgcmVxdWVzdGVkIG9wZXJhdGlvbiB0aHJvdWdoIHRoZSBmaWxlc3lzdGVtIG9yIHRoZSBmaWxlXG4gKiAgIGRlc2NyaXB0b3IsIGFzIGFwcHJvcHJpYXRlLlxuICogKiBIYW5kbGluZyBvcHRpb25hbCBhcmd1bWVudHMgYW5kIHNldHRpbmcgZGVmYXVsdCBhcmd1bWVudHMuXG4gKiBAc2VlIGh0dHA6Ly9ub2RlanMub3JnL2FwaS9mcy5odG1sXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZTIHtcblx0LyogdHNsaW50OmRpc2FibGU6dmFyaWFibGUtbmFtZSAqL1xuXHQvLyBFeHBvcnRlZCBmcy5TdGF0cy5cblx0cHVibGljIHN0YXRpYyBTdGF0cyA9IFN0YXRzO1xuXHQvKiB0c2xpbnQ6ZW5hYmxlOnZhcmlhYmxlLW5hbWUgKi9cblxuXHRwdWJsaWMgRl9PSzogbnVtYmVyID0gMDtcblx0cHVibGljIFJfT0s6IG51bWJlciA9IDQ7XG5cdHB1YmxpYyBXX09LOiBudW1iZXIgPSAyO1xuXHRwdWJsaWMgWF9PSzogbnVtYmVyID0gMTtcblxuXHRwcml2YXRlIHJvb3Q6IEZpbGVTeXN0ZW0gfCBudWxsID0gbnVsbDtcblx0cHJpdmF0ZSBjcmVkOiBDcmVkO1xuXHRwcml2YXRlIGZkTWFwOiB7IFtmZDogbnVtYmVyXTogRmlsZSB9ID0ge307XG5cdHByaXZhdGUgbmV4dEZkID0gMTAwO1xuXG5cdC8qKlxuXHQgKiBJbml0aWFsaXplcyB0aGUgRlMgTW9kdWxlcyB3aXRoIHRoZSBnaXZlbiBmaWxlc3lzdGVtXG5cdCAqIEBwYXJhbSByb290RlMgdGhlIHJvb3QgZmlsZXN5c3RlbSBvZiB0aGUgRlNcblx0ICogQHBhcmFtIGNyZWQgdGhlIGNyZWRlbnRpYWxzIHVzZWQgZm9yIGludGVyYWN0aW5nIHdpdGggdGhlIEZTXG5cdCAqIEByZXR1cm5zXG5cdCAqL1xuXHRwdWJsaWMgaW5pdGlhbGl6ZShyb290RlM6IEZpbGVTeXN0ZW0sIGNyZWQ6IENyZWQpOiBGaWxlU3lzdGVtIHtcblx0XHRpZiAoISg8YW55PnJvb3RGUykuY29uc3RydWN0b3IuaXNBdmFpbGFibGUoKSkge1xuXHRcdFx0dGhyb3cgbmV3IEFwaUVycm9yKEVycm9yQ29kZS5FSU5WQUwsICdUcmllZCB0byBpbnN0YW50aWF0ZSBCcm93c2VyRlMgd2l0aCBhbiB1bmF2YWlsYWJsZSBmaWxlIHN5c3RlbS4nKTtcblx0XHR9XG5cdFx0dGhpcy5jcmVkID0gY3JlZDtcblx0XHRyZXR1cm4gKHRoaXMucm9vdCA9IHJvb3RGUyk7XG5cdH1cblxuXHQvKipcblx0ICogY29udmVydHMgRGF0ZSBvciBudW1iZXIgdG8gYSBmcmFjdGlvbmFsIFVOSVggdGltZXN0YW1wXG5cdCAqIEdyYWJiZWQgZnJvbSBOb2RlSlMgc291cmNlcyAobGliL2ZzLmpzKVxuXHQgKi9cblx0cHVibGljIF90b1VuaXhUaW1lc3RhbXAodGltZTogRGF0ZSB8IG51bWJlcik6IG51bWJlciB7XG5cdFx0aWYgKHR5cGVvZiB0aW1lID09PSAnbnVtYmVyJykge1xuXHRcdFx0cmV0dXJuIHRpbWU7XG5cdFx0fSBlbHNlIGlmICh0aW1lIGluc3RhbmNlb2YgRGF0ZSkge1xuXHRcdFx0cmV0dXJuIHRpbWUuZ2V0VGltZSgpIC8gMTAwMDtcblx0XHR9XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgcGFyc2UgdGltZTogJyArIHRpbWUpO1xuXHR9XG5cblx0LyoqXG5cdCAqICoqTk9OU1RBTkRBUkQqKjogR3JhYiB0aGUgRmlsZVN5c3RlbSBpbnN0YW5jZSB0aGF0IGJhY2tzIHRoaXMgQVBJLlxuXHQgKiBAcmV0dXJuIFtCcm93c2VyRlMuRmlsZVN5c3RlbSB8IG51bGxdIFJldHVybnMgbnVsbCBpZiB0aGUgZmlsZSBzeXN0ZW0gaGFzXG5cdCAqICAgbm90IGJlZW4gaW5pdGlhbGl6ZWQuXG5cdCAqL1xuXHRwdWJsaWMgZ2V0Um9vdEZTKCk6IEZpbGVTeXN0ZW0gfCBudWxsIHtcblx0XHRpZiAodGhpcy5yb290KSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5yb290O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cdH1cblxuXHQvLyBGSUxFIE9SIERJUkVDVE9SWSBNRVRIT0RTXG5cblx0LyoqXG5cdCAqIEFzeW5jaHJvbm91cyByZW5hbWUuIE5vIGFyZ3VtZW50cyBvdGhlciB0aGFuIGEgcG9zc2libGUgZXhjZXB0aW9uIGFyZSBnaXZlblxuXHQgKiB0byB0aGUgY29tcGxldGlvbiBjYWxsYmFjay5cblx0ICogQHBhcmFtIG9sZFBhdGhcblx0ICogQHBhcmFtIG5ld1BhdGhcblx0ICogQHBhcmFtIGNhbGxiYWNrXG5cdCAqL1xuXHRwdWJsaWMgcmVuYW1lKG9sZFBhdGg6IHN0cmluZywgbmV3UGF0aDogc3RyaW5nLCBjYjogQkZTT25lQXJnQ2FsbGJhY2sgPSBub3BDYik6IHZvaWQge1xuXHRcdGNvbnN0IG5ld0NiID0gd3JhcENiKGNiLCAxKTtcblx0XHR0cnkge1xuXHRcdFx0YXNzZXJ0Um9vdCh0aGlzLnJvb3QpLnJlbmFtZShub3JtYWxpemVQYXRoKG9sZFBhdGgpLCBub3JtYWxpemVQYXRoKG5ld1BhdGgpLCB0aGlzLmNyZWQsIG5ld0NiKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRuZXdDYihlKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogU3luY2hyb25vdXMgcmVuYW1lLlxuXHQgKiBAcGFyYW0gb2xkUGF0aFxuXHQgKiBAcGFyYW0gbmV3UGF0aFxuXHQgKi9cblx0cHVibGljIHJlbmFtZVN5bmMob2xkUGF0aDogc3RyaW5nLCBuZXdQYXRoOiBzdHJpbmcpOiB2b2lkIHtcblx0XHRhc3NlcnRSb290KHRoaXMucm9vdCkucmVuYW1lU3luYyhub3JtYWxpemVQYXRoKG9sZFBhdGgpLCBub3JtYWxpemVQYXRoKG5ld1BhdGgpLCB0aGlzLmNyZWQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRlc3Qgd2hldGhlciBvciBub3QgdGhlIGdpdmVuIHBhdGggZXhpc3RzIGJ5IGNoZWNraW5nIHdpdGggdGhlIGZpbGUgc3lzdGVtLlxuXHQgKiBUaGVuIGNhbGwgdGhlIGNhbGxiYWNrIGFyZ3VtZW50IHdpdGggZWl0aGVyIHRydWUgb3IgZmFsc2UuXG5cdCAqIEBleGFtcGxlIFNhbXBsZSBpbnZvY2F0aW9uXG5cdCAqICAgZnMuZXhpc3RzKCcvZXRjL3Bhc3N3ZCcsIGZ1bmN0aW9uIChleGlzdHMpIHtcblx0ICogICAgIHV0aWwuZGVidWcoZXhpc3RzID8gXCJpdCdzIHRoZXJlXCIgOiBcIm5vIHBhc3N3ZCFcIik7XG5cdCAqICAgfSk7XG5cdCAqIEBwYXJhbSBwYXRoXG5cdCAqIEBwYXJhbSBjYWxsYmFja1xuXHQgKi9cblx0cHVibGljIGV4aXN0cyhwYXRoOiBzdHJpbmcsIGNiOiAoZXhpc3RzOiBib29sZWFuKSA9PiBhbnkgPSBub3BDYik6IHZvaWQge1xuXHRcdGNvbnN0IG5ld0NiID0gd3JhcENiKGNiLCAxKTtcblx0XHR0cnkge1xuXHRcdFx0cmV0dXJuIGFzc2VydFJvb3QodGhpcy5yb290KS5leGlzdHMobm9ybWFsaXplUGF0aChwYXRoKSwgdGhpcy5jcmVkLCBuZXdDYik7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0Ly8gRG9lc24ndCByZXR1cm4gYW4gZXJyb3IuIElmIHNvbWV0aGluZyBiYWQgaGFwcGVucywgd2UgYXNzdW1lIGl0IGp1c3Rcblx0XHRcdC8vIGRvZXNuJ3QgZXhpc3QuXG5cdFx0XHRyZXR1cm4gbmV3Q2IoZmFsc2UpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBUZXN0IHdoZXRoZXIgb3Igbm90IHRoZSBnaXZlbiBwYXRoIGV4aXN0cyBieSBjaGVja2luZyB3aXRoIHRoZSBmaWxlIHN5c3RlbS5cblx0ICogQHBhcmFtIHBhdGhcblx0ICogQHJldHVybiBbYm9vbGVhbl1cblx0ICovXG5cdHB1YmxpYyBleGlzdHNTeW5jKHBhdGg6IHN0cmluZyk6IGJvb2xlYW4ge1xuXHRcdHRyeSB7XG5cdFx0XHRyZXR1cm4gYXNzZXJ0Um9vdCh0aGlzLnJvb3QpLmV4aXN0c1N5bmMobm9ybWFsaXplUGF0aChwYXRoKSwgdGhpcy5jcmVkKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHQvLyBEb2Vzbid0IHJldHVybiBhbiBlcnJvci4gSWYgc29tZXRoaW5nIGJhZCBoYXBwZW5zLCB3ZSBhc3N1bWUgaXQganVzdFxuXHRcdFx0Ly8gZG9lc24ndCBleGlzdC5cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogQXN5bmNocm9ub3VzIGBzdGF0YC5cblx0ICogQHBhcmFtIHBhdGhcblx0ICogQHBhcmFtIGNhbGxiYWNrXG5cdCAqL1xuXHRwdWJsaWMgc3RhdChwYXRoOiBzdHJpbmcsIGNiOiBCRlNDYWxsYmFjazxTdGF0cz4gPSBub3BDYik6IHZvaWQge1xuXHRcdGNvbnN0IG5ld0NiID0gd3JhcENiKGNiLCAyKTtcblx0XHR0cnkge1xuXHRcdFx0cmV0dXJuIGFzc2VydFJvb3QodGhpcy5yb290KS5zdGF0KG5vcm1hbGl6ZVBhdGgocGF0aCksIGZhbHNlLCB0aGlzLmNyZWQsIG5ld0NiKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRyZXR1cm4gbmV3Q2IoZSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFN5bmNocm9ub3VzIGBzdGF0YC5cblx0ICogQHBhcmFtIHBhdGhcblx0ICogQHJldHVybiBbQnJvd3NlckZTLm5vZGUuZnMuU3RhdHNdXG5cdCAqL1xuXHRwdWJsaWMgc3RhdFN5bmMocGF0aDogc3RyaW5nKTogU3RhdHMge1xuXHRcdHJldHVybiBhc3NlcnRSb290KHRoaXMucm9vdCkuc3RhdFN5bmMobm9ybWFsaXplUGF0aChwYXRoKSwgZmFsc2UsIHRoaXMuY3JlZCk7XG5cdH1cblxuXHQvKipcblx0ICogQXN5bmNocm9ub3VzIGBsc3RhdGAuXG5cdCAqIGBsc3RhdCgpYCBpcyBpZGVudGljYWwgdG8gYHN0YXQoKWAsIGV4Y2VwdCB0aGF0IGlmIHBhdGggaXMgYSBzeW1ib2xpYyBsaW5rLFxuXHQgKiB0aGVuIHRoZSBsaW5rIGl0c2VsZiBpcyBzdGF0LWVkLCBub3QgdGhlIGZpbGUgdGhhdCBpdCByZWZlcnMgdG8uXG5cdCAqIEBwYXJhbSBwYXRoXG5cdCAqIEBwYXJhbSBjYWxsYmFja1xuXHQgKi9cblx0cHVibGljIGxzdGF0KHBhdGg6IHN0cmluZywgY2I6IEJGU0NhbGxiYWNrPFN0YXRzPiA9IG5vcENiKTogdm9pZCB7XG5cdFx0Y29uc3QgbmV3Q2IgPSB3cmFwQ2IoY2IsIDIpO1xuXHRcdHRyeSB7XG5cdFx0XHRyZXR1cm4gYXNzZXJ0Um9vdCh0aGlzLnJvb3QpLnN0YXQobm9ybWFsaXplUGF0aChwYXRoKSwgdHJ1ZSwgdGhpcy5jcmVkLCBuZXdDYik7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0cmV0dXJuIG5ld0NiKGUpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBTeW5jaHJvbm91cyBgbHN0YXRgLlxuXHQgKiBgbHN0YXQoKWAgaXMgaWRlbnRpY2FsIHRvIGBzdGF0KClgLCBleGNlcHQgdGhhdCBpZiBwYXRoIGlzIGEgc3ltYm9saWMgbGluayxcblx0ICogdGhlbiB0aGUgbGluayBpdHNlbGYgaXMgc3RhdC1lZCwgbm90IHRoZSBmaWxlIHRoYXQgaXQgcmVmZXJzIHRvLlxuXHQgKiBAcGFyYW0gcGF0aFxuXHQgKiBAcmV0dXJuIFtCcm93c2VyRlMubm9kZS5mcy5TdGF0c11cblx0ICovXG5cdHB1YmxpYyBsc3RhdFN5bmMocGF0aDogc3RyaW5nKTogU3RhdHMge1xuXHRcdHJldHVybiBhc3NlcnRSb290KHRoaXMucm9vdCkuc3RhdFN5bmMobm9ybWFsaXplUGF0aChwYXRoKSwgdHJ1ZSwgdGhpcy5jcmVkKTtcblx0fVxuXG5cdC8vIEZJTEUtT05MWSBNRVRIT0RTXG5cblx0LyoqXG5cdCAqIEFzeW5jaHJvbm91cyBgdHJ1bmNhdGVgLlxuXHQgKiBAcGFyYW0gcGF0aFxuXHQgKiBAcGFyYW0gbGVuXG5cdCAqIEBwYXJhbSBjYWxsYmFja1xuXHQgKi9cblx0cHVibGljIHRydW5jYXRlKHBhdGg6IHN0cmluZywgY2I/OiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQ7XG5cdHB1YmxpYyB0cnVuY2F0ZShwYXRoOiBzdHJpbmcsIGxlbjogbnVtYmVyLCBjYj86IEJGU09uZUFyZ0NhbGxiYWNrKTogdm9pZDtcblx0cHVibGljIHRydW5jYXRlKHBhdGg6IHN0cmluZywgYXJnMjogYW55ID0gMCwgY2I6IEJGU09uZUFyZ0NhbGxiYWNrID0gbm9wQ2IpOiB2b2lkIHtcblx0XHRsZXQgbGVuID0gMDtcblx0XHRpZiAodHlwZW9mIGFyZzIgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdGNiID0gYXJnMjtcblx0XHR9IGVsc2UgaWYgKHR5cGVvZiBhcmcyID09PSAnbnVtYmVyJykge1xuXHRcdFx0bGVuID0gYXJnMjtcblx0XHR9XG5cblx0XHRjb25zdCBuZXdDYiA9IHdyYXBDYihjYiwgMSk7XG5cdFx0dHJ5IHtcblx0XHRcdGlmIChsZW4gPCAwKSB7XG5cdFx0XHRcdHRocm93IG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRUlOVkFMKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBhc3NlcnRSb290KHRoaXMucm9vdCkudHJ1bmNhdGUobm9ybWFsaXplUGF0aChwYXRoKSwgbGVuLCB0aGlzLmNyZWQsIG5ld0NiKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRyZXR1cm4gbmV3Q2IoZSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFN5bmNocm9ub3VzIGB0cnVuY2F0ZWAuXG5cdCAqIEBwYXJhbSBwYXRoXG5cdCAqIEBwYXJhbSBsZW5cblx0ICovXG5cdHB1YmxpYyB0cnVuY2F0ZVN5bmMocGF0aDogc3RyaW5nLCBsZW46IG51bWJlciA9IDApOiB2b2lkIHtcblx0XHRpZiAobGVuIDwgMCkge1xuXHRcdFx0dGhyb3cgbmV3IEFwaUVycm9yKEVycm9yQ29kZS5FSU5WQUwpO1xuXHRcdH1cblx0XHRyZXR1cm4gYXNzZXJ0Um9vdCh0aGlzLnJvb3QpLnRydW5jYXRlU3luYyhub3JtYWxpemVQYXRoKHBhdGgpLCBsZW4sIHRoaXMuY3JlZCk7XG5cdH1cblxuXHQvKipcblx0ICogQXN5bmNocm9ub3VzIGB1bmxpbmtgLlxuXHQgKiBAcGFyYW0gcGF0aFxuXHQgKiBAcGFyYW0gY2FsbGJhY2tcblx0ICovXG5cdHB1YmxpYyB1bmxpbmsocGF0aDogc3RyaW5nLCBjYjogQkZTT25lQXJnQ2FsbGJhY2sgPSBub3BDYik6IHZvaWQge1xuXHRcdGNvbnN0IG5ld0NiID0gd3JhcENiKGNiLCAxKTtcblx0XHR0cnkge1xuXHRcdFx0cmV0dXJuIGFzc2VydFJvb3QodGhpcy5yb290KS51bmxpbmsobm9ybWFsaXplUGF0aChwYXRoKSwgdGhpcy5jcmVkLCBuZXdDYik7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0cmV0dXJuIG5ld0NiKGUpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBTeW5jaHJvbm91cyBgdW5saW5rYC5cblx0ICogQHBhcmFtIHBhdGhcblx0ICovXG5cdHB1YmxpYyB1bmxpbmtTeW5jKHBhdGg6IHN0cmluZyk6IHZvaWQge1xuXHRcdHJldHVybiBhc3NlcnRSb290KHRoaXMucm9vdCkudW5saW5rU3luYyhub3JtYWxpemVQYXRoKHBhdGgpLCB0aGlzLmNyZWQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEFzeW5jaHJvbm91cyBmaWxlIG9wZW4uXG5cdCAqIEV4Y2x1c2l2ZSBtb2RlIGVuc3VyZXMgdGhhdCBwYXRoIGlzIG5ld2x5IGNyZWF0ZWQuXG5cdCAqXG5cdCAqIGBmbGFnc2AgY2FuIGJlOlxuXHQgKlxuXHQgKiAqIGAncidgIC0gT3BlbiBmaWxlIGZvciByZWFkaW5nLiBBbiBleGNlcHRpb24gb2NjdXJzIGlmIHRoZSBmaWxlIGRvZXMgbm90IGV4aXN0LlxuXHQgKiAqIGAncisnYCAtIE9wZW4gZmlsZSBmb3IgcmVhZGluZyBhbmQgd3JpdGluZy4gQW4gZXhjZXB0aW9uIG9jY3VycyBpZiB0aGUgZmlsZSBkb2VzIG5vdCBleGlzdC5cblx0ICogKiBgJ3JzJ2AgLSBPcGVuIGZpbGUgZm9yIHJlYWRpbmcgaW4gc3luY2hyb25vdXMgbW9kZS4gSW5zdHJ1Y3RzIHRoZSBmaWxlc3lzdGVtIHRvIG5vdCBjYWNoZSB3cml0ZXMuXG5cdCAqICogYCdycysnYCAtIE9wZW4gZmlsZSBmb3IgcmVhZGluZyBhbmQgd3JpdGluZywgYW5kIG9wZW5zIHRoZSBmaWxlIGluIHN5bmNocm9ub3VzIG1vZGUuXG5cdCAqICogYCd3J2AgLSBPcGVuIGZpbGUgZm9yIHdyaXRpbmcuIFRoZSBmaWxlIGlzIGNyZWF0ZWQgKGlmIGl0IGRvZXMgbm90IGV4aXN0KSBvciB0cnVuY2F0ZWQgKGlmIGl0IGV4aXN0cykuXG5cdCAqICogYCd3eCdgIC0gTGlrZSAndycgYnV0IG9wZW5zIHRoZSBmaWxlIGluIGV4Y2x1c2l2ZSBtb2RlLlxuXHQgKiAqIGAndysnYCAtIE9wZW4gZmlsZSBmb3IgcmVhZGluZyBhbmQgd3JpdGluZy4gVGhlIGZpbGUgaXMgY3JlYXRlZCAoaWYgaXQgZG9lcyBub3QgZXhpc3QpIG9yIHRydW5jYXRlZCAoaWYgaXQgZXhpc3RzKS5cblx0ICogKiBgJ3d4KydgIC0gTGlrZSAndysnIGJ1dCBvcGVucyB0aGUgZmlsZSBpbiBleGNsdXNpdmUgbW9kZS5cblx0ICogKiBgJ2EnYCAtIE9wZW4gZmlsZSBmb3IgYXBwZW5kaW5nLiBUaGUgZmlsZSBpcyBjcmVhdGVkIGlmIGl0IGRvZXMgbm90IGV4aXN0LlxuXHQgKiAqIGAnYXgnYCAtIExpa2UgJ2EnIGJ1dCBvcGVucyB0aGUgZmlsZSBpbiBleGNsdXNpdmUgbW9kZS5cblx0ICogKiBgJ2ErJ2AgLSBPcGVuIGZpbGUgZm9yIHJlYWRpbmcgYW5kIGFwcGVuZGluZy4gVGhlIGZpbGUgaXMgY3JlYXRlZCBpZiBpdCBkb2VzIG5vdCBleGlzdC5cblx0ICogKiBgJ2F4KydgIC0gTGlrZSAnYSsnIGJ1dCBvcGVucyB0aGUgZmlsZSBpbiBleGNsdXNpdmUgbW9kZS5cblx0ICpcblx0ICogQHNlZSBodHRwOi8vd3d3Lm1hbnBhZ2V6LmNvbS9tYW4vMi9vcGVuL1xuXHQgKiBAcGFyYW0gcGF0aFxuXHQgKiBAcGFyYW0gZmxhZ3Ncblx0ICogQHBhcmFtIG1vZGUgZGVmYXVsdHMgdG8gYDA2NDRgXG5cdCAqIEBwYXJhbSBjYWxsYmFja1xuXHQgKi9cblx0cHVibGljIG9wZW4ocGF0aDogc3RyaW5nLCBmbGFnOiBzdHJpbmcsIGNiPzogQkZTQ2FsbGJhY2s8bnVtYmVyPik6IHZvaWQ7XG5cdHB1YmxpYyBvcGVuKHBhdGg6IHN0cmluZywgZmxhZzogc3RyaW5nLCBtb2RlOiBudW1iZXIgfCBzdHJpbmcsIGNiPzogQkZTQ2FsbGJhY2s8bnVtYmVyPik6IHZvaWQ7XG5cdHB1YmxpYyBvcGVuKHBhdGg6IHN0cmluZywgZmxhZzogc3RyaW5nLCBhcmcyPzogYW55LCBjYjogQkZTQ2FsbGJhY2s8bnVtYmVyPiA9IG5vcENiKTogdm9pZCB7XG5cdFx0Y29uc3QgbW9kZSA9IG5vcm1hbGl6ZU1vZGUoYXJnMiwgMHgxYTQpO1xuXHRcdGNiID0gdHlwZW9mIGFyZzIgPT09ICdmdW5jdGlvbicgPyBhcmcyIDogY2I7XG5cdFx0Y29uc3QgbmV3Q2IgPSB3cmFwQ2IoY2IsIDIpO1xuXHRcdHRyeSB7XG5cdFx0XHRhc3NlcnRSb290KHRoaXMucm9vdCkub3Blbihub3JtYWxpemVQYXRoKHBhdGgpLCBGaWxlRmxhZy5nZXRGaWxlRmxhZyhmbGFnKSwgbW9kZSwgdGhpcy5jcmVkLCAoZTogQXBpRXJyb3IsIGZpbGU/OiBGaWxlKSA9PiB7XG5cdFx0XHRcdGlmIChmaWxlKSB7XG5cdFx0XHRcdFx0bmV3Q2IoZSwgdGhpcy5nZXRGZEZvckZpbGUoZmlsZSkpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdG5ld0NiKGUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRuZXdDYihlKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogU3luY2hyb25vdXMgZmlsZSBvcGVuLlxuXHQgKiBAc2VlIGh0dHA6Ly93d3cubWFucGFnZXouY29tL21hbi8yL29wZW4vXG5cdCAqIEBwYXJhbSBwYXRoXG5cdCAqIEBwYXJhbSBmbGFnc1xuXHQgKiBAcGFyYW0gbW9kZSBkZWZhdWx0cyB0byBgMDY0NGBcblx0ICogQHJldHVybiBbQnJvd3NlckZTLkZpbGVdXG5cdCAqL1xuXHRwdWJsaWMgb3BlblN5bmMocGF0aDogc3RyaW5nLCBmbGFnOiBzdHJpbmcsIG1vZGU6IG51bWJlciB8IHN0cmluZyA9IDB4MWE0KTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5nZXRGZEZvckZpbGUoYXNzZXJ0Um9vdCh0aGlzLnJvb3QpLm9wZW5TeW5jKG5vcm1hbGl6ZVBhdGgocGF0aCksIEZpbGVGbGFnLmdldEZpbGVGbGFnKGZsYWcpLCBub3JtYWxpemVNb2RlKG1vZGUsIDB4MWE0KSwgdGhpcy5jcmVkKSk7XG5cdH1cblxuXHQvKipcblx0ICogQXN5bmNocm9ub3VzbHkgcmVhZHMgdGhlIGVudGlyZSBjb250ZW50cyBvZiBhIGZpbGUuXG5cdCAqIEBleGFtcGxlIFVzYWdlIGV4YW1wbGVcblx0ICogICBmcy5yZWFkRmlsZSgnL2V0Yy9wYXNzd2QnLCBmdW5jdGlvbiAoZXJyLCBkYXRhKSB7XG5cdCAqICAgICBpZiAoZXJyKSB0aHJvdyBlcnI7XG5cdCAqICAgICBjb25zb2xlLmxvZyhkYXRhKTtcblx0ICogICB9KTtcblx0ICogQHBhcmFtIGZpbGVuYW1lXG5cdCAqIEBwYXJhbSBvcHRpb25zXG5cdCAqIEBvcHRpb24gb3B0aW9ucyBbU3RyaW5nXSBlbmNvZGluZyBUaGUgc3RyaW5nIGVuY29kaW5nIGZvciB0aGUgZmlsZSBjb250ZW50cy4gRGVmYXVsdHMgdG8gYG51bGxgLlxuXHQgKiBAb3B0aW9uIG9wdGlvbnMgW1N0cmluZ10gZmxhZyBEZWZhdWx0cyB0byBgJ3InYC5cblx0ICogQHBhcmFtIGNhbGxiYWNrIElmIG5vIGVuY29kaW5nIGlzIHNwZWNpZmllZCwgdGhlbiB0aGUgcmF3IGJ1ZmZlciBpcyByZXR1cm5lZC5cblx0ICovXG5cdHB1YmxpYyByZWFkRmlsZShmaWxlbmFtZTogc3RyaW5nLCBjYjogQkZTQ2FsbGJhY2s8QnVmZmVyPik6IHZvaWQ7XG5cdHB1YmxpYyByZWFkRmlsZShmaWxlbmFtZTogc3RyaW5nLCBvcHRpb25zOiB7IGZsYWc/OiBzdHJpbmcgfSwgY2FsbGJhY2s/OiBCRlNDYWxsYmFjazxCdWZmZXI+KTogdm9pZDtcblx0cHVibGljIHJlYWRGaWxlKGZpbGVuYW1lOiBzdHJpbmcsIG9wdGlvbnM6IHsgZW5jb2Rpbmc6IHN0cmluZzsgZmxhZz86IHN0cmluZyB9LCBjYWxsYmFjaz86IEJGU0NhbGxiYWNrPHN0cmluZz4pOiB2b2lkO1xuXHRwdWJsaWMgcmVhZEZpbGUoZmlsZW5hbWU6IHN0cmluZywgZW5jb2Rpbmc6IHN0cmluZywgY2I6IEJGU0NhbGxiYWNrPHN0cmluZz4pOiB2b2lkO1xuXHRwdWJsaWMgcmVhZEZpbGUoZmlsZW5hbWU6IHN0cmluZywgYXJnMjogYW55ID0ge30sIGNiOiBCRlNDYWxsYmFjazxhbnk+ID0gbm9wQ2IpIHtcblx0XHRjb25zdCBvcHRpb25zID0gbm9ybWFsaXplT3B0aW9ucyhhcmcyLCBudWxsLCAncicsIG51bGwpO1xuXHRcdGNiID0gdHlwZW9mIGFyZzIgPT09ICdmdW5jdGlvbicgPyBhcmcyIDogY2I7XG5cdFx0Y29uc3QgbmV3Q2IgPSB3cmFwQ2IoY2IsIDIpO1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBmbGFnID0gRmlsZUZsYWcuZ2V0RmlsZUZsYWcob3B0aW9uc1snZmxhZyddKTtcblx0XHRcdGlmICghZmxhZy5pc1JlYWRhYmxlKCkpIHtcblx0XHRcdFx0cmV0dXJuIG5ld0NiKG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRUlOVkFMLCAnRmxhZyBwYXNzZWQgdG8gcmVhZEZpbGUgbXVzdCBhbGxvdyBmb3IgcmVhZGluZy4nKSk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gYXNzZXJ0Um9vdCh0aGlzLnJvb3QpLnJlYWRGaWxlKG5vcm1hbGl6ZVBhdGgoZmlsZW5hbWUpLCBvcHRpb25zLmVuY29kaW5nLCBmbGFnLCB0aGlzLmNyZWQsIG5ld0NiKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRyZXR1cm4gbmV3Q2IoZSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFN5bmNocm9ub3VzbHkgcmVhZHMgdGhlIGVudGlyZSBjb250ZW50cyBvZiBhIGZpbGUuXG5cdCAqIEBwYXJhbSBmaWxlbmFtZVxuXHQgKiBAcGFyYW0gb3B0aW9uc1xuXHQgKiBAb3B0aW9uIG9wdGlvbnMgW1N0cmluZ10gZW5jb2RpbmcgVGhlIHN0cmluZyBlbmNvZGluZyBmb3IgdGhlIGZpbGUgY29udGVudHMuIERlZmF1bHRzIHRvIGBudWxsYC5cblx0ICogQG9wdGlvbiBvcHRpb25zIFtTdHJpbmddIGZsYWcgRGVmYXVsdHMgdG8gYCdyJ2AuXG5cdCAqIEByZXR1cm4gW1N0cmluZyB8IEJyb3dzZXJGUy5ub2RlLkJ1ZmZlcl1cblx0ICovXG5cdHB1YmxpYyByZWFkRmlsZVN5bmMoZmlsZW5hbWU6IHN0cmluZywgb3B0aW9ucz86IHsgZmxhZz86IHN0cmluZyB9KTogQnVmZmVyO1xuXHRwdWJsaWMgcmVhZEZpbGVTeW5jKGZpbGVuYW1lOiBzdHJpbmcsIG9wdGlvbnM6IHsgZW5jb2Rpbmc6IHN0cmluZzsgZmxhZz86IHN0cmluZyB9KTogc3RyaW5nO1xuXHRwdWJsaWMgcmVhZEZpbGVTeW5jKGZpbGVuYW1lOiBzdHJpbmcsIGVuY29kaW5nOiBzdHJpbmcpOiBzdHJpbmc7XG5cdHB1YmxpYyByZWFkRmlsZVN5bmMoZmlsZW5hbWU6IHN0cmluZywgYXJnMjogYW55ID0ge30pOiBhbnkge1xuXHRcdGNvbnN0IG9wdGlvbnMgPSBub3JtYWxpemVPcHRpb25zKGFyZzIsIG51bGwsICdyJywgbnVsbCk7XG5cdFx0Y29uc3QgZmxhZyA9IEZpbGVGbGFnLmdldEZpbGVGbGFnKG9wdGlvbnMuZmxhZyk7XG5cdFx0aWYgKCFmbGFnLmlzUmVhZGFibGUoKSkge1xuXHRcdFx0dGhyb3cgbmV3IEFwaUVycm9yKEVycm9yQ29kZS5FSU5WQUwsICdGbGFnIHBhc3NlZCB0byByZWFkRmlsZSBtdXN0IGFsbG93IGZvciByZWFkaW5nLicpO1xuXHRcdH1cblx0XHRyZXR1cm4gYXNzZXJ0Um9vdCh0aGlzLnJvb3QpLnJlYWRGaWxlU3luYyhub3JtYWxpemVQYXRoKGZpbGVuYW1lKSwgb3B0aW9ucy5lbmNvZGluZywgZmxhZywgdGhpcy5jcmVkKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBc3luY2hyb25vdXNseSB3cml0ZXMgZGF0YSB0byBhIGZpbGUsIHJlcGxhY2luZyB0aGUgZmlsZSBpZiBpdCBhbHJlYWR5XG5cdCAqIGV4aXN0cy5cblx0ICpcblx0ICogVGhlIGVuY29kaW5nIG9wdGlvbiBpcyBpZ25vcmVkIGlmIGRhdGEgaXMgYSBidWZmZXIuXG5cdCAqXG5cdCAqIEBleGFtcGxlIFVzYWdlIGV4YW1wbGVcblx0ICogICBmcy53cml0ZUZpbGUoJ21lc3NhZ2UudHh0JywgJ0hlbGxvIE5vZGUnLCBmdW5jdGlvbiAoZXJyKSB7XG5cdCAqICAgICBpZiAoZXJyKSB0aHJvdyBlcnI7XG5cdCAqICAgICBjb25zb2xlLmxvZygnSXRcXCdzIHNhdmVkIScpO1xuXHQgKiAgIH0pO1xuXHQgKiBAcGFyYW0gZmlsZW5hbWVcblx0ICogQHBhcmFtIGRhdGFcblx0ICogQHBhcmFtIG9wdGlvbnNcblx0ICogQG9wdGlvbiBvcHRpb25zIFtTdHJpbmddIGVuY29kaW5nIERlZmF1bHRzIHRvIGAndXRmOCdgLlxuXHQgKiBAb3B0aW9uIG9wdGlvbnMgW051bWJlcl0gbW9kZSBEZWZhdWx0cyB0byBgMDY0NGAuXG5cdCAqIEBvcHRpb24gb3B0aW9ucyBbU3RyaW5nXSBmbGFnIERlZmF1bHRzIHRvIGAndydgLlxuXHQgKiBAcGFyYW0gY2FsbGJhY2tcblx0ICovXG5cdHB1YmxpYyB3cml0ZUZpbGUoZmlsZW5hbWU6IHN0cmluZywgZGF0YTogYW55LCBjYj86IEJGU09uZUFyZ0NhbGxiYWNrKTogdm9pZDtcblx0cHVibGljIHdyaXRlRmlsZShmaWxlbmFtZTogc3RyaW5nLCBkYXRhOiBhbnksIGVuY29kaW5nPzogc3RyaW5nLCBjYj86IEJGU09uZUFyZ0NhbGxiYWNrKTogdm9pZDtcblx0cHVibGljIHdyaXRlRmlsZShmaWxlbmFtZTogc3RyaW5nLCBkYXRhOiBhbnksIG9wdGlvbnM/OiB7IGVuY29kaW5nPzogc3RyaW5nOyBtb2RlPzogc3RyaW5nIHwgbnVtYmVyOyBmbGFnPzogc3RyaW5nIH0sIGNiPzogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkO1xuXHRwdWJsaWMgd3JpdGVGaWxlKGZpbGVuYW1lOiBzdHJpbmcsIGRhdGE6IGFueSwgYXJnMzogYW55ID0ge30sIGNiOiBCRlNPbmVBcmdDYWxsYmFjayA9IG5vcENiKTogdm9pZCB7XG5cdFx0Y29uc3Qgb3B0aW9ucyA9IG5vcm1hbGl6ZU9wdGlvbnMoYXJnMywgJ3V0ZjgnLCAndycsIDB4MWE0KTtcblx0XHRjYiA9IHR5cGVvZiBhcmczID09PSAnZnVuY3Rpb24nID8gYXJnMyA6IGNiO1xuXHRcdGNvbnN0IG5ld0NiID0gd3JhcENiKGNiLCAxKTtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgZmxhZyA9IEZpbGVGbGFnLmdldEZpbGVGbGFnKG9wdGlvbnMuZmxhZyk7XG5cdFx0XHRpZiAoIWZsYWcuaXNXcml0ZWFibGUoKSkge1xuXHRcdFx0XHRyZXR1cm4gbmV3Q2IobmV3IEFwaUVycm9yKEVycm9yQ29kZS5FSU5WQUwsICdGbGFnIHBhc3NlZCB0byB3cml0ZUZpbGUgbXVzdCBhbGxvdyBmb3Igd3JpdGluZy4nKSk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gYXNzZXJ0Um9vdCh0aGlzLnJvb3QpLndyaXRlRmlsZShub3JtYWxpemVQYXRoKGZpbGVuYW1lKSwgZGF0YSwgb3B0aW9ucy5lbmNvZGluZywgZmxhZywgb3B0aW9ucy5tb2RlLCB0aGlzLmNyZWQsIG5ld0NiKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRyZXR1cm4gbmV3Q2IoZSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFN5bmNocm9ub3VzbHkgd3JpdGVzIGRhdGEgdG8gYSBmaWxlLCByZXBsYWNpbmcgdGhlIGZpbGUgaWYgaXQgYWxyZWFkeVxuXHQgKiBleGlzdHMuXG5cdCAqXG5cdCAqIFRoZSBlbmNvZGluZyBvcHRpb24gaXMgaWdub3JlZCBpZiBkYXRhIGlzIGEgYnVmZmVyLlxuXHQgKiBAcGFyYW0gZmlsZW5hbWVcblx0ICogQHBhcmFtIGRhdGFcblx0ICogQHBhcmFtIG9wdGlvbnNcblx0ICogQG9wdGlvbiBvcHRpb25zIFtTdHJpbmddIGVuY29kaW5nIERlZmF1bHRzIHRvIGAndXRmOCdgLlxuXHQgKiBAb3B0aW9uIG9wdGlvbnMgW051bWJlcl0gbW9kZSBEZWZhdWx0cyB0byBgMDY0NGAuXG5cdCAqIEBvcHRpb24gb3B0aW9ucyBbU3RyaW5nXSBmbGFnIERlZmF1bHRzIHRvIGAndydgLlxuXHQgKi9cblx0cHVibGljIHdyaXRlRmlsZVN5bmMoZmlsZW5hbWU6IHN0cmluZywgZGF0YTogYW55LCBvcHRpb25zPzogeyBlbmNvZGluZz86IHN0cmluZzsgbW9kZT86IG51bWJlciB8IHN0cmluZzsgZmxhZz86IHN0cmluZyB9KTogdm9pZDtcblx0cHVibGljIHdyaXRlRmlsZVN5bmMoZmlsZW5hbWU6IHN0cmluZywgZGF0YTogYW55LCBlbmNvZGluZz86IHN0cmluZyk6IHZvaWQ7XG5cdHB1YmxpYyB3cml0ZUZpbGVTeW5jKGZpbGVuYW1lOiBzdHJpbmcsIGRhdGE6IGFueSwgYXJnMz86IGFueSk6IHZvaWQge1xuXHRcdGNvbnN0IG9wdGlvbnMgPSBub3JtYWxpemVPcHRpb25zKGFyZzMsICd1dGY4JywgJ3cnLCAweDFhNCk7XG5cdFx0Y29uc3QgZmxhZyA9IEZpbGVGbGFnLmdldEZpbGVGbGFnKG9wdGlvbnMuZmxhZyk7XG5cdFx0aWYgKCFmbGFnLmlzV3JpdGVhYmxlKCkpIHtcblx0XHRcdHRocm93IG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRUlOVkFMLCAnRmxhZyBwYXNzZWQgdG8gd3JpdGVGaWxlIG11c3QgYWxsb3cgZm9yIHdyaXRpbmcuJyk7XG5cdFx0fVxuXHRcdHJldHVybiBhc3NlcnRSb290KHRoaXMucm9vdCkud3JpdGVGaWxlU3luYyhub3JtYWxpemVQYXRoKGZpbGVuYW1lKSwgZGF0YSwgb3B0aW9ucy5lbmNvZGluZywgZmxhZywgb3B0aW9ucy5tb2RlLCB0aGlzLmNyZWQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEFzeW5jaHJvbm91c2x5IGFwcGVuZCBkYXRhIHRvIGEgZmlsZSwgY3JlYXRpbmcgdGhlIGZpbGUgaWYgaXQgbm90IHlldFxuXHQgKiBleGlzdHMuXG5cdCAqXG5cdCAqIEBleGFtcGxlIFVzYWdlIGV4YW1wbGVcblx0ICogICBmcy5hcHBlbmRGaWxlKCdtZXNzYWdlLnR4dCcsICdkYXRhIHRvIGFwcGVuZCcsIGZ1bmN0aW9uIChlcnIpIHtcblx0ICogICAgIGlmIChlcnIpIHRocm93IGVycjtcblx0ICogICAgIGNvbnNvbGUubG9nKCdUaGUgXCJkYXRhIHRvIGFwcGVuZFwiIHdhcyBhcHBlbmRlZCB0byBmaWxlIScpO1xuXHQgKiAgIH0pO1xuXHQgKiBAcGFyYW0gZmlsZW5hbWVcblx0ICogQHBhcmFtIGRhdGFcblx0ICogQHBhcmFtIG9wdGlvbnNcblx0ICogQG9wdGlvbiBvcHRpb25zIFtTdHJpbmddIGVuY29kaW5nIERlZmF1bHRzIHRvIGAndXRmOCdgLlxuXHQgKiBAb3B0aW9uIG9wdGlvbnMgW051bWJlcl0gbW9kZSBEZWZhdWx0cyB0byBgMDY0NGAuXG5cdCAqIEBvcHRpb24gb3B0aW9ucyBbU3RyaW5nXSBmbGFnIERlZmF1bHRzIHRvIGAnYSdgLlxuXHQgKiBAcGFyYW0gY2FsbGJhY2tcblx0ICovXG5cdHB1YmxpYyBhcHBlbmRGaWxlKGZpbGVuYW1lOiBzdHJpbmcsIGRhdGE6IGFueSwgY2I/OiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQ7XG5cdHB1YmxpYyBhcHBlbmRGaWxlKGZpbGVuYW1lOiBzdHJpbmcsIGRhdGE6IGFueSwgb3B0aW9ucz86IHsgZW5jb2Rpbmc/OiBzdHJpbmc7IG1vZGU/OiBudW1iZXIgfCBzdHJpbmc7IGZsYWc/OiBzdHJpbmcgfSwgY2I/OiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQ7XG5cdHB1YmxpYyBhcHBlbmRGaWxlKGZpbGVuYW1lOiBzdHJpbmcsIGRhdGE6IGFueSwgZW5jb2Rpbmc/OiBzdHJpbmcsIGNiPzogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkO1xuXHRwdWJsaWMgYXBwZW5kRmlsZShmaWxlbmFtZTogc3RyaW5nLCBkYXRhOiBhbnksIGFyZzM/OiBhbnksIGNiOiBCRlNPbmVBcmdDYWxsYmFjayA9IG5vcENiKTogdm9pZCB7XG5cdFx0Y29uc3Qgb3B0aW9ucyA9IG5vcm1hbGl6ZU9wdGlvbnMoYXJnMywgJ3V0ZjgnLCAnYScsIDB4MWE0KTtcblx0XHRjYiA9IHR5cGVvZiBhcmczID09PSAnZnVuY3Rpb24nID8gYXJnMyA6IGNiO1xuXHRcdGNvbnN0IG5ld0NiID0gd3JhcENiKGNiLCAxKTtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgZmxhZyA9IEZpbGVGbGFnLmdldEZpbGVGbGFnKG9wdGlvbnMuZmxhZyk7XG5cdFx0XHRpZiAoIWZsYWcuaXNBcHBlbmRhYmxlKCkpIHtcblx0XHRcdFx0cmV0dXJuIG5ld0NiKG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRUlOVkFMLCAnRmxhZyBwYXNzZWQgdG8gYXBwZW5kRmlsZSBtdXN0IGFsbG93IGZvciBhcHBlbmRpbmcuJykpO1xuXHRcdFx0fVxuXHRcdFx0YXNzZXJ0Um9vdCh0aGlzLnJvb3QpLmFwcGVuZEZpbGUobm9ybWFsaXplUGF0aChmaWxlbmFtZSksIGRhdGEsIG9wdGlvbnMuZW5jb2RpbmcsIGZsYWcsIG9wdGlvbnMubW9kZSwgdGhpcy5jcmVkLCBuZXdDYik7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0bmV3Q2IoZSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEFzeW5jaHJvbm91c2x5IGFwcGVuZCBkYXRhIHRvIGEgZmlsZSwgY3JlYXRpbmcgdGhlIGZpbGUgaWYgaXQgbm90IHlldFxuXHQgKiBleGlzdHMuXG5cdCAqXG5cdCAqIEBleGFtcGxlIFVzYWdlIGV4YW1wbGVcblx0ICogICBmcy5hcHBlbmRGaWxlKCdtZXNzYWdlLnR4dCcsICdkYXRhIHRvIGFwcGVuZCcsIGZ1bmN0aW9uIChlcnIpIHtcblx0ICogICAgIGlmIChlcnIpIHRocm93IGVycjtcblx0ICogICAgIGNvbnNvbGUubG9nKCdUaGUgXCJkYXRhIHRvIGFwcGVuZFwiIHdhcyBhcHBlbmRlZCB0byBmaWxlIScpO1xuXHQgKiAgIH0pO1xuXHQgKiBAcGFyYW0gZmlsZW5hbWVcblx0ICogQHBhcmFtIGRhdGFcblx0ICogQHBhcmFtIG9wdGlvbnNcblx0ICogQG9wdGlvbiBvcHRpb25zIFtTdHJpbmddIGVuY29kaW5nIERlZmF1bHRzIHRvIGAndXRmOCdgLlxuXHQgKiBAb3B0aW9uIG9wdGlvbnMgW051bWJlcl0gbW9kZSBEZWZhdWx0cyB0byBgMDY0NGAuXG5cdCAqIEBvcHRpb24gb3B0aW9ucyBbU3RyaW5nXSBmbGFnIERlZmF1bHRzIHRvIGAnYSdgLlxuXHQgKi9cblx0cHVibGljIGFwcGVuZEZpbGVTeW5jKGZpbGVuYW1lOiBzdHJpbmcsIGRhdGE6IGFueSwgb3B0aW9ucz86IHsgZW5jb2Rpbmc/OiBzdHJpbmc7IG1vZGU/OiBudW1iZXIgfCBzdHJpbmc7IGZsYWc/OiBzdHJpbmcgfSk6IHZvaWQ7XG5cdHB1YmxpYyBhcHBlbmRGaWxlU3luYyhmaWxlbmFtZTogc3RyaW5nLCBkYXRhOiBhbnksIGVuY29kaW5nPzogc3RyaW5nKTogdm9pZDtcblx0cHVibGljIGFwcGVuZEZpbGVTeW5jKGZpbGVuYW1lOiBzdHJpbmcsIGRhdGE6IGFueSwgYXJnMz86IGFueSk6IHZvaWQge1xuXHRcdGNvbnN0IG9wdGlvbnMgPSBub3JtYWxpemVPcHRpb25zKGFyZzMsICd1dGY4JywgJ2EnLCAweDFhNCk7XG5cdFx0Y29uc3QgZmxhZyA9IEZpbGVGbGFnLmdldEZpbGVGbGFnKG9wdGlvbnMuZmxhZyk7XG5cdFx0aWYgKCFmbGFnLmlzQXBwZW5kYWJsZSgpKSB7XG5cdFx0XHR0aHJvdyBuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVJTlZBTCwgJ0ZsYWcgcGFzc2VkIHRvIGFwcGVuZEZpbGUgbXVzdCBhbGxvdyBmb3IgYXBwZW5kaW5nLicpO1xuXHRcdH1cblx0XHRyZXR1cm4gYXNzZXJ0Um9vdCh0aGlzLnJvb3QpLmFwcGVuZEZpbGVTeW5jKG5vcm1hbGl6ZVBhdGgoZmlsZW5hbWUpLCBkYXRhLCBvcHRpb25zLmVuY29kaW5nLCBmbGFnLCBvcHRpb25zLm1vZGUsIHRoaXMuY3JlZCk7XG5cdH1cblxuXHQvLyBGSUxFIERFU0NSSVBUT1IgTUVUSE9EU1xuXG5cdC8qKlxuXHQgKiBBc3luY2hyb25vdXMgYGZzdGF0YC5cblx0ICogYGZzdGF0KClgIGlzIGlkZW50aWNhbCB0byBgc3RhdCgpYCwgZXhjZXB0IHRoYXQgdGhlIGZpbGUgdG8gYmUgc3RhdC1lZCBpc1xuXHQgKiBzcGVjaWZpZWQgYnkgdGhlIGZpbGUgZGVzY3JpcHRvciBgZmRgLlxuXHQgKiBAcGFyYW0gZmRcblx0ICogQHBhcmFtIGNhbGxiYWNrXG5cdCAqL1xuXHRwdWJsaWMgZnN0YXQoZmQ6IG51bWJlciwgY2I6IEJGU0NhbGxiYWNrPFN0YXRzPiA9IG5vcENiKTogdm9pZCB7XG5cdFx0Y29uc3QgbmV3Q2IgPSB3cmFwQ2IoY2IsIDIpO1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBmaWxlID0gdGhpcy5mZDJmaWxlKGZkKTtcblx0XHRcdGZpbGUuc3RhdChuZXdDYik7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0bmV3Q2IoZSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFN5bmNocm9ub3VzIGBmc3RhdGAuXG5cdCAqIGBmc3RhdCgpYCBpcyBpZGVudGljYWwgdG8gYHN0YXQoKWAsIGV4Y2VwdCB0aGF0IHRoZSBmaWxlIHRvIGJlIHN0YXQtZWQgaXNcblx0ICogc3BlY2lmaWVkIGJ5IHRoZSBmaWxlIGRlc2NyaXB0b3IgYGZkYC5cblx0ICogQHBhcmFtIGZkXG5cdCAqIEByZXR1cm4gW0Jyb3dzZXJGUy5ub2RlLmZzLlN0YXRzXVxuXHQgKi9cblx0cHVibGljIGZzdGF0U3luYyhmZDogbnVtYmVyKTogU3RhdHMge1xuXHRcdHJldHVybiB0aGlzLmZkMmZpbGUoZmQpLnN0YXRTeW5jKCk7XG5cdH1cblxuXHQvKipcblx0ICogQXN5bmNocm9ub3VzIGNsb3NlLlxuXHQgKiBAcGFyYW0gZmRcblx0ICogQHBhcmFtIGNhbGxiYWNrXG5cdCAqL1xuXHRwdWJsaWMgY2xvc2UoZmQ6IG51bWJlciwgY2I6IEJGU09uZUFyZ0NhbGxiYWNrID0gbm9wQ2IpOiB2b2lkIHtcblx0XHRjb25zdCBuZXdDYiA9IHdyYXBDYihjYiwgMSk7XG5cdFx0dHJ5IHtcblx0XHRcdHRoaXMuZmQyZmlsZShmZCkuY2xvc2UoKGU6IEFwaUVycm9yKSA9PiB7XG5cdFx0XHRcdGlmICghZSkge1xuXHRcdFx0XHRcdHRoaXMuY2xvc2VGZChmZCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0bmV3Q2IoZSk7XG5cdFx0XHR9KTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRuZXdDYihlKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogU3luY2hyb25vdXMgY2xvc2UuXG5cdCAqIEBwYXJhbSBmZFxuXHQgKi9cblx0cHVibGljIGNsb3NlU3luYyhmZDogbnVtYmVyKTogdm9pZCB7XG5cdFx0dGhpcy5mZDJmaWxlKGZkKS5jbG9zZVN5bmMoKTtcblx0XHR0aGlzLmNsb3NlRmQoZmQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEFzeW5jaHJvbm91cyBmdHJ1bmNhdGUuXG5cdCAqIEBwYXJhbSBmZFxuXHQgKiBAcGFyYW0gbGVuXG5cdCAqIEBwYXJhbSBjYWxsYmFja1xuXHQgKi9cblx0cHVibGljIGZ0cnVuY2F0ZShmZDogbnVtYmVyLCBjYj86IEJGU09uZUFyZ0NhbGxiYWNrKTogdm9pZDtcblx0cHVibGljIGZ0cnVuY2F0ZShmZDogbnVtYmVyLCBsZW4/OiBudW1iZXIsIGNiPzogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkO1xuXHRwdWJsaWMgZnRydW5jYXRlKGZkOiBudW1iZXIsIGFyZzI/OiBhbnksIGNiOiBCRlNPbmVBcmdDYWxsYmFjayA9IG5vcENiKTogdm9pZCB7XG5cdFx0Y29uc3QgbGVuZ3RoID0gdHlwZW9mIGFyZzIgPT09ICdudW1iZXInID8gYXJnMiA6IDA7XG5cdFx0Y2IgPSB0eXBlb2YgYXJnMiA9PT0gJ2Z1bmN0aW9uJyA/IGFyZzIgOiBjYjtcblx0XHRjb25zdCBuZXdDYiA9IHdyYXBDYihjYiwgMSk7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IGZpbGUgPSB0aGlzLmZkMmZpbGUoZmQpO1xuXHRcdFx0aWYgKGxlbmd0aCA8IDApIHtcblx0XHRcdFx0dGhyb3cgbmV3IEFwaUVycm9yKEVycm9yQ29kZS5FSU5WQUwpO1xuXHRcdFx0fVxuXHRcdFx0ZmlsZS50cnVuY2F0ZShsZW5ndGgsIG5ld0NiKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRuZXdDYihlKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogU3luY2hyb25vdXMgZnRydW5jYXRlLlxuXHQgKiBAcGFyYW0gZmRcblx0ICogQHBhcmFtIGxlblxuXHQgKi9cblx0cHVibGljIGZ0cnVuY2F0ZVN5bmMoZmQ6IG51bWJlciwgbGVuOiBudW1iZXIgPSAwKTogdm9pZCB7XG5cdFx0Y29uc3QgZmlsZSA9IHRoaXMuZmQyZmlsZShmZCk7XG5cdFx0aWYgKGxlbiA8IDApIHtcblx0XHRcdHRocm93IG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRUlOVkFMKTtcblx0XHR9XG5cdFx0ZmlsZS50cnVuY2F0ZVN5bmMobGVuKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBc3luY2hyb25vdXMgZnN5bmMuXG5cdCAqIEBwYXJhbSBmZFxuXHQgKiBAcGFyYW0gY2FsbGJhY2tcblx0ICovXG5cdHB1YmxpYyBmc3luYyhmZDogbnVtYmVyLCBjYjogQkZTT25lQXJnQ2FsbGJhY2sgPSBub3BDYik6IHZvaWQge1xuXHRcdGNvbnN0IG5ld0NiID0gd3JhcENiKGNiLCAxKTtcblx0XHR0cnkge1xuXHRcdFx0dGhpcy5mZDJmaWxlKGZkKS5zeW5jKG5ld0NiKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRuZXdDYihlKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogU3luY2hyb25vdXMgZnN5bmMuXG5cdCAqIEBwYXJhbSBmZFxuXHQgKi9cblx0cHVibGljIGZzeW5jU3luYyhmZDogbnVtYmVyKTogdm9pZCB7XG5cdFx0dGhpcy5mZDJmaWxlKGZkKS5zeW5jU3luYygpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEFzeW5jaHJvbm91cyBmZGF0YXN5bmMuXG5cdCAqIEBwYXJhbSBmZFxuXHQgKiBAcGFyYW0gY2FsbGJhY2tcblx0ICovXG5cdHB1YmxpYyBmZGF0YXN5bmMoZmQ6IG51bWJlciwgY2I6IEJGU09uZUFyZ0NhbGxiYWNrID0gbm9wQ2IpOiB2b2lkIHtcblx0XHRjb25zdCBuZXdDYiA9IHdyYXBDYihjYiwgMSk7XG5cdFx0dHJ5IHtcblx0XHRcdHRoaXMuZmQyZmlsZShmZCkuZGF0YXN5bmMobmV3Q2IpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdG5ld0NiKGUpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBTeW5jaHJvbm91cyBmZGF0YXN5bmMuXG5cdCAqIEBwYXJhbSBmZFxuXHQgKi9cblx0cHVibGljIGZkYXRhc3luY1N5bmMoZmQ6IG51bWJlcik6IHZvaWQge1xuXHRcdHRoaXMuZmQyZmlsZShmZCkuZGF0YXN5bmNTeW5jKCk7XG5cdH1cblxuXHQvKipcblx0ICogV3JpdGUgYnVmZmVyIHRvIHRoZSBmaWxlIHNwZWNpZmllZCBieSBgZmRgLlxuXHQgKiBOb3RlIHRoYXQgaXQgaXMgdW5zYWZlIHRvIHVzZSBmcy53cml0ZSBtdWx0aXBsZSB0aW1lcyBvbiB0aGUgc2FtZSBmaWxlXG5cdCAqIHdpdGhvdXQgd2FpdGluZyBmb3IgdGhlIGNhbGxiYWNrLlxuXHQgKiBAcGFyYW0gZmRcblx0ICogQHBhcmFtIGJ1ZmZlciBCdWZmZXIgY29udGFpbmluZyB0aGUgZGF0YSB0byB3cml0ZSB0b1xuXHQgKiAgIHRoZSBmaWxlLlxuXHQgKiBAcGFyYW0gb2Zmc2V0IE9mZnNldCBpbiB0aGUgYnVmZmVyIHRvIHN0YXJ0IHJlYWRpbmcgZGF0YSBmcm9tLlxuXHQgKiBAcGFyYW0gbGVuZ3RoIFRoZSBhbW91bnQgb2YgYnl0ZXMgdG8gd3JpdGUgdG8gdGhlIGZpbGUuXG5cdCAqIEBwYXJhbSBwb3NpdGlvbiBPZmZzZXQgZnJvbSB0aGUgYmVnaW5uaW5nIG9mIHRoZSBmaWxlIHdoZXJlIHRoaXNcblx0ICogICBkYXRhIHNob3VsZCBiZSB3cml0dGVuLiBJZiBwb3NpdGlvbiBpcyBudWxsLCB0aGUgZGF0YSB3aWxsIGJlIHdyaXR0ZW4gYXRcblx0ICogICB0aGUgY3VycmVudCBwb3NpdGlvbi5cblx0ICogQHBhcmFtIGNhbGxiYWNrIFRoZSBudW1iZXIgc3BlY2lmaWVzIHRoZSBudW1iZXIgb2YgYnl0ZXMgd3JpdHRlbiBpbnRvIHRoZSBmaWxlLlxuXHQgKi9cblx0cHVibGljIHdyaXRlKGZkOiBudW1iZXIsIGJ1ZmZlcjogQnVmZmVyLCBvZmZzZXQ6IG51bWJlciwgbGVuZ3RoOiBudW1iZXIsIGNiPzogQkZTVGhyZWVBcmdDYWxsYmFjazxudW1iZXIsIEJ1ZmZlcj4pOiB2b2lkO1xuXHRwdWJsaWMgd3JpdGUoZmQ6IG51bWJlciwgYnVmZmVyOiBCdWZmZXIsIG9mZnNldDogbnVtYmVyLCBsZW5ndGg6IG51bWJlciwgcG9zaXRpb246IG51bWJlciB8IG51bGwsIGNiPzogQkZTVGhyZWVBcmdDYWxsYmFjazxudW1iZXIsIEJ1ZmZlcj4pOiB2b2lkO1xuXHRwdWJsaWMgd3JpdGUoZmQ6IG51bWJlciwgZGF0YTogYW55LCBjYj86IEJGU1RocmVlQXJnQ2FsbGJhY2s8bnVtYmVyLCBzdHJpbmc+KTogdm9pZDtcblx0cHVibGljIHdyaXRlKGZkOiBudW1iZXIsIGRhdGE6IGFueSwgcG9zaXRpb246IG51bWJlciB8IG51bGwsIGNiPzogQkZTVGhyZWVBcmdDYWxsYmFjazxudW1iZXIsIHN0cmluZz4pOiB2b2lkO1xuXHRwdWJsaWMgd3JpdGUoZmQ6IG51bWJlciwgZGF0YTogYW55LCBwb3NpdGlvbjogbnVtYmVyIHwgbnVsbCwgZW5jb2Rpbmc6IEJ1ZmZlckVuY29kaW5nLCBjYj86IEJGU1RocmVlQXJnQ2FsbGJhY2s8bnVtYmVyLCBzdHJpbmc+KTogdm9pZDtcblx0cHVibGljIHdyaXRlKGZkOiBudW1iZXIsIGFyZzI6IGFueSwgYXJnMz86IGFueSwgYXJnND86IGFueSwgYXJnNT86IGFueSwgY2I6IEJGU1RocmVlQXJnQ2FsbGJhY2s8bnVtYmVyLCBhbnk+ID0gbm9wQ2IpOiB2b2lkIHtcblx0XHRsZXQgYnVmZmVyOiBCdWZmZXIsXG5cdFx0XHRvZmZzZXQ6IG51bWJlcixcblx0XHRcdGxlbmd0aDogbnVtYmVyLFxuXHRcdFx0cG9zaXRpb246IG51bWJlciB8IG51bGwgPSBudWxsO1xuXHRcdGlmICh0eXBlb2YgYXJnMiA9PT0gJ3N0cmluZycpIHtcblx0XHRcdC8vIFNpZ25hdHVyZSAxOiAoZmQsIHN0cmluZywgW3Bvc2l0aW9uPywgW2VuY29kaW5nP11dLCBjYj8pXG5cdFx0XHRsZXQgZW5jb2Rpbmc6IEJ1ZmZlckVuY29kaW5nID0gJ3V0ZjgnO1xuXHRcdFx0c3dpdGNoICh0eXBlb2YgYXJnMykge1xuXHRcdFx0XHRjYXNlICdmdW5jdGlvbic6XG5cdFx0XHRcdFx0Ly8gKGZkLCBzdHJpbmcsIGNiKVxuXHRcdFx0XHRcdGNiID0gYXJnMztcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAnbnVtYmVyJzpcblx0XHRcdFx0XHQvLyAoZmQsIHN0cmluZywgcG9zaXRpb24sIGVuY29kaW5nPywgY2I/KVxuXHRcdFx0XHRcdHBvc2l0aW9uID0gYXJnMztcblx0XHRcdFx0XHRlbmNvZGluZyA9ICh0eXBlb2YgYXJnNCA9PT0gJ3N0cmluZycgPyBhcmc0IDogJ3V0ZjgnKSBhcyBCdWZmZXJFbmNvZGluZztcblx0XHRcdFx0XHRjYiA9IHR5cGVvZiBhcmc1ID09PSAnZnVuY3Rpb24nID8gYXJnNSA6IGNiO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdC8vIC4uLnRyeSB0byBmaW5kIHRoZSBjYWxsYmFjayBhbmQgZ2V0IG91dCBvZiBoZXJlIVxuXHRcdFx0XHRcdGNiID0gdHlwZW9mIGFyZzQgPT09ICdmdW5jdGlvbicgPyBhcmc0IDogdHlwZW9mIGFyZzUgPT09ICdmdW5jdGlvbicgPyBhcmc1IDogY2I7XG5cdFx0XHRcdFx0cmV0dXJuIGNiKG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRUlOVkFMLCAnSW52YWxpZCBhcmd1bWVudHMuJykpO1xuXHRcdFx0fVxuXHRcdFx0YnVmZmVyID0gQnVmZmVyLmZyb20oYXJnMiwgZW5jb2RpbmcpO1xuXHRcdFx0b2Zmc2V0ID0gMDtcblx0XHRcdGxlbmd0aCA9IGJ1ZmZlci5sZW5ndGg7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIFNpZ25hdHVyZSAyOiAoZmQsIGJ1ZmZlciwgb2Zmc2V0LCBsZW5ndGgsIHBvc2l0aW9uPywgY2I/KVxuXHRcdFx0YnVmZmVyID0gYXJnMjtcblx0XHRcdG9mZnNldCA9IGFyZzM7XG5cdFx0XHRsZW5ndGggPSBhcmc0O1xuXHRcdFx0cG9zaXRpb24gPSB0eXBlb2YgYXJnNSA9PT0gJ251bWJlcicgPyBhcmc1IDogbnVsbDtcblx0XHRcdGNiID0gdHlwZW9mIGFyZzUgPT09ICdmdW5jdGlvbicgPyBhcmc1IDogY2I7XG5cdFx0fVxuXG5cdFx0Y29uc3QgbmV3Q2IgPSB3cmFwQ2IoY2IsIDMpO1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBmaWxlID0gdGhpcy5mZDJmaWxlKGZkKTtcblx0XHRcdGlmIChwb3NpdGlvbiA9PT0gdW5kZWZpbmVkIHx8IHBvc2l0aW9uID09PSBudWxsKSB7XG5cdFx0XHRcdHBvc2l0aW9uID0gZmlsZS5nZXRQb3MoKSE7XG5cdFx0XHR9XG5cdFx0XHRmaWxlLndyaXRlKGJ1ZmZlciwgb2Zmc2V0LCBsZW5ndGgsIHBvc2l0aW9uLCBuZXdDYik7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0bmV3Q2IoZSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFdyaXRlIGJ1ZmZlciB0byB0aGUgZmlsZSBzcGVjaWZpZWQgYnkgYGZkYC5cblx0ICogTm90ZSB0aGF0IGl0IGlzIHVuc2FmZSB0byB1c2UgZnMud3JpdGUgbXVsdGlwbGUgdGltZXMgb24gdGhlIHNhbWUgZmlsZVxuXHQgKiB3aXRob3V0IHdhaXRpbmcgZm9yIGl0IHRvIHJldHVybi5cblx0ICogQHBhcmFtIGZkXG5cdCAqIEBwYXJhbSBidWZmZXIgQnVmZmVyIGNvbnRhaW5pbmcgdGhlIGRhdGEgdG8gd3JpdGUgdG9cblx0ICogICB0aGUgZmlsZS5cblx0ICogQHBhcmFtIG9mZnNldCBPZmZzZXQgaW4gdGhlIGJ1ZmZlciB0byBzdGFydCByZWFkaW5nIGRhdGEgZnJvbS5cblx0ICogQHBhcmFtIGxlbmd0aCBUaGUgYW1vdW50IG9mIGJ5dGVzIHRvIHdyaXRlIHRvIHRoZSBmaWxlLlxuXHQgKiBAcGFyYW0gcG9zaXRpb24gT2Zmc2V0IGZyb20gdGhlIGJlZ2lubmluZyBvZiB0aGUgZmlsZSB3aGVyZSB0aGlzXG5cdCAqICAgZGF0YSBzaG91bGQgYmUgd3JpdHRlbi4gSWYgcG9zaXRpb24gaXMgbnVsbCwgdGhlIGRhdGEgd2lsbCBiZSB3cml0dGVuIGF0XG5cdCAqICAgdGhlIGN1cnJlbnQgcG9zaXRpb24uXG5cdCAqL1xuXHRwdWJsaWMgd3JpdGVTeW5jKGZkOiBudW1iZXIsIGJ1ZmZlcjogQnVmZmVyLCBvZmZzZXQ6IG51bWJlciwgbGVuZ3RoOiBudW1iZXIsIHBvc2l0aW9uPzogbnVtYmVyIHwgbnVsbCk6IG51bWJlcjtcblx0cHVibGljIHdyaXRlU3luYyhmZDogbnVtYmVyLCBkYXRhOiBzdHJpbmcsIHBvc2l0aW9uPzogbnVtYmVyIHwgbnVsbCwgZW5jb2Rpbmc/OiBCdWZmZXJFbmNvZGluZyk6IG51bWJlcjtcblx0cHVibGljIHdyaXRlU3luYyhmZDogbnVtYmVyLCBhcmcyOiBhbnksIGFyZzM/OiBhbnksIGFyZzQ/OiBhbnksIGFyZzU/OiBhbnkpOiBudW1iZXIge1xuXHRcdGxldCBidWZmZXI6IEJ1ZmZlcixcblx0XHRcdG9mZnNldDogbnVtYmVyID0gMCxcblx0XHRcdGxlbmd0aDogbnVtYmVyLFxuXHRcdFx0cG9zaXRpb246IG51bWJlciB8IG51bGw7XG5cdFx0aWYgKHR5cGVvZiBhcmcyID09PSAnc3RyaW5nJykge1xuXHRcdFx0Ly8gU2lnbmF0dXJlIDE6IChmZCwgc3RyaW5nLCBbcG9zaXRpb24/LCBbZW5jb2Rpbmc/XV0pXG5cdFx0XHRwb3NpdGlvbiA9IHR5cGVvZiBhcmczID09PSAnbnVtYmVyJyA/IGFyZzMgOiBudWxsO1xuXHRcdFx0Y29uc3QgZW5jb2RpbmcgPSAodHlwZW9mIGFyZzQgPT09ICdzdHJpbmcnID8gYXJnNCA6ICd1dGY4JykgYXMgQnVmZmVyRW5jb2Rpbmc7XG5cdFx0XHRvZmZzZXQgPSAwO1xuXHRcdFx0YnVmZmVyID0gQnVmZmVyLmZyb20oYXJnMiwgZW5jb2RpbmcpO1xuXHRcdFx0bGVuZ3RoID0gYnVmZmVyLmxlbmd0aDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gU2lnbmF0dXJlIDI6IChmZCwgYnVmZmVyLCBvZmZzZXQsIGxlbmd0aCwgcG9zaXRpb24/KVxuXHRcdFx0YnVmZmVyID0gYXJnMjtcblx0XHRcdG9mZnNldCA9IGFyZzM7XG5cdFx0XHRsZW5ndGggPSBhcmc0O1xuXHRcdFx0cG9zaXRpb24gPSB0eXBlb2YgYXJnNSA9PT0gJ251bWJlcicgPyBhcmc1IDogbnVsbDtcblx0XHR9XG5cblx0XHRjb25zdCBmaWxlID0gdGhpcy5mZDJmaWxlKGZkKTtcblx0XHRpZiAocG9zaXRpb24gPT09IHVuZGVmaW5lZCB8fCBwb3NpdGlvbiA9PT0gbnVsbCkge1xuXHRcdFx0cG9zaXRpb24gPSBmaWxlLmdldFBvcygpITtcblx0XHR9XG5cdFx0cmV0dXJuIGZpbGUud3JpdGVTeW5jKGJ1ZmZlciwgb2Zmc2V0LCBsZW5ndGgsIHBvc2l0aW9uKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZWFkIGRhdGEgZnJvbSB0aGUgZmlsZSBzcGVjaWZpZWQgYnkgYGZkYC5cblx0ICogQHBhcmFtIGJ1ZmZlciBUaGUgYnVmZmVyIHRoYXQgdGhlIGRhdGEgd2lsbCBiZVxuXHQgKiAgIHdyaXR0ZW4gdG8uXG5cdCAqIEBwYXJhbSBvZmZzZXQgVGhlIG9mZnNldCB3aXRoaW4gdGhlIGJ1ZmZlciB3aGVyZSB3cml0aW5nIHdpbGxcblx0ICogICBzdGFydC5cblx0ICogQHBhcmFtIGxlbmd0aCBBbiBpbnRlZ2VyIHNwZWNpZnlpbmcgdGhlIG51bWJlciBvZiBieXRlcyB0byByZWFkLlxuXHQgKiBAcGFyYW0gcG9zaXRpb24gQW4gaW50ZWdlciBzcGVjaWZ5aW5nIHdoZXJlIHRvIGJlZ2luIHJlYWRpbmcgZnJvbVxuXHQgKiAgIGluIHRoZSBmaWxlLiBJZiBwb3NpdGlvbiBpcyBudWxsLCBkYXRhIHdpbGwgYmUgcmVhZCBmcm9tIHRoZSBjdXJyZW50IGZpbGVcblx0ICogICBwb3NpdGlvbi5cblx0ICogQHBhcmFtIGNhbGxiYWNrIFRoZSBudW1iZXIgaXMgdGhlIG51bWJlciBvZiBieXRlcyByZWFkXG5cdCAqL1xuXHRwdWJsaWMgcmVhZChmZDogbnVtYmVyLCBsZW5ndGg6IG51bWJlciwgcG9zaXRpb246IG51bWJlciB8IG51bGwsIGVuY29kaW5nOiBzdHJpbmcsIGNiPzogQkZTVGhyZWVBcmdDYWxsYmFjazxzdHJpbmcsIG51bWJlcj4pOiB2b2lkO1xuXHRwdWJsaWMgcmVhZChmZDogbnVtYmVyLCBidWZmZXI6IEJ1ZmZlciwgb2Zmc2V0OiBudW1iZXIsIGxlbmd0aDogbnVtYmVyLCBwb3NpdGlvbjogbnVtYmVyIHwgbnVsbCwgY2I/OiBCRlNUaHJlZUFyZ0NhbGxiYWNrPG51bWJlciwgQnVmZmVyPik6IHZvaWQ7XG5cdHB1YmxpYyByZWFkKGZkOiBudW1iZXIsIGFyZzI6IGFueSwgYXJnMzogYW55LCBhcmc0OiBhbnksIGFyZzU/OiBhbnksIGNiOiBCRlNUaHJlZUFyZ0NhbGxiYWNrPHN0cmluZywgbnVtYmVyPiB8IEJGU1RocmVlQXJnQ2FsbGJhY2s8bnVtYmVyLCBCdWZmZXI+ID0gbm9wQ2IpOiB2b2lkIHtcblx0XHRsZXQgcG9zaXRpb246IG51bWJlciB8IG51bGwsIG9mZnNldDogbnVtYmVyLCBsZW5ndGg6IG51bWJlciwgYnVmZmVyOiBCdWZmZXIsIG5ld0NiOiBCRlNUaHJlZUFyZ0NhbGxiYWNrPG51bWJlciwgQnVmZmVyPjtcblx0XHRpZiAodHlwZW9mIGFyZzIgPT09ICdudW1iZXInKSB7XG5cdFx0XHQvLyBsZWdhY3kgaW50ZXJmYWNlXG5cdFx0XHQvLyAoZmQsIGxlbmd0aCwgcG9zaXRpb24sIGVuY29kaW5nLCBjYWxsYmFjaylcblx0XHRcdGxlbmd0aCA9IGFyZzI7XG5cdFx0XHRwb3NpdGlvbiA9IGFyZzM7XG5cdFx0XHRjb25zdCBlbmNvZGluZyA9IGFyZzQ7XG5cdFx0XHRjYiA9IHR5cGVvZiBhcmc1ID09PSAnZnVuY3Rpb24nID8gYXJnNSA6IGNiO1xuXHRcdFx0b2Zmc2V0ID0gMDtcblx0XHRcdGJ1ZmZlciA9IEJ1ZmZlci5hbGxvYyhsZW5ndGgpO1xuXHRcdFx0Ly8gWFhYOiBJbmVmZmljaWVudC5cblx0XHRcdC8vIFdyYXAgdGhlIGNiIHNvIHdlIHNoZWx0ZXIgdXBwZXIgbGF5ZXJzIG9mIHRoZSBBUEkgZnJvbSB0aGVzZVxuXHRcdFx0Ly8gc2hlbmFuaWdhbnMuXG5cdFx0XHRuZXdDYiA9IHdyYXBDYigoZXJyPzogQXBpRXJyb3IgfCBudWxsLCBieXRlc1JlYWQ/OiBudW1iZXIsIGJ1Zj86IEJ1ZmZlcikgPT4ge1xuXHRcdFx0XHRpZiAoZXJyKSB7XG5cdFx0XHRcdFx0cmV0dXJuICg8RnVuY3Rpb24+Y2IpKGVycik7XG5cdFx0XHRcdH1cblx0XHRcdFx0KDxCRlNUaHJlZUFyZ0NhbGxiYWNrPHN0cmluZywgbnVtYmVyPj5jYikoZXJyLCBidWYhLnRvU3RyaW5nKGVuY29kaW5nKSwgYnl0ZXNSZWFkISk7XG5cdFx0XHR9LCAzKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0YnVmZmVyID0gYXJnMjtcblx0XHRcdG9mZnNldCA9IGFyZzM7XG5cdFx0XHRsZW5ndGggPSBhcmc0O1xuXHRcdFx0cG9zaXRpb24gPSBhcmc1O1xuXHRcdFx0bmV3Q2IgPSB3cmFwQ2IoPEJGU1RocmVlQXJnQ2FsbGJhY2s8bnVtYmVyLCBCdWZmZXI+PmNiLCAzKTtcblx0XHR9XG5cblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgZmlsZSA9IHRoaXMuZmQyZmlsZShmZCk7XG5cdFx0XHRpZiAocG9zaXRpb24gPT09IHVuZGVmaW5lZCB8fCBwb3NpdGlvbiA9PT0gbnVsbCkge1xuXHRcdFx0XHRwb3NpdGlvbiA9IGZpbGUuZ2V0UG9zKCkhO1xuXHRcdFx0fVxuXHRcdFx0ZmlsZS5yZWFkKGJ1ZmZlciwgb2Zmc2V0LCBsZW5ndGgsIHBvc2l0aW9uLCBuZXdDYik7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0bmV3Q2IoZSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFJlYWQgZGF0YSBmcm9tIHRoZSBmaWxlIHNwZWNpZmllZCBieSBgZmRgLlxuXHQgKiBAcGFyYW0gZmRcblx0ICogQHBhcmFtIGJ1ZmZlciBUaGUgYnVmZmVyIHRoYXQgdGhlIGRhdGEgd2lsbCBiZVxuXHQgKiAgIHdyaXR0ZW4gdG8uXG5cdCAqIEBwYXJhbSBvZmZzZXQgVGhlIG9mZnNldCB3aXRoaW4gdGhlIGJ1ZmZlciB3aGVyZSB3cml0aW5nIHdpbGxcblx0ICogICBzdGFydC5cblx0ICogQHBhcmFtIGxlbmd0aCBBbiBpbnRlZ2VyIHNwZWNpZnlpbmcgdGhlIG51bWJlciBvZiBieXRlcyB0byByZWFkLlxuXHQgKiBAcGFyYW0gcG9zaXRpb24gQW4gaW50ZWdlciBzcGVjaWZ5aW5nIHdoZXJlIHRvIGJlZ2luIHJlYWRpbmcgZnJvbVxuXHQgKiAgIGluIHRoZSBmaWxlLiBJZiBwb3NpdGlvbiBpcyBudWxsLCBkYXRhIHdpbGwgYmUgcmVhZCBmcm9tIHRoZSBjdXJyZW50IGZpbGVcblx0ICogICBwb3NpdGlvbi5cblx0ICogQHJldHVybiBbTnVtYmVyXVxuXHQgKi9cblx0cHVibGljIHJlYWRTeW5jKGZkOiBudW1iZXIsIGxlbmd0aDogbnVtYmVyLCBwb3NpdGlvbjogbnVtYmVyLCBlbmNvZGluZzogQnVmZmVyRW5jb2RpbmcpOiBzdHJpbmc7XG5cdHB1YmxpYyByZWFkU3luYyhmZDogbnVtYmVyLCBidWZmZXI6IEJ1ZmZlciwgb2Zmc2V0OiBudW1iZXIsIGxlbmd0aDogbnVtYmVyLCBwb3NpdGlvbjogbnVtYmVyKTogbnVtYmVyO1xuXHRwdWJsaWMgcmVhZFN5bmMoZmQ6IG51bWJlciwgYXJnMjogYW55LCBhcmczOiBhbnksIGFyZzQ6IGFueSwgYXJnNT86IGFueSk6IGFueSB7XG5cdFx0bGV0IHNoZW5hbmlnYW5zID0gZmFsc2U7XG5cdFx0bGV0IGJ1ZmZlcjogQnVmZmVyLFxuXHRcdFx0b2Zmc2V0OiBudW1iZXIsXG5cdFx0XHRsZW5ndGg6IG51bWJlcixcblx0XHRcdHBvc2l0aW9uOiBudW1iZXIsXG5cdFx0XHRlbmNvZGluZzogQnVmZmVyRW5jb2RpbmcgPSAndXRmOCc7XG5cdFx0aWYgKHR5cGVvZiBhcmcyID09PSAnbnVtYmVyJykge1xuXHRcdFx0bGVuZ3RoID0gYXJnMjtcblx0XHRcdHBvc2l0aW9uID0gYXJnMztcblx0XHRcdGVuY29kaW5nID0gYXJnNDtcblx0XHRcdG9mZnNldCA9IDA7XG5cdFx0XHRidWZmZXIgPSBCdWZmZXIuYWxsb2MobGVuZ3RoKTtcblx0XHRcdHNoZW5hbmlnYW5zID0gdHJ1ZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0YnVmZmVyID0gYXJnMjtcblx0XHRcdG9mZnNldCA9IGFyZzM7XG5cdFx0XHRsZW5ndGggPSBhcmc0O1xuXHRcdFx0cG9zaXRpb24gPSBhcmc1O1xuXHRcdH1cblx0XHRjb25zdCBmaWxlID0gdGhpcy5mZDJmaWxlKGZkKTtcblx0XHRpZiAocG9zaXRpb24gPT09IHVuZGVmaW5lZCB8fCBwb3NpdGlvbiA9PT0gbnVsbCkge1xuXHRcdFx0cG9zaXRpb24gPSBmaWxlLmdldFBvcygpITtcblx0XHR9XG5cblx0XHRjb25zdCBydiA9IGZpbGUucmVhZFN5bmMoYnVmZmVyLCBvZmZzZXQsIGxlbmd0aCwgcG9zaXRpb24pO1xuXHRcdGlmICghc2hlbmFuaWdhbnMpIHtcblx0XHRcdHJldHVybiBydjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIFtidWZmZXIudG9TdHJpbmcoZW5jb2RpbmcpLCBydl07XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEFzeW5jaHJvbm91cyBgZmNob3duYC5cblx0ICogQHBhcmFtIGZkXG5cdCAqIEBwYXJhbSB1aWRcblx0ICogQHBhcmFtIGdpZFxuXHQgKiBAcGFyYW0gY2FsbGJhY2tcblx0ICovXG5cdHB1YmxpYyBmY2hvd24oZmQ6IG51bWJlciwgdWlkOiBudW1iZXIsIGdpZDogbnVtYmVyLCBjYWxsYmFjazogQkZTT25lQXJnQ2FsbGJhY2sgPSBub3BDYik6IHZvaWQge1xuXHRcdGNvbnN0IG5ld0NiID0gd3JhcENiKGNhbGxiYWNrLCAxKTtcblx0XHR0cnkge1xuXHRcdFx0dGhpcy5mZDJmaWxlKGZkKS5jaG93bih1aWQsIGdpZCwgbmV3Q2IpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdG5ld0NiKGUpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBTeW5jaHJvbm91cyBgZmNob3duYC5cblx0ICogQHBhcmFtIGZkXG5cdCAqIEBwYXJhbSB1aWRcblx0ICogQHBhcmFtIGdpZFxuXHQgKi9cblx0cHVibGljIGZjaG93blN5bmMoZmQ6IG51bWJlciwgdWlkOiBudW1iZXIsIGdpZDogbnVtYmVyKTogdm9pZCB7XG5cdFx0dGhpcy5mZDJmaWxlKGZkKS5jaG93blN5bmModWlkLCBnaWQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEFzeW5jaHJvbm91cyBgZmNobW9kYC5cblx0ICogQHBhcmFtIGZkXG5cdCAqIEBwYXJhbSBtb2RlXG5cdCAqIEBwYXJhbSBjYWxsYmFja1xuXHQgKi9cblx0cHVibGljIGZjaG1vZChmZDogbnVtYmVyLCBtb2RlOiBzdHJpbmcgfCBudW1iZXIsIGNiOiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQge1xuXHRcdGNvbnN0IG5ld0NiID0gd3JhcENiKGNiLCAxKTtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgbnVtTW9kZSA9IHR5cGVvZiBtb2RlID09PSAnc3RyaW5nJyA/IHBhcnNlSW50KG1vZGUsIDgpIDogbW9kZTtcblx0XHRcdHRoaXMuZmQyZmlsZShmZCkuY2htb2QobnVtTW9kZSwgbmV3Q2IpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdG5ld0NiKGUpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBTeW5jaHJvbm91cyBgZmNobW9kYC5cblx0ICogQHBhcmFtIGZkXG5cdCAqIEBwYXJhbSBtb2RlXG5cdCAqL1xuXHRwdWJsaWMgZmNobW9kU3luYyhmZDogbnVtYmVyLCBtb2RlOiBudW1iZXIgfCBzdHJpbmcpOiB2b2lkIHtcblx0XHRjb25zdCBudW1Nb2RlID0gdHlwZW9mIG1vZGUgPT09ICdzdHJpbmcnID8gcGFyc2VJbnQobW9kZSwgOCkgOiBtb2RlO1xuXHRcdHRoaXMuZmQyZmlsZShmZCkuY2htb2RTeW5jKG51bU1vZGUpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENoYW5nZSB0aGUgZmlsZSB0aW1lc3RhbXBzIG9mIGEgZmlsZSByZWZlcmVuY2VkIGJ5IHRoZSBzdXBwbGllZCBmaWxlXG5cdCAqIGRlc2NyaXB0b3IuXG5cdCAqIEBwYXJhbSBmZFxuXHQgKiBAcGFyYW0gYXRpbWVcblx0ICogQHBhcmFtIG10aW1lXG5cdCAqIEBwYXJhbSBjYWxsYmFja1xuXHQgKi9cblx0cHVibGljIGZ1dGltZXMoZmQ6IG51bWJlciwgYXRpbWU6IG51bWJlciB8IERhdGUsIG10aW1lOiBudW1iZXIgfCBEYXRlLCBjYjogQkZTT25lQXJnQ2FsbGJhY2sgPSBub3BDYik6IHZvaWQge1xuXHRcdGNvbnN0IG5ld0NiID0gd3JhcENiKGNiLCAxKTtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgZmlsZSA9IHRoaXMuZmQyZmlsZShmZCk7XG5cdFx0XHRpZiAodHlwZW9mIGF0aW1lID09PSAnbnVtYmVyJykge1xuXHRcdFx0XHRhdGltZSA9IG5ldyBEYXRlKGF0aW1lICogMTAwMCk7XG5cdFx0XHR9XG5cdFx0XHRpZiAodHlwZW9mIG10aW1lID09PSAnbnVtYmVyJykge1xuXHRcdFx0XHRtdGltZSA9IG5ldyBEYXRlKG10aW1lICogMTAwMCk7XG5cdFx0XHR9XG5cdFx0XHRmaWxlLnV0aW1lcyhhdGltZSwgbXRpbWUsIG5ld0NiKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRuZXdDYihlKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogQ2hhbmdlIHRoZSBmaWxlIHRpbWVzdGFtcHMgb2YgYSBmaWxlIHJlZmVyZW5jZWQgYnkgdGhlIHN1cHBsaWVkIGZpbGVcblx0ICogZGVzY3JpcHRvci5cblx0ICogQHBhcmFtIGZkXG5cdCAqIEBwYXJhbSBhdGltZVxuXHQgKiBAcGFyYW0gbXRpbWVcblx0ICovXG5cdHB1YmxpYyBmdXRpbWVzU3luYyhmZDogbnVtYmVyLCBhdGltZTogbnVtYmVyIHwgRGF0ZSwgbXRpbWU6IG51bWJlciB8IERhdGUpOiB2b2lkIHtcblx0XHR0aGlzLmZkMmZpbGUoZmQpLnV0aW1lc1N5bmMobm9ybWFsaXplVGltZShhdGltZSksIG5vcm1hbGl6ZVRpbWUobXRpbWUpKTtcblx0fVxuXG5cdC8vIERJUkVDVE9SWS1PTkxZIE1FVEhPRFNcblxuXHQvKipcblx0ICogQXN5bmNocm9ub3VzIGBybWRpcmAuXG5cdCAqIEBwYXJhbSBwYXRoXG5cdCAqIEBwYXJhbSBjYWxsYmFja1xuXHQgKi9cblx0cHVibGljIHJtZGlyKHBhdGg6IHN0cmluZywgY2I6IEJGU09uZUFyZ0NhbGxiYWNrID0gbm9wQ2IpOiB2b2lkIHtcblx0XHRjb25zdCBuZXdDYiA9IHdyYXBDYihjYiwgMSk7XG5cdFx0dHJ5IHtcblx0XHRcdHBhdGggPSBub3JtYWxpemVQYXRoKHBhdGgpO1xuXHRcdFx0YXNzZXJ0Um9vdCh0aGlzLnJvb3QpLnJtZGlyKHBhdGgsIHRoaXMuY3JlZCwgbmV3Q2IpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdG5ld0NiKGUpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBTeW5jaHJvbm91cyBgcm1kaXJgLlxuXHQgKiBAcGFyYW0gcGF0aFxuXHQgKi9cblx0cHVibGljIHJtZGlyU3luYyhwYXRoOiBzdHJpbmcpOiB2b2lkIHtcblx0XHRwYXRoID0gbm9ybWFsaXplUGF0aChwYXRoKTtcblx0XHRyZXR1cm4gYXNzZXJ0Um9vdCh0aGlzLnJvb3QpLnJtZGlyU3luYyhwYXRoLCB0aGlzLmNyZWQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEFzeW5jaHJvbm91cyBgbWtkaXJgLlxuXHQgKiBAcGFyYW0gcGF0aFxuXHQgKiBAcGFyYW0gbW9kZSBkZWZhdWx0cyB0byBgMDc3N2Bcblx0ICogQHBhcmFtIGNhbGxiYWNrXG5cdCAqL1xuXHRwdWJsaWMgbWtkaXIocGF0aDogc3RyaW5nLCBtb2RlPzogYW55LCBjYjogQkZTT25lQXJnQ2FsbGJhY2sgPSBub3BDYik6IHZvaWQge1xuXHRcdGlmICh0eXBlb2YgbW9kZSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0Y2IgPSBtb2RlO1xuXHRcdFx0bW9kZSA9IDB4MWZmO1xuXHRcdH1cblx0XHRjb25zdCBuZXdDYiA9IHdyYXBDYihjYiwgMSk7XG5cdFx0dHJ5IHtcblx0XHRcdHBhdGggPSBub3JtYWxpemVQYXRoKHBhdGgpO1xuXHRcdFx0YXNzZXJ0Um9vdCh0aGlzLnJvb3QpLm1rZGlyKHBhdGgsIG1vZGUsIHRoaXMuY3JlZCwgbmV3Q2IpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdG5ld0NiKGUpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBTeW5jaHJvbm91cyBgbWtkaXJgLlxuXHQgKiBAcGFyYW0gcGF0aFxuXHQgKiBAcGFyYW0gbW9kZSBkZWZhdWx0cyB0byBgMDc3N2Bcblx0ICovXG5cdHB1YmxpYyBta2RpclN5bmMocGF0aDogc3RyaW5nLCBtb2RlPzogbnVtYmVyIHwgc3RyaW5nKTogdm9pZCB7XG5cdFx0YXNzZXJ0Um9vdCh0aGlzLnJvb3QpLm1rZGlyU3luYyhub3JtYWxpemVQYXRoKHBhdGgpLCBub3JtYWxpemVNb2RlKG1vZGUsIDB4MWZmKSwgdGhpcy5jcmVkKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBc3luY2hyb25vdXMgYHJlYWRkaXJgLiBSZWFkcyB0aGUgY29udGVudHMgb2YgYSBkaXJlY3RvcnkuXG5cdCAqIFRoZSBjYWxsYmFjayBnZXRzIHR3byBhcmd1bWVudHMgYChlcnIsIGZpbGVzKWAgd2hlcmUgYGZpbGVzYCBpcyBhbiBhcnJheSBvZlxuXHQgKiB0aGUgbmFtZXMgb2YgdGhlIGZpbGVzIGluIHRoZSBkaXJlY3RvcnkgZXhjbHVkaW5nIGAnLidgIGFuZCBgJy4uJ2AuXG5cdCAqIEBwYXJhbSBwYXRoXG5cdCAqIEBwYXJhbSBjYWxsYmFja1xuXHQgKi9cblx0cHVibGljIHJlYWRkaXIocGF0aDogc3RyaW5nLCBjYjogQkZTQ2FsbGJhY2s8c3RyaW5nW10+ID0gbm9wQ2IpOiB2b2lkIHtcblx0XHRjb25zdCBuZXdDYiA9IDwoZXJyOiBBcGlFcnJvciwgZmlsZXM/OiBzdHJpbmdbXSkgPT4gdm9pZD53cmFwQ2IoY2IsIDIpO1xuXHRcdHRyeSB7XG5cdFx0XHRwYXRoID0gbm9ybWFsaXplUGF0aChwYXRoKTtcblx0XHRcdGFzc2VydFJvb3QodGhpcy5yb290KS5yZWFkZGlyKHBhdGgsIHRoaXMuY3JlZCwgbmV3Q2IpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdG5ld0NiKGUpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBTeW5jaHJvbm91cyBgcmVhZGRpcmAuIFJlYWRzIHRoZSBjb250ZW50cyBvZiBhIGRpcmVjdG9yeS5cblx0ICogQHBhcmFtIHBhdGhcblx0ICogQHJldHVybiBbU3RyaW5nW11dXG5cdCAqL1xuXHRwdWJsaWMgcmVhZGRpclN5bmMocGF0aDogc3RyaW5nKTogc3RyaW5nW10ge1xuXHRcdHBhdGggPSBub3JtYWxpemVQYXRoKHBhdGgpO1xuXHRcdHJldHVybiBhc3NlcnRSb290KHRoaXMucm9vdCkucmVhZGRpclN5bmMocGF0aCwgdGhpcy5jcmVkKTtcblx0fVxuXG5cdC8vIFNZTUxJTksgTUVUSE9EU1xuXG5cdC8qKlxuXHQgKiBBc3luY2hyb25vdXMgYGxpbmtgLlxuXHQgKiBAcGFyYW0gc3JjcGF0aFxuXHQgKiBAcGFyYW0gZHN0cGF0aFxuXHQgKiBAcGFyYW0gY2FsbGJhY2tcblx0ICovXG5cdHB1YmxpYyBsaW5rKHNyY3BhdGg6IHN0cmluZywgZHN0cGF0aDogc3RyaW5nLCBjYjogQkZTT25lQXJnQ2FsbGJhY2sgPSBub3BDYik6IHZvaWQge1xuXHRcdGNvbnN0IG5ld0NiID0gd3JhcENiKGNiLCAxKTtcblx0XHR0cnkge1xuXHRcdFx0c3JjcGF0aCA9IG5vcm1hbGl6ZVBhdGgoc3JjcGF0aCk7XG5cdFx0XHRkc3RwYXRoID0gbm9ybWFsaXplUGF0aChkc3RwYXRoKTtcblx0XHRcdGFzc2VydFJvb3QodGhpcy5yb290KS5saW5rKHNyY3BhdGgsIGRzdHBhdGgsIHRoaXMuY3JlZCwgbmV3Q2IpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdG5ld0NiKGUpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBTeW5jaHJvbm91cyBgbGlua2AuXG5cdCAqIEBwYXJhbSBzcmNwYXRoXG5cdCAqIEBwYXJhbSBkc3RwYXRoXG5cdCAqL1xuXHRwdWJsaWMgbGlua1N5bmMoc3JjcGF0aDogc3RyaW5nLCBkc3RwYXRoOiBzdHJpbmcpOiB2b2lkIHtcblx0XHRzcmNwYXRoID0gbm9ybWFsaXplUGF0aChzcmNwYXRoKTtcblx0XHRkc3RwYXRoID0gbm9ybWFsaXplUGF0aChkc3RwYXRoKTtcblx0XHRyZXR1cm4gYXNzZXJ0Um9vdCh0aGlzLnJvb3QpLmxpbmtTeW5jKHNyY3BhdGgsIGRzdHBhdGgsIHRoaXMuY3JlZCk7XG5cdH1cblxuXHQvKipcblx0ICogQXN5bmNocm9ub3VzIGBzeW1saW5rYC5cblx0ICogQHBhcmFtIHNyY3BhdGhcblx0ICogQHBhcmFtIGRzdHBhdGhcblx0ICogQHBhcmFtIHR5cGUgY2FuIGJlIGVpdGhlciBgJ2RpcidgIG9yIGAnZmlsZSdgIChkZWZhdWx0IGlzIGAnZmlsZSdgKVxuXHQgKiBAcGFyYW0gY2FsbGJhY2tcblx0ICovXG5cdHB1YmxpYyBzeW1saW5rKHNyY3BhdGg6IHN0cmluZywgZHN0cGF0aDogc3RyaW5nLCBjYj86IEJGU09uZUFyZ0NhbGxiYWNrKTogdm9pZDtcblx0cHVibGljIHN5bWxpbmsoc3JjcGF0aDogc3RyaW5nLCBkc3RwYXRoOiBzdHJpbmcsIHR5cGU/OiBzdHJpbmcsIGNiPzogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkO1xuXHRwdWJsaWMgc3ltbGluayhzcmNwYXRoOiBzdHJpbmcsIGRzdHBhdGg6IHN0cmluZywgYXJnMz86IGFueSwgY2I6IEJGU09uZUFyZ0NhbGxiYWNrID0gbm9wQ2IpOiB2b2lkIHtcblx0XHRjb25zdCB0eXBlID0gdHlwZW9mIGFyZzMgPT09ICdzdHJpbmcnID8gYXJnMyA6ICdmaWxlJztcblx0XHRjYiA9IHR5cGVvZiBhcmczID09PSAnZnVuY3Rpb24nID8gYXJnMyA6IGNiO1xuXHRcdGNvbnN0IG5ld0NiID0gd3JhcENiKGNiLCAxKTtcblx0XHR0cnkge1xuXHRcdFx0aWYgKHR5cGUgIT09ICdmaWxlJyAmJiB0eXBlICE9PSAnZGlyJykge1xuXHRcdFx0XHRyZXR1cm4gbmV3Q2IobmV3IEFwaUVycm9yKEVycm9yQ29kZS5FSU5WQUwsICdJbnZhbGlkIHR5cGU6ICcgKyB0eXBlKSk7XG5cdFx0XHR9XG5cdFx0XHRzcmNwYXRoID0gbm9ybWFsaXplUGF0aChzcmNwYXRoKTtcblx0XHRcdGRzdHBhdGggPSBub3JtYWxpemVQYXRoKGRzdHBhdGgpO1xuXHRcdFx0YXNzZXJ0Um9vdCh0aGlzLnJvb3QpLnN5bWxpbmsoc3JjcGF0aCwgZHN0cGF0aCwgdHlwZSwgdGhpcy5jcmVkLCBuZXdDYik7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0bmV3Q2IoZSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFN5bmNocm9ub3VzIGBzeW1saW5rYC5cblx0ICogQHBhcmFtIHNyY3BhdGhcblx0ICogQHBhcmFtIGRzdHBhdGhcblx0ICogQHBhcmFtIHR5cGUgY2FuIGJlIGVpdGhlciBgJ2RpcidgIG9yIGAnZmlsZSdgIChkZWZhdWx0IGlzIGAnZmlsZSdgKVxuXHQgKi9cblx0cHVibGljIHN5bWxpbmtTeW5jKHNyY3BhdGg6IHN0cmluZywgZHN0cGF0aDogc3RyaW5nLCB0eXBlPzogc3RyaW5nKTogdm9pZCB7XG5cdFx0aWYgKCF0eXBlKSB7XG5cdFx0XHR0eXBlID0gJ2ZpbGUnO1xuXHRcdH0gZWxzZSBpZiAodHlwZSAhPT0gJ2ZpbGUnICYmIHR5cGUgIT09ICdkaXInKSB7XG5cdFx0XHR0aHJvdyBuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVJTlZBTCwgJ0ludmFsaWQgdHlwZTogJyArIHR5cGUpO1xuXHRcdH1cblx0XHRzcmNwYXRoID0gbm9ybWFsaXplUGF0aChzcmNwYXRoKTtcblx0XHRkc3RwYXRoID0gbm9ybWFsaXplUGF0aChkc3RwYXRoKTtcblx0XHRyZXR1cm4gYXNzZXJ0Um9vdCh0aGlzLnJvb3QpLnN5bWxpbmtTeW5jKHNyY3BhdGgsIGRzdHBhdGgsIHR5cGUsIHRoaXMuY3JlZCk7XG5cdH1cblxuXHQvKipcblx0ICogQXN5bmNocm9ub3VzIHJlYWRsaW5rLlxuXHQgKiBAcGFyYW0gcGF0aFxuXHQgKiBAcGFyYW0gY2FsbGJhY2tcblx0ICovXG5cdHB1YmxpYyByZWFkbGluayhwYXRoOiBzdHJpbmcsIGNiOiBCRlNDYWxsYmFjazxzdHJpbmc+ID0gbm9wQ2IpOiB2b2lkIHtcblx0XHRjb25zdCBuZXdDYiA9IHdyYXBDYihjYiwgMik7XG5cdFx0dHJ5IHtcblx0XHRcdHBhdGggPSBub3JtYWxpemVQYXRoKHBhdGgpO1xuXHRcdFx0YXNzZXJ0Um9vdCh0aGlzLnJvb3QpLnJlYWRsaW5rKHBhdGgsIHRoaXMuY3JlZCwgbmV3Q2IpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdG5ld0NiKGUpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBTeW5jaHJvbm91cyByZWFkbGluay5cblx0ICogQHBhcmFtIHBhdGhcblx0ICogQHJldHVybiBbU3RyaW5nXVxuXHQgKi9cblx0cHVibGljIHJlYWRsaW5rU3luYyhwYXRoOiBzdHJpbmcpOiBzdHJpbmcge1xuXHRcdHBhdGggPSBub3JtYWxpemVQYXRoKHBhdGgpO1xuXHRcdHJldHVybiBhc3NlcnRSb290KHRoaXMucm9vdCkucmVhZGxpbmtTeW5jKHBhdGgsIHRoaXMuY3JlZCk7XG5cdH1cblxuXHQvLyBQUk9QRVJUWSBPUEVSQVRJT05TXG5cblx0LyoqXG5cdCAqIEFzeW5jaHJvbm91cyBgY2hvd25gLlxuXHQgKiBAcGFyYW0gcGF0aFxuXHQgKiBAcGFyYW0gdWlkXG5cdCAqIEBwYXJhbSBnaWRcblx0ICogQHBhcmFtIGNhbGxiYWNrXG5cdCAqL1xuXHRwdWJsaWMgY2hvd24ocGF0aDogc3RyaW5nLCB1aWQ6IG51bWJlciwgZ2lkOiBudW1iZXIsIGNiOiBCRlNPbmVBcmdDYWxsYmFjayA9IG5vcENiKTogdm9pZCB7XG5cdFx0Y29uc3QgbmV3Q2IgPSB3cmFwQ2IoY2IsIDEpO1xuXHRcdHRyeSB7XG5cdFx0XHRwYXRoID0gbm9ybWFsaXplUGF0aChwYXRoKTtcblx0XHRcdGFzc2VydFJvb3QodGhpcy5yb290KS5jaG93bihwYXRoLCBmYWxzZSwgdWlkLCBnaWQsIHRoaXMuY3JlZCwgbmV3Q2IpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdG5ld0NiKGUpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBTeW5jaHJvbm91cyBgY2hvd25gLlxuXHQgKiBAcGFyYW0gcGF0aFxuXHQgKiBAcGFyYW0gdWlkXG5cdCAqIEBwYXJhbSBnaWRcblx0ICovXG5cdHB1YmxpYyBjaG93blN5bmMocGF0aDogc3RyaW5nLCB1aWQ6IG51bWJlciwgZ2lkOiBudW1iZXIpOiB2b2lkIHtcblx0XHRwYXRoID0gbm9ybWFsaXplUGF0aChwYXRoKTtcblx0XHRhc3NlcnRSb290KHRoaXMucm9vdCkuY2hvd25TeW5jKHBhdGgsIGZhbHNlLCB1aWQsIGdpZCwgdGhpcy5jcmVkKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBc3luY2hyb25vdXMgYGxjaG93bmAuXG5cdCAqIEBwYXJhbSBwYXRoXG5cdCAqIEBwYXJhbSB1aWRcblx0ICogQHBhcmFtIGdpZFxuXHQgKiBAcGFyYW0gY2FsbGJhY2tcblx0ICovXG5cdHB1YmxpYyBsY2hvd24ocGF0aDogc3RyaW5nLCB1aWQ6IG51bWJlciwgZ2lkOiBudW1iZXIsIGNiOiBCRlNPbmVBcmdDYWxsYmFjayA9IG5vcENiKTogdm9pZCB7XG5cdFx0Y29uc3QgbmV3Q2IgPSB3cmFwQ2IoY2IsIDEpO1xuXHRcdHRyeSB7XG5cdFx0XHRwYXRoID0gbm9ybWFsaXplUGF0aChwYXRoKTtcblx0XHRcdGFzc2VydFJvb3QodGhpcy5yb290KS5jaG93bihwYXRoLCB0cnVlLCB1aWQsIGdpZCwgdGhpcy5jcmVkLCBuZXdDYik7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0bmV3Q2IoZSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFN5bmNocm9ub3VzIGBsY2hvd25gLlxuXHQgKiBAcGFyYW0gcGF0aFxuXHQgKiBAcGFyYW0gdWlkXG5cdCAqIEBwYXJhbSBnaWRcblx0ICovXG5cdHB1YmxpYyBsY2hvd25TeW5jKHBhdGg6IHN0cmluZywgdWlkOiBudW1iZXIsIGdpZDogbnVtYmVyKTogdm9pZCB7XG5cdFx0cGF0aCA9IG5vcm1hbGl6ZVBhdGgocGF0aCk7XG5cdFx0YXNzZXJ0Um9vdCh0aGlzLnJvb3QpLmNob3duU3luYyhwYXRoLCB0cnVlLCB1aWQsIGdpZCwgdGhpcy5jcmVkKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBc3luY2hyb25vdXMgYGNobW9kYC5cblx0ICogQHBhcmFtIHBhdGhcblx0ICogQHBhcmFtIG1vZGVcblx0ICogQHBhcmFtIGNhbGxiYWNrXG5cdCAqL1xuXHRwdWJsaWMgY2htb2QocGF0aDogc3RyaW5nLCBtb2RlOiBudW1iZXIgfCBzdHJpbmcsIGNiOiBCRlNPbmVBcmdDYWxsYmFjayA9IG5vcENiKTogdm9pZCB7XG5cdFx0Y29uc3QgbmV3Q2IgPSB3cmFwQ2IoY2IsIDEpO1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBudW1Nb2RlID0gbm9ybWFsaXplTW9kZShtb2RlLCAtMSk7XG5cdFx0XHRpZiAobnVtTW9kZSA8IDApIHtcblx0XHRcdFx0dGhyb3cgbmV3IEFwaUVycm9yKEVycm9yQ29kZS5FSU5WQUwsIGBJbnZhbGlkIG1vZGUuYCk7XG5cdFx0XHR9XG5cdFx0XHRhc3NlcnRSb290KHRoaXMucm9vdCkuY2htb2Qobm9ybWFsaXplUGF0aChwYXRoKSwgZmFsc2UsIG51bU1vZGUsIHRoaXMuY3JlZCwgbmV3Q2IpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdG5ld0NiKGUpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBTeW5jaHJvbm91cyBgY2htb2RgLlxuXHQgKiBAcGFyYW0gcGF0aFxuXHQgKiBAcGFyYW0gbW9kZVxuXHQgKi9cblx0cHVibGljIGNobW9kU3luYyhwYXRoOiBzdHJpbmcsIG1vZGU6IHN0cmluZyB8IG51bWJlcik6IHZvaWQge1xuXHRcdGNvbnN0IG51bU1vZGUgPSBub3JtYWxpemVNb2RlKG1vZGUsIC0xKTtcblx0XHRpZiAobnVtTW9kZSA8IDApIHtcblx0XHRcdHRocm93IG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRUlOVkFMLCBgSW52YWxpZCBtb2RlLmApO1xuXHRcdH1cblx0XHRwYXRoID0gbm9ybWFsaXplUGF0aChwYXRoKTtcblx0XHRhc3NlcnRSb290KHRoaXMucm9vdCkuY2htb2RTeW5jKHBhdGgsIGZhbHNlLCBudW1Nb2RlLCB0aGlzLmNyZWQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEFzeW5jaHJvbm91cyBgbGNobW9kYC5cblx0ICogQHBhcmFtIHBhdGhcblx0ICogQHBhcmFtIG1vZGVcblx0ICogQHBhcmFtIGNhbGxiYWNrXG5cdCAqL1xuXHRwdWJsaWMgbGNobW9kKHBhdGg6IHN0cmluZywgbW9kZTogbnVtYmVyIHwgc3RyaW5nLCBjYjogQkZTT25lQXJnQ2FsbGJhY2sgPSBub3BDYik6IHZvaWQge1xuXHRcdGNvbnN0IG5ld0NiID0gd3JhcENiKGNiLCAxKTtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgbnVtTW9kZSA9IG5vcm1hbGl6ZU1vZGUobW9kZSwgLTEpO1xuXHRcdFx0aWYgKG51bU1vZGUgPCAwKSB7XG5cdFx0XHRcdHRocm93IG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRUlOVkFMLCBgSW52YWxpZCBtb2RlLmApO1xuXHRcdFx0fVxuXHRcdFx0YXNzZXJ0Um9vdCh0aGlzLnJvb3QpLmNobW9kKG5vcm1hbGl6ZVBhdGgocGF0aCksIHRydWUsIG51bU1vZGUsIHRoaXMuY3JlZCwgbmV3Q2IpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdG5ld0NiKGUpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBTeW5jaHJvbm91cyBgbGNobW9kYC5cblx0ICogQHBhcmFtIHBhdGhcblx0ICogQHBhcmFtIG1vZGVcblx0ICovXG5cdHB1YmxpYyBsY2htb2RTeW5jKHBhdGg6IHN0cmluZywgbW9kZTogbnVtYmVyIHwgc3RyaW5nKTogdm9pZCB7XG5cdFx0Y29uc3QgbnVtTW9kZSA9IG5vcm1hbGl6ZU1vZGUobW9kZSwgLTEpO1xuXHRcdGlmIChudW1Nb2RlIDwgMSkge1xuXHRcdFx0dGhyb3cgbmV3IEFwaUVycm9yKEVycm9yQ29kZS5FSU5WQUwsIGBJbnZhbGlkIG1vZGUuYCk7XG5cdFx0fVxuXHRcdGFzc2VydFJvb3QodGhpcy5yb290KS5jaG1vZFN5bmMobm9ybWFsaXplUGF0aChwYXRoKSwgdHJ1ZSwgbnVtTW9kZSwgdGhpcy5jcmVkKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDaGFuZ2UgZmlsZSB0aW1lc3RhbXBzIG9mIHRoZSBmaWxlIHJlZmVyZW5jZWQgYnkgdGhlIHN1cHBsaWVkIHBhdGguXG5cdCAqIEBwYXJhbSBwYXRoXG5cdCAqIEBwYXJhbSBhdGltZVxuXHQgKiBAcGFyYW0gbXRpbWVcblx0ICogQHBhcmFtIGNhbGxiYWNrXG5cdCAqL1xuXHRwdWJsaWMgdXRpbWVzKHBhdGg6IHN0cmluZywgYXRpbWU6IG51bWJlciB8IERhdGUsIG10aW1lOiBudW1iZXIgfCBEYXRlLCBjYjogQkZTT25lQXJnQ2FsbGJhY2sgPSBub3BDYik6IHZvaWQge1xuXHRcdGNvbnN0IG5ld0NiID0gd3JhcENiKGNiLCAxKTtcblx0XHR0cnkge1xuXHRcdFx0YXNzZXJ0Um9vdCh0aGlzLnJvb3QpLnV0aW1lcyhub3JtYWxpemVQYXRoKHBhdGgpLCBub3JtYWxpemVUaW1lKGF0aW1lKSwgbm9ybWFsaXplVGltZShtdGltZSksIHRoaXMuY3JlZCwgbmV3Q2IpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdG5ld0NiKGUpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBDaGFuZ2UgZmlsZSB0aW1lc3RhbXBzIG9mIHRoZSBmaWxlIHJlZmVyZW5jZWQgYnkgdGhlIHN1cHBsaWVkIHBhdGguXG5cdCAqIEBwYXJhbSBwYXRoXG5cdCAqIEBwYXJhbSBhdGltZVxuXHQgKiBAcGFyYW0gbXRpbWVcblx0ICovXG5cdHB1YmxpYyB1dGltZXNTeW5jKHBhdGg6IHN0cmluZywgYXRpbWU6IG51bWJlciB8IERhdGUsIG10aW1lOiBudW1iZXIgfCBEYXRlKTogdm9pZCB7XG5cdFx0YXNzZXJ0Um9vdCh0aGlzLnJvb3QpLnV0aW1lc1N5bmMobm9ybWFsaXplUGF0aChwYXRoKSwgbm9ybWFsaXplVGltZShhdGltZSksIG5vcm1hbGl6ZVRpbWUobXRpbWUpLCB0aGlzLmNyZWQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEFzeW5jaHJvbm91cyBgcmVhbHBhdGhgLiBUaGUgY2FsbGJhY2sgZ2V0cyB0d28gYXJndW1lbnRzXG5cdCAqIGAoZXJyLCByZXNvbHZlZFBhdGgpYC4gTWF5IHVzZSBgcHJvY2Vzcy5jd2RgIHRvIHJlc29sdmUgcmVsYXRpdmUgcGF0aHMuXG5cdCAqXG5cdCAqIEBleGFtcGxlIFVzYWdlIGV4YW1wbGVcblx0ICogICBsZXQgY2FjaGUgPSB7Jy9ldGMnOicvcHJpdmF0ZS9ldGMnfTtcblx0ICogICBmcy5yZWFscGF0aCgnL2V0Yy9wYXNzd2QnLCBjYWNoZSwgZnVuY3Rpb24gKGVyciwgcmVzb2x2ZWRQYXRoKSB7XG5cdCAqICAgICBpZiAoZXJyKSB0aHJvdyBlcnI7XG5cdCAqICAgICBjb25zb2xlLmxvZyhyZXNvbHZlZFBhdGgpO1xuXHQgKiAgIH0pO1xuXHQgKlxuXHQgKiBAcGFyYW0gcGF0aFxuXHQgKiBAcGFyYW0gY2FjaGUgQW4gb2JqZWN0IGxpdGVyYWwgb2YgbWFwcGVkIHBhdGhzIHRoYXQgY2FuIGJlIHVzZWQgdG9cblx0ICogICBmb3JjZSBhIHNwZWNpZmljIHBhdGggcmVzb2x1dGlvbiBvciBhdm9pZCBhZGRpdGlvbmFsIGBmcy5zdGF0YCBjYWxscyBmb3Jcblx0ICogICBrbm93biByZWFsIHBhdGhzLlxuXHQgKiBAcGFyYW0gY2FsbGJhY2tcblx0ICovXG5cdHB1YmxpYyByZWFscGF0aChwYXRoOiBzdHJpbmcsIGNiPzogQkZTQ2FsbGJhY2s8c3RyaW5nPik6IHZvaWQ7XG5cdHB1YmxpYyByZWFscGF0aChwYXRoOiBzdHJpbmcsIGNhY2hlOiB7IFtwYXRoOiBzdHJpbmddOiBzdHJpbmcgfSwgY2I6IEJGU0NhbGxiYWNrPHN0cmluZz4pOiB2b2lkO1xuXHRwdWJsaWMgcmVhbHBhdGgocGF0aDogc3RyaW5nLCBhcmcyPzogYW55LCBjYjogQkZTQ2FsbGJhY2s8c3RyaW5nPiA9IG5vcENiKTogdm9pZCB7XG5cdFx0Y29uc3QgY2FjaGUgPSB0eXBlb2YgYXJnMiA9PT0gJ29iamVjdCcgPyBhcmcyIDoge307XG5cdFx0Y2IgPSB0eXBlb2YgYXJnMiA9PT0gJ2Z1bmN0aW9uJyA/IGFyZzIgOiBub3BDYjtcblx0XHRjb25zdCBuZXdDYiA9IDwoZXJyOiBBcGlFcnJvciwgcmVzb2x2ZWRQYXRoPzogc3RyaW5nKSA9PiBhbnk+d3JhcENiKGNiLCAyKTtcblx0XHR0cnkge1xuXHRcdFx0cGF0aCA9IG5vcm1hbGl6ZVBhdGgocGF0aCk7XG5cdFx0XHRhc3NlcnRSb290KHRoaXMucm9vdCkucmVhbHBhdGgocGF0aCwgY2FjaGUsIHRoaXMuY3JlZCwgbmV3Q2IpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdG5ld0NiKGUpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBTeW5jaHJvbm91cyBgcmVhbHBhdGhgLlxuXHQgKiBAcGFyYW0gcGF0aFxuXHQgKiBAcGFyYW0gY2FjaGUgQW4gb2JqZWN0IGxpdGVyYWwgb2YgbWFwcGVkIHBhdGhzIHRoYXQgY2FuIGJlIHVzZWQgdG9cblx0ICogICBmb3JjZSBhIHNwZWNpZmljIHBhdGggcmVzb2x1dGlvbiBvciBhdm9pZCBhZGRpdGlvbmFsIGBmcy5zdGF0YCBjYWxscyBmb3Jcblx0ICogICBrbm93biByZWFsIHBhdGhzLlxuXHQgKiBAcmV0dXJuIFtTdHJpbmddXG5cdCAqL1xuXHRwdWJsaWMgcmVhbHBhdGhTeW5jKHBhdGg6IHN0cmluZywgY2FjaGU6IHsgW3BhdGg6IHN0cmluZ106IHN0cmluZyB9ID0ge30pOiBzdHJpbmcge1xuXHRcdHBhdGggPSBub3JtYWxpemVQYXRoKHBhdGgpO1xuXHRcdHJldHVybiBhc3NlcnRSb290KHRoaXMucm9vdCkucmVhbHBhdGhTeW5jKHBhdGgsIGNhY2hlLCB0aGlzLmNyZWQpO1xuXHR9XG5cblx0cHVibGljIHdhdGNoRmlsZShmaWxlbmFtZTogc3RyaW5nLCBsaXN0ZW5lcjogKGN1cnI6IFN0YXRzLCBwcmV2OiBTdGF0cykgPT4gdm9pZCk6IHZvaWQ7XG5cdHB1YmxpYyB3YXRjaEZpbGUoZmlsZW5hbWU6IHN0cmluZywgb3B0aW9uczogeyBwZXJzaXN0ZW50PzogYm9vbGVhbjsgaW50ZXJ2YWw/OiBudW1iZXIgfSwgbGlzdGVuZXI6IChjdXJyOiBTdGF0cywgcHJldjogU3RhdHMpID0+IHZvaWQpOiB2b2lkO1xuXHRwdWJsaWMgd2F0Y2hGaWxlKGZpbGVuYW1lOiBzdHJpbmcsIGFyZzI6IGFueSwgbGlzdGVuZXI6IChjdXJyOiBTdGF0cywgcHJldjogU3RhdHMpID0+IHZvaWQgPSBub3BDYik6IHZvaWQge1xuXHRcdHRocm93IG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRU5PVFNVUCk7XG5cdH1cblxuXHRwdWJsaWMgdW53YXRjaEZpbGUoZmlsZW5hbWU6IHN0cmluZywgbGlzdGVuZXI6IChjdXJyOiBTdGF0cywgcHJldjogU3RhdHMpID0+IHZvaWQgPSBub3BDYik6IHZvaWQge1xuXHRcdHRocm93IG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRU5PVFNVUCk7XG5cdH1cblxuXHRwdWJsaWMgd2F0Y2goZmlsZW5hbWU6IHN0cmluZywgbGlzdGVuZXI/OiAoZXZlbnQ6IHN0cmluZywgZmlsZW5hbWU6IHN0cmluZykgPT4gYW55KTogX2ZzLkZTV2F0Y2hlcjtcblx0cHVibGljIHdhdGNoKGZpbGVuYW1lOiBzdHJpbmcsIG9wdGlvbnM6IHsgcGVyc2lzdGVudD86IGJvb2xlYW4gfSwgbGlzdGVuZXI/OiAoZXZlbnQ6IHN0cmluZywgZmlsZW5hbWU6IHN0cmluZykgPT4gYW55KTogX2ZzLkZTV2F0Y2hlcjtcblx0cHVibGljIHdhdGNoKGZpbGVuYW1lOiBzdHJpbmcsIGFyZzI6IGFueSwgbGlzdGVuZXI6IChldmVudDogc3RyaW5nLCBmaWxlbmFtZTogc3RyaW5nKSA9PiBhbnkgPSBub3BDYik6IF9mcy5GU1dhdGNoZXIge1xuXHRcdHRocm93IG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRU5PVFNVUCk7XG5cdH1cblxuXHQvKipcblx0ICogQXN5bmNocm9ub3VzIGBhY2Nlc3NgLlxuXHQgKiBAcGFyYW0gcGF0aFxuXHQgKiBAcGFyYW0gbW9kZVxuXHQgKiBAcGFyYW0gY2FsbGJhY2tcblx0ICovXG5cdHB1YmxpYyBhY2Nlc3MocGF0aDogc3RyaW5nLCBjYWxsYmFjazogKGVycjogQXBpRXJyb3IpID0+IHZvaWQpOiB2b2lkO1xuXHRwdWJsaWMgYWNjZXNzKHBhdGg6IHN0cmluZywgbW9kZTogbnVtYmVyLCBjYWxsYmFjazogKGVycjogQXBpRXJyb3IpID0+IHZvaWQpOiB2b2lkO1xuXHRwdWJsaWMgYWNjZXNzKHBhdGg6IHN0cmluZywgYXJnMjogYW55LCBjYWxsYmFjazogKGU6IEFwaUVycm9yKSA9PiB2b2lkID0gbm9wQ2IpOiB2b2lkIHtcblx0XHRjb25zdCBtb2RlID0gdHlwZW9mIGFyZzIgPT09ICdudW1iZXInID8gYXJnMiA6IEZpbGVQZXJtLlJFQUQ7XG5cdFx0Y2FsbGJhY2sgPSB0eXBlb2YgYXJnMiA9PT0gJ2Z1bmN0aW9uJyA/IGFyZzIgOiBub3BDYjtcblx0XHRjb25zdCBuZXdDYiA9IDwoZXJyOiBBcGlFcnJvciwgcmVzb2x2ZWRQYXRoPzogc3RyaW5nKSA9PiBhbnk+d3JhcENiKGNhbGxiYWNrLCAyKTtcblx0XHR0cnkge1xuXHRcdFx0cGF0aCA9IG5vcm1hbGl6ZVBhdGgocGF0aCk7XG5cdFx0XHRhc3NlcnRSb290KHRoaXMucm9vdCkuYWNjZXNzKHBhdGgsIG1vZGUsIHRoaXMuY3JlZCwgbmV3Q2IpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdG5ld0NiKGUpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBTeW5jaHJvbm91cyBgYWNjZXNzYC5cblx0ICogQHBhcmFtIHBhdGhcblx0ICogQHBhcmFtIG1vZGVcblx0ICovXG5cdHB1YmxpYyBhY2Nlc3NTeW5jKHBhdGg6IHN0cmluZywgbW9kZTogbnVtYmVyID0gMG82MDApOiB2b2lkIHtcblx0XHRwYXRoID0gbm9ybWFsaXplUGF0aChwYXRoKTtcblx0XHRyZXR1cm4gYXNzZXJ0Um9vdCh0aGlzLnJvb3QpLmFjY2Vzc1N5bmMocGF0aCwgbW9kZSwgdGhpcy5jcmVkKTtcblx0fVxuXG5cdHB1YmxpYyBjcmVhdGVSZWFkU3RyZWFtKFxuXHRcdHBhdGg6IHN0cmluZyxcblx0XHRvcHRpb25zPzoge1xuXHRcdFx0ZmxhZ3M/OiBzdHJpbmc7XG5cdFx0XHRlbmNvZGluZz86IHN0cmluZztcblx0XHRcdGZkPzogbnVtYmVyO1xuXHRcdFx0bW9kZT86IG51bWJlcjtcblx0XHRcdGF1dG9DbG9zZT86IGJvb2xlYW47XG5cdFx0fVxuXHQpOiBfZnMuUmVhZFN0cmVhbSB7XG5cdFx0dGhyb3cgbmV3IEFwaUVycm9yKEVycm9yQ29kZS5FTk9UU1VQKTtcblx0fVxuXG5cdHB1YmxpYyBjcmVhdGVXcml0ZVN0cmVhbShcblx0XHRwYXRoOiBzdHJpbmcsXG5cdFx0b3B0aW9ucz86IHtcblx0XHRcdGZsYWdzPzogc3RyaW5nO1xuXHRcdFx0ZW5jb2Rpbmc/OiBzdHJpbmc7XG5cdFx0XHRmZD86IG51bWJlcjtcblx0XHRcdG1vZGU/OiBudW1iZXI7XG5cdFx0fVxuXHQpOiBfZnMuV3JpdGVTdHJlYW0ge1xuXHRcdHRocm93IG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRU5PVFNVUCk7XG5cdH1cblxuXHQvKipcblx0ICogRm9yIHVuaXQgdGVzdGluZy4gUGFzc2VzIGFsbCBpbmNvbWluZyBjYWxsYmFja3MgdG8gY2JXcmFwcGVyIGZvciB3cmFwcGluZy5cblx0ICovXG5cdHB1YmxpYyB3cmFwQ2FsbGJhY2tzKGNiV3JhcHBlcjogKGNiOiBGdW5jdGlvbiwgYXJnczogbnVtYmVyKSA9PiBGdW5jdGlvbikge1xuXHRcdHdyYXBDYkhvb2sgPSA8YW55PmNiV3JhcHBlcjtcblx0fVxuXG5cdHByaXZhdGUgZ2V0RmRGb3JGaWxlKGZpbGU6IEZpbGUpOiBudW1iZXIge1xuXHRcdGNvbnN0IGZkID0gdGhpcy5uZXh0RmQrKztcblx0XHR0aGlzLmZkTWFwW2ZkXSA9IGZpbGU7XG5cdFx0cmV0dXJuIGZkO1xuXHR9XG5cdHByaXZhdGUgZmQyZmlsZShmZDogbnVtYmVyKTogRmlsZSB7XG5cdFx0Y29uc3QgcnYgPSB0aGlzLmZkTWFwW2ZkXTtcblx0XHRpZiAocnYpIHtcblx0XHRcdHJldHVybiBydjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhyb3cgbmV3IEFwaUVycm9yKEVycm9yQ29kZS5FQkFERiwgJ0ludmFsaWQgZmlsZSBkZXNjcmlwdG9yLicpO1xuXHRcdH1cblx0fVxuXHRwcml2YXRlIGNsb3NlRmQoZmQ6IG51bWJlcik6IHZvaWQge1xuXHRcdGRlbGV0ZSB0aGlzLmZkTWFwW2ZkXTtcblx0fVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZTTW9kdWxlIGV4dGVuZHMgRlMge1xuXHQvKipcblx0ICogVGhlIEZTIGNvbnN0cnVjdG9yLlxuXHQgKi9cblx0RlM6IHR5cGVvZiBGUztcblx0LyoqXG5cdCAqIFRoZSBGUy5TdGF0cyBjb25zdHJ1Y3Rvci5cblx0ICovXG5cdFN0YXRzOiB0eXBlb2YgU3RhdHM7XG5cdC8qKlxuXHQgKiBSZXRyaWV2ZSB0aGUgRlMgb2JqZWN0IGJhY2tpbmcgdGhlIGZzIG1vZHVsZS5cblx0ICovXG5cdGdldEZTTW9kdWxlKCk6IEZTO1xuXHQvKipcblx0ICogU2V0IHRoZSBGUyBvYmplY3QgYmFja2luZyB0aGUgZnMgbW9kdWxlLlxuXHQgKi9cblx0Y2hhbmdlRlNNb2R1bGUobmV3RnM6IEZTKTogdm9pZDtcbn1cbiIsICJpbXBvcnQgeyBkZWZhdWx0IGFzIEZTLCBGU01vZHVsZSB9IGZyb20gJy4vRlMnO1xuXG4vLyBNYW51YWxseSBleHBvcnQgdGhlIGluZGl2aWR1YWwgcHVibGljIGZ1bmN0aW9ucyBvZiBmcy5cbi8vIFJlcXVpcmVkIGJlY2F1c2Ugc29tZSBjb2RlIHdpbGwgaW52b2tlIGZ1bmN0aW9ucyBvZmYgb2YgdGhlIG1vZHVsZS5cbi8vIGUuZy46XG4vLyBsZXQgd3JpdGVGaWxlID0gZnMud3JpdGVGaWxlO1xuLy8gd3JpdGVGaWxlKC4uLilcblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmxldCBmczogYW55ID0gbmV3IEZTKCk7XG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuY29uc3QgX2ZzTW9jazogRlNNb2R1bGUgPSA8YW55Pnt9O1xuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKEZTLnByb3RvdHlwZSkpIHtcblx0aWYgKHR5cGVvZiBmc1trZXldID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0X2ZzTW9ja1trZXldID0gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcblx0XHRcdHJldHVybiAoPEZ1bmN0aW9uPmZzW2tleV0pLmFwcGx5KGZzLCBhcmdzKTtcblx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdF9mc01vY2tba2V5XSA9IGZzW2tleV07XG5cdH1cbn1cbl9mc01vY2suY2hhbmdlRlNNb2R1bGUgPSBmdW5jdGlvbiAobmV3RnM6IEZTKTogdm9pZCB7XG5cdGZzID0gbmV3RnM7XG59O1xuX2ZzTW9jay5nZXRGU01vZHVsZSA9IGZ1bmN0aW9uICgpOiBGUyB7XG5cdHJldHVybiBmcztcbn07XG5fZnNNb2NrLkZTID0gRlM7XG5fZnNNb2NrLlN0YXRzID0gRlMuU3RhdHM7XG5cbmV4cG9ydCBkZWZhdWx0IF9mc01vY2s7XG4iLCAiLyoqXG4gKiBHcmFiIGJhZyBvZiB1dGlsaXR5IGZ1bmN0aW9ucyB1c2VkIGFjcm9zcyB0aGUgY29kZS5cbiAqL1xuaW1wb3J0IHsgRmlsZVN5c3RlbSwgQkZTT25lQXJnQ2FsbGJhY2ssIEZpbGVTeXN0ZW1Db25zdHJ1Y3RvciB9IGZyb20gJy4vZmlsZV9zeXN0ZW0nO1xuaW1wb3J0IHsgRXJyb3JDb2RlLCBBcGlFcnJvciB9IGZyb20gJy4vYXBpX2Vycm9yJztcbmltcG9ydCBsZXZlbnNodGVpbiBmcm9tICcuL2xldmVuc2h0ZWluJztcbmltcG9ydCAqIGFzIHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgQ3JlZCBmcm9tICcuL2NyZWQnO1xuaW1wb3J0IHsgQnVmZmVyIH0gZnJvbSAnYnVmZmVyJztcblxuZXhwb3J0IGZ1bmN0aW9uIGRlcHJlY2F0aW9uTWVzc2FnZShwcmludDogYm9vbGVhbiwgZnNOYW1lOiBzdHJpbmcsIG9wdHM6IGFueSk6IHZvaWQge1xuXHRpZiAocHJpbnQpIHtcblx0XHQvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tY29uc29sZVxuXHRcdGNvbnNvbGUud2Fybihcblx0XHRcdGBbJHtmc05hbWV9XSBEaXJlY3QgZmlsZSBzeXN0ZW0gY29uc3RydWN0b3IgdXNhZ2UgaXMgZGVwcmVjYXRlZCBmb3IgdGhpcyBmaWxlIHN5c3RlbSwgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uLiBQbGVhc2UgdXNlIHRoZSAnJHtmc05hbWV9LkNyZWF0ZSgke0pTT04uc3RyaW5naWZ5KFxuXHRcdFx0XHRvcHRzXG5cdFx0XHQpfSwgY2FsbGJhY2spJyBtZXRob2QgaW5zdGVhZC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qdmlsay9Ccm93c2VyRlMvaXNzdWVzLzE3NiBmb3IgbW9yZSBkZXRhaWxzLmBcblx0XHQpO1xuXHRcdC8vIHRzbGludDplbmFibGUtbmV4dC1saW5lOm5vLWNvbnNvbGVcblx0fVxufVxuXG4vKipcbiAqIENoZWNrcyBmb3IgYW55IElFIHZlcnNpb24sIGluY2x1ZGluZyBJRTExIHdoaWNoIHJlbW92ZWQgTVNJRSBmcm9tIHRoZVxuICogdXNlckFnZW50IHN0cmluZy5cbiAqIEBoaWRkZW5cbiAqL1xuZXhwb3J0IGNvbnN0IGlzSUU6IGJvb2xlYW4gPSB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiAhISgvKG1zaWUpIChbXFx3Ll0rKS8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpIHx8IG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignVHJpZGVudCcpICE9PSAtMSk7XG5cbi8qKlxuICogQ2hlY2sgaWYgd2UncmUgaW4gYSB3ZWIgd29ya2VyLlxuICogQGhpZGRlblxuICovXG5leHBvcnQgY29uc3QgaXNXZWJXb3JrZXI6IGJvb2xlYW4gPSB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJztcblxuLyoqXG4gKiBUaHJvd3MgYW4gZXhjZXB0aW9uLiBDYWxsZWQgb24gY29kZSBwYXRocyB0aGF0IHNob3VsZCBiZSBpbXBvc3NpYmxlLlxuICogQGhpZGRlblxuICovXG5leHBvcnQgZnVuY3Rpb24gZmFpbCgpIHtcblx0dGhyb3cgbmV3IEVycm9yKCdCRlMgaGFzIHJlYWNoZWQgYW4gaW1wb3NzaWJsZSBjb2RlIHBhdGg7IHBsZWFzZSBmaWxlIGEgYnVnLicpO1xufVxuXG4vKipcbiAqIFN5bmNocm9ub3VzIHJlY3Vyc2l2ZSBtYWtlZGlyLlxuICogQGhpZGRlblxuICovXG5leHBvcnQgZnVuY3Rpb24gbWtkaXJwU3luYyhwOiBzdHJpbmcsIG1vZGU6IG51bWJlciwgY3JlZDogQ3JlZCwgZnM6IEZpbGVTeXN0ZW0pOiB2b2lkIHtcblx0aWYgKCFmcy5leGlzdHNTeW5jKHAsIGNyZWQpKSB7XG5cdFx0bWtkaXJwU3luYyhwYXRoLmRpcm5hbWUocCksIG1vZGUsIGNyZWQsIGZzKTtcblx0XHRmcy5ta2RpclN5bmMocCwgbW9kZSwgY3JlZCk7XG5cdH1cbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhIGJ1ZmZlciBpbnRvIGFuIGFycmF5IGJ1ZmZlci4gQXR0ZW1wdHMgdG8gZG8gc28gaW4gYVxuICogemVyby1jb3B5IG1hbm5lciwgZS5nLiB0aGUgYXJyYXkgcmVmZXJlbmNlcyB0aGUgc2FtZSBtZW1vcnkuXG4gKiBAaGlkZGVuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBidWZmZXIyQXJyYXlCdWZmZXIoYnVmZjogQnVmZmVyKTogQXJyYXlCdWZmZXIgfCBTaGFyZWRBcnJheUJ1ZmZlciB7XG5cdGNvbnN0IHU4ID0gYnVmZmVyMlVpbnQ4YXJyYXkoYnVmZiksXG5cdFx0dThvZmZzZXQgPSB1OC5ieXRlT2Zmc2V0LFxuXHRcdHU4TGVuID0gdTguYnl0ZUxlbmd0aDtcblx0aWYgKHU4b2Zmc2V0ID09PSAwICYmIHU4TGVuID09PSB1OC5idWZmZXIuYnl0ZUxlbmd0aCkge1xuXHRcdHJldHVybiB1OC5idWZmZXI7XG5cdH0gZWxzZSB7XG5cdFx0cmV0dXJuIHU4LmJ1ZmZlci5zbGljZSh1OG9mZnNldCwgdThvZmZzZXQgKyB1OExlbik7XG5cdH1cbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhIGJ1ZmZlciBpbnRvIGEgVWludDhBcnJheS4gQXR0ZW1wdHMgdG8gZG8gc28gaW4gYVxuICogemVyby1jb3B5IG1hbm5lciwgZS5nLiB0aGUgYXJyYXkgcmVmZXJlbmNlcyB0aGUgc2FtZSBtZW1vcnkuXG4gKiBAaGlkZGVuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBidWZmZXIyVWludDhhcnJheShidWZmOiBCdWZmZXIpOiBVaW50OEFycmF5IHtcblx0aWYgKGJ1ZmYgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG5cdFx0Ly8gQkZTICYgTm9kZSB2NC4wIGJ1ZmZlcnMgKmFyZSogVWludDhBcnJheXMuXG5cdFx0cmV0dXJuIDxhbnk+YnVmZjtcblx0fSBlbHNlIHtcblx0XHQvLyBVaW50OEFycmF5cyBjYW4gYmUgY29uc3RydWN0ZWQgZnJvbSBhcnJheWlzaCBudW1iZXJzLlxuXHRcdC8vIEF0IHRoaXMgcG9pbnQsIHdlIGFzc3VtZSB0aGlzIGlzbid0IGEgQkZTIGFycmF5LlxuXHRcdHJldHVybiBuZXcgVWludDhBcnJheShidWZmKTtcblx0fVxufVxuXG4vKipcbiAqIENvbnZlcnRzIHRoZSBnaXZlbiBVaW50OEFycmF5IGludG8gYSBCdWZmZXIuIEF0dGVtcHRzIHRvIGJlIHplcm8tY29weS5cbiAqIEBoaWRkZW5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVpbnQ4QXJyYXkyQnVmZmVyKHU4OiBVaW50OEFycmF5KTogQnVmZmVyIHtcblx0aWYgKHU4IGluc3RhbmNlb2YgQnVmZmVyKSB7XG5cdFx0cmV0dXJuIHU4O1xuXHR9IGVsc2UgaWYgKHU4LmJ5dGVPZmZzZXQgPT09IDAgJiYgdTguYnl0ZUxlbmd0aCA9PT0gdTguYnVmZmVyLmJ5dGVMZW5ndGgpIHtcblx0XHRyZXR1cm4gYXJyYXlCdWZmZXIyQnVmZmVyKHU4LmJ1ZmZlcik7XG5cdH0gZWxzZSB7XG5cdFx0cmV0dXJuIEJ1ZmZlci5mcm9tKDxBcnJheUJ1ZmZlcj51OC5idWZmZXIsIHU4LmJ5dGVPZmZzZXQsIHU4LmJ5dGVMZW5ndGgpO1xuXHR9XG59XG5cbi8qKlxuICogQ29udmVydHMgdGhlIGdpdmVuIGFycmF5IGJ1ZmZlciBpbnRvIGEgQnVmZmVyLiBBdHRlbXB0cyB0byBiZVxuICogemVyby1jb3B5LlxuICogQGhpZGRlblxuICovXG5leHBvcnQgZnVuY3Rpb24gYXJyYXlCdWZmZXIyQnVmZmVyKGFiOiBBcnJheUJ1ZmZlciB8IFNoYXJlZEFycmF5QnVmZmVyKTogQnVmZmVyIHtcblx0cmV0dXJuIEJ1ZmZlci5mcm9tKDxBcnJheUJ1ZmZlcj5hYik7XG59XG5cbi8qKlxuICogQ29waWVzIGEgc2xpY2Ugb2YgdGhlIGdpdmVuIGJ1ZmZlclxuICogQGhpZGRlblxuICovXG5leHBvcnQgZnVuY3Rpb24gY29weWluZ1NsaWNlKGJ1ZmY6IEJ1ZmZlciwgc3RhcnQ6IG51bWJlciA9IDAsIGVuZCA9IGJ1ZmYubGVuZ3RoKTogQnVmZmVyIHtcblx0aWYgKHN0YXJ0IDwgMCB8fCBlbmQgPCAwIHx8IGVuZCA+IGJ1ZmYubGVuZ3RoIHx8IHN0YXJ0ID4gZW5kKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihgSW52YWxpZCBzbGljZSBib3VuZHMgb24gYnVmZmVyIG9mIGxlbmd0aCAke2J1ZmYubGVuZ3RofTogWyR7c3RhcnR9LCAke2VuZH1dYCk7XG5cdH1cblx0aWYgKGJ1ZmYubGVuZ3RoID09PSAwKSB7XG5cdFx0Ly8gQXZvaWQgczAgY29ybmVyIGNhc2UgaW4gQXJyYXlCdWZmZXIgY2FzZS5cblx0XHRyZXR1cm4gZW1wdHlCdWZmZXIoKTtcblx0fSBlbHNlIHtcblx0XHRjb25zdCB1OCA9IGJ1ZmZlcjJVaW50OGFycmF5KGJ1ZmYpLFxuXHRcdFx0czAgPSBidWZmWzBdLFxuXHRcdFx0bmV3UzAgPSAoczAgKyAxKSAlIDB4ZmY7XG5cblx0XHRidWZmWzBdID0gbmV3UzA7XG5cdFx0aWYgKHU4WzBdID09PSBuZXdTMCkge1xuXHRcdFx0Ly8gU2FtZSBtZW1vcnkuIFJldmVydCAmIGNvcHkuXG5cdFx0XHR1OFswXSA9IHMwO1xuXHRcdFx0cmV0dXJuIHVpbnQ4QXJyYXkyQnVmZmVyKHU4LnNsaWNlKHN0YXJ0LCBlbmQpKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gUmV2ZXJ0LlxuXHRcdFx0YnVmZlswXSA9IHMwO1xuXHRcdFx0cmV0dXJuIHVpbnQ4QXJyYXkyQnVmZmVyKHU4LnN1YmFycmF5KHN0YXJ0LCBlbmQpKTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmxldCBlbXB0eUJ1ZmY6IEJ1ZmZlciB8IG51bGwgPSBudWxsO1xuLyoqXG4gKiBSZXR1cm5zIGFuIGVtcHR5IGJ1ZmZlci5cbiAqIEBoaWRkZW5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVtcHR5QnVmZmVyKCk6IEJ1ZmZlciB7XG5cdGlmIChlbXB0eUJ1ZmYpIHtcblx0XHRyZXR1cm4gZW1wdHlCdWZmO1xuXHR9XG5cdHJldHVybiAoZW1wdHlCdWZmID0gQnVmZmVyLmFsbG9jKDApKTtcbn1cblxuLyoqXG4gKiBPcHRpb24gdmFsaWRhdG9yIGZvciBhIEJ1ZmZlciBmaWxlIHN5c3RlbSBvcHRpb24uXG4gKiBAaGlkZGVuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBidWZmZXJWYWxpZGF0b3Iodjogb2JqZWN0LCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0aWYgKEJ1ZmZlci5pc0J1ZmZlcih2KSkge1xuXHRcdGNiKCk7XG5cdH0gZWxzZSB7XG5cdFx0Y2IobmV3IEFwaUVycm9yKEVycm9yQ29kZS5FSU5WQUwsIGBvcHRpb24gbXVzdCBiZSBhIEJ1ZmZlci5gKSk7XG5cdH1cbn1cblxuLyoqXG4gKiBDaGVja3MgdGhhdCB0aGUgZ2l2ZW4gb3B0aW9ucyBvYmplY3QgaXMgdmFsaWQgZm9yIHRoZSBmaWxlIHN5c3RlbSBvcHRpb25zLlxuICogQGhpZGRlblxuICovXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tPcHRpb25zKGZzVHlwZTogRmlsZVN5c3RlbUNvbnN0cnVjdG9yLCBvcHRzOiBhbnksIGNiOiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQge1xuXHRjb25zdCBvcHRzSW5mbyA9IGZzVHlwZS5PcHRpb25zO1xuXHRjb25zdCBmc05hbWUgPSBmc1R5cGUuTmFtZTtcblxuXHRsZXQgcGVuZGluZ1ZhbGlkYXRvcnMgPSAwO1xuXHRsZXQgY2FsbGJhY2tDYWxsZWQgPSBmYWxzZTtcblx0bGV0IGxvb3BFbmRlZCA9IGZhbHNlO1xuXHRmdW5jdGlvbiB2YWxpZGF0b3JDYWxsYmFjayhlPzogQXBpRXJyb3IpOiB2b2lkIHtcblx0XHRpZiAoIWNhbGxiYWNrQ2FsbGVkKSB7XG5cdFx0XHRpZiAoZSkge1xuXHRcdFx0XHRjYWxsYmFja0NhbGxlZCA9IHRydWU7XG5cdFx0XHRcdGNiKGUpO1xuXHRcdFx0fVxuXHRcdFx0cGVuZGluZ1ZhbGlkYXRvcnMtLTtcblx0XHRcdGlmIChwZW5kaW5nVmFsaWRhdG9ycyA9PT0gMCAmJiBsb29wRW5kZWQpIHtcblx0XHRcdFx0Y2IoKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBDaGVjayBmb3IgcmVxdWlyZWQgb3B0aW9ucy5cblx0Zm9yIChjb25zdCBvcHROYW1lIGluIG9wdHNJbmZvKSB7XG5cdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvcHRzSW5mbywgb3B0TmFtZSkpIHtcblx0XHRcdGNvbnN0IG9wdCA9IG9wdHNJbmZvW29wdE5hbWVdO1xuXHRcdFx0Y29uc3QgcHJvdmlkZWRWYWx1ZSA9IG9wdHMgJiYgb3B0c1tvcHROYW1lXTtcblxuXHRcdFx0aWYgKHByb3ZpZGVkVmFsdWUgPT09IHVuZGVmaW5lZCB8fCBwcm92aWRlZFZhbHVlID09PSBudWxsKSB7XG5cdFx0XHRcdGlmICghb3B0Lm9wdGlvbmFsKSB7XG5cdFx0XHRcdFx0Ly8gUmVxdWlyZWQgb3B0aW9uLCBub3QgcHJvdmlkZWQuXG5cdFx0XHRcdFx0Ly8gQW55IGluY29ycmVjdCBvcHRpb25zIHByb3ZpZGVkPyBXaGljaCBvbmVzIGFyZSBjbG9zZSB0byB0aGUgcHJvdmlkZWQgb25lP1xuXHRcdFx0XHRcdC8vIChlZGl0IGRpc3RhbmNlIDUgPT09IGNsb3NlKVxuXHRcdFx0XHRcdGNvbnN0IGluY29ycmVjdE9wdGlvbnMgPSBPYmplY3Qua2V5cyhvcHRzKVxuXHRcdFx0XHRcdFx0LmZpbHRlcihvID0+ICEobyBpbiBvcHRzSW5mbykpXG5cdFx0XHRcdFx0XHQubWFwKChhOiBzdHJpbmcpID0+IHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHsgc3RyOiBhLCBkaXN0YW5jZTogbGV2ZW5zaHRlaW4ob3B0TmFtZSwgYSkgfTtcblx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHQuZmlsdGVyKG8gPT4gby5kaXN0YW5jZSA8IDUpXG5cdFx0XHRcdFx0XHQuc29ydCgoYSwgYikgPT4gYS5kaXN0YW5jZSAtIGIuZGlzdGFuY2UpO1xuXHRcdFx0XHRcdC8vIFZhbGlkYXRvcnMgbWF5IGJlIHN5bmNocm9ub3VzLlxuXHRcdFx0XHRcdGlmIChjYWxsYmFja0NhbGxlZCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjYWxsYmFja0NhbGxlZCA9IHRydWU7XG5cdFx0XHRcdFx0cmV0dXJuIGNiKFxuXHRcdFx0XHRcdFx0bmV3IEFwaUVycm9yKFxuXHRcdFx0XHRcdFx0XHRFcnJvckNvZGUuRUlOVkFMLFxuXHRcdFx0XHRcdFx0XHRgWyR7ZnNOYW1lfV0gUmVxdWlyZWQgb3B0aW9uICcke29wdE5hbWV9JyBub3QgcHJvdmlkZWQuJHtcblx0XHRcdFx0XHRcdFx0XHRpbmNvcnJlY3RPcHRpb25zLmxlbmd0aCA+IDAgPyBgIFlvdSBwcm92aWRlZCB1bnJlY29nbml6ZWQgb3B0aW9uICcke2luY29ycmVjdE9wdGlvbnNbMF0uc3RyfSc7IHBlcmhhcHMgeW91IG1lYW50IHRvIHR5cGUgJyR7b3B0TmFtZX0nLmAgOiAnJ1xuXHRcdFx0XHRcdFx0XHR9XFxuT3B0aW9uIGRlc2NyaXB0aW9uOiAke29wdC5kZXNjcmlwdGlvbn1gXG5cdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBFbHNlOiBPcHRpb25hbCBvcHRpb24sIG5vdCBwcm92aWRlZC4gVGhhdCBpcyBPSy5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIE9wdGlvbiBwcm92aWRlZCEgQ2hlY2sgdHlwZS5cblx0XHRcdFx0bGV0IHR5cGVNYXRjaGVzID0gZmFsc2U7XG5cdFx0XHRcdGlmIChBcnJheS5pc0FycmF5KG9wdC50eXBlKSkge1xuXHRcdFx0XHRcdHR5cGVNYXRjaGVzID0gb3B0LnR5cGUuaW5kZXhPZih0eXBlb2YgcHJvdmlkZWRWYWx1ZSkgIT09IC0xO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHR5cGVNYXRjaGVzID0gdHlwZW9mIHByb3ZpZGVkVmFsdWUgPT09IG9wdC50eXBlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICghdHlwZU1hdGNoZXMpIHtcblx0XHRcdFx0XHQvLyBWYWxpZGF0b3JzIG1heSBiZSBzeW5jaHJvbm91cy5cblx0XHRcdFx0XHRpZiAoY2FsbGJhY2tDYWxsZWQpIHtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y2FsbGJhY2tDYWxsZWQgPSB0cnVlO1xuXHRcdFx0XHRcdHJldHVybiBjYihcblx0XHRcdFx0XHRcdG5ldyBBcGlFcnJvcihcblx0XHRcdFx0XHRcdFx0RXJyb3JDb2RlLkVJTlZBTCxcblx0XHRcdFx0XHRcdFx0YFske2ZzTmFtZX1dIFZhbHVlIHByb3ZpZGVkIGZvciBvcHRpb24gJHtvcHROYW1lfSBpcyBub3QgdGhlIHByb3BlciB0eXBlLiBFeHBlY3RlZCAke1xuXHRcdFx0XHRcdFx0XHRcdEFycmF5LmlzQXJyYXkob3B0LnR5cGUpID8gYG9uZSBvZiB7JHtvcHQudHlwZS5qb2luKCcsICcpfX1gIDogb3B0LnR5cGVcblx0XHRcdFx0XHRcdFx0fSwgYnV0IHJlY2VpdmVkICR7dHlwZW9mIHByb3ZpZGVkVmFsdWV9XFxuT3B0aW9uIGRlc2NyaXB0aW9uOiAke29wdC5kZXNjcmlwdGlvbn1gXG5cdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fSBlbHNlIGlmIChvcHQudmFsaWRhdG9yKSB7XG5cdFx0XHRcdFx0cGVuZGluZ1ZhbGlkYXRvcnMrKztcblx0XHRcdFx0XHRvcHQudmFsaWRhdG9yKHByb3ZpZGVkVmFsdWUsIHZhbGlkYXRvckNhbGxiYWNrKTtcblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBPdGhlcndpc2U6IEFsbCBnb29kIVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRsb29wRW5kZWQgPSB0cnVlO1xuXHRpZiAocGVuZGluZ1ZhbGlkYXRvcnMgPT09IDAgJiYgIWNhbGxiYWNrQ2FsbGVkKSB7XG5cdFx0Y2IoKTtcblx0fVxufVxuIiwgIi8qXG4gKiBMZXZlbnNodGVpbiBkaXN0YW5jZSwgZnJvbSB0aGUgYGpzLWxldmVuc2h0ZWluYCBOUE0gbW9kdWxlLlxuICogQ29waWVkIGhlcmUgdG8gYXZvaWQgY29tcGxleGl0eSBvZiBhZGRpbmcgYW5vdGhlciBDb21tb25KUyBtb2R1bGUgZGVwZW5kZW5jeS5cbiAqL1xuXG5mdW5jdGlvbiBfbWluKGQwOiBudW1iZXIsIGQxOiBudW1iZXIsIGQyOiBudW1iZXIsIGJ4OiBudW1iZXIsIGF5OiBudW1iZXIpOiBudW1iZXIge1xuXHRyZXR1cm4gZDAgPCBkMSB8fCBkMiA8IGQxID8gKGQwID4gZDIgPyBkMiArIDEgOiBkMCArIDEpIDogYnggPT09IGF5ID8gZDEgOiBkMSArIDE7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlcyBsZXZlbnNodGVpbiBkaXN0YW5jZS5cbiAqIEBwYXJhbSBhXG4gKiBAcGFyYW0gYlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBsZXZlbnNodGVpbihhOiBzdHJpbmcsIGI6IHN0cmluZyk6IG51bWJlciB7XG5cdGlmIChhID09PSBiKSB7XG5cdFx0cmV0dXJuIDA7XG5cdH1cblxuXHRpZiAoYS5sZW5ndGggPiBiLmxlbmd0aCkge1xuXHRcdGNvbnN0IHRtcCA9IGE7XG5cdFx0YSA9IGI7XG5cdFx0YiA9IHRtcDtcblx0fVxuXG5cdGxldCBsYSA9IGEubGVuZ3RoO1xuXHRsZXQgbGIgPSBiLmxlbmd0aDtcblxuXHR3aGlsZSAobGEgPiAwICYmIGEuY2hhckNvZGVBdChsYSAtIDEpID09PSBiLmNoYXJDb2RlQXQobGIgLSAxKSkge1xuXHRcdGxhLS07XG5cdFx0bGItLTtcblx0fVxuXG5cdGxldCBvZmZzZXQgPSAwO1xuXG5cdHdoaWxlIChvZmZzZXQgPCBsYSAmJiBhLmNoYXJDb2RlQXQob2Zmc2V0KSA9PT0gYi5jaGFyQ29kZUF0KG9mZnNldCkpIHtcblx0XHRvZmZzZXQrKztcblx0fVxuXG5cdGxhIC09IG9mZnNldDtcblx0bGIgLT0gb2Zmc2V0O1xuXG5cdGlmIChsYSA9PT0gMCB8fCBsYiA9PT0gMSkge1xuXHRcdHJldHVybiBsYjtcblx0fVxuXG5cdGNvbnN0IHZlY3RvciA9IG5ldyBBcnJheTxudW1iZXI+KGxhIDw8IDEpO1xuXG5cdGZvciAobGV0IHkgPSAwOyB5IDwgbGE7ICkge1xuXHRcdHZlY3RvcltsYSArIHldID0gYS5jaGFyQ29kZUF0KG9mZnNldCArIHkpO1xuXHRcdHZlY3Rvclt5XSA9ICsreTtcblx0fVxuXG5cdGxldCB4OiBudW1iZXI7XG5cdGxldCBkMDogbnVtYmVyO1xuXHRsZXQgZDE6IG51bWJlcjtcblx0bGV0IGQyOiBudW1iZXI7XG5cdGxldCBkMzogbnVtYmVyO1xuXHRmb3IgKHggPSAwOyB4ICsgMyA8IGxiOyApIHtcblx0XHRjb25zdCBieDAgPSBiLmNoYXJDb2RlQXQob2Zmc2V0ICsgKGQwID0geCkpO1xuXHRcdGNvbnN0IGJ4MSA9IGIuY2hhckNvZGVBdChvZmZzZXQgKyAoZDEgPSB4ICsgMSkpO1xuXHRcdGNvbnN0IGJ4MiA9IGIuY2hhckNvZGVBdChvZmZzZXQgKyAoZDIgPSB4ICsgMikpO1xuXHRcdGNvbnN0IGJ4MyA9IGIuY2hhckNvZGVBdChvZmZzZXQgKyAoZDMgPSB4ICsgMykpO1xuXHRcdGxldCBkZCA9ICh4ICs9IDQpO1xuXHRcdGZvciAobGV0IHkgPSAwOyB5IDwgbGE7ICkge1xuXHRcdFx0Y29uc3QgYXkgPSB2ZWN0b3JbbGEgKyB5XTtcblx0XHRcdGNvbnN0IGR5ID0gdmVjdG9yW3ldO1xuXHRcdFx0ZDAgPSBfbWluKGR5LCBkMCwgZDEsIGJ4MCwgYXkpO1xuXHRcdFx0ZDEgPSBfbWluKGQwLCBkMSwgZDIsIGJ4MSwgYXkpO1xuXHRcdFx0ZDIgPSBfbWluKGQxLCBkMiwgZDMsIGJ4MiwgYXkpO1xuXHRcdFx0ZGQgPSBfbWluKGQyLCBkMywgZGQsIGJ4MywgYXkpO1xuXHRcdFx0dmVjdG9yW3krK10gPSBkZDtcblx0XHRcdGQzID0gZDI7XG5cdFx0XHRkMiA9IGQxO1xuXHRcdFx0ZDEgPSBkMDtcblx0XHRcdGQwID0gZHk7XG5cdFx0fVxuXHR9XG5cblx0bGV0IGRkOiBudW1iZXIgPSAwO1xuXHRmb3IgKDsgeCA8IGxiOyApIHtcblx0XHRjb25zdCBieDAgPSBiLmNoYXJDb2RlQXQob2Zmc2V0ICsgKGQwID0geCkpO1xuXHRcdGRkID0gKyt4O1xuXHRcdGZvciAobGV0IHkgPSAwOyB5IDwgbGE7IHkrKykge1xuXHRcdFx0Y29uc3QgZHkgPSB2ZWN0b3JbeV07XG5cdFx0XHR2ZWN0b3JbeV0gPSBkZCA9IGR5IDwgZDAgfHwgZGQgPCBkMCA/IChkeSA+IGRkID8gZGQgKyAxIDogZHkgKyAxKSA6IGJ4MCA9PT0gdmVjdG9yW2xhICsgeV0gPyBkMCA6IGQwICsgMTtcblx0XHRcdGQwID0gZHk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGRkO1xufVxuIiwgIi8qKlxuICogRGVmaW5lcyBhbiBFbXNjcmlwdGVuIGZpbGUgc3lzdGVtIG9iamVjdCBmb3IgdXNlIGluIHRoZSBFbXNjcmlwdGVuIHZpcnR1YWxcbiAqIGZpbGVzeXN0ZW0uIEFsbG93cyB5b3UgdG8gdXNlIHN5bmNocm9ub3VzIEJyb3dzZXJGUyBmaWxlIHN5c3RlbXMgZnJvbSB3aXRoaW5cbiAqIEVtc2NyaXB0ZW4uXG4gKlxuICogWW91IGNhbiBjb25zdHJ1Y3QgYSBCRlNFbXNjcmlwdGVuRlMsIG1vdW50IGl0IHVzaW5nIGl0cyBtb3VudCBjb21tYW5kLFxuICogYW5kIHRoZW4gbW91bnQgaXQgaW50byBFbXNjcmlwdGVuLlxuICpcbiAqIEFkYXB0ZWQgZnJvbSBFbXNjcmlwdGVuJ3MgTm9kZUZTOlxuICogaHR0cHM6Ly9yYXcuZ2l0aHViLmNvbS9rcmlwa2VuL2Vtc2NyaXB0ZW4vbWFzdGVyL3NyYy9saWJyYXJ5X25vZGVmcy5qc1xuICovXG5pbXBvcnQgRlMgZnJvbSAnLi4vY29yZS9GUyc7XG5pbXBvcnQgZnMgZnJvbSAnLi4vY29yZS9ub2RlX2ZzJztcbmltcG9ydCBOb2RlU3RhdHMgZnJvbSAnLi4vY29yZS9zdGF0cyc7XG5pbXBvcnQgeyB1aW50OEFycmF5MkJ1ZmZlciB9IGZyb20gJy4uL2NvcmUvdXRpbCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RhdHMge1xuXHRkZXY6IG51bWJlcjtcblx0aW5vOiBudW1iZXI7XG5cdG1vZGU6IG51bWJlcjtcblx0bmxpbms6IG51bWJlcjtcblx0dWlkOiBudW1iZXI7XG5cdGdpZDogbnVtYmVyO1xuXHRyZGV2OiBudW1iZXI7XG5cdHNpemU6IG51bWJlcjtcblx0Ymxrc2l6ZTogbnVtYmVyO1xuXHRibG9ja3M6IG51bWJlcjtcblx0YXRpbWU6IERhdGU7XG5cdG10aW1lOiBEYXRlO1xuXHRjdGltZTogRGF0ZTtcblx0dGltZXN0YW1wPzogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEVtc2NyaXB0ZW5GU05vZGUge1xuXHRuYW1lOiBzdHJpbmc7XG5cdG1vZGU6IG51bWJlcjtcblx0cGFyZW50OiBFbXNjcmlwdGVuRlNOb2RlO1xuXHRtb3VudDogeyBvcHRzOiB7IHJvb3Q6IHN0cmluZyB9IH07XG5cdHN0cmVhbV9vcHM6IEVtc2NyaXB0ZW5TdHJlYW1PcHM7XG5cdG5vZGVfb3BzOiBFbXNjcmlwdGVuTm9kZU9wcztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFbXNjcmlwdGVuU3RyZWFtIHtcblx0bm9kZTogRW1zY3JpcHRlbkZTTm9kZTtcblx0bmZkOiBhbnk7XG5cdGZsYWdzOiBzdHJpbmc7XG5cdHBvc2l0aW9uOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRW1zY3JpcHRlbk5vZGVPcHMge1xuXHRnZXRhdHRyKG5vZGU6IEVtc2NyaXB0ZW5GU05vZGUpOiBTdGF0cztcblx0c2V0YXR0cihub2RlOiBFbXNjcmlwdGVuRlNOb2RlLCBhdHRyOiBTdGF0cyk6IHZvaWQ7XG5cdGxvb2t1cChwYXJlbnQ6IEVtc2NyaXB0ZW5GU05vZGUsIG5hbWU6IHN0cmluZyk6IEVtc2NyaXB0ZW5GU05vZGU7XG5cdG1rbm9kKHBhcmVudDogRW1zY3JpcHRlbkZTTm9kZSwgbmFtZTogc3RyaW5nLCBtb2RlOiBudW1iZXIsIGRldjogYW55KTogRW1zY3JpcHRlbkZTTm9kZTtcblx0cmVuYW1lKG9sZE5vZGU6IEVtc2NyaXB0ZW5GU05vZGUsIG5ld0RpcjogRW1zY3JpcHRlbkZTTm9kZSwgbmV3TmFtZTogc3RyaW5nKTogdm9pZDtcblx0dW5saW5rKHBhcmVudDogRW1zY3JpcHRlbkZTTm9kZSwgbmFtZTogc3RyaW5nKTogdm9pZDtcblx0cm1kaXIocGFyZW50OiBFbXNjcmlwdGVuRlNOb2RlLCBuYW1lOiBzdHJpbmcpOiB2b2lkO1xuXHRyZWFkZGlyKG5vZGU6IEVtc2NyaXB0ZW5GU05vZGUpOiBzdHJpbmdbXTtcblx0c3ltbGluayhwYXJlbnQ6IEVtc2NyaXB0ZW5GU05vZGUsIG5ld05hbWU6IHN0cmluZywgb2xkUGF0aDogc3RyaW5nKTogdm9pZDtcblx0cmVhZGxpbmsobm9kZTogRW1zY3JpcHRlbkZTTm9kZSk6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFbXNjcmlwdGVuU3RyZWFtT3BzIHtcblx0b3BlbihzdHJlYW06IEVtc2NyaXB0ZW5TdHJlYW0pOiB2b2lkO1xuXHRjbG9zZShzdHJlYW06IEVtc2NyaXB0ZW5TdHJlYW0pOiB2b2lkO1xuXHRyZWFkKHN0cmVhbTogRW1zY3JpcHRlblN0cmVhbSwgYnVmZmVyOiBVaW50OEFycmF5LCBvZmZzZXQ6IG51bWJlciwgbGVuZ3RoOiBudW1iZXIsIHBvc2l0aW9uOiBudW1iZXIpOiBudW1iZXI7XG5cdHdyaXRlKHN0cmVhbTogRW1zY3JpcHRlblN0cmVhbSwgYnVmZmVyOiBVaW50OEFycmF5LCBvZmZzZXQ6IG51bWJlciwgbGVuZ3RoOiBudW1iZXIsIHBvc2l0aW9uOiBudW1iZXIpOiBudW1iZXI7XG5cdGxsc2VlayhzdHJlYW06IEVtc2NyaXB0ZW5TdHJlYW0sIG9mZnNldDogbnVtYmVyLCB3aGVuY2U6IG51bWJlcik6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFbXNjcmlwdGVuRlMge1xuXHRub2RlX29wczogRW1zY3JpcHRlbk5vZGVPcHM7XG5cdHN0cmVhbV9vcHM6IEVtc2NyaXB0ZW5TdHJlYW1PcHM7XG5cdG1vdW50KG1vdW50OiB7IG9wdHM6IHsgcm9vdDogc3RyaW5nIH0gfSk6IEVtc2NyaXB0ZW5GU05vZGU7XG5cdGNyZWF0ZU5vZGUocGFyZW50OiBFbXNjcmlwdGVuRlNOb2RlLCBuYW1lOiBzdHJpbmcsIG1vZGU6IG51bWJlciwgZGV2PzogYW55KTogRW1zY3JpcHRlbkZTTm9kZTtcblx0Z2V0TW9kZShwYXRoOiBzdHJpbmcpOiBudW1iZXI7XG5cdHJlYWxQYXRoKG5vZGU6IEVtc2NyaXB0ZW5GU05vZGUpOiBzdHJpbmc7XG59XG5cbmNsYXNzIEJGU0Vtc2NyaXB0ZW5TdHJlYW1PcHMgaW1wbGVtZW50cyBFbXNjcmlwdGVuU3RyZWFtT3BzIHtcblx0cHVibGljIFBBVEg6IGFueTtcblx0cHJpdmF0ZSBGUzogYW55O1xuXHRwcml2YXRlIEVSUk5PX0NPREVTOiBhbnk7XG5cdHByaXZhdGUgbm9kZWZzOiBGUztcblxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIGZzOiBCRlNFbXNjcmlwdGVuRlMpIHtcblx0XHR0aGlzLm5vZGVmcyA9IGZzLmdldE5vZGVGUygpO1xuXHRcdHRoaXMuRlMgPSBmcy5nZXRGUygpO1xuXHRcdHRoaXMuUEFUSCA9IGZzLmdldFBBVEgoKTtcblx0XHR0aGlzLkVSUk5PX0NPREVTID0gZnMuZ2V0RVJSTk9fQ09ERVMoKTtcblx0fVxuXG5cdHB1YmxpYyBvcGVuKHN0cmVhbTogRW1zY3JpcHRlblN0cmVhbSk6IHZvaWQge1xuXHRcdGNvbnN0IHBhdGggPSB0aGlzLmZzLnJlYWxQYXRoKHN0cmVhbS5ub2RlKTtcblx0XHRjb25zdCBGUyA9IHRoaXMuRlM7XG5cdFx0dHJ5IHtcblx0XHRcdGlmIChGUy5pc0ZpbGUoc3RyZWFtLm5vZGUubW9kZSkpIHtcblx0XHRcdFx0c3RyZWFtLm5mZCA9IHRoaXMubm9kZWZzLm9wZW5TeW5jKHBhdGgsIHRoaXMuZnMuZmxhZ3NUb1Blcm1pc3Npb25TdHJpbmcoc3RyZWFtLmZsYWdzKSk7XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0aWYgKCFlLmNvZGUpIHtcblx0XHRcdFx0dGhyb3cgZTtcblx0XHRcdH1cblx0XHRcdHRocm93IG5ldyBGUy5FcnJub0Vycm9yKHRoaXMuRVJSTk9fQ09ERVNbZS5jb2RlXSk7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIGNsb3NlKHN0cmVhbTogRW1zY3JpcHRlblN0cmVhbSk6IHZvaWQge1xuXHRcdGNvbnN0IEZTID0gdGhpcy5GUztcblx0XHR0cnkge1xuXHRcdFx0aWYgKEZTLmlzRmlsZShzdHJlYW0ubm9kZS5tb2RlKSAmJiBzdHJlYW0ubmZkKSB7XG5cdFx0XHRcdHRoaXMubm9kZWZzLmNsb3NlU3luYyhzdHJlYW0ubmZkKTtcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRpZiAoIWUuY29kZSkge1xuXHRcdFx0XHR0aHJvdyBlO1xuXHRcdFx0fVxuXHRcdFx0dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IodGhpcy5FUlJOT19DT0RFU1tlLmNvZGVdKTtcblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgcmVhZChzdHJlYW06IEVtc2NyaXB0ZW5TdHJlYW0sIGJ1ZmZlcjogVWludDhBcnJheSwgb2Zmc2V0OiBudW1iZXIsIGxlbmd0aDogbnVtYmVyLCBwb3NpdGlvbjogbnVtYmVyKTogbnVtYmVyIHtcblx0XHQvLyBBdm9pZCBjb3B5aW5nIG92ZXJoZWFkIGJ5IHJlYWRpbmcgZGlyZWN0bHkgaW50byBidWZmZXIuXG5cdFx0dHJ5IHtcblx0XHRcdHJldHVybiB0aGlzLm5vZGVmcy5yZWFkU3luYyhzdHJlYW0ubmZkLCB1aW50OEFycmF5MkJ1ZmZlcihidWZmZXIpLCBvZmZzZXQsIGxlbmd0aCwgcG9zaXRpb24pO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdHRocm93IG5ldyB0aGlzLkZTLkVycm5vRXJyb3IodGhpcy5FUlJOT19DT0RFU1tlLmNvZGVdKTtcblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgd3JpdGUoc3RyZWFtOiBFbXNjcmlwdGVuU3RyZWFtLCBidWZmZXI6IFVpbnQ4QXJyYXksIG9mZnNldDogbnVtYmVyLCBsZW5ndGg6IG51bWJlciwgcG9zaXRpb246IG51bWJlcik6IG51bWJlciB7XG5cdFx0Ly8gQXZvaWQgY29weWluZyBvdmVyaGVhZC5cblx0XHR0cnkge1xuXHRcdFx0cmV0dXJuIHRoaXMubm9kZWZzLndyaXRlU3luYyhzdHJlYW0ubmZkLCB1aW50OEFycmF5MkJ1ZmZlcihidWZmZXIpLCBvZmZzZXQsIGxlbmd0aCwgcG9zaXRpb24pO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdHRocm93IG5ldyB0aGlzLkZTLkVycm5vRXJyb3IodGhpcy5FUlJOT19DT0RFU1tlLmNvZGVdKTtcblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgbGxzZWVrKHN0cmVhbTogRW1zY3JpcHRlblN0cmVhbSwgb2Zmc2V0OiBudW1iZXIsIHdoZW5jZTogbnVtYmVyKTogbnVtYmVyIHtcblx0XHRsZXQgcG9zaXRpb24gPSBvZmZzZXQ7XG5cdFx0aWYgKHdoZW5jZSA9PT0gMSkge1xuXHRcdFx0Ly8gU0VFS19DVVIuXG5cdFx0XHRwb3NpdGlvbiArPSBzdHJlYW0ucG9zaXRpb247XG5cdFx0fSBlbHNlIGlmICh3aGVuY2UgPT09IDIpIHtcblx0XHRcdC8vIFNFRUtfRU5ELlxuXHRcdFx0aWYgKHRoaXMuRlMuaXNGaWxlKHN0cmVhbS5ub2RlLm1vZGUpKSB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Y29uc3Qgc3RhdCA9IHRoaXMubm9kZWZzLmZzdGF0U3luYyhzdHJlYW0ubmZkKTtcblx0XHRcdFx0XHRwb3NpdGlvbiArPSBzdGF0LnNpemU7XG5cdFx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgdGhpcy5GUy5FcnJub0Vycm9yKHRoaXMuRVJSTk9fQ09ERVNbZS5jb2RlXSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAocG9zaXRpb24gPCAwKSB7XG5cdFx0XHR0aHJvdyBuZXcgdGhpcy5GUy5FcnJub0Vycm9yKHRoaXMuRVJSTk9fQ09ERVMuRUlOVkFMKTtcblx0XHR9XG5cblx0XHRzdHJlYW0ucG9zaXRpb24gPSBwb3NpdGlvbjtcblx0XHRyZXR1cm4gcG9zaXRpb247XG5cdH1cbn1cblxuY2xhc3MgQkZTRW1zY3JpcHRlbk5vZGVPcHMgaW1wbGVtZW50cyBFbXNjcmlwdGVuTm9kZU9wcyB7XG5cdHByaXZhdGUgRlM6IGFueTtcblx0cHJpdmF0ZSBQQVRIOiBhbnk7XG5cdHByaXZhdGUgRVJSTk9fQ09ERVM6IGFueTtcblx0cHJpdmF0ZSBub2RlZnM6IEZTO1xuXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgZnM6IEJGU0Vtc2NyaXB0ZW5GUykge1xuXHRcdHRoaXMubm9kZWZzID0gZnMuZ2V0Tm9kZUZTKCk7XG5cdFx0dGhpcy5GUyA9IGZzLmdldEZTKCk7XG5cdFx0dGhpcy5QQVRIID0gZnMuZ2V0UEFUSCgpO1xuXHRcdHRoaXMuRVJSTk9fQ09ERVMgPSBmcy5nZXRFUlJOT19DT0RFUygpO1xuXHR9XG5cblx0cHVibGljIGdldGF0dHIobm9kZTogRW1zY3JpcHRlbkZTTm9kZSk6IFN0YXRzIHtcblx0XHRjb25zdCBwYXRoID0gdGhpcy5mcy5yZWFsUGF0aChub2RlKTtcblx0XHRsZXQgc3RhdDogTm9kZVN0YXRzO1xuXHRcdHRyeSB7XG5cdFx0XHRzdGF0ID0gdGhpcy5ub2RlZnMubHN0YXRTeW5jKHBhdGgpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGlmICghZS5jb2RlKSB7XG5cdFx0XHRcdHRocm93IGU7XG5cdFx0XHR9XG5cdFx0XHR0aHJvdyBuZXcgdGhpcy5GUy5FcnJub0Vycm9yKHRoaXMuRVJSTk9fQ09ERVNbZS5jb2RlXSk7XG5cdFx0fVxuXHRcdHJldHVybiB7XG5cdFx0XHRkZXY6IHN0YXQuZGV2LFxuXHRcdFx0aW5vOiBzdGF0Lmlubyxcblx0XHRcdG1vZGU6IHN0YXQubW9kZSxcblx0XHRcdG5saW5rOiBzdGF0Lm5saW5rLFxuXHRcdFx0dWlkOiBzdGF0LnVpZCxcblx0XHRcdGdpZDogc3RhdC5naWQsXG5cdFx0XHRyZGV2OiBzdGF0LnJkZXYsXG5cdFx0XHRzaXplOiBzdGF0LnNpemUsXG5cdFx0XHRhdGltZTogc3RhdC5hdGltZSxcblx0XHRcdG10aW1lOiBzdGF0Lm10aW1lLFxuXHRcdFx0Y3RpbWU6IHN0YXQuY3RpbWUsXG5cdFx0XHRibGtzaXplOiBzdGF0LmJsa3NpemUsXG5cdFx0XHRibG9ja3M6IHN0YXQuYmxvY2tzLFxuXHRcdH07XG5cdH1cblxuXHRwdWJsaWMgc2V0YXR0cihub2RlOiBFbXNjcmlwdGVuRlNOb2RlLCBhdHRyOiBTdGF0cyk6IHZvaWQge1xuXHRcdGNvbnN0IHBhdGggPSB0aGlzLmZzLnJlYWxQYXRoKG5vZGUpO1xuXHRcdHRyeSB7XG5cdFx0XHRpZiAoYXR0ci5tb2RlICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0dGhpcy5ub2RlZnMuY2htb2RTeW5jKHBhdGgsIGF0dHIubW9kZSk7XG5cdFx0XHRcdC8vIHVwZGF0ZSB0aGUgY29tbW9uIG5vZGUgc3RydWN0dXJlIG1vZGUgYXMgd2VsbFxuXHRcdFx0XHRub2RlLm1vZGUgPSBhdHRyLm1vZGU7XG5cdFx0XHR9XG5cdFx0XHRpZiAoYXR0ci50aW1lc3RhbXAgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRjb25zdCBkYXRlID0gbmV3IERhdGUoYXR0ci50aW1lc3RhbXApO1xuXHRcdFx0XHR0aGlzLm5vZGVmcy51dGltZXNTeW5jKHBhdGgsIGRhdGUsIGRhdGUpO1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGlmICghZS5jb2RlKSB7XG5cdFx0XHRcdHRocm93IGU7XG5cdFx0XHR9XG5cdFx0XHQvLyBJZ25vcmUgbm90IHN1cHBvcnRlZCBlcnJvcnMuIEVtc2NyaXB0ZW4gZG9lcyB1dGltZXNTeW5jIHdoZW4gaXRcblx0XHRcdC8vIHdyaXRlcyBmaWxlcywgYnV0IG5ldmVyIHJlYWxseSByZXF1aXJlcyB0aGUgdmFsdWUgdG8gYmUgc2V0LlxuXHRcdFx0aWYgKGUuY29kZSAhPT0gJ0VOT1RTVVAnKSB7XG5cdFx0XHRcdHRocm93IG5ldyB0aGlzLkZTLkVycm5vRXJyb3IodGhpcy5FUlJOT19DT0RFU1tlLmNvZGVdKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKGF0dHIuc2l6ZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHR0aGlzLm5vZGVmcy50cnVuY2F0ZVN5bmMocGF0aCwgYXR0ci5zaXplKTtcblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0aWYgKCFlLmNvZGUpIHtcblx0XHRcdFx0XHR0aHJvdyBlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRocm93IG5ldyB0aGlzLkZTLkVycm5vRXJyb3IodGhpcy5FUlJOT19DT0RFU1tlLmNvZGVdKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgbG9va3VwKHBhcmVudDogRW1zY3JpcHRlbkZTTm9kZSwgbmFtZTogc3RyaW5nKTogRW1zY3JpcHRlbkZTTm9kZSB7XG5cdFx0Y29uc3QgcGF0aCA9IHRoaXMuUEFUSC5qb2luMih0aGlzLmZzLnJlYWxQYXRoKHBhcmVudCksIG5hbWUpO1xuXHRcdGNvbnN0IG1vZGUgPSB0aGlzLmZzLmdldE1vZGUocGF0aCk7XG5cdFx0cmV0dXJuIHRoaXMuZnMuY3JlYXRlTm9kZShwYXJlbnQsIG5hbWUsIG1vZGUpO1xuXHR9XG5cblx0cHVibGljIG1rbm9kKHBhcmVudDogRW1zY3JpcHRlbkZTTm9kZSwgbmFtZTogc3RyaW5nLCBtb2RlOiBudW1iZXIsIGRldjogYW55KTogRW1zY3JpcHRlbkZTTm9kZSB7XG5cdFx0Y29uc3Qgbm9kZSA9IHRoaXMuZnMuY3JlYXRlTm9kZShwYXJlbnQsIG5hbWUsIG1vZGUsIGRldik7XG5cdFx0Ly8gY3JlYXRlIHRoZSBiYWNraW5nIG5vZGUgZm9yIHRoaXMgaW4gdGhlIGZzIHJvb3QgYXMgd2VsbFxuXHRcdGNvbnN0IHBhdGggPSB0aGlzLmZzLnJlYWxQYXRoKG5vZGUpO1xuXHRcdHRyeSB7XG5cdFx0XHRpZiAodGhpcy5GUy5pc0Rpcihub2RlLm1vZGUpKSB7XG5cdFx0XHRcdHRoaXMubm9kZWZzLm1rZGlyU3luYyhwYXRoLCBub2RlLm1vZGUpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5ub2RlZnMud3JpdGVGaWxlU3luYyhwYXRoLCAnJywgeyBtb2RlOiBub2RlLm1vZGUgfSk7XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0aWYgKCFlLmNvZGUpIHtcblx0XHRcdFx0dGhyb3cgZTtcblx0XHRcdH1cblx0XHRcdHRocm93IG5ldyB0aGlzLkZTLkVycm5vRXJyb3IodGhpcy5FUlJOT19DT0RFU1tlLmNvZGVdKTtcblx0XHR9XG5cdFx0cmV0dXJuIG5vZGU7XG5cdH1cblxuXHRwdWJsaWMgcmVuYW1lKG9sZE5vZGU6IEVtc2NyaXB0ZW5GU05vZGUsIG5ld0RpcjogRW1zY3JpcHRlbkZTTm9kZSwgbmV3TmFtZTogc3RyaW5nKTogdm9pZCB7XG5cdFx0Y29uc3Qgb2xkUGF0aCA9IHRoaXMuZnMucmVhbFBhdGgob2xkTm9kZSk7XG5cdFx0Y29uc3QgbmV3UGF0aCA9IHRoaXMuUEFUSC5qb2luMih0aGlzLmZzLnJlYWxQYXRoKG5ld0RpciksIG5ld05hbWUpO1xuXHRcdHRyeSB7XG5cdFx0XHR0aGlzLm5vZGVmcy5yZW5hbWVTeW5jKG9sZFBhdGgsIG5ld1BhdGgpO1xuXHRcdFx0Ly8gVGhpcyBsb2dpYyBpcyBtaXNzaW5nIGZyb20gdGhlIG9yaWdpbmFsIE5vZGVGUyxcblx0XHRcdC8vIGNhdXNpbmcgRW1zY3JpcHRlbidzIGZpbGVzeXN0ZW0gdG8gdGhpbmsgdGhhdCB0aGUgb2xkIGZpbGUgc3RpbGwgZXhpc3RzLlxuXHRcdFx0b2xkTm9kZS5uYW1lID0gbmV3TmFtZTtcblx0XHRcdG9sZE5vZGUucGFyZW50ID0gbmV3RGlyO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGlmICghZS5jb2RlKSB7XG5cdFx0XHRcdHRocm93IGU7XG5cdFx0XHR9XG5cdFx0XHR0aHJvdyBuZXcgdGhpcy5GUy5FcnJub0Vycm9yKHRoaXMuRVJSTk9fQ09ERVNbZS5jb2RlXSk7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIHVubGluayhwYXJlbnQ6IEVtc2NyaXB0ZW5GU05vZGUsIG5hbWU6IHN0cmluZyk6IHZvaWQge1xuXHRcdGNvbnN0IHBhdGggPSB0aGlzLlBBVEguam9pbjIodGhpcy5mcy5yZWFsUGF0aChwYXJlbnQpLCBuYW1lKTtcblx0XHR0cnkge1xuXHRcdFx0dGhpcy5ub2RlZnMudW5saW5rU3luYyhwYXRoKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRpZiAoIWUuY29kZSkge1xuXHRcdFx0XHR0aHJvdyBlO1xuXHRcdFx0fVxuXHRcdFx0dGhyb3cgbmV3IHRoaXMuRlMuRXJybm9FcnJvcih0aGlzLkVSUk5PX0NPREVTW2UuY29kZV0pO1xuXHRcdH1cblx0fVxuXG5cdHB1YmxpYyBybWRpcihwYXJlbnQ6IEVtc2NyaXB0ZW5GU05vZGUsIG5hbWU6IHN0cmluZykge1xuXHRcdGNvbnN0IHBhdGggPSB0aGlzLlBBVEguam9pbjIodGhpcy5mcy5yZWFsUGF0aChwYXJlbnQpLCBuYW1lKTtcblx0XHR0cnkge1xuXHRcdFx0dGhpcy5ub2RlZnMucm1kaXJTeW5jKHBhdGgpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGlmICghZS5jb2RlKSB7XG5cdFx0XHRcdHRocm93IGU7XG5cdFx0XHR9XG5cdFx0XHR0aHJvdyBuZXcgdGhpcy5GUy5FcnJub0Vycm9yKHRoaXMuRVJSTk9fQ09ERVNbZS5jb2RlXSk7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIHJlYWRkaXIobm9kZTogRW1zY3JpcHRlbkZTTm9kZSk6IHN0cmluZ1tdIHtcblx0XHRjb25zdCBwYXRoID0gdGhpcy5mcy5yZWFsUGF0aChub2RlKTtcblx0XHR0cnkge1xuXHRcdFx0Ly8gTm9kZSBkb2VzIG5vdCBsaXN0IC4gYW5kIC4uIGluIGRpcmVjdG9yeSBsaXN0aW5ncyxcblx0XHRcdC8vIGJ1dCBFbXNjcmlwdGVuIGV4cGVjdHMgaXQuXG5cdFx0XHRjb25zdCBjb250ZW50cyA9IHRoaXMubm9kZWZzLnJlYWRkaXJTeW5jKHBhdGgpO1xuXHRcdFx0Y29udGVudHMucHVzaCgnLicsICcuLicpO1xuXHRcdFx0cmV0dXJuIGNvbnRlbnRzO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGlmICghZS5jb2RlKSB7XG5cdFx0XHRcdHRocm93IGU7XG5cdFx0XHR9XG5cdFx0XHR0aHJvdyBuZXcgdGhpcy5GUy5FcnJub0Vycm9yKHRoaXMuRVJSTk9fQ09ERVNbZS5jb2RlXSk7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIHN5bWxpbmsocGFyZW50OiBFbXNjcmlwdGVuRlNOb2RlLCBuZXdOYW1lOiBzdHJpbmcsIG9sZFBhdGg6IHN0cmluZyk6IHZvaWQge1xuXHRcdGNvbnN0IG5ld1BhdGggPSB0aGlzLlBBVEguam9pbjIodGhpcy5mcy5yZWFsUGF0aChwYXJlbnQpLCBuZXdOYW1lKTtcblx0XHR0cnkge1xuXHRcdFx0dGhpcy5ub2RlZnMuc3ltbGlua1N5bmMob2xkUGF0aCwgbmV3UGF0aCk7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0aWYgKCFlLmNvZGUpIHtcblx0XHRcdFx0dGhyb3cgZTtcblx0XHRcdH1cblx0XHRcdHRocm93IG5ldyB0aGlzLkZTLkVycm5vRXJyb3IodGhpcy5FUlJOT19DT0RFU1tlLmNvZGVdKTtcblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgcmVhZGxpbmsobm9kZTogRW1zY3JpcHRlbkZTTm9kZSk6IHN0cmluZyB7XG5cdFx0Y29uc3QgcGF0aCA9IHRoaXMuZnMucmVhbFBhdGgobm9kZSk7XG5cdFx0dHJ5IHtcblx0XHRcdHJldHVybiB0aGlzLm5vZGVmcy5yZWFkbGlua1N5bmMocGF0aCk7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0aWYgKCFlLmNvZGUpIHtcblx0XHRcdFx0dGhyb3cgZTtcblx0XHRcdH1cblx0XHRcdHRocm93IG5ldyB0aGlzLkZTLkVycm5vRXJyb3IodGhpcy5FUlJOT19DT0RFU1tlLmNvZGVdKTtcblx0XHR9XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQkZTRW1zY3JpcHRlbkZTIGltcGxlbWVudHMgRW1zY3JpcHRlbkZTIHtcblx0Ly8gVGhpcyBtYXBzIHRoZSBpbnRlZ2VyIHBlcm1pc3Npb24gbW9kZXMgZnJvbSBodHRwOi8vbGludXguZGllLm5ldC9tYW4vMy9vcGVuXG5cdC8vIHRvIG5vZGUuanMtc3BlY2lmaWMgZmlsZSBvcGVuIHBlcm1pc3Npb24gc3RyaW5ncyBhdCBodHRwOi8vbm9kZWpzLm9yZy9hcGkvZnMuaHRtbCNmc19mc19vcGVuX3BhdGhfZmxhZ3NfbW9kZV9jYWxsYmFja1xuXHRwdWJsaWMgZmxhZ3NUb1Blcm1pc3Npb25TdHJpbmdNYXAgPSB7XG5cdFx0MCAvKk9fUkRPTkxZKi86ICdyJyxcblx0XHQxIC8qT19XUk9OTFkqLzogJ3IrJyxcblx0XHQyIC8qT19SRFdSKi86ICdyKycsXG5cdFx0NjQgLypPX0NSRUFUKi86ICdyJyxcblx0XHQ2NSAvKk9fV1JPTkxZfE9fQ1JFQVQqLzogJ3IrJyxcblx0XHQ2NiAvKk9fUkRXUnxPX0NSRUFUKi86ICdyKycsXG5cdFx0MTI5IC8qT19XUk9OTFl8T19FWENMKi86ICdyeCsnLFxuXHRcdDE5MyAvKk9fV1JPTkxZfE9fQ1JFQVR8T19FWENMKi86ICdyeCsnLFxuXHRcdDUxNCAvKk9fUkRXUnxPX1RSVU5DKi86ICd3KycsXG5cdFx0NTc3IC8qT19XUk9OTFl8T19DUkVBVHxPX1RSVU5DKi86ICd3Jyxcblx0XHQ1NzggLypPX0NSRUFUfE9fUkRXUnxPX1RSVU5DKi86ICd3KycsXG5cdFx0NzA1IC8qT19XUk9OTFl8T19DUkVBVHxPX0VYQ0x8T19UUlVOQyovOiAnd3gnLFxuXHRcdDcwNiAvKk9fUkRXUnxPX0NSRUFUfE9fRVhDTHxPX1RSVU5DKi86ICd3eCsnLFxuXHRcdDEwMjQgLypPX0FQUEVORCovOiAnYScsXG5cdFx0MTAyNSAvKk9fV1JPTkxZfE9fQVBQRU5EKi86ICdhJyxcblx0XHQxMDI2IC8qT19SRFdSfE9fQVBQRU5EKi86ICdhKycsXG5cdFx0MTA4OSAvKk9fV1JPTkxZfE9fQ1JFQVR8T19BUFBFTkQqLzogJ2EnLFxuXHRcdDEwOTAgLypPX1JEV1J8T19DUkVBVHxPX0FQUEVORCovOiAnYSsnLFxuXHRcdDExNTMgLypPX1dST05MWXxPX0VYQ0x8T19BUFBFTkQqLzogJ2F4Jyxcblx0XHQxMTU0IC8qT19SRFdSfE9fRVhDTHxPX0FQUEVORCovOiAnYXgrJyxcblx0XHQxMjE3IC8qT19XUk9OTFl8T19DUkVBVHxPX0VYQ0x8T19BUFBFTkQqLzogJ2F4Jyxcblx0XHQxMjE4IC8qT19SRFdSfE9fQ1JFQVR8T19FWENMfE9fQVBQRU5EKi86ICdheCsnLFxuXHRcdDQwOTYgLypPX1JET05MWXxPX0RTWU5DKi86ICdycycsXG5cdFx0NDA5OCAvKk9fUkRXUnxPX0RTWU5DKi86ICdycysnLFxuXHR9O1xuXHQvKiB0c2xpbnQ6ZGlzYWJsZTp2YXJpYWJsZS1uYW1lICovXG5cdHB1YmxpYyBub2RlX29wczogRW1zY3JpcHRlbk5vZGVPcHM7XG5cdHB1YmxpYyBzdHJlYW1fb3BzOiBFbXNjcmlwdGVuU3RyZWFtT3BzO1xuXHQvKiB0c2xpbnQ6ZW5hYmxlOnZhcmlhYmxlLW5hbWUgKi9cblxuXHRwcml2YXRlIEZTOiBhbnk7XG5cdHByaXZhdGUgUEFUSDogYW55O1xuXHRwcml2YXRlIEVSUk5PX0NPREVTOiBhbnk7XG5cdHByaXZhdGUgbm9kZWZzOiBGUztcblx0Y29uc3RydWN0b3IoX0ZTID0gKDxhbnk+c2VsZilbJ0ZTJ10sIF9QQVRIID0gKDxhbnk+c2VsZilbJ1BBVEgnXSwgX0VSUk5PX0NPREVTID0gKDxhbnk+c2VsZilbJ0VSUk5PX0NPREVTJ10sIG5vZGVmczogRlMgPSBmcykge1xuXHRcdHRoaXMubm9kZWZzID0gbm9kZWZzO1xuXHRcdHRoaXMuRlMgPSBfRlM7XG5cdFx0dGhpcy5QQVRIID0gX1BBVEg7XG5cdFx0dGhpcy5FUlJOT19DT0RFUyA9IF9FUlJOT19DT0RFUztcblx0XHR0aGlzLm5vZGVfb3BzID0gbmV3IEJGU0Vtc2NyaXB0ZW5Ob2RlT3BzKHRoaXMpO1xuXHRcdHRoaXMuc3RyZWFtX29wcyA9IG5ldyBCRlNFbXNjcmlwdGVuU3RyZWFtT3BzKHRoaXMpO1xuXHR9XG5cblx0cHVibGljIG1vdW50KG06IHsgb3B0czogeyByb290OiBzdHJpbmcgfSB9KTogRW1zY3JpcHRlbkZTTm9kZSB7XG5cdFx0cmV0dXJuIHRoaXMuY3JlYXRlTm9kZShudWxsLCAnLycsIHRoaXMuZ2V0TW9kZShtLm9wdHMucm9vdCksIDApO1xuXHR9XG5cblx0cHVibGljIGNyZWF0ZU5vZGUocGFyZW50OiBFbXNjcmlwdGVuRlNOb2RlIHwgbnVsbCwgbmFtZTogc3RyaW5nLCBtb2RlOiBudW1iZXIsIGRldj86IGFueSk6IEVtc2NyaXB0ZW5GU05vZGUge1xuXHRcdGNvbnN0IEZTID0gdGhpcy5GUztcblx0XHRpZiAoIUZTLmlzRGlyKG1vZGUpICYmICFGUy5pc0ZpbGUobW9kZSkgJiYgIUZTLmlzTGluayhtb2RlKSkge1xuXHRcdFx0dGhyb3cgbmV3IEZTLkVycm5vRXJyb3IodGhpcy5FUlJOT19DT0RFUy5FSU5WQUwpO1xuXHRcdH1cblx0XHRjb25zdCBub2RlID0gRlMuY3JlYXRlTm9kZShwYXJlbnQsIG5hbWUsIG1vZGUpO1xuXHRcdG5vZGUubm9kZV9vcHMgPSB0aGlzLm5vZGVfb3BzO1xuXHRcdG5vZGUuc3RyZWFtX29wcyA9IHRoaXMuc3RyZWFtX29wcztcblx0XHRyZXR1cm4gbm9kZTtcblx0fVxuXG5cdHB1YmxpYyBnZXRNb2RlKHBhdGg6IHN0cmluZyk6IG51bWJlciB7XG5cdFx0bGV0IHN0YXQ6IE5vZGVTdGF0cztcblx0XHR0cnkge1xuXHRcdFx0c3RhdCA9IHRoaXMubm9kZWZzLmxzdGF0U3luYyhwYXRoKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRpZiAoIWUuY29kZSkge1xuXHRcdFx0XHR0aHJvdyBlO1xuXHRcdFx0fVxuXHRcdFx0dGhyb3cgbmV3IHRoaXMuRlMuRXJybm9FcnJvcih0aGlzLkVSUk5PX0NPREVTW2UuY29kZV0pO1xuXHRcdH1cblx0XHRyZXR1cm4gc3RhdC5tb2RlO1xuXHR9XG5cblx0cHVibGljIHJlYWxQYXRoKG5vZGU6IEVtc2NyaXB0ZW5GU05vZGUpOiBzdHJpbmcge1xuXHRcdGNvbnN0IHBhcnRzOiBzdHJpbmdbXSA9IFtdO1xuXHRcdHdoaWxlIChub2RlLnBhcmVudCAhPT0gbm9kZSkge1xuXHRcdFx0cGFydHMucHVzaChub2RlLm5hbWUpO1xuXHRcdFx0bm9kZSA9IG5vZGUucGFyZW50O1xuXHRcdH1cblx0XHRwYXJ0cy5wdXNoKG5vZGUubW91bnQub3B0cy5yb290KTtcblx0XHRwYXJ0cy5yZXZlcnNlKCk7XG5cdFx0cmV0dXJuIHRoaXMuUEFUSC5qb2luLmFwcGx5KG51bGwsIHBhcnRzKTtcblx0fVxuXG5cdHB1YmxpYyBmbGFnc1RvUGVybWlzc2lvblN0cmluZyhmbGFnczogc3RyaW5nIHwgbnVtYmVyKTogc3RyaW5nIHtcblx0XHRsZXQgcGFyc2VkRmxhZ3MgPSB0eXBlb2YgZmxhZ3MgPT09ICdzdHJpbmcnID8gcGFyc2VJbnQoZmxhZ3MsIDEwKSA6IGZsYWdzO1xuXHRcdHBhcnNlZEZsYWdzICY9IDB4MWZmZjtcblx0XHRpZiAocGFyc2VkRmxhZ3MgaW4gdGhpcy5mbGFnc1RvUGVybWlzc2lvblN0cmluZ01hcCkge1xuXHRcdFx0cmV0dXJuICg8YW55PnRoaXMuZmxhZ3NUb1Blcm1pc3Npb25TdHJpbmdNYXApW3BhcnNlZEZsYWdzXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIDxzdHJpbmc+ZmxhZ3M7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIGdldE5vZGVGUygpIHtcblx0XHRyZXR1cm4gdGhpcy5ub2RlZnM7XG5cdH1cblxuXHRwdWJsaWMgZ2V0RlMoKSB7XG5cdFx0cmV0dXJuIHRoaXMuRlM7XG5cdH1cblxuXHRwdWJsaWMgZ2V0UEFUSCgpIHtcblx0XHRyZXR1cm4gdGhpcy5QQVRIO1xuXHR9XG5cblx0cHVibGljIGdldEVSUk5PX0NPREVTKCkge1xuXHRcdHJldHVybiB0aGlzLkVSUk5PX0NPREVTO1xuXHR9XG59XG4iLCAiLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzICovXG4vLyBkaXNhYmxlIG5vLXVudXNlZC12YXJzIHNpbmNlIEJhc2VGaWxlU3lzdGVtIHVzZXMgdGhlbSBhIGxvdFxuXG5pbXBvcnQgeyBBcGlFcnJvciwgRXJyb3JDb2RlIH0gZnJvbSAnLi9hcGlfZXJyb3InO1xuaW1wb3J0IFN0YXRzIGZyb20gJy4vc3RhdHMnO1xuaW1wb3J0IHsgRmlsZSB9IGZyb20gJy4vZmlsZSc7XG5pbXBvcnQgeyBGaWxlRmxhZywgQWN0aW9uVHlwZSB9IGZyb20gJy4vZmlsZV9mbGFnJztcbmltcG9ydCAqIGFzIHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgeyBmYWlsIH0gZnJvbSAnLi91dGlsJztcbmltcG9ydCBDcmVkIGZyb20gJy4vY3JlZCc7XG5pbXBvcnQgeyBCdWZmZXIgfSBmcm9tICdidWZmZXInO1xuXG5leHBvcnQgdHlwZSBCRlNPbmVBcmdDYWxsYmFjayA9IChlPzogQXBpRXJyb3IgfCBudWxsKSA9PiBhbnk7XG5leHBvcnQgdHlwZSBCRlNDYWxsYmFjazxUPiA9IChlOiBBcGlFcnJvciB8IG51bGwgfCB1bmRlZmluZWQsIHJ2PzogVCkgPT4gYW55O1xuZXhwb3J0IHR5cGUgQkZTVGhyZWVBcmdDYWxsYmFjazxULCBVPiA9IChlOiBBcGlFcnJvciB8IG51bGwgfCB1bmRlZmluZWQsIGFyZzE/OiBULCBhcmcyPzogVSkgPT4gYW55O1xuXG4vKipcbiAqIEludGVyZmFjZSBmb3IgYSBmaWxlc3lzdGVtLiAqKkFsbCoqIEJyb3dzZXJGUyBGaWxlU3lzdGVtcyBzaG91bGQgaW1wbGVtZW50XG4gKiB0aGlzIGludGVyZmFjZS5cbiAqXG4gKiBCZWxvdywgd2UgZGVub3RlIGVhY2ggQVBJIG1ldGhvZCBhcyAqKkNvcmUqKiwgKipTdXBwbGVtZW50YWwqKiwgb3JcbiAqICoqT3B0aW9uYWwqKi5cbiAqXG4gKiAjIyMgQ29yZSBNZXRob2RzXG4gKlxuICogKipDb3JlKiogQVBJIG1ldGhvZHMgKm5lZWQqIHRvIGJlIGltcGxlbWVudGVkIGZvciBiYXNpYyByZWFkL3dyaXRlXG4gKiBmdW5jdGlvbmFsaXR5LlxuICpcbiAqIE5vdGUgdGhhdCByZWFkLW9ubHkgRmlsZVN5c3RlbXMgY2FuIGNob29zZSB0byBub3QgaW1wbGVtZW50IGNvcmUgbWV0aG9kc1xuICogdGhhdCBtdXRhdGUgZmlsZXMgb3IgbWV0YWRhdGEuIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIHdpbGwgcGFzcyBhXG4gKiBOT1RfU1VQUE9SVEVEIGVycm9yIHRvIHRoZSBjYWxsYmFjay5cbiAqXG4gKiAjIyMgU3VwcGxlbWVudGFsIE1ldGhvZHNcbiAqXG4gKiAqKlN1cHBsZW1lbnRhbCoqIEFQSSBtZXRob2RzIGRvIG5vdCBuZWVkIHRvIGJlIGltcGxlbWVudGVkIGJ5IGEgZmlsZXN5c3RlbS5cbiAqIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIGltcGxlbWVudHMgYWxsIG9mIHRoZSBzdXBwbGVtZW50YWwgQVBJIG1ldGhvZHMgaW5cbiAqIHRlcm1zIG9mIHRoZSAqKmNvcmUqKiBBUEkgbWV0aG9kcy5cbiAqXG4gKiBOb3RlIHRoYXQgYSBmaWxlIHN5c3RlbSBtYXkgY2hvb3NlIHRvIGltcGxlbWVudCBzdXBwbGVtZW50YWwgbWV0aG9kcyBmb3JcbiAqIGVmZmljaWVuY3kgcmVhc29ucy5cbiAqXG4gKiBUaGUgY29kZSBmb3Igc29tZSBzdXBwbGVtZW50YWwgbWV0aG9kcyB3YXMgYWRhcHRlZCBkaXJlY3RseSBmcm9tIE5vZGVKUydzXG4gKiBmcy5qcyBzb3VyY2UgY29kZS5cbiAqXG4gKiAjIyMgT3B0aW9uYWwgTWV0aG9kc1xuICpcbiAqICoqT3B0aW9uYWwqKiBBUEkgbWV0aG9kcyBwcm92aWRlIGZ1bmN0aW9uYWxpdHkgdGhhdCBtYXkgbm90IGJlIGF2YWlsYWJsZSBpblxuICogYWxsIGZpbGVzeXN0ZW1zLiBGb3IgZXhhbXBsZSwgYWxsIHN5bWxpbmsvaGFyZGxpbmstcmVsYXRlZCBBUEkgbWV0aG9kcyBmYWxsXG4gKiB1bmRlciB0aGlzIGNhdGVnb3J5LlxuICpcbiAqIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIHdpbGwgcGFzcyBhIE5PVF9TVVBQT1JURUQgZXJyb3IgdG8gdGhlIGNhbGxiYWNrLlxuICpcbiAqICMjIyBBcmd1bWVudCBBc3N1bXB0aW9uc1xuICpcbiAqIFlvdSBjYW4gYXNzdW1lIHRoZSBmb2xsb3dpbmcgYWJvdXQgYXJndW1lbnRzIHBhc3NlZCB0byBlYWNoIEFQSSBtZXRob2Q6XG4gKlxuICogKiAqKkV2ZXJ5IHBhdGggaXMgYW4gYWJzb2x1dGUgcGF0aC4qKiBNZWFuaW5nLCBgLmAsIGAuLmAsIGFuZCBvdGhlciBpdGVtc1xuICogICBhcmUgcmVzb2x2ZWQgaW50byBhbiBhYnNvbHV0ZSBmb3JtLlxuICogKiAqKkFsbCBhcmd1bWVudHMgYXJlIHByZXNlbnQuKiogQW55IG9wdGlvbmFsIGFyZ3VtZW50cyBhdCB0aGUgTm9kZSBBUEkgbGV2ZWxcbiAqICAgaGF2ZSBiZWVuIHBhc3NlZCBpbiB3aXRoIHRoZWlyIGRlZmF1bHQgdmFsdWVzLlxuICogKiAqKlRoZSBjYWxsYmFjayB3aWxsIHJlc2V0IHRoZSBzdGFjayBkZXB0aC4qKiBXaGVuIHlvdXIgZmlsZXN5c3RlbSBjYWxscyB0aGVcbiAqICAgY2FsbGJhY2sgd2l0aCB0aGUgcmVxdWVzdGVkIGluZm9ybWF0aW9uLCBpdCB3aWxsIHVzZSBgc2V0SW1tZWRpYXRlYCB0b1xuICogICByZXNldCB0aGUgSmF2YVNjcmlwdCBzdGFjayBkZXB0aCBiZWZvcmUgY2FsbGluZyB0aGUgdXNlci1zdXBwbGllZCBjYWxsYmFjay5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBGaWxlU3lzdGVtIHtcblx0LyoqXG5cdCAqICoqT3B0aW9uYWwqKjogUmV0dXJucyB0aGUgbmFtZSBvZiB0aGUgZmlsZSBzeXN0ZW0uXG5cdCAqL1xuXHRnZXROYW1lKCk6IHN0cmluZztcblx0LyoqXG5cdCAqICoqT3B0aW9uYWwqKjogUGFzc2VzIHRoZSBmb2xsb3dpbmcgaW5mb3JtYXRpb24gdG8gdGhlIGNhbGxiYWNrOlxuXHQgKlxuXHQgKiAqIFRvdGFsIG51bWJlciBvZiBieXRlcyBhdmFpbGFibGUgb24gdGhpcyBmaWxlIHN5c3RlbS5cblx0ICogKiBudW1iZXIgb2YgZnJlZSBieXRlcyBhdmFpbGFibGUgb24gdGhpcyBmaWxlIHN5c3RlbS5cblx0ICpcblx0ICogQHRvZG8gVGhpcyBpbmZvIGlzIG5vdCBhdmFpbGFibGUgdGhyb3VnaCB0aGUgTm9kZSBBUEkuIFBlcmhhcHMgd2UgY291bGQgZG8gYVxuXHQgKiAgIHBvbHlmaWxsIG9mIGRpc2tzcGFjZS5qcywgb3IgYWRkIGEgbmV3IE5vZGUgQVBJIGZ1bmN0aW9uLlxuXHQgKiBAcGFyYW0gcGF0aCBUaGUgcGF0aCB0byB0aGUgbG9jYXRpb24gdGhhdCBpcyBiZWluZyBxdWVyaWVkLiBPbmx5XG5cdCAqICAgdXNlZnVsIGZvciBmaWxlc3lzdGVtcyB0aGF0IHN1cHBvcnQgbW91bnQgcG9pbnRzLlxuXHQgKi9cblx0ZGlza1NwYWNlKHA6IHN0cmluZywgY2I6ICh0b3RhbDogbnVtYmVyLCBmcmVlOiBudW1iZXIpID0+IGFueSk6IHZvaWQ7XG5cdC8qKlxuXHQgKiAqKkNvcmUqKjogSXMgdGhpcyBmaWxlc3lzdGVtIHJlYWQtb25seT9cblx0ICogQHJldHVybiBUcnVlIGlmIHRoaXMgRmlsZVN5c3RlbSBpcyBpbmhlcmVudGx5IHJlYWQtb25seS5cblx0ICovXG5cdGlzUmVhZE9ubHkoKTogYm9vbGVhbjtcblx0LyoqXG5cdCAqICoqQ29yZSoqOiBEb2VzIHRoZSBmaWxlc3lzdGVtIHN1cHBvcnQgb3B0aW9uYWwgc3ltbGluay9oYXJkbGluay1yZWxhdGVkXG5cdCAqICAgY29tbWFuZHM/XG5cdCAqIEByZXR1cm4gVHJ1ZSBpZiB0aGUgRmlsZVN5c3RlbSBzdXBwb3J0cyB0aGUgb3B0aW9uYWxcblx0ICogICBzeW1saW5rL2hhcmRsaW5rLXJlbGF0ZWQgY29tbWFuZHMuXG5cdCAqL1xuXHRzdXBwb3J0c0xpbmtzKCk6IGJvb2xlYW47XG5cdC8qKlxuXHQgKiAqKkNvcmUqKjogRG9lcyB0aGUgZmlsZXN5c3RlbSBzdXBwb3J0IG9wdGlvbmFsIHByb3BlcnR5LXJlbGF0ZWQgY29tbWFuZHM/XG5cdCAqIEByZXR1cm4gVHJ1ZSBpZiB0aGUgRmlsZVN5c3RlbSBzdXBwb3J0cyB0aGUgb3B0aW9uYWxcblx0ICogICBwcm9wZXJ0eS1yZWxhdGVkIGNvbW1hbmRzIChwZXJtaXNzaW9ucywgdXRpbWVzLCBldGMpLlxuXHQgKi9cblx0c3VwcG9ydHNQcm9wcygpOiBib29sZWFuO1xuXHQvKipcblx0ICogKipDb3JlKio6IERvZXMgdGhlIGZpbGVzeXN0ZW0gc3VwcG9ydCB0aGUgb3B0aW9uYWwgc3luY2hyb25vdXMgaW50ZXJmYWNlP1xuXHQgKiBAcmV0dXJuIFRydWUgaWYgdGhlIEZpbGVTeXN0ZW0gc3VwcG9ydHMgc3luY2hyb25vdXMgb3BlcmF0aW9ucy5cblx0ICovXG5cdHN1cHBvcnRzU3luY2goKTogYm9vbGVhbjtcblx0Ly8gKipDT1JFIEFQSSBNRVRIT0RTKipcblx0Ly8gRmlsZSBvciBkaXJlY3Rvcnkgb3BlcmF0aW9uc1xuXHQvKipcblx0ICogKipDb3JlKio6IEFzeW5jaHJvbm91cyBhY2Nlc3MuXG5cdCAqL1xuXHRhY2Nlc3MocDogc3RyaW5nLCBtb2RlOiBudW1iZXIsIGNyZWQ6IENyZWQsIGNiOiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQ7XG5cdC8qKlxuXHQgKiAqKkNvcmUqKjogU3luY2hyb25vdXMgYWNjZXNzLlxuXHQgKi9cblx0YWNjZXNzU3luYyhwOiBzdHJpbmcsIG1vZGU6IG51bWJlciwgY3JlZDogQ3JlZCk6IHZvaWQ7XG5cdC8qKlxuXHQgKiAqKkNvcmUqKjogQXN5bmNocm9ub3VzIHJlbmFtZS4gTm8gYXJndW1lbnRzIG90aGVyIHRoYW4gYSBwb3NzaWJsZSBleGNlcHRpb25cblx0ICogYXJlIGdpdmVuIHRvIHRoZSBjb21wbGV0aW9uIGNhbGxiYWNrLlxuXHQgKi9cblx0cmVuYW1lKG9sZFBhdGg6IHN0cmluZywgbmV3UGF0aDogc3RyaW5nLCBjcmVkOiBDcmVkLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkO1xuXHQvKipcblx0ICogKipDb3JlKio6IFN5bmNocm9ub3VzIHJlbmFtZS5cblx0ICovXG5cdHJlbmFtZVN5bmMob2xkUGF0aDogc3RyaW5nLCBuZXdQYXRoOiBzdHJpbmcsIGNyZWQ6IENyZWQpOiB2b2lkO1xuXHQvKipcblx0ICogKipDb3JlKio6IEFzeW5jaHJvbm91cyBgc3RhdGAgb3IgYGxzdGF0YC5cblx0ICogQHBhcmFtIGlzTHN0YXQgVHJ1ZSBpZiB0aGlzIGlzIGBsc3RhdGAsIGZhbHNlIGlmIHRoaXMgaXMgcmVndWxhclxuXHQgKiAgIGBzdGF0YC5cblx0ICovXG5cdHN0YXQocDogc3RyaW5nLCBpc0xzdGF0OiBib29sZWFuIHwgbnVsbCwgY3JlZDogQ3JlZCwgY2I6IEJGU0NhbGxiYWNrPFN0YXRzPik6IHZvaWQ7XG5cdC8qKlxuXHQgKiAqKkNvcmUqKjogU3luY2hyb25vdXMgYHN0YXRgIG9yIGBsc3RhdGAuXG5cdCAqIEBwYXJhbSBpc0xzdGF0IFRydWUgaWYgdGhpcyBpcyBgbHN0YXRgLCBmYWxzZSBpZiB0aGlzIGlzIHJlZ3VsYXJcblx0ICogICBgc3RhdGAuXG5cdCAqL1xuXHRzdGF0U3luYyhwOiBzdHJpbmcsIGlzTHN0YXQ6IGJvb2xlYW4gfCBudWxsLCBjcmVkOiBDcmVkKTogU3RhdHM7XG5cdC8vIEZpbGUgb3BlcmF0aW9uc1xuXHQvKipcblx0ICogKipDb3JlKio6IEFzeW5jaHJvbm91cyBmaWxlIG9wZW4uXG5cdCAqIEBzZWUgaHR0cDovL3d3dy5tYW5wYWdlei5jb20vbWFuLzIvb3Blbi9cblx0ICogQHBhcmFtIGZsYWdzIEhhbmRsZXMgdGhlIGNvbXBsZXhpdHkgb2YgdGhlIHZhcmlvdXMgZmlsZVxuXHQgKiAgIG1vZGVzLiBTZWUgaXRzIEFQSSBmb3IgbW9yZSBkZXRhaWxzLlxuXHQgKiBAcGFyYW0gbW9kZSBNb2RlIHRvIHVzZSB0byBvcGVuIHRoZSBmaWxlLiBDYW4gYmUgaWdub3JlZCBpZiB0aGVcblx0ICogICBmaWxlc3lzdGVtIGRvZXNuJ3Qgc3VwcG9ydCBwZXJtaXNzaW9ucy5cblx0ICovXG5cdG9wZW4ocDogc3RyaW5nLCBmbGFnOiBGaWxlRmxhZywgbW9kZTogbnVtYmVyLCBjcmVkOiBDcmVkLCBjYjogQkZTQ2FsbGJhY2s8RmlsZT4pOiB2b2lkO1xuXHQvKipcblx0ICogKipDb3JlKio6IFN5bmNocm9ub3VzIGZpbGUgb3Blbi5cblx0ICogQHNlZSBodHRwOi8vd3d3Lm1hbnBhZ2V6LmNvbS9tYW4vMi9vcGVuL1xuXHQgKiBAcGFyYW0gZmxhZ3MgSGFuZGxlcyB0aGUgY29tcGxleGl0eSBvZiB0aGUgdmFyaW91cyBmaWxlXG5cdCAqICAgbW9kZXMuIFNlZSBpdHMgQVBJIGZvciBtb3JlIGRldGFpbHMuXG5cdCAqIEBwYXJhbSBtb2RlIE1vZGUgdG8gdXNlIHRvIG9wZW4gdGhlIGZpbGUuIENhbiBiZSBpZ25vcmVkIGlmIHRoZVxuXHQgKiAgIGZpbGVzeXN0ZW0gZG9lc24ndCBzdXBwb3J0IHBlcm1pc3Npb25zLlxuXHQgKi9cblx0b3BlblN5bmMocDogc3RyaW5nLCBmbGFnOiBGaWxlRmxhZywgbW9kZTogbnVtYmVyLCBjcmVkOiBDcmVkKTogRmlsZTtcblx0LyoqXG5cdCAqICoqQ29yZSoqOiBBc3luY2hyb25vdXMgYHVubGlua2AuXG5cdCAqL1xuXHR1bmxpbmsocDogc3RyaW5nLCBjcmVkOiBDcmVkLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkO1xuXHQvKipcblx0ICogKipDb3JlKio6IFN5bmNocm9ub3VzIGB1bmxpbmtgLlxuXHQgKi9cblx0dW5saW5rU3luYyhwOiBzdHJpbmcsIGNyZWQ6IENyZWQpOiB2b2lkO1xuXHQvLyBEaXJlY3Rvcnkgb3BlcmF0aW9uc1xuXHQvKipcblx0ICogKipDb3JlKio6IEFzeW5jaHJvbm91cyBgcm1kaXJgLlxuXHQgKi9cblx0cm1kaXIocDogc3RyaW5nLCBjcmVkOiBDcmVkLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkO1xuXHQvKipcblx0ICogKipDb3JlKio6IFN5bmNocm9ub3VzIGBybWRpcmAuXG5cdCAqL1xuXHRybWRpclN5bmMocDogc3RyaW5nLCBjcmVkOiBDcmVkKTogdm9pZDtcblx0LyoqXG5cdCAqICoqQ29yZSoqOiBBc3luY2hyb25vdXMgYG1rZGlyYC5cblx0ICogQHBhcmFtIG1vZGUgTW9kZSB0byBtYWtlIHRoZSBkaXJlY3RvcnkgdXNpbmcuIENhbiBiZSBpZ25vcmVkIGlmXG5cdCAqICAgdGhlIGZpbGVzeXN0ZW0gZG9lc24ndCBzdXBwb3J0IHBlcm1pc3Npb25zLlxuXHQgKi9cblx0bWtkaXIocDogc3RyaW5nLCBtb2RlOiBudW1iZXIsIGNyZWQ6IENyZWQsIGNiOiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQ7XG5cdC8qKlxuXHQgKiAqKkNvcmUqKjogU3luY2hyb25vdXMgYG1rZGlyYC5cblx0ICogQHBhcmFtIG1vZGUgTW9kZSB0byBtYWtlIHRoZSBkaXJlY3RvcnkgdXNpbmcuIENhbiBiZSBpZ25vcmVkIGlmXG5cdCAqICAgdGhlIGZpbGVzeXN0ZW0gZG9lc24ndCBzdXBwb3J0IHBlcm1pc3Npb25zLlxuXHQgKi9cblx0bWtkaXJTeW5jKHA6IHN0cmluZywgbW9kZTogbnVtYmVyLCBjcmVkOiBDcmVkKTogdm9pZDtcblx0LyoqXG5cdCAqICoqQ29yZSoqOiBBc3luY2hyb25vdXMgYHJlYWRkaXJgLiBSZWFkcyB0aGUgY29udGVudHMgb2YgYSBkaXJlY3RvcnkuXG5cdCAqXG5cdCAqIFRoZSBjYWxsYmFjayBnZXRzIHR3byBhcmd1bWVudHMgYChlcnIsIGZpbGVzKWAgd2hlcmUgYGZpbGVzYCBpcyBhbiBhcnJheSBvZlxuXHQgKiB0aGUgbmFtZXMgb2YgdGhlIGZpbGVzIGluIHRoZSBkaXJlY3RvcnkgZXhjbHVkaW5nIGAnLidgIGFuZCBgJy4uJ2AuXG5cdCAqL1xuXHRyZWFkZGlyKHA6IHN0cmluZywgY3JlZDogQ3JlZCwgY2I6IEJGU0NhbGxiYWNrPHN0cmluZ1tdPik6IHZvaWQ7XG5cdC8qKlxuXHQgKiAqKkNvcmUqKjogU3luY2hyb25vdXMgYHJlYWRkaXJgLiBSZWFkcyB0aGUgY29udGVudHMgb2YgYSBkaXJlY3RvcnkuXG5cdCAqL1xuXHRyZWFkZGlyU3luYyhwOiBzdHJpbmcsIGNyZWQ6IENyZWQpOiBzdHJpbmdbXTtcblx0Ly8gKipTVVBQTEVNRU5UQUwgSU5URVJGQUNFIE1FVEhPRFMqKlxuXHQvLyBGaWxlIG9yIGRpcmVjdG9yeSBvcGVyYXRpb25zXG5cdC8qKlxuXHQgKiAqKlN1cHBsZW1lbnRhbCoqOiBUZXN0IHdoZXRoZXIgb3Igbm90IHRoZSBnaXZlbiBwYXRoIGV4aXN0cyBieSBjaGVja2luZyB3aXRoXG5cdCAqIHRoZSBmaWxlIHN5c3RlbS4gVGhlbiBjYWxsIHRoZSBjYWxsYmFjayBhcmd1bWVudCB3aXRoIGVpdGhlciB0cnVlIG9yIGZhbHNlLlxuXHQgKi9cblx0ZXhpc3RzKHA6IHN0cmluZywgY3JlZDogQ3JlZCwgY2I6IChleGlzdHM6IGJvb2xlYW4pID0+IHZvaWQpOiB2b2lkO1xuXHQvKipcblx0ICogKipTdXBwbGVtZW50YWwqKjogVGVzdCB3aGV0aGVyIG9yIG5vdCB0aGUgZ2l2ZW4gcGF0aCBleGlzdHMgYnkgY2hlY2tpbmcgd2l0aFxuXHQgKiB0aGUgZmlsZSBzeXN0ZW0uXG5cdCAqL1xuXHRleGlzdHNTeW5jKHA6IHN0cmluZywgY3JlZDogQ3JlZCk6IGJvb2xlYW47XG5cdC8qKlxuXHQgKiAqKlN1cHBsZW1lbnRhbCoqOiBBc3luY2hyb25vdXMgYHJlYWxwYXRoYC4gVGhlIGNhbGxiYWNrIGdldHMgdHdvIGFyZ3VtZW50c1xuXHQgKiBgKGVyciwgcmVzb2x2ZWRQYXRoKWAuXG5cdCAqXG5cdCAqIE5vdGUgdGhhdCB0aGUgTm9kZSBBUEkgd2lsbCByZXNvbHZlIGBwYXRoYCB0byBhbiBhYnNvbHV0ZSBwYXRoLlxuXHQgKiBAcGFyYW0gY2FjaGUgQW4gb2JqZWN0IGxpdGVyYWwgb2YgbWFwcGVkIHBhdGhzIHRoYXQgY2FuIGJlIHVzZWQgdG9cblx0ICogICBmb3JjZSBhIHNwZWNpZmljIHBhdGggcmVzb2x1dGlvbiBvciBhdm9pZCBhZGRpdGlvbmFsIGBmcy5zdGF0YCBjYWxscyBmb3Jcblx0ICogICBrbm93biByZWFsIHBhdGhzLiBJZiBub3Qgc3VwcGxpZWQgYnkgdGhlIHVzZXIsIGl0J2xsIGJlIGFuIGVtcHR5IG9iamVjdC5cblx0ICovXG5cdHJlYWxwYXRoKHA6IHN0cmluZywgY2FjaGU6IHsgW3BhdGg6IHN0cmluZ106IHN0cmluZyB9LCBjcmVkOiBDcmVkLCBjYjogQkZTQ2FsbGJhY2s8c3RyaW5nPik6IHZvaWQ7XG5cdC8qKlxuXHQgKiAqKlN1cHBsZW1lbnRhbCoqOiBTeW5jaHJvbm91cyBgcmVhbHBhdGhgLlxuXHQgKlxuXHQgKiBOb3RlIHRoYXQgdGhlIE5vZGUgQVBJIHdpbGwgcmVzb2x2ZSBgcGF0aGAgdG8gYW4gYWJzb2x1dGUgcGF0aC5cblx0ICogQHBhcmFtIGNhY2hlIEFuIG9iamVjdCBsaXRlcmFsIG9mIG1hcHBlZCBwYXRocyB0aGF0IGNhbiBiZSB1c2VkIHRvXG5cdCAqICAgZm9yY2UgYSBzcGVjaWZpYyBwYXRoIHJlc29sdXRpb24gb3IgYXZvaWQgYWRkaXRpb25hbCBgZnMuc3RhdGAgY2FsbHMgZm9yXG5cdCAqICAga25vd24gcmVhbCBwYXRocy4gSWYgbm90IHN1cHBsaWVkIGJ5IHRoZSB1c2VyLCBpdCdsbCBiZSBhbiBlbXB0eSBvYmplY3QuXG5cdCAqL1xuXHRyZWFscGF0aFN5bmMocDogc3RyaW5nLCBjYWNoZTogeyBbcGF0aDogc3RyaW5nXTogc3RyaW5nIH0sIGNyZWQ6IENyZWQpOiBzdHJpbmc7XG5cdC8vIEZpbGUgb3BlcmF0aW9uc1xuXHQvKipcblx0ICogKipTdXBwbGVtZW50YWwqKjogQXN5bmNocm9ub3VzIGB0cnVuY2F0ZWAuXG5cdCAqL1xuXHR0cnVuY2F0ZShwOiBzdHJpbmcsIGxlbjogbnVtYmVyLCBjcmVkOiBDcmVkLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkO1xuXHQvKipcblx0ICogKipTdXBwbGVtZW50YWwqKjogU3luY2hyb25vdXMgYHRydW5jYXRlYC5cblx0ICovXG5cdHRydW5jYXRlU3luYyhwOiBzdHJpbmcsIGxlbjogbnVtYmVyLCBjcmVkOiBDcmVkKTogdm9pZDtcblx0LyoqXG5cdCAqICoqU3VwcGxlbWVudGFsKio6IEFzeW5jaHJvbm91c2x5IHJlYWRzIHRoZSBlbnRpcmUgY29udGVudHMgb2YgYSBmaWxlLlxuXHQgKiBAcGFyYW0gZW5jb2RpbmcgSWYgbm9uLW51bGwsIHRoZSBmaWxlJ3MgY29udGVudHMgc2hvdWxkIGJlIGRlY29kZWRcblx0ICogICBpbnRvIGEgc3RyaW5nIHVzaW5nIHRoYXQgZW5jb2RpbmcuIE90aGVyd2lzZSwgaWYgZW5jb2RpbmcgaXMgbnVsbCwgZmV0Y2hcblx0ICogICB0aGUgZmlsZSdzIGNvbnRlbnRzIGFzIGEgQnVmZmVyLlxuXHQgKiBAcGFyYW0gY2IgSWYgbm8gZW5jb2RpbmcgaXMgc3BlY2lmaWVkLCB0aGVuIHRoZSByYXcgYnVmZmVyIGlzIHJldHVybmVkLlxuXHQgKi9cblx0cmVhZEZpbGUoZm5hbWU6IHN0cmluZywgZW5jb2Rpbmc6IHN0cmluZyB8IG51bGwsIGZsYWc6IEZpbGVGbGFnLCBjcmVkOiBDcmVkLCBjYjogQkZTQ2FsbGJhY2s8c3RyaW5nIHwgQnVmZmVyPik6IHZvaWQ7XG5cdC8qKlxuXHQgKiAqKlN1cHBsZW1lbnRhbCoqOiBTeW5jaHJvbm91c2x5IHJlYWRzIHRoZSBlbnRpcmUgY29udGVudHMgb2YgYSBmaWxlLlxuXHQgKiBAcGFyYW0gZW5jb2RpbmcgSWYgbm9uLW51bGwsIHRoZSBmaWxlJ3MgY29udGVudHMgc2hvdWxkIGJlIGRlY29kZWRcblx0ICogICBpbnRvIGEgc3RyaW5nIHVzaW5nIHRoYXQgZW5jb2RpbmcuIE90aGVyd2lzZSwgaWYgZW5jb2RpbmcgaXMgbnVsbCwgZmV0Y2hcblx0ICogICB0aGUgZmlsZSdzIGNvbnRlbnRzIGFzIGEgQnVmZmVyLlxuXHQgKi9cblx0cmVhZEZpbGVTeW5jKGZuYW1lOiBzdHJpbmcsIGVuY29kaW5nOiBzdHJpbmcgfCBudWxsLCBmbGFnOiBGaWxlRmxhZywgY3JlZDogQ3JlZCk6IGFueTtcblx0LyoqXG5cdCAqICoqU3VwcGxlbWVudGFsKio6IEFzeW5jaHJvbm91c2x5IHdyaXRlcyBkYXRhIHRvIGEgZmlsZSwgcmVwbGFjaW5nIHRoZSBmaWxlXG5cdCAqIGlmIGl0IGFscmVhZHkgZXhpc3RzLlxuXHQgKlxuXHQgKiBUaGUgZW5jb2Rpbmcgb3B0aW9uIGlzIGlnbm9yZWQgaWYgZGF0YSBpcyBhIGJ1ZmZlci5cblx0ICovXG5cdHdyaXRlRmlsZShmbmFtZTogc3RyaW5nLCBkYXRhOiBhbnksIGVuY29kaW5nOiBzdHJpbmcgfCBudWxsLCBmbGFnOiBGaWxlRmxhZywgbW9kZTogbnVtYmVyLCBjcmVkOiBDcmVkLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkO1xuXHQvKipcblx0ICogKipTdXBwbGVtZW50YWwqKjogU3luY2hyb25vdXNseSB3cml0ZXMgZGF0YSB0byBhIGZpbGUsIHJlcGxhY2luZyB0aGUgZmlsZVxuXHQgKiBpZiBpdCBhbHJlYWR5IGV4aXN0cy5cblx0ICpcblx0ICogVGhlIGVuY29kaW5nIG9wdGlvbiBpcyBpZ25vcmVkIGlmIGRhdGEgaXMgYSBidWZmZXIuXG5cdCAqL1xuXHR3cml0ZUZpbGVTeW5jKGZuYW1lOiBzdHJpbmcsIGRhdGE6IHN0cmluZyB8IEJ1ZmZlciwgZW5jb2Rpbmc6IHN0cmluZyB8IG51bGwsIGZsYWc6IEZpbGVGbGFnLCBtb2RlOiBudW1iZXIsIGNyZWQ6IENyZWQpOiB2b2lkO1xuXHQvKipcblx0ICogKipTdXBwbGVtZW50YWwqKjogQXN5bmNocm9ub3VzbHkgYXBwZW5kIGRhdGEgdG8gYSBmaWxlLCBjcmVhdGluZyB0aGUgZmlsZSBpZlxuXHQgKiBpdCBub3QgeWV0IGV4aXN0cy5cblx0ICovXG5cdGFwcGVuZEZpbGUoZm5hbWU6IHN0cmluZywgZGF0YTogc3RyaW5nIHwgQnVmZmVyLCBlbmNvZGluZzogc3RyaW5nIHwgbnVsbCwgZmxhZzogRmlsZUZsYWcsIG1vZGU6IG51bWJlciwgY3JlZDogQ3JlZCwgY2I6IEJGU09uZUFyZ0NhbGxiYWNrKTogdm9pZDtcblx0LyoqXG5cdCAqICoqU3VwcGxlbWVudGFsKio6IFN5bmNocm9ub3VzbHkgYXBwZW5kIGRhdGEgdG8gYSBmaWxlLCBjcmVhdGluZyB0aGUgZmlsZSBpZlxuXHQgKiBpdCBub3QgeWV0IGV4aXN0cy5cblx0ICovXG5cdGFwcGVuZEZpbGVTeW5jKGZuYW1lOiBzdHJpbmcsIGRhdGE6IHN0cmluZyB8IEJ1ZmZlciwgZW5jb2Rpbmc6IHN0cmluZyB8IG51bGwsIGZsYWc6IEZpbGVGbGFnLCBtb2RlOiBudW1iZXIsIGNyZWQ6IENyZWQpOiB2b2lkO1xuXHQvLyAqKk9QVElPTkFMIElOVEVSRkFDRSBNRVRIT0RTKipcblx0Ly8gUHJvcGVydHkgb3BlcmF0aW9uc1xuXHQvLyBUaGlzIGlzbid0IGFsd2F5cyBwb3NzaWJsZSBvbiBzb21lIGZpbGVzeXN0ZW0gdHlwZXMgKGUuZy4gRHJvcGJveCkuXG5cdC8qKlxuXHQgKiAqKk9wdGlvbmFsKio6IEFzeW5jaHJvbm91cyBgY2htb2RgIG9yIGBsY2htb2RgLlxuXHQgKiBAcGFyYW0gaXNMY2htb2QgYFRydWVgIGlmIGBsY2htb2RgLCBmYWxzZSBpZiBgY2htb2RgLiBIYXMgbm9cblx0ICogICBiZWFyaW5nIG9uIHJlc3VsdCBpZiBsaW5rcyBhcmVuJ3Qgc3VwcG9ydGVkLlxuXHQgKi9cblx0Y2htb2QocDogc3RyaW5nLCBpc0xjaG1vZDogYm9vbGVhbiwgbW9kZTogbnVtYmVyLCBjcmVkOiBDcmVkLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkO1xuXHQvKipcblx0ICogKipPcHRpb25hbCoqOiBTeW5jaHJvbm91cyBgY2htb2RgIG9yIGBsY2htb2RgLlxuXHQgKiBAcGFyYW0gaXNMY2htb2QgYFRydWVgIGlmIGBsY2htb2RgLCBmYWxzZSBpZiBgY2htb2RgLiBIYXMgbm9cblx0ICogICBiZWFyaW5nIG9uIHJlc3VsdCBpZiBsaW5rcyBhcmVuJ3Qgc3VwcG9ydGVkLlxuXHQgKi9cblx0Y2htb2RTeW5jKHA6IHN0cmluZywgaXNMY2htb2Q6IGJvb2xlYW4sIG1vZGU6IG51bWJlciwgY3JlZDogQ3JlZCk6IHZvaWQ7XG5cdC8qKlxuXHQgKiAqKk9wdGlvbmFsKio6IEFzeW5jaHJvbm91cyBgY2hvd25gIG9yIGBsY2hvd25gLlxuXHQgKiBAcGFyYW0gaXNMY2hvd24gYFRydWVgIGlmIGBsY2hvd25gLCBmYWxzZSBpZiBgY2hvd25gLiBIYXMgbm9cblx0ICogICBiZWFyaW5nIG9uIHJlc3VsdCBpZiBsaW5rcyBhcmVuJ3Qgc3VwcG9ydGVkLlxuXHQgKi9cblx0Y2hvd24ocDogc3RyaW5nLCBpc0xjaG93bjogYm9vbGVhbiwgbmV3X3VpZDogbnVtYmVyLCBuZXdfZ2lkOiBudW1iZXIsIGNyZWQ6IENyZWQsIGNiOiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQ7XG5cdC8qKlxuXHQgKiAqKk9wdGlvbmFsKio6IFN5bmNocm9ub3VzIGBjaG93bmAgb3IgYGxjaG93bmAuXG5cdCAqIEBwYXJhbSBpc0xjaG93biBgVHJ1ZWAgaWYgYGxjaG93bmAsIGZhbHNlIGlmIGBjaG93bmAuIEhhcyBub1xuXHQgKiAgIGJlYXJpbmcgb24gcmVzdWx0IGlmIGxpbmtzIGFyZW4ndCBzdXBwb3J0ZWQuXG5cdCAqL1xuXHRjaG93blN5bmMocDogc3RyaW5nLCBpc0xjaG93bjogYm9vbGVhbiwgbmV3X3VpZDogbnVtYmVyLCBuZXdfZ2lkOiBudW1iZXIsIGNyZWQ6IENyZWQpOiB2b2lkO1xuXHQvKipcblx0ICogKipPcHRpb25hbCoqOiBDaGFuZ2UgZmlsZSB0aW1lc3RhbXBzIG9mIHRoZSBmaWxlIHJlZmVyZW5jZWQgYnkgdGhlIHN1cHBsaWVkXG5cdCAqIHBhdGguXG5cdCAqL1xuXHR1dGltZXMocDogc3RyaW5nLCBhdGltZTogRGF0ZSwgbXRpbWU6IERhdGUsIGNyZWQ6IENyZWQsIGNiOiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQ7XG5cdC8qKlxuXHQgKiAqKk9wdGlvbmFsKio6IENoYW5nZSBmaWxlIHRpbWVzdGFtcHMgb2YgdGhlIGZpbGUgcmVmZXJlbmNlZCBieSB0aGUgc3VwcGxpZWRcblx0ICogcGF0aC5cblx0ICovXG5cdHV0aW1lc1N5bmMocDogc3RyaW5nLCBhdGltZTogRGF0ZSwgbXRpbWU6IERhdGUsIGNyZWQ6IENyZWQpOiB2b2lkO1xuXHQvLyBTeW1saW5rIG9wZXJhdGlvbnNcblx0Ly8gU3ltbGlua3MgYXJlbid0IGFsd2F5cyBzdXBwb3J0ZWQuXG5cdC8qKlxuXHQgKiAqKk9wdGlvbmFsKio6IEFzeW5jaHJvbm91cyBgbGlua2AuXG5cdCAqL1xuXHRsaW5rKHNyY3BhdGg6IHN0cmluZywgZHN0cGF0aDogc3RyaW5nLCBjcmVkOiBDcmVkLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkO1xuXHQvKipcblx0ICogKipPcHRpb25hbCoqOiBTeW5jaHJvbm91cyBgbGlua2AuXG5cdCAqL1xuXHRsaW5rU3luYyhzcmNwYXRoOiBzdHJpbmcsIGRzdHBhdGg6IHN0cmluZywgY3JlZDogQ3JlZCk6IHZvaWQ7XG5cdC8qKlxuXHQgKiAqKk9wdGlvbmFsKio6IEFzeW5jaHJvbm91cyBgc3ltbGlua2AuXG5cdCAqIEBwYXJhbSB0eXBlIGNhbiBiZSBlaXRoZXIgYCdkaXInYCBvciBgJ2ZpbGUnYFxuXHQgKi9cblx0c3ltbGluayhzcmNwYXRoOiBzdHJpbmcsIGRzdHBhdGg6IHN0cmluZywgdHlwZTogc3RyaW5nLCBjcmVkOiBDcmVkLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkO1xuXHQvKipcblx0ICogKipPcHRpb25hbCoqOiBTeW5jaHJvbm91cyBgc3ltbGlua2AuXG5cdCAqIEBwYXJhbSB0eXBlIGNhbiBiZSBlaXRoZXIgYCdkaXInYCBvciBgJ2ZpbGUnYFxuXHQgKi9cblx0c3ltbGlua1N5bmMoc3JjcGF0aDogc3RyaW5nLCBkc3RwYXRoOiBzdHJpbmcsIHR5cGU6IHN0cmluZywgY3JlZDogQ3JlZCk6IHZvaWQ7XG5cdC8qKlxuXHQgKiAqKk9wdGlvbmFsKio6IEFzeW5jaHJvbm91cyByZWFkbGluay5cblx0ICovXG5cdHJlYWRsaW5rKHA6IHN0cmluZywgY3JlZDogQ3JlZCwgY2I6IEJGU0NhbGxiYWNrPHN0cmluZz4pOiB2b2lkO1xuXHQvKipcblx0ICogKipPcHRpb25hbCoqOiBTeW5jaHJvbm91cyByZWFkbGluay5cblx0ICovXG5cdHJlYWRsaW5rU3luYyhwOiBzdHJpbmcsIGNyZWQ6IENyZWQpOiBzdHJpbmc7XG59XG5cbi8qKlxuICogRGVzY3JpYmVzIGEgZmlsZSBzeXN0ZW0gb3B0aW9uLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEZpbGVTeXN0ZW1PcHRpb248VD4ge1xuXHQvLyBUaGUgYmFzaWMgSmF2YVNjcmlwdCB0eXBlKHMpIGZvciB0aGlzIG9wdGlvbi5cblx0dHlwZTogc3RyaW5nIHwgc3RyaW5nW107XG5cdC8vIFdoZXRoZXIgb3Igbm90IHRoZSBvcHRpb24gaXMgb3B0aW9uYWwgKGUuZy4sIGNhbiBiZSBzZXQgdG8gbnVsbCBvciB1bmRlZmluZWQpLlxuXHQvLyBEZWZhdWx0cyB0byBgZmFsc2VgLlxuXHRvcHRpb25hbD86IGJvb2xlYW47XG5cdC8vIERlc2NyaXB0aW9uIG9mIHRoZSBvcHRpb24uIFVzZWQgaW4gZXJyb3IgbWVzc2FnZXMgYW5kIGRvY3VtZW50YXRpb24uXG5cdGRlc2NyaXB0aW9uOiBzdHJpbmc7XG5cdC8vIEEgY3VzdG9tIHZhbGlkYXRpb24gZnVuY3Rpb24gdG8gY2hlY2sgaWYgdGhlIG9wdGlvbiBpcyB2YWxpZC5cblx0Ly8gQ2FsbHMgdGhlIGNhbGxiYWNrIHdpdGggYW4gZXJyb3Igb2JqZWN0IG9uIGFuIGVycm9yLlxuXHQvLyAoQ2FuIGNhbGwgY2FsbGJhY2sgc3luY2hyb25vdXNseS4pXG5cdC8vIERlZmF1bHRzIHRvIGAob3B0LCBjYikgPT4gY2IoKWAuXG5cdHZhbGlkYXRvcj8ob3B0OiBULCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkO1xufVxuXG4vKipcbiAqIERlc2NyaWJlcyBhbGwgb2YgdGhlIG9wdGlvbnMgYXZhaWxhYmxlIGluIGEgZmlsZSBzeXN0ZW0uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRmlsZVN5c3RlbU9wdGlvbnMge1xuXHRbbmFtZTogc3RyaW5nXTogRmlsZVN5c3RlbU9wdGlvbjxhbnk+O1xufVxuXG4vKipcbiAqIENvbnRhaW5zIHR5cGluZ3MgZm9yIHN0YXRpYyBmdW5jdGlvbnMgb24gdGhlIGZpbGUgc3lzdGVtIGNvbnN0cnVjdG9yLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEZpbGVTeXN0ZW1Db25zdHJ1Y3RvciB7XG5cdC8qKlxuXHQgKiAqKkNvcmUqKjogTmFtZSB0byBpZGVudGlmeSB0aGlzIHBhcnRpY3VsYXIgZmlsZSBzeXN0ZW0uXG5cdCAqL1xuXHROYW1lOiBzdHJpbmc7XG5cdC8qKlxuXHQgKiAqKkNvcmUqKjogRGVzY3JpYmVzIGFsbCBvZiB0aGUgb3B0aW9ucyBhdmFpbGFibGUgZm9yIHRoaXMgZmlsZSBzeXN0ZW0uXG5cdCAqL1xuXHRPcHRpb25zOiBGaWxlU3lzdGVtT3B0aW9ucztcblx0LyoqXG5cdCAqICoqQ29yZSoqOiBDcmVhdGVzIGEgZmlsZSBzeXN0ZW0gb2YgdGhpcyBnaXZlbiB0eXBlIHdpdGggdGhlIGdpdmVuXG5cdCAqIG9wdGlvbnMsIGFuZCByZXR1cm5zIHRoZSByZXN1bHQgaW4gYSBjYWxsYmFjay5cblx0ICovXG5cdENyZWF0ZShvcHRpb25zOiBvYmplY3QsIGNiOiBCRlNDYWxsYmFjazxGaWxlU3lzdGVtPik6IHZvaWQ7XG5cdC8qKlxuXHQgKiAqKkNvcmUqKjogQ3JlYXRlcyBhIGZpbGUgc3lzdGVtIG9mIHRoaXMgZ2l2ZW4gdHlwZSB3aXRoIHRoZSBnaXZlblxuXHQgKiBvcHRpb25zLCBhbmQgcmV0dXJucyB0aGUgcmVzdWx0IGluIGEgcHJvbWlzZS5cblx0ICovXG5cdENyZWF0ZUFzeW5jKG9wdGlvbnM6IG9iamVjdCk6IFByb21pc2U8RmlsZVN5c3RlbT47XG5cdC8qKlxuXHQgKiAqKkNvcmUqKjogUmV0dXJucyAndHJ1ZScgaWYgdGhpcyBmaWxlc3lzdGVtIGlzIGF2YWlsYWJsZSBpbiB0aGUgY3VycmVudFxuXHQgKiBlbnZpcm9ubWVudC4gRm9yIGV4YW1wbGUsIGEgYGxvY2FsU3RvcmFnZWAtYmFja2VkIGZpbGVzeXN0ZW0gd2lsbCByZXR1cm5cblx0ICogJ2ZhbHNlJyBpZiB0aGUgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHRoYXQgQVBJLlxuXHQgKlxuXHQgKiBEZWZhdWx0cyB0byAnZmFsc2UnLCBhcyB0aGUgRmlsZVN5c3RlbSBiYXNlIGNsYXNzIGlzbid0IHVzYWJsZSBhbG9uZS5cblx0ICovXG5cdGlzQXZhaWxhYmxlKCk6IGJvb2xlYW47XG59XG5cbi8qKlxuICogQmFzaWMgZmlsZXN5c3RlbSBjbGFzcy4gTW9zdCBmaWxlc3lzdGVtcyBzaG91bGQgZXh0ZW5kIHRoaXMgY2xhc3MsIGFzIGl0XG4gKiBwcm92aWRlcyBkZWZhdWx0IGltcGxlbWVudGF0aW9ucyBmb3IgYSBoYW5kZnVsIG9mIG1ldGhvZHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlRmlsZVN5c3RlbSB7XG5cdHB1YmxpYyBzdXBwb3J0c0xpbmtzKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXHRwdWJsaWMgZGlza1NwYWNlKHA6IHN0cmluZywgY2I6ICh0b3RhbDogbnVtYmVyLCBmcmVlOiBudW1iZXIpID0+IGFueSk6IHZvaWQge1xuXHRcdGNiKDAsIDApO1xuXHR9XG5cdC8qKlxuXHQgKiBPcGVucyB0aGUgZmlsZSBhdCBwYXRoIHAgd2l0aCB0aGUgZ2l2ZW4gZmxhZy4gVGhlIGZpbGUgbXVzdCBleGlzdC5cblx0ICogQHBhcmFtIHAgVGhlIHBhdGggdG8gb3Blbi5cblx0ICogQHBhcmFtIGZsYWcgVGhlIGZsYWcgdG8gdXNlIHdoZW4gb3BlbmluZyB0aGUgZmlsZS5cblx0ICovXG5cdHB1YmxpYyBvcGVuRmlsZShwOiBzdHJpbmcsIGZsYWc6IEZpbGVGbGFnLCBjcmVkOiBDcmVkLCBjYjogQkZTQ2FsbGJhY2s8RmlsZT4pOiB2b2lkIHtcblx0XHR0aHJvdyBuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVOT1RTVVApO1xuXHR9XG5cdC8qKlxuXHQgKiBDcmVhdGUgdGhlIGZpbGUgYXQgcGF0aCBwIHdpdGggdGhlIGdpdmVuIG1vZGUuIFRoZW4sIG9wZW4gaXQgd2l0aCB0aGUgZ2l2ZW5cblx0ICogZmxhZy5cblx0ICovXG5cdHB1YmxpYyBjcmVhdGVGaWxlKHA6IHN0cmluZywgZmxhZzogRmlsZUZsYWcsIG1vZGU6IG51bWJlciwgY3JlZDogQ3JlZCwgY2I6IEJGU0NhbGxiYWNrPEZpbGU+KTogdm9pZCB7XG5cdFx0dGhyb3cgbmV3IEFwaUVycm9yKEVycm9yQ29kZS5FTk9UU1VQKTtcblx0fVxuXHRwdWJsaWMgb3BlbihwOiBzdHJpbmcsIGZsYWc6IEZpbGVGbGFnLCBtb2RlOiBudW1iZXIsIGNyZWQ6IENyZWQsIGNiOiBCRlNDYWxsYmFjazxGaWxlPik6IHZvaWQge1xuXHRcdGNvbnN0IG11c3RCZUZpbGUgPSAoZTogQXBpRXJyb3IsIHN0YXRzPzogU3RhdHMpOiB2b2lkID0+IHtcblx0XHRcdGlmIChlKSB7XG5cdFx0XHRcdC8vIEZpbGUgZG9lcyBub3QgZXhpc3QuXG5cdFx0XHRcdHN3aXRjaCAoZmxhZy5wYXRoTm90RXhpc3RzQWN0aW9uKCkpIHtcblx0XHRcdFx0XHRjYXNlIEFjdGlvblR5cGUuQ1JFQVRFX0ZJTEU6XG5cdFx0XHRcdFx0XHQvLyBFbnN1cmUgcGFyZW50IGV4aXN0cy5cblx0XHRcdFx0XHRcdHJldHVybiB0aGlzLnN0YXQocGF0aC5kaXJuYW1lKHApLCBmYWxzZSwgY3JlZCwgKGU6IEFwaUVycm9yLCBwYXJlbnRTdGF0cz86IFN0YXRzKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGlmIChlKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2IoZSk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAocGFyZW50U3RhdHMgJiYgIXBhcmVudFN0YXRzLmlzRGlyZWN0b3J5KCkpIHtcblx0XHRcdFx0XHRcdFx0XHRjYihBcGlFcnJvci5FTk9URElSKHBhdGguZGlybmFtZShwKSkpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMuY3JlYXRlRmlsZShwLCBmbGFnLCBtb2RlLCBjcmVkLCBjYik7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdGNhc2UgQWN0aW9uVHlwZS5USFJPV19FWENFUFRJT046XG5cdFx0XHRcdFx0XHRyZXR1cm4gY2IoQXBpRXJyb3IuRU5PRU5UKHApKTtcblx0XHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdFx0cmV0dXJuIGNiKG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRUlOVkFMLCAnSW52YWxpZCBGaWxlRmxhZyBvYmplY3QuJykpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBGaWxlIGV4aXN0cy5cblx0XHRcdFx0c3dpdGNoIChmbGFnLnBhdGhFeGlzdHNBY3Rpb24oKSkge1xuXHRcdFx0XHRcdGNhc2UgQWN0aW9uVHlwZS5USFJPV19FWENFUFRJT046XG5cdFx0XHRcdFx0XHRyZXR1cm4gY2IoQXBpRXJyb3IuRUVYSVNUKHApKTtcblx0XHRcdFx0XHRjYXNlIEFjdGlvblR5cGUuVFJVTkNBVEVfRklMRTpcblx0XHRcdFx0XHRcdC8vIE5PVEU6IEluIGEgcHJldmlvdXMgaW1wbGVtZW50YXRpb24sIHdlIGRlbGV0ZWQgdGhlIGZpbGUgYW5kXG5cdFx0XHRcdFx0XHQvLyByZS1jcmVhdGVkIGl0LiBIb3dldmVyLCB0aGlzIGNyZWF0ZWQgYSByYWNlIGNvbmRpdGlvbiBpZiBhbm90aGVyXG5cdFx0XHRcdFx0XHQvLyBhc3luY2hyb25vdXMgcmVxdWVzdCB3YXMgdHJ5aW5nIHRvIHJlYWQgdGhlIGZpbGUsIGFzIHRoZSBmaWxlXG5cdFx0XHRcdFx0XHQvLyB3b3VsZCBub3QgZXhpc3QgZm9yIGEgc21hbGwgcGVyaW9kIG9mIHRpbWUuXG5cdFx0XHRcdFx0XHRyZXR1cm4gdGhpcy5vcGVuRmlsZShwLCBmbGFnLCBjcmVkLCAoZTogQXBpRXJyb3IsIGZkPzogRmlsZSk6IHZvaWQgPT4ge1xuXHRcdFx0XHRcdFx0XHRpZiAoZSkge1xuXHRcdFx0XHRcdFx0XHRcdGNiKGUpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKGZkKSB7XG5cdFx0XHRcdFx0XHRcdFx0ZmQudHJ1bmNhdGUoMCwgKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0ZmQuc3luYygoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNiKG51bGwsIGZkKTtcblx0XHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdGZhaWwoKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0Y2FzZSBBY3Rpb25UeXBlLk5PUDpcblx0XHRcdFx0XHRcdHJldHVybiB0aGlzLm9wZW5GaWxlKHAsIGZsYWcsIGNyZWQsIGNiKTtcblx0XHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdFx0cmV0dXJuIGNiKG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRUlOVkFMLCAnSW52YWxpZCBGaWxlRmxhZyBvYmplY3QuJykpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblx0XHR0aGlzLnN0YXQocCwgZmFsc2UsIGNyZWQsIG11c3RCZUZpbGUpO1xuXHR9XG5cdHB1YmxpYyBhY2Nlc3MocDogc3RyaW5nLCBtb2RlOiBudW1iZXIsIGNyZWQ6IENyZWQsIGNiOiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQge1xuXHRcdGNiKG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRU5PVFNVUCkpO1xuXHR9XG5cdHB1YmxpYyBhY2Nlc3NTeW5jKHA6IHN0cmluZywgbW9kZTogbnVtYmVyLCBjcmVkOiBDcmVkKTogdm9pZCB7XG5cdFx0dGhyb3cgbmV3IEFwaUVycm9yKEVycm9yQ29kZS5FTk9UU1VQKTtcblx0fVxuXHRwdWJsaWMgcmVuYW1lKG9sZFBhdGg6IHN0cmluZywgbmV3UGF0aDogc3RyaW5nLCBjcmVkOiBDcmVkLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0XHRjYihuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVOT1RTVVApKTtcblx0fVxuXHRwdWJsaWMgcmVuYW1lU3luYyhvbGRQYXRoOiBzdHJpbmcsIG5ld1BhdGg6IHN0cmluZywgY3JlZDogQ3JlZCk6IHZvaWQge1xuXHRcdHRocm93IG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRU5PVFNVUCk7XG5cdH1cblx0cHVibGljIHN0YXQocDogc3RyaW5nLCBpc0xzdGF0OiBib29sZWFuIHwgbnVsbCwgY3JlZDogQ3JlZCwgY2I6IEJGU0NhbGxiYWNrPFN0YXRzPik6IHZvaWQge1xuXHRcdGNiKG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRU5PVFNVUCkpO1xuXHR9XG5cdHB1YmxpYyBzdGF0U3luYyhwOiBzdHJpbmcsIGlzTHN0YXQ6IGJvb2xlYW4gfCBudWxsLCBjcmVkOiBDcmVkKTogU3RhdHMge1xuXHRcdHRocm93IG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRU5PVFNVUCk7XG5cdH1cblx0LyoqXG5cdCAqIE9wZW5zIHRoZSBmaWxlIGF0IHBhdGggcCB3aXRoIHRoZSBnaXZlbiBmbGFnLiBUaGUgZmlsZSBtdXN0IGV4aXN0LlxuXHQgKiBAcGFyYW0gcCBUaGUgcGF0aCB0byBvcGVuLlxuXHQgKiBAcGFyYW0gZmxhZyBUaGUgZmxhZyB0byB1c2Ugd2hlbiBvcGVuaW5nIHRoZSBmaWxlLlxuXHQgKiBAcmV0dXJuIEEgRmlsZSBvYmplY3QgY29ycmVzcG9uZGluZyB0byB0aGUgb3BlbmVkIGZpbGUuXG5cdCAqL1xuXHRwdWJsaWMgb3BlbkZpbGVTeW5jKHA6IHN0cmluZywgZmxhZzogRmlsZUZsYWcsIGNyZWQ6IENyZWQpOiBGaWxlIHtcblx0XHR0aHJvdyBuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVOT1RTVVApO1xuXHR9XG5cdC8qKlxuXHQgKiBDcmVhdGUgdGhlIGZpbGUgYXQgcGF0aCBwIHdpdGggdGhlIGdpdmVuIG1vZGUuIFRoZW4sIG9wZW4gaXQgd2l0aCB0aGUgZ2l2ZW5cblx0ICogZmxhZy5cblx0ICovXG5cdHB1YmxpYyBjcmVhdGVGaWxlU3luYyhwOiBzdHJpbmcsIGZsYWc6IEZpbGVGbGFnLCBtb2RlOiBudW1iZXIsIGNyZWQ6IENyZWQpOiBGaWxlIHtcblx0XHR0aHJvdyBuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVOT1RTVVApO1xuXHR9XG5cdHB1YmxpYyBvcGVuU3luYyhwOiBzdHJpbmcsIGZsYWc6IEZpbGVGbGFnLCBtb2RlOiBudW1iZXIsIGNyZWQ6IENyZWQpOiBGaWxlIHtcblx0XHQvLyBDaGVjayBpZiB0aGUgcGF0aCBleGlzdHMsIGFuZCBpcyBhIGZpbGUuXG5cdFx0bGV0IHN0YXRzOiBTdGF0cztcblx0XHR0cnkge1xuXHRcdFx0c3RhdHMgPSB0aGlzLnN0YXRTeW5jKHAsIGZhbHNlLCBjcmVkKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHQvLyBGaWxlIGRvZXMgbm90IGV4aXN0LlxuXHRcdFx0c3dpdGNoIChmbGFnLnBhdGhOb3RFeGlzdHNBY3Rpb24oKSkge1xuXHRcdFx0XHRjYXNlIEFjdGlvblR5cGUuQ1JFQVRFX0ZJTEU6XG5cdFx0XHRcdFx0Ly8gRW5zdXJlIHBhcmVudCBleGlzdHMuXG5cdFx0XHRcdFx0Y29uc3QgcGFyZW50U3RhdHMgPSB0aGlzLnN0YXRTeW5jKHBhdGguZGlybmFtZShwKSwgZmFsc2UsIGNyZWQpO1xuXHRcdFx0XHRcdGlmICghcGFyZW50U3RhdHMuaXNEaXJlY3RvcnkoKSkge1xuXHRcdFx0XHRcdFx0dGhyb3cgQXBpRXJyb3IuRU5PVERJUihwYXRoLmRpcm5hbWUocCkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdGhpcy5jcmVhdGVGaWxlU3luYyhwLCBmbGFnLCBtb2RlLCBjcmVkKTtcblx0XHRcdFx0Y2FzZSBBY3Rpb25UeXBlLlRIUk9XX0VYQ0VQVElPTjpcblx0XHRcdFx0XHR0aHJvdyBBcGlFcnJvci5FTk9FTlQocCk7XG5cdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEFwaUVycm9yKEVycm9yQ29kZS5FSU5WQUwsICdJbnZhbGlkIEZpbGVGbGFnIG9iamVjdC4nKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKCFzdGF0cy5oYXNBY2Nlc3MobW9kZSwgY3JlZCkpIHtcblx0XHRcdHRocm93IEFwaUVycm9yLkVBQ0NFUyhwKTtcblx0XHR9XG5cblx0XHQvLyBGaWxlIGV4aXN0cy5cblx0XHRzd2l0Y2ggKGZsYWcucGF0aEV4aXN0c0FjdGlvbigpKSB7XG5cdFx0XHRjYXNlIEFjdGlvblR5cGUuVEhST1dfRVhDRVBUSU9OOlxuXHRcdFx0XHR0aHJvdyBBcGlFcnJvci5FRVhJU1QocCk7XG5cdFx0XHRjYXNlIEFjdGlvblR5cGUuVFJVTkNBVEVfRklMRTpcblx0XHRcdFx0Ly8gRGVsZXRlIGZpbGUuXG5cdFx0XHRcdHRoaXMudW5saW5rU3luYyhwLCBjcmVkKTtcblx0XHRcdFx0Ly8gQ3JlYXRlIGZpbGUuIFVzZSB0aGUgc2FtZSBtb2RlIGFzIHRoZSBvbGQgZmlsZS5cblx0XHRcdFx0Ly8gTm9kZSBpdHNlbGYgbW9kaWZpZXMgdGhlIGN0aW1lIHdoZW4gdGhpcyBvY2N1cnMsIHNvIHRoaXMgYWN0aW9uXG5cdFx0XHRcdC8vIHdpbGwgcHJlc2VydmUgdGhhdCBiZWhhdmlvciBpZiB0aGUgdW5kZXJseWluZyBmaWxlIHN5c3RlbVxuXHRcdFx0XHQvLyBzdXBwb3J0cyB0aG9zZSBwcm9wZXJ0aWVzLlxuXHRcdFx0XHRyZXR1cm4gdGhpcy5jcmVhdGVGaWxlU3luYyhwLCBmbGFnLCBzdGF0cy5tb2RlLCBjcmVkKTtcblx0XHRcdGNhc2UgQWN0aW9uVHlwZS5OT1A6XG5cdFx0XHRcdHJldHVybiB0aGlzLm9wZW5GaWxlU3luYyhwLCBmbGFnLCBjcmVkKTtcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdHRocm93IG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRUlOVkFMLCAnSW52YWxpZCBGaWxlRmxhZyBvYmplY3QuJyk7XG5cdFx0fVxuXHR9XG5cdHB1YmxpYyB1bmxpbmsocDogc3RyaW5nLCBjcmVkOiBDcmVkLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0XHRjYihuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVOT1RTVVApKTtcblx0fVxuXHRwdWJsaWMgdW5saW5rU3luYyhwOiBzdHJpbmcsIGNyZWQ6IENyZWQpOiB2b2lkIHtcblx0XHR0aHJvdyBuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVOT1RTVVApO1xuXHR9XG5cdHB1YmxpYyBybWRpcihwOiBzdHJpbmcsIGNyZWQ6IENyZWQsIGNiOiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQge1xuXHRcdGNiKG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRU5PVFNVUCkpO1xuXHR9XG5cdHB1YmxpYyBybWRpclN5bmMocDogc3RyaW5nLCBjcmVkOiBDcmVkKTogdm9pZCB7XG5cdFx0dGhyb3cgbmV3IEFwaUVycm9yKEVycm9yQ29kZS5FTk9UU1VQKTtcblx0fVxuXHRwdWJsaWMgbWtkaXIocDogc3RyaW5nLCBtb2RlOiBudW1iZXIsIGNyZWQ6IENyZWQsIGNiOiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQge1xuXHRcdGNiKG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRU5PVFNVUCkpO1xuXHR9XG5cdHB1YmxpYyBta2RpclN5bmMocDogc3RyaW5nLCBtb2RlOiBudW1iZXIsIGNyZWQ6IENyZWQpOiB2b2lkIHtcblx0XHR0aHJvdyBuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVOT1RTVVApO1xuXHR9XG5cdHB1YmxpYyByZWFkZGlyKHA6IHN0cmluZywgY3JlZDogQ3JlZCwgY2I6IEJGU0NhbGxiYWNrPHN0cmluZ1tdPik6IHZvaWQge1xuXHRcdGNiKG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRU5PVFNVUCkpO1xuXHR9XG5cdHB1YmxpYyByZWFkZGlyU3luYyhwOiBzdHJpbmcsIGNyZWQ6IENyZWQpOiBzdHJpbmdbXSB7XG5cdFx0dGhyb3cgbmV3IEFwaUVycm9yKEVycm9yQ29kZS5FTk9UU1VQKTtcblx0fVxuXHRwdWJsaWMgZXhpc3RzKHA6IHN0cmluZywgY3JlZDogQ3JlZCwgY2I6IChleGlzdHM6IGJvb2xlYW4pID0+IHZvaWQpOiB2b2lkIHtcblx0XHR0aGlzLnN0YXQocCwgbnVsbCwgY3JlZCwgZnVuY3Rpb24gKGVycikge1xuXHRcdFx0Y2IoIWVycik7XG5cdFx0fSk7XG5cdH1cblx0cHVibGljIGV4aXN0c1N5bmMocDogc3RyaW5nLCBjcmVkOiBDcmVkKTogYm9vbGVhbiB7XG5cdFx0dHJ5IHtcblx0XHRcdHRoaXMuc3RhdFN5bmMocCwgdHJ1ZSwgY3JlZCk7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9XG5cdHB1YmxpYyByZWFscGF0aChwOiBzdHJpbmcsIGNhY2hlOiB7IFtwYXRoOiBzdHJpbmddOiBzdHJpbmcgfSwgY3JlZDogQ3JlZCwgY2I6IEJGU0NhbGxiYWNrPHN0cmluZz4pOiB2b2lkIHtcblx0XHRpZiAodGhpcy5zdXBwb3J0c0xpbmtzKCkpIHtcblx0XHRcdC8vIFRoZSBwYXRoIGNvdWxkIGNvbnRhaW4gc3ltbGlua3MuIFNwbGl0IHVwIHRoZSBwYXRoLFxuXHRcdFx0Ly8gcmVzb2x2ZSBhbnkgc3ltbGlua3MsIHJldHVybiB0aGUgcmVzb2x2ZWQgc3RyaW5nLlxuXHRcdFx0Y29uc3Qgc3BsaXRQYXRoID0gcC5zcGxpdChwYXRoLnNlcCk7XG5cdFx0XHQvLyBUT0RPOiBTaW1wbGVyIHRvIGp1c3QgcGFzcyB0aHJvdWdoIGZpbGUsIGZpbmQgc2VwIGFuZCBzdWNoLlxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzcGxpdFBhdGgubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0Y29uc3QgYWRkUGF0aHMgPSBzcGxpdFBhdGguc2xpY2UoMCwgaSArIDEpO1xuXHRcdFx0XHRzcGxpdFBhdGhbaV0gPSBwYXRoLmpvaW4uYXBwbHkobnVsbCwgYWRkUGF0aHMpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBObyBzeW1saW5rcy4gV2UganVzdCBuZWVkIHRvIHZlcmlmeSB0aGF0IGl0IGV4aXN0cy5cblx0XHRcdHRoaXMuZXhpc3RzKHAsIGNyZWQsIGZ1bmN0aW9uIChkb2VzRXhpc3QpIHtcblx0XHRcdFx0aWYgKGRvZXNFeGlzdCkge1xuXHRcdFx0XHRcdGNiKG51bGwsIHApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNiKEFwaUVycm9yLkVOT0VOVChwKSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXHRwdWJsaWMgcmVhbHBhdGhTeW5jKHA6IHN0cmluZywgY2FjaGU6IHsgW3BhdGg6IHN0cmluZ106IHN0cmluZyB9LCBjcmVkOiBDcmVkKTogc3RyaW5nIHtcblx0XHRpZiAodGhpcy5zdXBwb3J0c0xpbmtzKCkpIHtcblx0XHRcdC8vIFRoZSBwYXRoIGNvdWxkIGNvbnRhaW4gc3ltbGlua3MuIFNwbGl0IHVwIHRoZSBwYXRoLFxuXHRcdFx0Ly8gcmVzb2x2ZSBhbnkgc3ltbGlua3MsIHJldHVybiB0aGUgcmVzb2x2ZWQgc3RyaW5nLlxuXHRcdFx0Y29uc3Qgc3BsaXRQYXRoID0gcC5zcGxpdChwYXRoLnNlcCk7XG5cdFx0XHQvLyBUT0RPOiBTaW1wbGVyIHRvIGp1c3QgcGFzcyB0aHJvdWdoIGZpbGUsIGZpbmQgc2VwIGFuZCBzdWNoLlxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzcGxpdFBhdGgubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0Y29uc3QgYWRkUGF0aHMgPSBzcGxpdFBhdGguc2xpY2UoMCwgaSArIDEpO1xuXHRcdFx0XHRzcGxpdFBhdGhbaV0gPSBwYXRoLmpvaW4uYXBwbHkocGF0aCwgYWRkUGF0aHMpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHNwbGl0UGF0aC5qb2luKHBhdGguc2VwKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gTm8gc3ltbGlua3MuIFdlIGp1c3QgbmVlZCB0byB2ZXJpZnkgdGhhdCBpdCBleGlzdHMuXG5cdFx0XHRpZiAodGhpcy5leGlzdHNTeW5jKHAsIGNyZWQpKSB7XG5cdFx0XHRcdHJldHVybiBwO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhyb3cgQXBpRXJyb3IuRU5PRU5UKHApO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRwdWJsaWMgdHJ1bmNhdGUocDogc3RyaW5nLCBsZW46IG51bWJlciwgY3JlZDogQ3JlZCwgY2I6IEJGU09uZUFyZ0NhbGxiYWNrKTogdm9pZCB7XG5cdFx0dGhpcy5vcGVuKHAsIEZpbGVGbGFnLmdldEZpbGVGbGFnKCdyKycpLCAweDFhNCwgY3JlZCwgZnVuY3Rpb24gKGVyOiBBcGlFcnJvciwgZmQ/OiBGaWxlKSB7XG5cdFx0XHRpZiAoZXIpIHtcblx0XHRcdFx0cmV0dXJuIGNiKGVyKTtcblx0XHRcdH1cblx0XHRcdGZkIS50cnVuY2F0ZShsZW4sIGZ1bmN0aW9uIChlcjogYW55KSB7XG5cdFx0XHRcdGZkIS5jbG9zZShmdW5jdGlvbiAoZXIyOiBhbnkpIHtcblx0XHRcdFx0XHRjYihlciB8fCBlcjIpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cdHB1YmxpYyB0cnVuY2F0ZVN5bmMocDogc3RyaW5nLCBsZW46IG51bWJlciwgY3JlZDogQ3JlZCk6IHZvaWQge1xuXHRcdGNvbnN0IGZkID0gdGhpcy5vcGVuU3luYyhwLCBGaWxlRmxhZy5nZXRGaWxlRmxhZygncisnKSwgMHgxYTQsIGNyZWQpO1xuXHRcdC8vIE5lZWQgdG8gc2FmZWx5IGNsb3NlIEZELCByZWdhcmRsZXNzIG9mIHdoZXRoZXIgb3Igbm90IHRydW5jYXRlIHN1Y2NlZWRzLlxuXHRcdHRyeSB7XG5cdFx0XHRmZC50cnVuY2F0ZVN5bmMobGVuKTtcblx0XHR9IGZpbmFsbHkge1xuXHRcdFx0ZmQuY2xvc2VTeW5jKCk7XG5cdFx0fVxuXHR9XG5cdHB1YmxpYyByZWFkRmlsZShmbmFtZTogc3RyaW5nLCBlbmNvZGluZzogQnVmZmVyRW5jb2RpbmcgfCBudWxsLCBmbGFnOiBGaWxlRmxhZywgY3JlZDogQ3JlZCwgY2I6IEJGU0NhbGxiYWNrPHN0cmluZyB8IEJ1ZmZlcj4pOiB2b2lkIHtcblx0XHQvLyBXcmFwIGNiIGluIGZpbGUgY2xvc2luZyBjb2RlLlxuXHRcdGNvbnN0IG9sZENiID0gY2I7XG5cdFx0Ly8gR2V0IGZpbGUuXG5cdFx0dGhpcy5vcGVuKGZuYW1lLCBmbGFnLCAweDFhNCwgY3JlZCwgKGVyciwgZmQpID0+IHtcblx0XHRcdGlmIChlcnIpIHtcblx0XHRcdFx0cmV0dXJuIGNiKGVycik7XG5cdFx0XHR9XG5cdFx0XHRjYiA9IGZ1bmN0aW9uIChlcnI/OiBBcGlFcnJvciB8IG51bGwsIGFyZz86IHN0cmluZyB8IEJ1ZmZlcikge1xuXHRcdFx0XHRmZCEuY2xvc2UoZnVuY3Rpb24gKGVycjI6IGFueSkge1xuXHRcdFx0XHRcdGlmICghZXJyKSB7XG5cdFx0XHRcdFx0XHRlcnIgPSBlcnIyO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gb2xkQ2IoZXJyLCBhcmcpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH07XG5cdFx0XHRmZCEuc3RhdCgoZXJyLCBzdGF0PykgPT4ge1xuXHRcdFx0XHRpZiAoZXJyKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGNiKGVycik7XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gQWxsb2NhdGUgYnVmZmVyLlxuXHRcdFx0XHRjb25zdCBidWYgPSBCdWZmZXIuYWxsb2Moc3RhdCEuc2l6ZSk7XG5cdFx0XHRcdGZkIS5yZWFkKGJ1ZiwgMCwgc3RhdCEuc2l6ZSwgMCwgKGVycj86IEFwaUVycm9yIHwgbnVsbCkgPT4ge1xuXHRcdFx0XHRcdGlmIChlcnIpIHtcblx0XHRcdFx0XHRcdHJldHVybiBjYihlcnIpO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoZW5jb2RpbmcgPT09IG51bGwpIHtcblx0XHRcdFx0XHRcdHJldHVybiBjYihlcnIsIGJ1Zik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRjYihudWxsLCBidWYudG9TdHJpbmcoZW5jb2RpbmcpKTtcblx0XHRcdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdFx0XHRjYihlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblx0cHVibGljIHJlYWRGaWxlU3luYyhmbmFtZTogc3RyaW5nLCBlbmNvZGluZzogQnVmZmVyRW5jb2RpbmcgfCBudWxsLCBmbGFnOiBGaWxlRmxhZywgY3JlZDogQ3JlZCk6IGFueSB7XG5cdFx0Ly8gR2V0IGZpbGUuXG5cdFx0Y29uc3QgZmQgPSB0aGlzLm9wZW5TeW5jKGZuYW1lLCBmbGFnLCAweDFhNCwgY3JlZCk7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHN0YXQgPSBmZC5zdGF0U3luYygpO1xuXHRcdFx0Ly8gQWxsb2NhdGUgYnVmZmVyLlxuXHRcdFx0Y29uc3QgYnVmID0gQnVmZmVyLmFsbG9jKHN0YXQuc2l6ZSk7XG5cdFx0XHRmZC5yZWFkU3luYyhidWYsIDAsIHN0YXQuc2l6ZSwgMCk7XG5cdFx0XHRmZC5jbG9zZVN5bmMoKTtcblx0XHRcdGlmIChlbmNvZGluZyA9PT0gbnVsbCkge1xuXHRcdFx0XHRyZXR1cm4gYnVmO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGJ1Zi50b1N0cmluZyhlbmNvZGluZyk7XG5cdFx0fSBmaW5hbGx5IHtcblx0XHRcdGZkLmNsb3NlU3luYygpO1xuXHRcdH1cblx0fVxuXHRwdWJsaWMgd3JpdGVGaWxlKGZuYW1lOiBzdHJpbmcsIGRhdGE6IGFueSwgZW5jb2Rpbmc6IEJ1ZmZlckVuY29kaW5nIHwgbnVsbCwgZmxhZzogRmlsZUZsYWcsIG1vZGU6IG51bWJlciwgY3JlZDogQ3JlZCwgY2I6IEJGU09uZUFyZ0NhbGxiYWNrKTogdm9pZCB7XG5cdFx0Ly8gV3JhcCBjYiBpbiBmaWxlIGNsb3NpbmcgY29kZS5cblx0XHRjb25zdCBvbGRDYiA9IGNiO1xuXHRcdC8vIEdldCBmaWxlLlxuXHRcdHRoaXMub3BlbihmbmFtZSwgZmxhZywgMHgxYTQsIGNyZWQsIGZ1bmN0aW9uIChlcnI6IEFwaUVycm9yLCBmZD86IEZpbGUpIHtcblx0XHRcdGlmIChlcnIpIHtcblx0XHRcdFx0cmV0dXJuIGNiKGVycik7XG5cdFx0XHR9XG5cdFx0XHRjYiA9IGZ1bmN0aW9uIChlcnI6IEFwaUVycm9yKSB7XG5cdFx0XHRcdGZkIS5jbG9zZShmdW5jdGlvbiAoZXJyMjogYW55KSB7XG5cdFx0XHRcdFx0b2xkQ2IoZXJyID8gZXJyIDogZXJyMik7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fTtcblxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0aWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuXHRcdFx0XHRcdGRhdGEgPSBCdWZmZXIuZnJvbShkYXRhLCBlbmNvZGluZyEpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdHJldHVybiBjYihlKTtcblx0XHRcdH1cblx0XHRcdC8vIFdyaXRlIGludG8gZmlsZS5cblx0XHRcdGZkIS53cml0ZShkYXRhLCAwLCBkYXRhLmxlbmd0aCwgMCwgY2IpO1xuXHRcdH0pO1xuXHR9XG5cdHB1YmxpYyB3cml0ZUZpbGVTeW5jKGZuYW1lOiBzdHJpbmcsIGRhdGE6IGFueSwgZW5jb2Rpbmc6IEJ1ZmZlckVuY29kaW5nIHwgbnVsbCwgZmxhZzogRmlsZUZsYWcsIG1vZGU6IG51bWJlciwgY3JlZDogQ3JlZCk6IHZvaWQge1xuXHRcdC8vIEdldCBmaWxlLlxuXHRcdGNvbnN0IGZkID0gdGhpcy5vcGVuU3luYyhmbmFtZSwgZmxhZywgbW9kZSwgY3JlZCk7XG5cdFx0dHJ5IHtcblx0XHRcdGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcblx0XHRcdFx0ZGF0YSA9IEJ1ZmZlci5mcm9tKGRhdGEsIGVuY29kaW5nISk7XG5cdFx0XHR9XG5cdFx0XHQvLyBXcml0ZSBpbnRvIGZpbGUuXG5cdFx0XHRmZC53cml0ZVN5bmMoZGF0YSwgMCwgZGF0YS5sZW5ndGgsIDApO1xuXHRcdH0gZmluYWxseSB7XG5cdFx0XHRmZC5jbG9zZVN5bmMoKTtcblx0XHR9XG5cdH1cblx0cHVibGljIGFwcGVuZEZpbGUoZm5hbWU6IHN0cmluZywgZGF0YTogYW55LCBlbmNvZGluZzogQnVmZmVyRW5jb2RpbmcgfCBudWxsLCBmbGFnOiBGaWxlRmxhZywgbW9kZTogbnVtYmVyLCBjcmVkOiBDcmVkLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0XHQvLyBXcmFwIGNiIGluIGZpbGUgY2xvc2luZyBjb2RlLlxuXHRcdGNvbnN0IG9sZENiID0gY2I7XG5cdFx0dGhpcy5vcGVuKGZuYW1lLCBmbGFnLCBtb2RlLCBjcmVkLCBmdW5jdGlvbiAoZXJyOiBBcGlFcnJvciwgZmQ/OiBGaWxlKSB7XG5cdFx0XHRpZiAoZXJyKSB7XG5cdFx0XHRcdHJldHVybiBjYihlcnIpO1xuXHRcdFx0fVxuXHRcdFx0Y2IgPSBmdW5jdGlvbiAoZXJyOiBBcGlFcnJvcikge1xuXHRcdFx0XHRmZCEuY2xvc2UoZnVuY3Rpb24gKGVycjI6IGFueSkge1xuXHRcdFx0XHRcdG9sZENiKGVyciA/IGVyciA6IGVycjIpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH07XG5cdFx0XHRpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRcdGRhdGEgPSBCdWZmZXIuZnJvbShkYXRhLCBlbmNvZGluZyEpO1xuXHRcdFx0fVxuXHRcdFx0ZmQhLndyaXRlKGRhdGEsIDAsIGRhdGEubGVuZ3RoLCBudWxsLCBjYik7XG5cdFx0fSk7XG5cdH1cblx0cHVibGljIGFwcGVuZEZpbGVTeW5jKGZuYW1lOiBzdHJpbmcsIGRhdGE6IGFueSwgZW5jb2Rpbmc6IEJ1ZmZlckVuY29kaW5nIHwgbnVsbCwgZmxhZzogRmlsZUZsYWcsIG1vZGU6IG51bWJlciwgY3JlZDogQ3JlZCk6IHZvaWQge1xuXHRcdGNvbnN0IGZkID0gdGhpcy5vcGVuU3luYyhmbmFtZSwgZmxhZywgbW9kZSwgY3JlZCk7XG5cdFx0dHJ5IHtcblx0XHRcdGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcblx0XHRcdFx0ZGF0YSA9IEJ1ZmZlci5mcm9tKGRhdGEsIGVuY29kaW5nISk7XG5cdFx0XHR9XG5cdFx0XHRmZC53cml0ZVN5bmMoZGF0YSwgMCwgZGF0YS5sZW5ndGgsIG51bGwpO1xuXHRcdH0gZmluYWxseSB7XG5cdFx0XHRmZC5jbG9zZVN5bmMoKTtcblx0XHR9XG5cdH1cblx0cHVibGljIGNobW9kKHA6IHN0cmluZywgaXNMY2htb2Q6IGJvb2xlYW4sIG1vZGU6IG51bWJlciwgY3JlZDogQ3JlZCwgY2I6IEJGU09uZUFyZ0NhbGxiYWNrKTogdm9pZCB7XG5cdFx0Y2IobmV3IEFwaUVycm9yKEVycm9yQ29kZS5FTk9UU1VQKSk7XG5cdH1cblx0cHVibGljIGNobW9kU3luYyhwOiBzdHJpbmcsIGlzTGNobW9kOiBib29sZWFuLCBtb2RlOiBudW1iZXIsIGNyZWQ6IENyZWQpIHtcblx0XHR0aHJvdyBuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVOT1RTVVApO1xuXHR9XG5cdHB1YmxpYyBjaG93bihwOiBzdHJpbmcsIGlzTGNob3duOiBib29sZWFuLCBuZXdfdWlkOiBudW1iZXIsIG5ld19naWQ6IG51bWJlciwgY3JlZDogQ3JlZCwgY2I6IEJGU09uZUFyZ0NhbGxiYWNrKTogdm9pZCB7XG5cdFx0Y2IobmV3IEFwaUVycm9yKEVycm9yQ29kZS5FTk9UU1VQKSk7XG5cdH1cblx0cHVibGljIGNob3duU3luYyhwOiBzdHJpbmcsIGlzTGNob3duOiBib29sZWFuLCBuZXdfdWlkOiBudW1iZXIsIG5ld19naWQ6IG51bWJlciwgY3JlZDogQ3JlZCk6IHZvaWQge1xuXHRcdHRocm93IG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRU5PVFNVUCk7XG5cdH1cblx0cHVibGljIHV0aW1lcyhwOiBzdHJpbmcsIGF0aW1lOiBEYXRlLCBtdGltZTogRGF0ZSwgY3JlZDogQ3JlZCwgY2I6IEJGU09uZUFyZ0NhbGxiYWNrKTogdm9pZCB7XG5cdFx0Y2IobmV3IEFwaUVycm9yKEVycm9yQ29kZS5FTk9UU1VQKSk7XG5cdH1cblx0cHVibGljIHV0aW1lc1N5bmMocDogc3RyaW5nLCBhdGltZTogRGF0ZSwgbXRpbWU6IERhdGUsIGNyZWQ6IENyZWQpOiB2b2lkIHtcblx0XHR0aHJvdyBuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVOT1RTVVApO1xuXHR9XG5cdHB1YmxpYyBsaW5rKHNyY3BhdGg6IHN0cmluZywgZHN0cGF0aDogc3RyaW5nLCBjcmVkOiBDcmVkLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0XHRjYihuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVOT1RTVVApKTtcblx0fVxuXHRwdWJsaWMgbGlua1N5bmMoc3JjcGF0aDogc3RyaW5nLCBkc3RwYXRoOiBzdHJpbmcsIGNyZWQ6IENyZWQpOiB2b2lkIHtcblx0XHR0aHJvdyBuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVOT1RTVVApO1xuXHR9XG5cdHB1YmxpYyBzeW1saW5rKHNyY3BhdGg6IHN0cmluZywgZHN0cGF0aDogc3RyaW5nLCB0eXBlOiBzdHJpbmcsIGNyZWQ6IENyZWQsIGNiOiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQge1xuXHRcdGNiKG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRU5PVFNVUCkpO1xuXHR9XG5cdHB1YmxpYyBzeW1saW5rU3luYyhzcmNwYXRoOiBzdHJpbmcsIGRzdHBhdGg6IHN0cmluZywgdHlwZTogc3RyaW5nLCBjcmVkOiBDcmVkKTogdm9pZCB7XG5cdFx0dGhyb3cgbmV3IEFwaUVycm9yKEVycm9yQ29kZS5FTk9UU1VQKTtcblx0fVxuXHRwdWJsaWMgcmVhZGxpbmsocDogc3RyaW5nLCBjcmVkOiBDcmVkLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0XHRjYihuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVOT1RTVVApKTtcblx0fVxuXHRwdWJsaWMgcmVhZGxpbmtTeW5jKHA6IHN0cmluZywgY3JlZDogQ3JlZCk6IHN0cmluZyB7XG5cdFx0dGhyb3cgbmV3IEFwaUVycm9yKEVycm9yQ29kZS5FTk9UU1VQKTtcblx0fVxufVxuXG4vKipcbiAqIEltcGxlbWVudHMgdGhlIGFzeW5jaHJvbm91cyBBUEkgaW4gdGVybXMgb2YgdGhlIHN5bmNocm9ub3VzIEFQSS5cbiAqIEBjbGFzcyBTeW5jaHJvbm91c0ZpbGVTeXN0ZW1cbiAqL1xuZXhwb3J0IGNsYXNzIFN5bmNocm9ub3VzRmlsZVN5c3RlbSBleHRlbmRzIEJhc2VGaWxlU3lzdGVtIHtcblx0cHVibGljIHN1cHBvcnRzU3luY2goKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRwdWJsaWMgYWNjZXNzKHA6IHN0cmluZywgbW9kZTogbnVtYmVyLCBjcmVkOiBDcmVkLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0XHR0cnkge1xuXHRcdFx0dGhpcy5hY2Nlc3NTeW5jKHAsIG1vZGUsIGNyZWQpO1xuXHRcdFx0Y2IoKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRjYihlKTtcblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgcmVuYW1lKG9sZFBhdGg6IHN0cmluZywgbmV3UGF0aDogc3RyaW5nLCBjcmVkOiBDcmVkLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0XHR0cnkge1xuXHRcdFx0dGhpcy5yZW5hbWVTeW5jKG9sZFBhdGgsIG5ld1BhdGgsIGNyZWQpO1xuXHRcdFx0Y2IoKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRjYihlKTtcblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgc3RhdChwOiBzdHJpbmcsIGlzTHN0YXQ6IGJvb2xlYW4gfCBudWxsLCBjcmVkOiBDcmVkLCBjYjogQkZTQ2FsbGJhY2s8U3RhdHM+KTogdm9pZCB7XG5cdFx0dHJ5IHtcblx0XHRcdGNiKG51bGwsIHRoaXMuc3RhdFN5bmMocCwgaXNMc3RhdCwgY3JlZCkpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGNiKGUpO1xuXHRcdH1cblx0fVxuXG5cdHB1YmxpYyBvcGVuKHA6IHN0cmluZywgZmxhZ3M6IEZpbGVGbGFnLCBtb2RlOiBudW1iZXIsIGNyZWQ6IENyZWQsIGNiOiBCRlNDYWxsYmFjazxGaWxlPik6IHZvaWQge1xuXHRcdHRyeSB7XG5cdFx0XHRjYihudWxsLCB0aGlzLm9wZW5TeW5jKHAsIGZsYWdzLCBtb2RlLCBjcmVkKSk7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0Y2IoZSk7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIHVubGluayhwOiBzdHJpbmcsIGNyZWQ6IENyZWQsIGNiOiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQge1xuXHRcdHRyeSB7XG5cdFx0XHR0aGlzLnVubGlua1N5bmMocCwgY3JlZCk7XG5cdFx0XHRjYigpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGNiKGUpO1xuXHRcdH1cblx0fVxuXG5cdHB1YmxpYyBybWRpcihwOiBzdHJpbmcsIGNyZWQ6IENyZWQsIGNiOiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQge1xuXHRcdHRyeSB7XG5cdFx0XHR0aGlzLnJtZGlyU3luYyhwLCBjcmVkKTtcblx0XHRcdGNiKCk7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0Y2IoZSk7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIG1rZGlyKHA6IHN0cmluZywgbW9kZTogbnVtYmVyLCBjcmVkOiBDcmVkLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0XHR0cnkge1xuXHRcdFx0dGhpcy5ta2RpclN5bmMocCwgbW9kZSwgY3JlZCk7XG5cdFx0XHRjYigpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGNiKGUpO1xuXHRcdH1cblx0fVxuXG5cdHB1YmxpYyByZWFkZGlyKHA6IHN0cmluZywgY3JlZDogQ3JlZCwgY2I6IEJGU0NhbGxiYWNrPHN0cmluZ1tdPik6IHZvaWQge1xuXHRcdHRyeSB7XG5cdFx0XHRjYihudWxsLCB0aGlzLnJlYWRkaXJTeW5jKHAsIGNyZWQpKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRjYihlKTtcblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgY2htb2QocDogc3RyaW5nLCBpc0xjaG1vZDogYm9vbGVhbiwgbW9kZTogbnVtYmVyLCBjcmVkOiBDcmVkLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0XHR0cnkge1xuXHRcdFx0dGhpcy5jaG1vZFN5bmMocCwgaXNMY2htb2QsIG1vZGUsIGNyZWQpO1xuXHRcdFx0Y2IoKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRjYihlKTtcblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgY2hvd24ocDogc3RyaW5nLCBpc0xjaG93bjogYm9vbGVhbiwgbmV3X3VpZDogbnVtYmVyLCBuZXdfZ2lkOiBudW1iZXIsIGNyZWQ6IENyZWQsIGNiOiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQge1xuXHRcdHRyeSB7XG5cdFx0XHR0aGlzLmNob3duU3luYyhwLCBpc0xjaG93biwgbmV3X3VpZCwgbmV3X2dpZCwgY3JlZCk7XG5cdFx0XHRjYigpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGNiKGUpO1xuXHRcdH1cblx0fVxuXG5cdHB1YmxpYyB1dGltZXMocDogc3RyaW5nLCBhdGltZTogRGF0ZSwgbXRpbWU6IERhdGUsIGNyZWQ6IENyZWQsIGNiOiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQge1xuXHRcdHRyeSB7XG5cdFx0XHR0aGlzLnV0aW1lc1N5bmMocCwgYXRpbWUsIG10aW1lLCBjcmVkKTtcblx0XHRcdGNiKCk7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0Y2IoZSk7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIGxpbmsoc3JjcGF0aDogc3RyaW5nLCBkc3RwYXRoOiBzdHJpbmcsIGNyZWQ6IENyZWQsIGNiOiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQge1xuXHRcdHRyeSB7XG5cdFx0XHR0aGlzLmxpbmtTeW5jKHNyY3BhdGgsIGRzdHBhdGgsIGNyZWQpO1xuXHRcdFx0Y2IoKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRjYihlKTtcblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgc3ltbGluayhzcmNwYXRoOiBzdHJpbmcsIGRzdHBhdGg6IHN0cmluZywgdHlwZTogc3RyaW5nLCBjcmVkOiBDcmVkLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0XHR0cnkge1xuXHRcdFx0dGhpcy5zeW1saW5rU3luYyhzcmNwYXRoLCBkc3RwYXRoLCB0eXBlLCBjcmVkKTtcblx0XHRcdGNiKCk7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0Y2IoZSk7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIHJlYWRsaW5rKHA6IHN0cmluZywgY3JlZDogQ3JlZCwgY2I6IEJGU0NhbGxiYWNrPHN0cmluZz4pOiB2b2lkIHtcblx0XHR0cnkge1xuXHRcdFx0Y2IobnVsbCwgdGhpcy5yZWFkbGlua1N5bmMocCwgY3JlZCkpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGNiKGUpO1xuXHRcdH1cblx0fVxufVxuIiwgImltcG9ydCB7IEFwaUVycm9yLCBFcnJvckNvZGUgfSBmcm9tICcuL2FwaV9lcnJvcic7XG5pbXBvcnQgU3RhdHMgZnJvbSAnLi9zdGF0cyc7XG5pbXBvcnQgeyBCRlNDYWxsYmFjaywgQkZTT25lQXJnQ2FsbGJhY2ssIEJGU1RocmVlQXJnQ2FsbGJhY2sgfSBmcm9tICcuL2ZpbGVfc3lzdGVtJztcbmltcG9ydCB0eXBlIHsgQnVmZmVyIH0gZnJvbSAnYnVmZmVyJztcblxuZXhwb3J0IGludGVyZmFjZSBGaWxlIHtcblx0LyoqXG5cdCAqICoqQ29yZSoqOiBHZXQgdGhlIGN1cnJlbnQgZmlsZSBwb3NpdGlvbi5cblx0ICovXG5cdGdldFBvcygpOiBudW1iZXIgfCB1bmRlZmluZWQ7XG5cdC8qKlxuXHQgKiAqKkNvcmUqKjogQXN5bmNocm9ub3VzIGBzdGF0YC5cblx0ICovXG5cdHN0YXQoY2I6IEJGU0NhbGxiYWNrPFN0YXRzPik6IHZvaWQ7XG5cdC8qKlxuXHQgKiAqKkNvcmUqKjogU3luY2hyb25vdXMgYHN0YXRgLlxuXHQgKi9cblx0c3RhdFN5bmMoKTogU3RhdHM7XG5cdC8qKlxuXHQgKiAqKkNvcmUqKjogQXN5bmNocm9ub3VzIGNsb3NlLlxuXHQgKi9cblx0Y2xvc2UoY2I6IEJGU09uZUFyZ0NhbGxiYWNrKTogdm9pZDtcblx0LyoqXG5cdCAqICoqQ29yZSoqOiBTeW5jaHJvbm91cyBjbG9zZS5cblx0ICovXG5cdGNsb3NlU3luYygpOiB2b2lkO1xuXHQvKipcblx0ICogKipDb3JlKio6IEFzeW5jaHJvbm91cyB0cnVuY2F0ZS5cblx0ICovXG5cdHRydW5jYXRlKGxlbjogbnVtYmVyLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkO1xuXHQvKipcblx0ICogKipDb3JlKio6IFN5bmNocm9ub3VzIHRydW5jYXRlLlxuXHQgKi9cblx0dHJ1bmNhdGVTeW5jKGxlbjogbnVtYmVyKTogdm9pZDtcblx0LyoqXG5cdCAqICoqQ29yZSoqOiBBc3luY2hyb25vdXMgc3luYy5cblx0ICovXG5cdHN5bmMoY2I6IEJGU09uZUFyZ0NhbGxiYWNrKTogdm9pZDtcblx0LyoqXG5cdCAqICoqQ29yZSoqOiBTeW5jaHJvbm91cyBzeW5jLlxuXHQgKi9cblx0c3luY1N5bmMoKTogdm9pZDtcblx0LyoqXG5cdCAqICoqQ29yZSoqOiBXcml0ZSBidWZmZXIgdG8gdGhlIGZpbGUuXG5cdCAqIE5vdGUgdGhhdCBpdCBpcyB1bnNhZmUgdG8gdXNlIGZzLndyaXRlIG11bHRpcGxlIHRpbWVzIG9uIHRoZSBzYW1lIGZpbGVcblx0ICogd2l0aG91dCB3YWl0aW5nIGZvciB0aGUgY2FsbGJhY2suXG5cdCAqIEBwYXJhbSBidWZmZXIgQnVmZmVyIGNvbnRhaW5pbmcgdGhlIGRhdGEgdG8gd3JpdGUgdG9cblx0ICogIHRoZSBmaWxlLlxuXHQgKiBAcGFyYW0gb2Zmc2V0IE9mZnNldCBpbiB0aGUgYnVmZmVyIHRvIHN0YXJ0IHJlYWRpbmcgZGF0YSBmcm9tLlxuXHQgKiBAcGFyYW0gbGVuZ3RoIFRoZSBhbW91bnQgb2YgYnl0ZXMgdG8gd3JpdGUgdG8gdGhlIGZpbGUuXG5cdCAqIEBwYXJhbSBwb3NpdGlvbiBPZmZzZXQgZnJvbSB0aGUgYmVnaW5uaW5nIG9mIHRoZSBmaWxlIHdoZXJlIHRoaXNcblx0ICogICBkYXRhIHNob3VsZCBiZSB3cml0dGVuLiBJZiBwb3NpdGlvbiBpcyBudWxsLCB0aGUgZGF0YSB3aWxsIGJlIHdyaXR0ZW4gYXRcblx0ICogICB0aGUgY3VycmVudCBwb3NpdGlvbi5cblx0ICogQHBhcmFtIGNiIFRoZSBudW1iZXIgc3BlY2lmaWVzIHRoZSBudW1iZXIgb2YgYnl0ZXMgd3JpdHRlbiBpbnRvIHRoZSBmaWxlLlxuXHQgKi9cblx0d3JpdGUoYnVmZmVyOiBCdWZmZXIsIG9mZnNldDogbnVtYmVyLCBsZW5ndGg6IG51bWJlciwgcG9zaXRpb246IG51bWJlciB8IG51bGwsIGNiOiBCRlNUaHJlZUFyZ0NhbGxiYWNrPG51bWJlciwgQnVmZmVyPik6IHZvaWQ7XG5cdC8qKlxuXHQgKiAqKkNvcmUqKjogV3JpdGUgYnVmZmVyIHRvIHRoZSBmaWxlLlxuXHQgKiBOb3RlIHRoYXQgaXQgaXMgdW5zYWZlIHRvIHVzZSBmcy53cml0ZVN5bmMgbXVsdGlwbGUgdGltZXMgb24gdGhlIHNhbWUgZmlsZVxuXHQgKiB3aXRob3V0IHdhaXRpbmcgZm9yIGl0IHRvIHJldHVybi5cblx0ICogQHBhcmFtIGJ1ZmZlciBCdWZmZXIgY29udGFpbmluZyB0aGUgZGF0YSB0byB3cml0ZSB0b1xuXHQgKiAgdGhlIGZpbGUuXG5cdCAqIEBwYXJhbSBvZmZzZXQgT2Zmc2V0IGluIHRoZSBidWZmZXIgdG8gc3RhcnQgcmVhZGluZyBkYXRhIGZyb20uXG5cdCAqIEBwYXJhbSBsZW5ndGggVGhlIGFtb3VudCBvZiBieXRlcyB0byB3cml0ZSB0byB0aGUgZmlsZS5cblx0ICogQHBhcmFtIHBvc2l0aW9uIE9mZnNldCBmcm9tIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGZpbGUgd2hlcmUgdGhpc1xuXHQgKiAgIGRhdGEgc2hvdWxkIGJlIHdyaXR0ZW4uIElmIHBvc2l0aW9uIGlzIG51bGwsIHRoZSBkYXRhIHdpbGwgYmUgd3JpdHRlbiBhdFxuXHQgKiAgIHRoZSBjdXJyZW50IHBvc2l0aW9uLlxuXHQgKi9cblx0d3JpdGVTeW5jKGJ1ZmZlcjogQnVmZmVyLCBvZmZzZXQ6IG51bWJlciwgbGVuZ3RoOiBudW1iZXIsIHBvc2l0aW9uOiBudW1iZXIgfCBudWxsKTogbnVtYmVyO1xuXHQvKipcblx0ICogKipDb3JlKio6IFJlYWQgZGF0YSBmcm9tIHRoZSBmaWxlLlxuXHQgKiBAcGFyYW0gYnVmZmVyIFRoZSBidWZmZXIgdGhhdCB0aGUgZGF0YSB3aWxsIGJlXG5cdCAqICAgd3JpdHRlbiB0by5cblx0ICogQHBhcmFtIG9mZnNldCBUaGUgb2Zmc2V0IHdpdGhpbiB0aGUgYnVmZmVyIHdoZXJlIHdyaXRpbmcgd2lsbFxuXHQgKiAgIHN0YXJ0LlxuXHQgKiBAcGFyYW0gbGVuZ3RoIEFuIGludGVnZXIgc3BlY2lmeWluZyB0aGUgbnVtYmVyIG9mIGJ5dGVzIHRvIHJlYWQuXG5cdCAqIEBwYXJhbSBwb3NpdGlvbiBBbiBpbnRlZ2VyIHNwZWNpZnlpbmcgd2hlcmUgdG8gYmVnaW4gcmVhZGluZyBmcm9tXG5cdCAqICAgaW4gdGhlIGZpbGUuIElmIHBvc2l0aW9uIGlzIG51bGwsIGRhdGEgd2lsbCBiZSByZWFkIGZyb20gdGhlIGN1cnJlbnQgZmlsZVxuXHQgKiAgIHBvc2l0aW9uLlxuXHQgKiBAcGFyYW0gY2IgVGhlIG51bWJlciBpcyB0aGUgbnVtYmVyIG9mIGJ5dGVzIHJlYWRcblx0ICovXG5cdHJlYWQoYnVmZmVyOiBCdWZmZXIsIG9mZnNldDogbnVtYmVyLCBsZW5ndGg6IG51bWJlciwgcG9zaXRpb246IG51bWJlciB8IG51bGwsIGNiOiBCRlNUaHJlZUFyZ0NhbGxiYWNrPG51bWJlciwgQnVmZmVyPik6IHZvaWQ7XG5cdC8qKlxuXHQgKiAqKkNvcmUqKjogUmVhZCBkYXRhIGZyb20gdGhlIGZpbGUuXG5cdCAqIEBwYXJhbSBidWZmZXIgVGhlIGJ1ZmZlciB0aGF0IHRoZSBkYXRhIHdpbGwgYmUgd3JpdHRlbiB0by5cblx0ICogQHBhcmFtIG9mZnNldCBUaGUgb2Zmc2V0IHdpdGhpbiB0aGUgYnVmZmVyIHdoZXJlIHdyaXRpbmcgd2lsbCBzdGFydC5cblx0ICogQHBhcmFtIGxlbmd0aCBBbiBpbnRlZ2VyIHNwZWNpZnlpbmcgdGhlIG51bWJlciBvZiBieXRlcyB0byByZWFkLlxuXHQgKiBAcGFyYW0gcG9zaXRpb24gQW4gaW50ZWdlciBzcGVjaWZ5aW5nIHdoZXJlIHRvIGJlZ2luIHJlYWRpbmcgZnJvbVxuXHQgKiAgIGluIHRoZSBmaWxlLiBJZiBwb3NpdGlvbiBpcyBudWxsLCBkYXRhIHdpbGwgYmUgcmVhZCBmcm9tIHRoZSBjdXJyZW50IGZpbGVcblx0ICogICBwb3NpdGlvbi5cblx0ICovXG5cdHJlYWRTeW5jKGJ1ZmZlcjogQnVmZmVyLCBvZmZzZXQ6IG51bWJlciwgbGVuZ3RoOiBudW1iZXIsIHBvc2l0aW9uOiBudW1iZXIpOiBudW1iZXI7XG5cdC8qKlxuXHQgKiAqKlN1cHBsZW1lbnRhcnkqKjogQXN5bmNocm9ub3VzIGBkYXRhc3luY2AuXG5cdCAqXG5cdCAqIERlZmF1bHQgaW1wbGVtZW50YXRpb24gbWFwcyB0byBgc3luY2AuXG5cdCAqL1xuXHRkYXRhc3luYyhjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkO1xuXHQvKipcblx0ICogKipTdXBwbGVtZW50YXJ5Kio6IFN5bmNocm9ub3VzIGBkYXRhc3luY2AuXG5cdCAqXG5cdCAqIERlZmF1bHQgaW1wbGVtZW50YXRpb24gbWFwcyB0byBgc3luY1N5bmNgLlxuXHQgKi9cblx0ZGF0YXN5bmNTeW5jKCk6IHZvaWQ7XG5cdC8qKlxuXHQgKiAqKk9wdGlvbmFsKio6IEFzeW5jaHJvbm91cyBgY2hvd25gLlxuXHQgKi9cblx0Y2hvd24odWlkOiBudW1iZXIsIGdpZDogbnVtYmVyLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkO1xuXHQvKipcblx0ICogKipPcHRpb25hbCoqOiBTeW5jaHJvbm91cyBgY2hvd25gLlxuXHQgKi9cblx0Y2hvd25TeW5jKHVpZDogbnVtYmVyLCBnaWQ6IG51bWJlcik6IHZvaWQ7XG5cdC8qKlxuXHQgKiAqKk9wdGlvbmFsKio6IEFzeW5jaHJvbm91cyBgZmNobW9kYC5cblx0ICovXG5cdGNobW9kKG1vZGU6IG51bWJlciwgY2I6IEJGU09uZUFyZ0NhbGxiYWNrKTogdm9pZDtcblx0LyoqXG5cdCAqICoqT3B0aW9uYWwqKjogU3luY2hyb25vdXMgYGZjaG1vZGAuXG5cdCAqL1xuXHRjaG1vZFN5bmMobW9kZTogbnVtYmVyKTogdm9pZDtcblx0LyoqXG5cdCAqICoqT3B0aW9uYWwqKjogQ2hhbmdlIHRoZSBmaWxlIHRpbWVzdGFtcHMgb2YgdGhlIGZpbGUuXG5cdCAqL1xuXHR1dGltZXMoYXRpbWU6IERhdGUsIG10aW1lOiBEYXRlLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkO1xuXHQvKipcblx0ICogKipPcHRpb25hbCoqOiBDaGFuZ2UgdGhlIGZpbGUgdGltZXN0YW1wcyBvZiB0aGUgZmlsZS5cblx0ICovXG5cdHV0aW1lc1N5bmMoYXRpbWU6IERhdGUsIG10aW1lOiBEYXRlKTogdm9pZDtcbn1cblxuLyoqXG4gKiBCYXNlIGNsYXNzIHRoYXQgY29udGFpbnMgc2hhcmVkIGltcGxlbWVudGF0aW9ucyBvZiBmdW5jdGlvbnMgZm9yIHRoZSBmaWxlXG4gKiBvYmplY3QuXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlRmlsZSB7XG5cdHB1YmxpYyBzeW5jKGNiOiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQge1xuXHRcdGNiKG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRU5PVFNVUCkpO1xuXHR9XG5cdHB1YmxpYyBzeW5jU3luYygpOiB2b2lkIHtcblx0XHR0aHJvdyBuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVOT1RTVVApO1xuXHR9XG5cdHB1YmxpYyBkYXRhc3luYyhjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0XHR0aGlzLnN5bmMoY2IpO1xuXHR9XG5cdHB1YmxpYyBkYXRhc3luY1N5bmMoKTogdm9pZCB7XG5cdFx0cmV0dXJuIHRoaXMuc3luY1N5bmMoKTtcblx0fVxuXHRwdWJsaWMgY2hvd24odWlkOiBudW1iZXIsIGdpZDogbnVtYmVyLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0XHRjYihuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVOT1RTVVApKTtcblx0fVxuXHRwdWJsaWMgY2hvd25TeW5jKHVpZDogbnVtYmVyLCBnaWQ6IG51bWJlcik6IHZvaWQge1xuXHRcdHRocm93IG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRU5PVFNVUCk7XG5cdH1cblx0cHVibGljIGNobW9kKG1vZGU6IG51bWJlciwgY2I6IEJGU09uZUFyZ0NhbGxiYWNrKTogdm9pZCB7XG5cdFx0Y2IobmV3IEFwaUVycm9yKEVycm9yQ29kZS5FTk9UU1VQKSk7XG5cdH1cblx0cHVibGljIGNobW9kU3luYyhtb2RlOiBudW1iZXIpOiB2b2lkIHtcblx0XHR0aHJvdyBuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVOT1RTVVApO1xuXHR9XG5cdHB1YmxpYyB1dGltZXMoYXRpbWU6IERhdGUsIG10aW1lOiBEYXRlLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0XHRjYihuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVOT1RTVVApKTtcblx0fVxuXHRwdWJsaWMgdXRpbWVzU3luYyhhdGltZTogRGF0ZSwgbXRpbWU6IERhdGUpOiB2b2lkIHtcblx0XHR0aHJvdyBuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVOT1RTVVApO1xuXHR9XG59XG4iLCAiaW1wb3J0IHsgQmFzZUZpbGUsIEZpbGUgfSBmcm9tICcuLi9jb3JlL2ZpbGUnO1xuaW1wb3J0IHsgRmlsZVN5c3RlbSwgQkZTT25lQXJnQ2FsbGJhY2ssIEJGU0NhbGxiYWNrLCBCRlNUaHJlZUFyZ0NhbGxiYWNrIH0gZnJvbSAnLi4vY29yZS9maWxlX3N5c3RlbSc7XG5pbXBvcnQgU3RhdHMgZnJvbSAnLi4vY29yZS9zdGF0cyc7XG5pbXBvcnQgeyBGaWxlRmxhZyB9IGZyb20gJy4uL2NvcmUvZmlsZV9mbGFnJztcbmltcG9ydCB7IEFwaUVycm9yLCBFcnJvckNvZGUgfSBmcm9tICcuLi9jb3JlL2FwaV9lcnJvcic7XG5pbXBvcnQgZnMgZnJvbSAnLi4vY29yZS9ub2RlX2ZzJztcbmltcG9ydCB7IGVtcHR5QnVmZmVyIH0gZnJvbSAnLi4vY29yZS91dGlsJztcbmltcG9ydCB7IEJ1ZmZlciB9IGZyb20gJ2J1ZmZlcic7XG5cbi8qKlxuICogQW4gaW1wbGVtZW50YXRpb24gb2YgdGhlIEZpbGUgaW50ZXJmYWNlIHRoYXQgb3BlcmF0ZXMgb24gYSBmaWxlIHRoYXQgaXNcbiAqIGNvbXBsZXRlbHkgaW4tbWVtb3J5LiBQcmVsb2FkRmlsZXMgYXJlIGJhY2tlZCBieSBhIEJ1ZmZlci5cbiAqXG4gKiBUaGlzIGlzIGFsc28gYW4gYWJzdHJhY3QgY2xhc3MsIGFzIGl0IGxhY2tzIGFuIGltcGxlbWVudGF0aW9uIG9mICdzeW5jJyBhbmRcbiAqICdjbG9zZScuIEVhY2ggZmlsZXN5c3RlbSB0aGF0IHdpc2hlcyB0byB1c2UgdGhpcyBmaWxlIHJlcHJlc2VudGF0aW9uIG11c3RcbiAqIGV4dGVuZCB0aGlzIGNsYXNzIGFuZCBpbXBsZW1lbnQgdGhvc2UgdHdvIG1ldGhvZHMuXG4gKiBAdG9kbyAnY2xvc2UnIGxldmVyIHRoYXQgZGlzYWJsZXMgZnVuY3Rpb25hbGl0eSBvbmNlIGNsb3NlZC5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJlbG9hZEZpbGU8VCBleHRlbmRzIEZpbGVTeXN0ZW0+IGV4dGVuZHMgQmFzZUZpbGUge1xuXHRwcm90ZWN0ZWQgX2ZzOiBUO1xuXHRwcm90ZWN0ZWQgX3BvczogbnVtYmVyID0gMDtcblx0cHJvdGVjdGVkIF9wYXRoOiBzdHJpbmc7XG5cdHByb3RlY3RlZCBfc3RhdDogU3RhdHM7XG5cdHByb3RlY3RlZCBfZmxhZzogRmlsZUZsYWc7XG5cdHByb3RlY3RlZCBfYnVmZmVyOiBCdWZmZXI7XG5cdHByb3RlY3RlZCBfZGlydHk6IGJvb2xlYW4gPSBmYWxzZTtcblx0LyoqXG5cdCAqIENyZWF0ZXMgYSBmaWxlIHdpdGggdGhlIGdpdmVuIHBhdGggYW5kLCBvcHRpb25hbGx5LCB0aGUgZ2l2ZW4gY29udGVudHMuIE5vdGVcblx0ICogdGhhdCwgaWYgY29udGVudHMgaXMgc3BlY2lmaWVkLCBpdCB3aWxsIGJlIG11dGF0ZWQgYnkgdGhlIGZpbGUhXG5cdCAqIEBwYXJhbSBfZnMgVGhlIGZpbGUgc3lzdGVtIHRoYXQgY3JlYXRlZCB0aGUgZmlsZS5cblx0ICogQHBhcmFtIF9wYXRoXG5cdCAqIEBwYXJhbSBfbW9kZSBUaGUgbW9kZSB0aGF0IHRoZSBmaWxlIHdhcyBvcGVuZWQgdXNpbmcuXG5cdCAqICAgRGljdGF0ZXMgcGVybWlzc2lvbnMgYW5kIHdoZXJlIHRoZSBmaWxlIHBvaW50ZXIgc3RhcnRzLlxuXHQgKiBAcGFyYW0gX3N0YXQgVGhlIHN0YXRzIG9iamVjdCBmb3IgdGhlIGdpdmVuIGZpbGUuXG5cdCAqICAgUHJlbG9hZEZpbGUgd2lsbCBtdXRhdGUgdGhpcyBvYmplY3QuIE5vdGUgdGhhdCB0aGlzIG9iamVjdCBtdXN0IGNvbnRhaW5cblx0ICogICB0aGUgYXBwcm9wcmlhdGUgbW9kZSB0aGF0IHRoZSBmaWxlIHdhcyBvcGVuZWQgYXMuXG5cdCAqIEBwYXJhbSBjb250ZW50cyBBIGJ1ZmZlciBjb250YWluaW5nIHRoZSBlbnRpcmVcblx0ICogICBjb250ZW50cyBvZiB0aGUgZmlsZS4gUHJlbG9hZEZpbGUgd2lsbCBtdXRhdGUgdGhpcyBidWZmZXIuIElmIG5vdFxuXHQgKiAgIHNwZWNpZmllZCwgd2UgYXNzdW1lIGl0IGlzIGEgbmV3IGZpbGUuXG5cdCAqL1xuXHRjb25zdHJ1Y3RvcihfZnM6IFQsIF9wYXRoOiBzdHJpbmcsIF9mbGFnOiBGaWxlRmxhZywgX3N0YXQ6IFN0YXRzLCBjb250ZW50cz86IEJ1ZmZlcikge1xuXHRcdHN1cGVyKCk7XG5cdFx0dGhpcy5fZnMgPSBfZnM7XG5cdFx0dGhpcy5fcGF0aCA9IF9wYXRoO1xuXHRcdHRoaXMuX2ZsYWcgPSBfZmxhZztcblx0XHR0aGlzLl9zdGF0ID0gX3N0YXQ7XG5cdFx0dGhpcy5fYnVmZmVyID0gY29udGVudHMgPyBjb250ZW50cyA6IGVtcHR5QnVmZmVyKCk7XG5cdFx0Ly8gTm90ZTogVGhpcyBpbnZhcmlhbnQgaXMgKm5vdCogbWFpbnRhaW5lZCBvbmNlIHRoZSBmaWxlIHN0YXJ0cyBnZXR0aW5nXG5cdFx0Ly8gbW9kaWZpZWQuXG5cdFx0Ly8gTm90ZTogT25seSBhY3R1YWxseSBtYXR0ZXJzIGlmIGZpbGUgaXMgcmVhZGFibGUsIGFzIHdyaXRlYWJsZSBtb2RlcyBtYXlcblx0XHQvLyB0cnVuY2F0ZS9hcHBlbmQgdG8gZmlsZS5cblx0XHRpZiAodGhpcy5fc3RhdC5zaXplICE9PSB0aGlzLl9idWZmZXIubGVuZ3RoICYmIHRoaXMuX2ZsYWcuaXNSZWFkYWJsZSgpKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgYnVmZmVyOiBCdWZmZXIgaXMgJHt0aGlzLl9idWZmZXIubGVuZ3RofSBsb25nLCB5ZXQgU3RhdHMgb2JqZWN0IHNwZWNpZmllcyB0aGF0IGZpbGUgaXMgJHt0aGlzLl9zdGF0LnNpemV9IGxvbmcuYCk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIE5PTlNUQU5EQVJEOiBHZXQgdGhlIHVuZGVybHlpbmcgYnVmZmVyIGZvciB0aGlzIGZpbGUuICEhRE8gTk9UIE1VVEFURSEhIFdpbGwgbWVzcyB1cCBkaXJ0eSB0cmFja2luZy5cblx0ICovXG5cdHB1YmxpYyBnZXRCdWZmZXIoKTogQnVmZmVyIHtcblx0XHRyZXR1cm4gdGhpcy5fYnVmZmVyO1xuXHR9XG5cblx0LyoqXG5cdCAqIE5PTlNUQU5EQVJEOiBHZXQgdW5kZXJseWluZyBzdGF0cyBmb3IgdGhpcyBmaWxlLiAhIURPIE5PVCBNVVRBVEUhIVxuXHQgKi9cblx0cHVibGljIGdldFN0YXRzKCk6IFN0YXRzIHtcblx0XHRyZXR1cm4gdGhpcy5fc3RhdDtcblx0fVxuXG5cdHB1YmxpYyBnZXRGbGFnKCk6IEZpbGVGbGFnIHtcblx0XHRyZXR1cm4gdGhpcy5fZmxhZztcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXQgdGhlIHBhdGggdG8gdGhpcyBmaWxlLlxuXHQgKiBAcmV0dXJuIFtTdHJpbmddIFRoZSBwYXRoIHRvIHRoZSBmaWxlLlxuXHQgKi9cblx0cHVibGljIGdldFBhdGgoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gdGhpcy5fcGF0aDtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXQgdGhlIGN1cnJlbnQgZmlsZSBwb3NpdGlvbi5cblx0ICpcblx0ICogV2UgZW11bGF0ZSB0aGUgZm9sbG93aW5nIGJ1ZyBtZW50aW9uZWQgaW4gdGhlIE5vZGUgZG9jdW1lbnRhdGlvbjpcblx0ICogPiBPbiBMaW51eCwgcG9zaXRpb25hbCB3cml0ZXMgZG9uJ3Qgd29yayB3aGVuIHRoZSBmaWxlIGlzIG9wZW5lZCBpbiBhcHBlbmRcblx0ICogICBtb2RlLiBUaGUga2VybmVsIGlnbm9yZXMgdGhlIHBvc2l0aW9uIGFyZ3VtZW50IGFuZCBhbHdheXMgYXBwZW5kcyB0aGUgZGF0YVxuXHQgKiAgIHRvIHRoZSBlbmQgb2YgdGhlIGZpbGUuXG5cdCAqIEByZXR1cm4gW051bWJlcl0gVGhlIGN1cnJlbnQgZmlsZSBwb3NpdGlvbi5cblx0ICovXG5cdHB1YmxpYyBnZXRQb3MoKTogbnVtYmVyIHtcblx0XHRpZiAodGhpcy5fZmxhZy5pc0FwcGVuZGFibGUoKSkge1xuXHRcdFx0cmV0dXJuIHRoaXMuX3N0YXQuc2l6ZTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuX3Bvcztcblx0fVxuXG5cdC8qKlxuXHQgKiBBZHZhbmNlIHRoZSBjdXJyZW50IGZpbGUgcG9zaXRpb24gYnkgdGhlIGluZGljYXRlZCBudW1iZXIgb2YgcG9zaXRpb25zLlxuXHQgKiBAcGFyYW0gW051bWJlcl0gZGVsdGFcblx0ICovXG5cdHB1YmxpYyBhZHZhbmNlUG9zKGRlbHRhOiBudW1iZXIpOiBudW1iZXIge1xuXHRcdHJldHVybiAodGhpcy5fcG9zICs9IGRlbHRhKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBTZXQgdGhlIGZpbGUgcG9zaXRpb24uXG5cdCAqIEBwYXJhbSBbTnVtYmVyXSBuZXdQb3Ncblx0ICovXG5cdHB1YmxpYyBzZXRQb3MobmV3UG9zOiBudW1iZXIpOiBudW1iZXIge1xuXHRcdHJldHVybiAodGhpcy5fcG9zID0gbmV3UG9zKTtcblx0fVxuXG5cdC8qKlxuXHQgKiAqKkNvcmUqKjogQXN5bmNocm9ub3VzIHN5bmMuIE11c3QgYmUgaW1wbGVtZW50ZWQgYnkgc3ViY2xhc3NlcyBvZiB0aGlzXG5cdCAqIGNsYXNzLlxuXHQgKiBAcGFyYW0gW0Z1bmN0aW9uKEJyb3dzZXJGUy5BcGlFcnJvcildIGNiXG5cdCAqL1xuXHRwdWJsaWMgc3luYyhjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0XHR0cnkge1xuXHRcdFx0dGhpcy5zeW5jU3luYygpO1xuXHRcdFx0Y2IoKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRjYihlKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogKipDb3JlKio6IFN5bmNocm9ub3VzIHN5bmMuXG5cdCAqL1xuXHRwdWJsaWMgc3luY1N5bmMoKTogdm9pZCB7XG5cdFx0dGhyb3cgbmV3IEFwaUVycm9yKEVycm9yQ29kZS5FTk9UU1VQKTtcblx0fVxuXG5cdC8qKlxuXHQgKiAqKkNvcmUqKjogQXN5bmNocm9ub3VzIGNsb3NlLiBNdXN0IGJlIGltcGxlbWVudGVkIGJ5IHN1YmNsYXNzZXMgb2YgdGhpc1xuXHQgKiBjbGFzcy5cblx0ICogQHBhcmFtIFtGdW5jdGlvbihCcm93c2VyRlMuQXBpRXJyb3IpXSBjYlxuXHQgKi9cblx0cHVibGljIGNsb3NlKGNiOiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQge1xuXHRcdHRyeSB7XG5cdFx0XHR0aGlzLmNsb3NlU3luYygpO1xuXHRcdFx0Y2IoKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRjYihlKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogKipDb3JlKio6IFN5bmNocm9ub3VzIGNsb3NlLlxuXHQgKi9cblx0cHVibGljIGNsb3NlU3luYygpOiB2b2lkIHtcblx0XHR0aHJvdyBuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVOT1RTVVApO1xuXHR9XG5cblx0LyoqXG5cdCAqIEFzeW5jaHJvbm91cyBgc3RhdGAuXG5cdCAqIEBwYXJhbSBbRnVuY3Rpb24oQnJvd3NlckZTLkFwaUVycm9yLCBCcm93c2VyRlMubm9kZS5mcy5TdGF0cyldIGNiXG5cdCAqL1xuXHRwdWJsaWMgc3RhdChjYjogQkZTQ2FsbGJhY2s8U3RhdHM+KTogdm9pZCB7XG5cdFx0dHJ5IHtcblx0XHRcdGNiKG51bGwsIFN0YXRzLmNsb25lKHRoaXMuX3N0YXQpKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRjYihlKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogU3luY2hyb25vdXMgYHN0YXRgLlxuXHQgKi9cblx0cHVibGljIHN0YXRTeW5jKCk6IFN0YXRzIHtcblx0XHRyZXR1cm4gU3RhdHMuY2xvbmUodGhpcy5fc3RhdCk7XG5cdH1cblxuXHQvKipcblx0ICogQXN5bmNocm9ub3VzIHRydW5jYXRlLlxuXHQgKiBAcGFyYW0gW051bWJlcl0gbGVuXG5cdCAqIEBwYXJhbSBbRnVuY3Rpb24oQnJvd3NlckZTLkFwaUVycm9yKV0gY2Jcblx0ICovXG5cdHB1YmxpYyB0cnVuY2F0ZShsZW46IG51bWJlciwgY2I6IEJGU09uZUFyZ0NhbGxiYWNrKTogdm9pZCB7XG5cdFx0dHJ5IHtcblx0XHRcdHRoaXMudHJ1bmNhdGVTeW5jKGxlbik7XG5cdFx0XHRpZiAodGhpcy5fZmxhZy5pc1N5bmNocm9ub3VzKCkgJiYgIWZzLmdldFJvb3RGUygpIS5zdXBwb3J0c1N5bmNoKCkpIHtcblx0XHRcdFx0dGhpcy5zeW5jKGNiKTtcblx0XHRcdH1cblx0XHRcdGNiKCk7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0cmV0dXJuIGNiKGUpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBTeW5jaHJvbm91cyB0cnVuY2F0ZS5cblx0ICogQHBhcmFtIFtOdW1iZXJdIGxlblxuXHQgKi9cblx0cHVibGljIHRydW5jYXRlU3luYyhsZW46IG51bWJlcik6IHZvaWQge1xuXHRcdHRoaXMuX2RpcnR5ID0gdHJ1ZTtcblx0XHRpZiAoIXRoaXMuX2ZsYWcuaXNXcml0ZWFibGUoKSkge1xuXHRcdFx0dGhyb3cgbmV3IEFwaUVycm9yKEVycm9yQ29kZS5FUEVSTSwgJ0ZpbGUgbm90IG9wZW5lZCB3aXRoIGEgd3JpdGVhYmxlIG1vZGUuJyk7XG5cdFx0fVxuXHRcdHRoaXMuX3N0YXQubXRpbWVNcyA9IERhdGUubm93KCk7XG5cdFx0aWYgKGxlbiA+IHRoaXMuX2J1ZmZlci5sZW5ndGgpIHtcblx0XHRcdGNvbnN0IGJ1ZiA9IEJ1ZmZlci5hbGxvYyhsZW4gLSB0aGlzLl9idWZmZXIubGVuZ3RoLCAwKTtcblx0XHRcdC8vIFdyaXRlIHdpbGwgc2V0IEBfc3RhdC5zaXplIGZvciB1cy5cblx0XHRcdHRoaXMud3JpdGVTeW5jKGJ1ZiwgMCwgYnVmLmxlbmd0aCwgdGhpcy5fYnVmZmVyLmxlbmd0aCk7XG5cdFx0XHRpZiAodGhpcy5fZmxhZy5pc1N5bmNocm9ub3VzKCkgJiYgZnMuZ2V0Um9vdEZTKCkhLnN1cHBvcnRzU3luY2goKSkge1xuXHRcdFx0XHR0aGlzLnN5bmNTeW5jKCk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdHRoaXMuX3N0YXQuc2l6ZSA9IGxlbjtcblx0XHQvLyBUcnVuY2F0ZSBidWZmZXIgdG8gJ2xlbicuXG5cdFx0Y29uc3QgbmV3QnVmZiA9IEJ1ZmZlci5hbGxvYyhsZW4pO1xuXHRcdHRoaXMuX2J1ZmZlci5jb3B5KG5ld0J1ZmYsIDAsIDAsIGxlbik7XG5cdFx0dGhpcy5fYnVmZmVyID0gbmV3QnVmZjtcblx0XHRpZiAodGhpcy5fZmxhZy5pc1N5bmNocm9ub3VzKCkgJiYgZnMuZ2V0Um9vdEZTKCkhLnN1cHBvcnRzU3luY2goKSkge1xuXHRcdFx0dGhpcy5zeW5jU3luYygpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBXcml0ZSBidWZmZXIgdG8gdGhlIGZpbGUuXG5cdCAqIE5vdGUgdGhhdCBpdCBpcyB1bnNhZmUgdG8gdXNlIGZzLndyaXRlIG11bHRpcGxlIHRpbWVzIG9uIHRoZSBzYW1lIGZpbGVcblx0ICogd2l0aG91dCB3YWl0aW5nIGZvciB0aGUgY2FsbGJhY2suXG5cdCAqIEBwYXJhbSBbQnJvd3NlckZTLm5vZGUuQnVmZmVyXSBidWZmZXIgQnVmZmVyIGNvbnRhaW5pbmcgdGhlIGRhdGEgdG8gd3JpdGUgdG9cblx0ICogIHRoZSBmaWxlLlxuXHQgKiBAcGFyYW0gW051bWJlcl0gb2Zmc2V0IE9mZnNldCBpbiB0aGUgYnVmZmVyIHRvIHN0YXJ0IHJlYWRpbmcgZGF0YSBmcm9tLlxuXHQgKiBAcGFyYW0gW051bWJlcl0gbGVuZ3RoIFRoZSBhbW91bnQgb2YgYnl0ZXMgdG8gd3JpdGUgdG8gdGhlIGZpbGUuXG5cdCAqIEBwYXJhbSBbTnVtYmVyXSBwb3NpdGlvbiBPZmZzZXQgZnJvbSB0aGUgYmVnaW5uaW5nIG9mIHRoZSBmaWxlIHdoZXJlIHRoaXNcblx0ICogICBkYXRhIHNob3VsZCBiZSB3cml0dGVuLiBJZiBwb3NpdGlvbiBpcyBudWxsLCB0aGUgZGF0YSB3aWxsIGJlIHdyaXR0ZW4gYXRcblx0ICogICB0aGUgY3VycmVudCBwb3NpdGlvbi5cblx0ICogQHBhcmFtIFtGdW5jdGlvbihCcm93c2VyRlMuQXBpRXJyb3IsIE51bWJlciwgQnJvd3NlckZTLm5vZGUuQnVmZmVyKV1cblx0ICogICBjYiBUaGUgbnVtYmVyIHNwZWNpZmllcyB0aGUgbnVtYmVyIG9mIGJ5dGVzIHdyaXR0ZW4gaW50byB0aGUgZmlsZS5cblx0ICovXG5cdHB1YmxpYyB3cml0ZShidWZmZXI6IEJ1ZmZlciwgb2Zmc2V0OiBudW1iZXIsIGxlbmd0aDogbnVtYmVyLCBwb3NpdGlvbjogbnVtYmVyLCBjYjogQkZTVGhyZWVBcmdDYWxsYmFjazxudW1iZXIsIEJ1ZmZlcj4pOiB2b2lkIHtcblx0XHR0cnkge1xuXHRcdFx0Y2IobnVsbCwgdGhpcy53cml0ZVN5bmMoYnVmZmVyLCBvZmZzZXQsIGxlbmd0aCwgcG9zaXRpb24pLCBidWZmZXIpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGNiKGUpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBXcml0ZSBidWZmZXIgdG8gdGhlIGZpbGUuXG5cdCAqIE5vdGUgdGhhdCBpdCBpcyB1bnNhZmUgdG8gdXNlIGZzLndyaXRlU3luYyBtdWx0aXBsZSB0aW1lcyBvbiB0aGUgc2FtZSBmaWxlXG5cdCAqIHdpdGhvdXQgd2FpdGluZyBmb3IgdGhlIGNhbGxiYWNrLlxuXHQgKiBAcGFyYW0gW0Jyb3dzZXJGUy5ub2RlLkJ1ZmZlcl0gYnVmZmVyIEJ1ZmZlciBjb250YWluaW5nIHRoZSBkYXRhIHRvIHdyaXRlIHRvXG5cdCAqICB0aGUgZmlsZS5cblx0ICogQHBhcmFtIFtOdW1iZXJdIG9mZnNldCBPZmZzZXQgaW4gdGhlIGJ1ZmZlciB0byBzdGFydCByZWFkaW5nIGRhdGEgZnJvbS5cblx0ICogQHBhcmFtIFtOdW1iZXJdIGxlbmd0aCBUaGUgYW1vdW50IG9mIGJ5dGVzIHRvIHdyaXRlIHRvIHRoZSBmaWxlLlxuXHQgKiBAcGFyYW0gW051bWJlcl0gcG9zaXRpb24gT2Zmc2V0IGZyb20gdGhlIGJlZ2lubmluZyBvZiB0aGUgZmlsZSB3aGVyZSB0aGlzXG5cdCAqICAgZGF0YSBzaG91bGQgYmUgd3JpdHRlbi4gSWYgcG9zaXRpb24gaXMgbnVsbCwgdGhlIGRhdGEgd2lsbCBiZSB3cml0dGVuIGF0XG5cdCAqICAgdGhlIGN1cnJlbnQgcG9zaXRpb24uXG5cdCAqIEByZXR1cm4gW051bWJlcl1cblx0ICovXG5cdHB1YmxpYyB3cml0ZVN5bmMoYnVmZmVyOiBCdWZmZXIsIG9mZnNldDogbnVtYmVyLCBsZW5ndGg6IG51bWJlciwgcG9zaXRpb246IG51bWJlcik6IG51bWJlciB7XG5cdFx0dGhpcy5fZGlydHkgPSB0cnVlO1xuXHRcdGlmIChwb3NpdGlvbiA9PT0gdW5kZWZpbmVkIHx8IHBvc2l0aW9uID09PSBudWxsKSB7XG5cdFx0XHRwb3NpdGlvbiA9IHRoaXMuZ2V0UG9zKCk7XG5cdFx0fVxuXHRcdGlmICghdGhpcy5fZmxhZy5pc1dyaXRlYWJsZSgpKSB7XG5cdFx0XHR0aHJvdyBuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVQRVJNLCAnRmlsZSBub3Qgb3BlbmVkIHdpdGggYSB3cml0ZWFibGUgbW9kZS4nKTtcblx0XHR9XG5cdFx0Y29uc3QgZW5kRnAgPSBwb3NpdGlvbiArIGxlbmd0aDtcblx0XHRpZiAoZW5kRnAgPiB0aGlzLl9zdGF0LnNpemUpIHtcblx0XHRcdHRoaXMuX3N0YXQuc2l6ZSA9IGVuZEZwO1xuXHRcdFx0aWYgKGVuZEZwID4gdGhpcy5fYnVmZmVyLmxlbmd0aCkge1xuXHRcdFx0XHQvLyBFeHRlbmQgdGhlIGJ1ZmZlciFcblx0XHRcdFx0Y29uc3QgbmV3QnVmZiA9IEJ1ZmZlci5hbGxvYyhlbmRGcCk7XG5cdFx0XHRcdHRoaXMuX2J1ZmZlci5jb3B5KG5ld0J1ZmYpO1xuXHRcdFx0XHR0aGlzLl9idWZmZXIgPSBuZXdCdWZmO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRjb25zdCBsZW4gPSBidWZmZXIuY29weSh0aGlzLl9idWZmZXIsIHBvc2l0aW9uLCBvZmZzZXQsIG9mZnNldCArIGxlbmd0aCk7XG5cdFx0dGhpcy5fc3RhdC5tdGltZU1zID0gRGF0ZS5ub3coKTtcblx0XHRpZiAodGhpcy5fZmxhZy5pc1N5bmNocm9ub3VzKCkpIHtcblx0XHRcdHRoaXMuc3luY1N5bmMoKTtcblx0XHRcdHJldHVybiBsZW47XG5cdFx0fVxuXHRcdHRoaXMuc2V0UG9zKHBvc2l0aW9uICsgbGVuKTtcblx0XHRyZXR1cm4gbGVuO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJlYWQgZGF0YSBmcm9tIHRoZSBmaWxlLlxuXHQgKiBAcGFyYW0gW0Jyb3dzZXJGUy5ub2RlLkJ1ZmZlcl0gYnVmZmVyIFRoZSBidWZmZXIgdGhhdCB0aGUgZGF0YSB3aWxsIGJlXG5cdCAqICAgd3JpdHRlbiB0by5cblx0ICogQHBhcmFtIFtOdW1iZXJdIG9mZnNldCBUaGUgb2Zmc2V0IHdpdGhpbiB0aGUgYnVmZmVyIHdoZXJlIHdyaXRpbmcgd2lsbFxuXHQgKiAgIHN0YXJ0LlxuXHQgKiBAcGFyYW0gW051bWJlcl0gbGVuZ3RoIEFuIGludGVnZXIgc3BlY2lmeWluZyB0aGUgbnVtYmVyIG9mIGJ5dGVzIHRvIHJlYWQuXG5cdCAqIEBwYXJhbSBbTnVtYmVyXSBwb3NpdGlvbiBBbiBpbnRlZ2VyIHNwZWNpZnlpbmcgd2hlcmUgdG8gYmVnaW4gcmVhZGluZyBmcm9tXG5cdCAqICAgaW4gdGhlIGZpbGUuIElmIHBvc2l0aW9uIGlzIG51bGwsIGRhdGEgd2lsbCBiZSByZWFkIGZyb20gdGhlIGN1cnJlbnQgZmlsZVxuXHQgKiAgIHBvc2l0aW9uLlxuXHQgKiBAcGFyYW0gW0Z1bmN0aW9uKEJyb3dzZXJGUy5BcGlFcnJvciwgTnVtYmVyLCBCcm93c2VyRlMubm9kZS5CdWZmZXIpXSBjYiBUaGVcblx0ICogICBudW1iZXIgaXMgdGhlIG51bWJlciBvZiBieXRlcyByZWFkXG5cdCAqL1xuXHRwdWJsaWMgcmVhZChidWZmZXI6IEJ1ZmZlciwgb2Zmc2V0OiBudW1iZXIsIGxlbmd0aDogbnVtYmVyLCBwb3NpdGlvbjogbnVtYmVyLCBjYjogQkZTVGhyZWVBcmdDYWxsYmFjazxudW1iZXIsIEJ1ZmZlcj4pOiB2b2lkIHtcblx0XHR0cnkge1xuXHRcdFx0Y2IobnVsbCwgdGhpcy5yZWFkU3luYyhidWZmZXIsIG9mZnNldCwgbGVuZ3RoLCBwb3NpdGlvbiksIGJ1ZmZlcik7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0Y2IoZSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFJlYWQgZGF0YSBmcm9tIHRoZSBmaWxlLlxuXHQgKiBAcGFyYW0gW0Jyb3dzZXJGUy5ub2RlLkJ1ZmZlcl0gYnVmZmVyIFRoZSBidWZmZXIgdGhhdCB0aGUgZGF0YSB3aWxsIGJlXG5cdCAqICAgd3JpdHRlbiB0by5cblx0ICogQHBhcmFtIFtOdW1iZXJdIG9mZnNldCBUaGUgb2Zmc2V0IHdpdGhpbiB0aGUgYnVmZmVyIHdoZXJlIHdyaXRpbmcgd2lsbFxuXHQgKiAgIHN0YXJ0LlxuXHQgKiBAcGFyYW0gW051bWJlcl0gbGVuZ3RoIEFuIGludGVnZXIgc3BlY2lmeWluZyB0aGUgbnVtYmVyIG9mIGJ5dGVzIHRvIHJlYWQuXG5cdCAqIEBwYXJhbSBbTnVtYmVyXSBwb3NpdGlvbiBBbiBpbnRlZ2VyIHNwZWNpZnlpbmcgd2hlcmUgdG8gYmVnaW4gcmVhZGluZyBmcm9tXG5cdCAqICAgaW4gdGhlIGZpbGUuIElmIHBvc2l0aW9uIGlzIG51bGwsIGRhdGEgd2lsbCBiZSByZWFkIGZyb20gdGhlIGN1cnJlbnQgZmlsZVxuXHQgKiAgIHBvc2l0aW9uLlxuXHQgKiBAcmV0dXJuIFtOdW1iZXJdXG5cdCAqL1xuXHRwdWJsaWMgcmVhZFN5bmMoYnVmZmVyOiBCdWZmZXIsIG9mZnNldDogbnVtYmVyLCBsZW5ndGg6IG51bWJlciwgcG9zaXRpb246IG51bWJlcik6IG51bWJlciB7XG5cdFx0aWYgKCF0aGlzLl9mbGFnLmlzUmVhZGFibGUoKSkge1xuXHRcdFx0dGhyb3cgbmV3IEFwaUVycm9yKEVycm9yQ29kZS5FUEVSTSwgJ0ZpbGUgbm90IG9wZW5lZCB3aXRoIGEgcmVhZGFibGUgbW9kZS4nKTtcblx0XHR9XG5cdFx0aWYgKHBvc2l0aW9uID09PSB1bmRlZmluZWQgfHwgcG9zaXRpb24gPT09IG51bGwpIHtcblx0XHRcdHBvc2l0aW9uID0gdGhpcy5nZXRQb3MoKTtcblx0XHR9XG5cdFx0Y29uc3QgZW5kUmVhZCA9IHBvc2l0aW9uICsgbGVuZ3RoO1xuXHRcdGlmIChlbmRSZWFkID4gdGhpcy5fc3RhdC5zaXplKSB7XG5cdFx0XHRsZW5ndGggPSB0aGlzLl9zdGF0LnNpemUgLSBwb3NpdGlvbjtcblx0XHR9XG5cdFx0Y29uc3QgcnYgPSB0aGlzLl9idWZmZXIuY29weShidWZmZXIsIG9mZnNldCwgcG9zaXRpb24sIHBvc2l0aW9uICsgbGVuZ3RoKTtcblx0XHR0aGlzLl9zdGF0LmF0aW1lTXMgPSBEYXRlLm5vdygpO1xuXHRcdHRoaXMuX3BvcyA9IHBvc2l0aW9uICsgbGVuZ3RoO1xuXHRcdHJldHVybiBydjtcblx0fVxuXG5cdC8qKlxuXHQgKiBBc3luY2hyb25vdXMgYGZjaG1vZGAuXG5cdCAqIEBwYXJhbSBbTnVtYmVyfFN0cmluZ10gbW9kZVxuXHQgKiBAcGFyYW0gW0Z1bmN0aW9uKEJyb3dzZXJGUy5BcGlFcnJvcildIGNiXG5cdCAqL1xuXHRwdWJsaWMgY2htb2QobW9kZTogbnVtYmVyLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0XHR0cnkge1xuXHRcdFx0dGhpcy5jaG1vZFN5bmMobW9kZSk7XG5cdFx0XHRjYigpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGNiKGUpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBTeW5jaHJvbm91cyBgZmNobW9kYC5cblx0ICogQHBhcmFtIFtOdW1iZXJdIG1vZGVcblx0ICovXG5cdHB1YmxpYyBjaG1vZFN5bmMobW9kZTogbnVtYmVyKTogdm9pZCB7XG5cdFx0aWYgKCF0aGlzLl9mcy5zdXBwb3J0c1Byb3BzKCkpIHtcblx0XHRcdHRocm93IG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRU5PVFNVUCk7XG5cdFx0fVxuXHRcdHRoaXMuX2RpcnR5ID0gdHJ1ZTtcblx0XHR0aGlzLl9zdGF0LmNobW9kKG1vZGUpO1xuXHRcdHRoaXMuc3luY1N5bmMoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBc3luY2hyb25vdXMgYGZjaG93bmAuXG5cdCAqIEBwYXJhbSBbTnVtYmVyXSB1aWRcblx0ICogQHBhcmFtIFtOdW1iZXJdIGdpZFxuXHQgKiBAcGFyYW0gW0Z1bmN0aW9uKEJyb3dzZXJGUy5BcGlFcnJvcildIGNiXG5cdCAqL1xuXHRwdWJsaWMgY2hvd24odWlkOiBudW1iZXIsIGdpZDogbnVtYmVyLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0XHR0cnkge1xuXHRcdFx0dGhpcy5jaG93blN5bmModWlkLCBnaWQpO1xuXHRcdFx0Y2IoKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRjYihlKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogU3luY2hyb25vdXMgYGZjaG93bmAuXG5cdCAqIEBwYXJhbSBbTnVtYmVyXSB1aWRcblx0ICogQHBhcmFtIFtOdW1iZXJdIGdpZFxuXHQgKi9cblx0cHVibGljIGNob3duU3luYyh1aWQ6IG51bWJlciwgZ2lkOiBudW1iZXIpOiB2b2lkIHtcblx0XHRpZiAoIXRoaXMuX2ZzLnN1cHBvcnRzUHJvcHMoKSkge1xuXHRcdFx0dGhyb3cgbmV3IEFwaUVycm9yKEVycm9yQ29kZS5FTk9UU1VQKTtcblx0XHR9XG5cdFx0dGhpcy5fZGlydHkgPSB0cnVlO1xuXHRcdHRoaXMuX3N0YXQuY2hvd24odWlkLCBnaWQpO1xuXHRcdHRoaXMuc3luY1N5bmMoKTtcblx0fVxuXG5cdHByb3RlY3RlZCBpc0RpcnR5KCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0aGlzLl9kaXJ0eTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXNldHMgdGhlIGRpcnR5IGJpdC4gU2hvdWxkIG9ubHkgYmUgY2FsbGVkIGFmdGVyIGEgc3luYyBoYXMgY29tcGxldGVkIHN1Y2Nlc3NmdWxseS5cblx0ICovXG5cdHByb3RlY3RlZCByZXNldERpcnR5KCkge1xuXHRcdHRoaXMuX2RpcnR5ID0gZmFsc2U7XG5cdH1cbn1cblxuLyoqXG4gKiBGaWxlIGNsYXNzIGZvciB0aGUgSW5NZW1vcnkgYW5kIFhIUiBmaWxlIHN5c3RlbXMuXG4gKiBEb2Vzbid0IHN5bmMgdG8gYW55dGhpbmcsIHNvIGl0IHdvcmtzIG5pY2VseSBmb3IgbWVtb3J5LW9ubHkgZmlsZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBOb1N5bmNGaWxlPFQgZXh0ZW5kcyBGaWxlU3lzdGVtPiBleHRlbmRzIFByZWxvYWRGaWxlPFQ+IGltcGxlbWVudHMgRmlsZSB7XG5cdGNvbnN0cnVjdG9yKF9mczogVCwgX3BhdGg6IHN0cmluZywgX2ZsYWc6IEZpbGVGbGFnLCBfc3RhdDogU3RhdHMsIGNvbnRlbnRzPzogQnVmZmVyKSB7XG5cdFx0c3VwZXIoX2ZzLCBfcGF0aCwgX2ZsYWcsIF9zdGF0LCBjb250ZW50cyk7XG5cdH1cblx0LyoqXG5cdCAqIEFzeW5jaHJvbm91cyBzeW5jLiBEb2Vzbid0IGRvIGFueXRoaW5nLCBzaW1wbHkgY2FsbHMgdGhlIGNiLlxuXHQgKiBAcGFyYW0gW0Z1bmN0aW9uKEJyb3dzZXJGUy5BcGlFcnJvcildIGNiXG5cdCAqL1xuXHRwdWJsaWMgc3luYyhjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0XHRjYigpO1xuXHR9XG5cdC8qKlxuXHQgKiBTeW5jaHJvbm91cyBzeW5jLiBEb2Vzbid0IGRvIGFueXRoaW5nLlxuXHQgKi9cblx0cHVibGljIHN5bmNTeW5jKCk6IHZvaWQge1xuXHRcdC8vIE5PUC5cblx0fVxuXHQvKipcblx0ICogQXN5bmNocm9ub3VzIGNsb3NlLiBEb2Vzbid0IGRvIGFueXRoaW5nLCBzaW1wbHkgY2FsbHMgdGhlIGNiLlxuXHQgKiBAcGFyYW0gW0Z1bmN0aW9uKEJyb3dzZXJGUy5BcGlFcnJvcildIGNiXG5cdCAqL1xuXHRwdWJsaWMgY2xvc2UoY2I6IEJGU09uZUFyZ0NhbGxiYWNrKTogdm9pZCB7XG5cdFx0Y2IoKTtcblx0fVxuXHQvKipcblx0ICogU3luY2hyb25vdXMgY2xvc2UuIERvZXNuJ3QgZG8gYW55dGhpbmcuXG5cdCAqL1xuXHRwdWJsaWMgY2xvc2VTeW5jKCk6IHZvaWQge1xuXHRcdC8vIE5PUC5cblx0fVxufVxuIiwgImltcG9ydCB7IEZpbGVTeXN0ZW0sIFN5bmNocm9ub3VzRmlsZVN5c3RlbSwgQkZTT25lQXJnQ2FsbGJhY2ssIEJGU0NhbGxiYWNrLCBGaWxlU3lzdGVtT3B0aW9ucyB9IGZyb20gJy4uL2NvcmUvZmlsZV9zeXN0ZW0nO1xuaW1wb3J0IHsgQXBpRXJyb3IsIEVycm9yQ29kZSB9IGZyb20gJy4uL2NvcmUvYXBpX2Vycm9yJztcbmltcG9ydCB7IEZpbGVGbGFnIH0gZnJvbSAnLi4vY29yZS9maWxlX2ZsYWcnO1xuaW1wb3J0IHsgRmlsZSB9IGZyb20gJy4uL2NvcmUvZmlsZSc7XG5pbXBvcnQgU3RhdHMgZnJvbSAnLi4vY29yZS9zdGF0cyc7XG5pbXBvcnQgUHJlbG9hZEZpbGUgZnJvbSAnLi4vZ2VuZXJpYy9wcmVsb2FkX2ZpbGUnO1xuaW1wb3J0ICogYXMgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCBDcmVkIGZyb20gJy4uL2NvcmUvY3JlZCc7XG5pbXBvcnQgdHlwZSB7IEJ1ZmZlciB9IGZyb20gJ2J1ZmZlcic7XG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuaW50ZXJmYWNlIElBc3luY09wZXJhdGlvbiB7XG5cdGFwaU1ldGhvZDogc3RyaW5nO1xuXHRhcmd1bWVudHM6IGFueVtdO1xufVxuXG4vKipcbiAqIFdlIGRlZmluZSBvdXIgb3duIGZpbGUgdG8gaW50ZXJwb3NlIG9uIHN5bmNTeW5jKCkgZm9yIG1pcnJvcmluZyBwdXJwb3Nlcy5cbiAqL1xuY2xhc3MgTWlycm9yRmlsZSBleHRlbmRzIFByZWxvYWRGaWxlPEFzeW5jTWlycm9yPiBpbXBsZW1lbnRzIEZpbGUge1xuXHRjb25zdHJ1Y3RvcihmczogQXN5bmNNaXJyb3IsIHBhdGg6IHN0cmluZywgZmxhZzogRmlsZUZsYWcsIHN0YXQ6IFN0YXRzLCBkYXRhOiBCdWZmZXIpIHtcblx0XHRzdXBlcihmcywgcGF0aCwgZmxhZywgc3RhdCwgZGF0YSk7XG5cdH1cblxuXHRwdWJsaWMgc3luY1N5bmMoKTogdm9pZCB7XG5cdFx0aWYgKHRoaXMuaXNEaXJ0eSgpKSB7XG5cdFx0XHR0aGlzLl9mcy5fc3luY1N5bmModGhpcyk7XG5cdFx0XHR0aGlzLnJlc2V0RGlydHkoKTtcblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgY2xvc2VTeW5jKCk6IHZvaWQge1xuXHRcdHRoaXMuc3luY1N5bmMoKTtcblx0fVxufVxuXG4vKipcbiAqIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdGhlIEFzeW5jTWlycm9yIGZpbGUgc3lzdGVtLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEFzeW5jTWlycm9yT3B0aW9ucyB7XG5cdC8vIFRoZSBzeW5jaHJvbm91cyBmaWxlIHN5c3RlbSB0byBtaXJyb3IgdGhlIGFzeW5jaHJvbm91cyBmaWxlIHN5c3RlbSB0by5cblx0c3luYzogRmlsZVN5c3RlbTtcblx0Ly8gVGhlIGFzeW5jaHJvbm91cyBmaWxlIHN5c3RlbSB0byBtaXJyb3IuXG5cdGFzeW5jOiBGaWxlU3lzdGVtO1xufVxuXG4vKipcbiAqIEFzeW5jTWlycm9yRlMgbWlycm9ycyBhIHN5bmNocm9ub3VzIGZpbGVzeXN0ZW0gaW50byBhbiBhc3luY2hyb25vdXMgZmlsZXN5c3RlbVxuICogYnk6XG4gKlxuICogKiBQZXJmb3JtaW5nIG9wZXJhdGlvbnMgb3ZlciB0aGUgaW4tbWVtb3J5IGNvcHksIHdoaWxlIGFzeW5jaHJvbm91c2x5IHBpcGVsaW5pbmcgdGhlbVxuICogICB0byB0aGUgYmFja2luZyBzdG9yZS5cbiAqICogRHVyaW5nIGFwcGxpY2F0aW9uIGxvYWRpbmcsIHRoZSBjb250ZW50cyBvZiB0aGUgYXN5bmMgZmlsZSBzeXN0ZW0gY2FuIGJlIHJlbG9hZGVkIGludG9cbiAqICAgdGhlIHN5bmNocm9ub3VzIHN0b3JlLCBpZiBkZXNpcmVkLlxuICpcbiAqIFRoZSB0d28gc3RvcmVzIHdpbGwgYmUga2VwdCBpbiBzeW5jLiBUaGUgbW9zdCBjb21tb24gdXNlLWNhc2UgaXMgdG8gcGFpciBhIHN5bmNocm9ub3VzXG4gKiBpbi1tZW1vcnkgZmlsZXN5c3RlbSB3aXRoIGFuIGFzeW5jaHJvbm91cyBiYWNraW5nIHN0b3JlLlxuICpcbiAqIEV4YW1wbGU6IE1pcnJvcmluZyBhbiBJbmRleGVkREIgZmlsZSBzeXN0ZW0gdG8gYW4gaW4gbWVtb3J5IGZpbGUgc3lzdGVtLiBOb3csIHlvdSBjYW4gdXNlXG4gKiBJbmRleGVkREIgc3luY2hyb25vdXNseS5cbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBCcm93c2VyRlMuY29uZmlndXJlKHtcbiAqICAgZnM6IFwiQXN5bmNNaXJyb3JcIixcbiAqICAgb3B0aW9uczoge1xuICogICAgIHN5bmM6IHsgZnM6IFwiSW5NZW1vcnlcIiB9LFxuICogICAgIGFzeW5jOiB7IGZzOiBcIkluZGV4ZWREQlwiIH1cbiAqICAgfVxuICogfSwgZnVuY3Rpb24oZSkge1xuICogICAvLyBCcm93c2VyRlMgaXMgaW5pdGlhbGl6ZWQgYW5kIHJlYWR5LXRvLXVzZSFcbiAqIH0pO1xuICogYGBgXG4gKlxuICogT3IsIGFsdGVybmF0aXZlbHk6XG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogQnJvd3NlckZTLkZpbGVTeXN0ZW0uSW5kZXhlZERCLkNyZWF0ZShmdW5jdGlvbihlLCBpZGJmcykge1xuICogICBCcm93c2VyRlMuRmlsZVN5c3RlbS5Jbk1lbW9yeS5DcmVhdGUoZnVuY3Rpb24oZSwgaW5NZW1vcnkpIHtcbiAqICAgICBCcm93c2VyRlMuRmlsZVN5c3RlbS5Bc3luY01pcnJvcih7XG4gKiAgICAgICBzeW5jOiBpbk1lbW9yeSwgYXN5bmM6IGlkYmZzXG4gKiAgICAgfSwgZnVuY3Rpb24oZSwgbWlycm9yZWQpIHtcbiAqICAgICAgIEJyb3dzZXJGUy5pbml0aWFsaXplKG1pcnJvcmVkKTtcbiAqICAgICB9KTtcbiAqICAgfSk7XG4gKiB9KTtcbiAqIGBgYFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBc3luY01pcnJvciBleHRlbmRzIFN5bmNocm9ub3VzRmlsZVN5c3RlbSBpbXBsZW1lbnRzIEZpbGVTeXN0ZW0ge1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE5hbWUgPSAnQXN5bmNNaXJyb3InO1xuXG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgT3B0aW9uczogRmlsZVN5c3RlbU9wdGlvbnMgPSB7XG5cdFx0c3luYzoge1xuXHRcdFx0dHlwZTogJ29iamVjdCcsXG5cdFx0XHRkZXNjcmlwdGlvbjogJ1RoZSBzeW5jaHJvbm91cyBmaWxlIHN5c3RlbSB0byBtaXJyb3IgdGhlIGFzeW5jaHJvbm91cyBmaWxlIHN5c3RlbSB0by4nLFxuXHRcdFx0dmFsaWRhdG9yOiAodjogYW55LCBjYjogQkZTT25lQXJnQ2FsbGJhY2spID0+IHtcblx0XHRcdFx0aWYgKHYgJiYgdHlwZW9mIHZbJ3N1cHBvcnRzU3luY2gnXSA9PT0gJ2Z1bmN0aW9uJyAmJiB2LnN1cHBvcnRzU3luY2goKSkge1xuXHRcdFx0XHRcdGNiKCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y2IobmV3IEFwaUVycm9yKEVycm9yQ29kZS5FSU5WQUwsIGAnc3luYycgb3B0aW9uIG11c3QgYmUgYSBmaWxlIHN5c3RlbSB0aGF0IHN1cHBvcnRzIHN5bmNocm9ub3VzIG9wZXJhdGlvbnNgKSk7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0fSxcblx0XHRhc3luYzoge1xuXHRcdFx0dHlwZTogJ29iamVjdCcsXG5cdFx0XHRkZXNjcmlwdGlvbjogJ1RoZSBhc3luY2hyb25vdXMgZmlsZSBzeXN0ZW0gdG8gbWlycm9yLicsXG5cdFx0fSxcblx0fTtcblxuXHQvKipcblx0ICogQ29uc3RydWN0cyBhbmQgaW5pdGlhbGl6ZXMgYW4gQXN5bmNNaXJyb3IgZmlsZSBzeXN0ZW0gd2l0aCB0aGUgZ2l2ZW4gb3B0aW9ucy5cblx0ICovXG5cdHB1YmxpYyBzdGF0aWMgQ3JlYXRlKG9wdHM6IEFzeW5jTWlycm9yT3B0aW9ucywgY2I6IEJGU0NhbGxiYWNrPEFzeW5jTWlycm9yPik6IHZvaWQge1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBmcyA9IG5ldyBBc3luY01pcnJvcihvcHRzLnN5bmMsIG9wdHMuYXN5bmMpO1xuXHRcdFx0ZnMuX2luaXRpYWxpemUoKGU/KSA9PiB7XG5cdFx0XHRcdGlmIChlKSB7XG5cdFx0XHRcdFx0Y2IoZSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y2IobnVsbCwgZnMpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRjYihlKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogQXN5bmNocm9ub3VzbHkgY29uc3RydWN0cyBhbmQgaW5pdGlhbGl6ZXMgYW4gQXN5bmNNaXJyb3IgZmlsZSBzeXN0ZW0gd2l0aCB0aGUgZ2l2ZW4gb3B0aW9ucy5cblx0ICovXG5cdHB1YmxpYyBzdGF0aWMgQ3JlYXRlQXN5bmMob3B0czogQXN5bmNNaXJyb3JPcHRpb25zKTogUHJvbWlzZTxBc3luY01pcnJvcj4ge1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHR0aGlzLkNyZWF0ZShvcHRzLCAoZXJyb3IsIGZzKSA9PiB7XG5cdFx0XHRcdGlmIChlcnJvciB8fCAhZnMpIHtcblx0XHRcdFx0XHRyZWplY3QoZXJyb3IpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJlc29sdmUoZnMpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXG5cdHB1YmxpYyBzdGF0aWMgaXNBdmFpbGFibGUoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHQvKipcblx0ICogUXVldWUgb2YgcGVuZGluZyBhc3luY2hyb25vdXMgb3BlcmF0aW9ucy5cblx0ICovXG5cdHByaXZhdGUgX3F1ZXVlOiBJQXN5bmNPcGVyYXRpb25bXSA9IFtdO1xuXHRwcml2YXRlIF9xdWV1ZVJ1bm5pbmc6IGJvb2xlYW4gPSBmYWxzZTtcblx0cHJpdmF0ZSBfc3luYzogRmlsZVN5c3RlbTtcblx0cHJpdmF0ZSBfYXN5bmM6IEZpbGVTeXN0ZW07XG5cdHByaXZhdGUgX2lzSW5pdGlhbGl6ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblx0cHJpdmF0ZSBfaW5pdGlhbGl6ZUNhbGxiYWNrczogKChlPzogQXBpRXJyb3IpID0+IHZvaWQpW10gPSBbXTtcblxuXHQvKipcblx0ICogKipEZXByZWNhdGVkOyB1c2UgQXN5bmNNaXJyb3IuQ3JlYXRlKCkgbWV0aG9kIGluc3RlYWQuKipcblx0ICpcblx0ICogTWlycm9ycyB0aGUgc3luY2hyb25vdXMgZmlsZSBzeXN0ZW0gaW50byB0aGUgYXN5bmNocm9ub3VzIGZpbGUgc3lzdGVtLlxuXHQgKlxuXHQgKiAqKklNUE9SVEFOVCoqOiBZb3UgbXVzdCBjYWxsIGBpbml0aWFsaXplYCBvbiB0aGUgZmlsZSBzeXN0ZW0gYmVmb3JlIGl0IGNhbiBiZSB1c2VkLlxuXHQgKiBAcGFyYW0gc3luYyBUaGUgc3luY2hyb25vdXMgZmlsZSBzeXN0ZW0gdG8gbWlycm9yIHRoZSBhc3luY2hyb25vdXMgZmlsZSBzeXN0ZW0gdG8uXG5cdCAqIEBwYXJhbSBhc3luYyBUaGUgYXN5bmNocm9ub3VzIGZpbGUgc3lzdGVtIHRvIG1pcnJvci5cblx0ICovXG5cdGNvbnN0cnVjdG9yKHN5bmM6IEZpbGVTeXN0ZW0sIGFzeW5jOiBGaWxlU3lzdGVtKSB7XG5cdFx0c3VwZXIoKTtcblx0XHR0aGlzLl9zeW5jID0gc3luYztcblx0XHR0aGlzLl9hc3luYyA9IGFzeW5jO1xuXHR9XG5cblx0cHVibGljIGdldE5hbWUoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gQXN5bmNNaXJyb3IuTmFtZTtcblx0fVxuXG5cdHB1YmxpYyBfc3luY1N5bmMoZmQ6IFByZWxvYWRGaWxlPGFueT4pIHtcblx0XHRjb25zdCBzdGF0cyA9IGZkLmdldFN0YXRzKCk7XG5cdFx0dGhpcy5fc3luYy53cml0ZUZpbGVTeW5jKGZkLmdldFBhdGgoKSwgZmQuZ2V0QnVmZmVyKCksIG51bGwsIEZpbGVGbGFnLmdldEZpbGVGbGFnKCd3JyksIHN0YXRzLm1vZGUsIHN0YXRzLmdldENyZWQoMCwgMCkpO1xuXHRcdHRoaXMuZW5xdWV1ZU9wKHtcblx0XHRcdGFwaU1ldGhvZDogJ3dyaXRlRmlsZScsXG5cdFx0XHRhcmd1bWVudHM6IFtmZC5nZXRQYXRoKCksIGZkLmdldEJ1ZmZlcigpLCBudWxsLCBmZC5nZXRGbGFnKCksIHN0YXRzLm1vZGUsIHN0YXRzLmdldENyZWQoMCwgMCldLFxuXHRcdH0pO1xuXHR9XG5cblx0cHVibGljIGlzUmVhZE9ubHkoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cdHB1YmxpYyBzdXBwb3J0c1N5bmNoKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cdHB1YmxpYyBzdXBwb3J0c0xpbmtzKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXHRwdWJsaWMgc3VwcG9ydHNQcm9wcygpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdGhpcy5fc3luYy5zdXBwb3J0c1Byb3BzKCkgJiYgdGhpcy5fYXN5bmMuc3VwcG9ydHNQcm9wcygpO1xuXHR9XG5cblx0cHVibGljIHJlbmFtZVN5bmMob2xkUGF0aDogc3RyaW5nLCBuZXdQYXRoOiBzdHJpbmcsIGNyZWQ6IENyZWQpOiB2b2lkIHtcblx0XHR0aGlzLl9zeW5jLnJlbmFtZVN5bmMob2xkUGF0aCwgbmV3UGF0aCwgY3JlZCk7XG5cdFx0dGhpcy5lbnF1ZXVlT3Aoe1xuXHRcdFx0YXBpTWV0aG9kOiAncmVuYW1lJyxcblx0XHRcdGFyZ3VtZW50czogW29sZFBhdGgsIG5ld1BhdGgsIGNyZWRdLFxuXHRcdH0pO1xuXHR9XG5cblx0cHVibGljIHN0YXRTeW5jKHA6IHN0cmluZywgaXNMc3RhdDogYm9vbGVhbiwgY3JlZDogQ3JlZCk6IFN0YXRzIHtcblx0XHRyZXR1cm4gdGhpcy5fc3luYy5zdGF0U3luYyhwLCBpc0xzdGF0LCBjcmVkKTtcblx0fVxuXG5cdHB1YmxpYyBvcGVuU3luYyhwOiBzdHJpbmcsIGZsYWc6IEZpbGVGbGFnLCBtb2RlOiBudW1iZXIsIGNyZWQ6IENyZWQpOiBGaWxlIHtcblx0XHQvLyBTYW5pdHkgY2hlY2s6IElzIHRoaXMgb3Blbi9jbG9zZSBwZXJtaXR0ZWQ/XG5cdFx0Y29uc3QgZmQgPSB0aGlzLl9zeW5jLm9wZW5TeW5jKHAsIGZsYWcsIG1vZGUsIGNyZWQpO1xuXHRcdGZkLmNsb3NlU3luYygpO1xuXHRcdHJldHVybiBuZXcgTWlycm9yRmlsZSh0aGlzLCBwLCBmbGFnLCB0aGlzLl9zeW5jLnN0YXRTeW5jKHAsIGZhbHNlLCBjcmVkKSwgdGhpcy5fc3luYy5yZWFkRmlsZVN5bmMocCwgbnVsbCwgRmlsZUZsYWcuZ2V0RmlsZUZsYWcoJ3InKSwgY3JlZCkpO1xuXHR9XG5cblx0cHVibGljIHVubGlua1N5bmMocDogc3RyaW5nLCBjcmVkOiBDcmVkKTogdm9pZCB7XG5cdFx0dGhpcy5fc3luYy51bmxpbmtTeW5jKHAsIGNyZWQpO1xuXHRcdHRoaXMuZW5xdWV1ZU9wKHtcblx0XHRcdGFwaU1ldGhvZDogJ3VubGluaycsXG5cdFx0XHRhcmd1bWVudHM6IFtwLCBjcmVkXSxcblx0XHR9KTtcblx0fVxuXG5cdHB1YmxpYyBybWRpclN5bmMocDogc3RyaW5nLCBjcmVkOiBDcmVkKTogdm9pZCB7XG5cdFx0dGhpcy5fc3luYy5ybWRpclN5bmMocCwgY3JlZCk7XG5cdFx0dGhpcy5lbnF1ZXVlT3Aoe1xuXHRcdFx0YXBpTWV0aG9kOiAncm1kaXInLFxuXHRcdFx0YXJndW1lbnRzOiBbcCwgY3JlZF0sXG5cdFx0fSk7XG5cdH1cblxuXHRwdWJsaWMgbWtkaXJTeW5jKHA6IHN0cmluZywgbW9kZTogbnVtYmVyLCBjcmVkOiBDcmVkKTogdm9pZCB7XG5cdFx0dGhpcy5fc3luYy5ta2RpclN5bmMocCwgbW9kZSwgY3JlZCk7XG5cdFx0dGhpcy5lbnF1ZXVlT3Aoe1xuXHRcdFx0YXBpTWV0aG9kOiAnbWtkaXInLFxuXHRcdFx0YXJndW1lbnRzOiBbcCwgbW9kZSwgY3JlZF0sXG5cdFx0fSk7XG5cdH1cblxuXHRwdWJsaWMgcmVhZGRpclN5bmMocDogc3RyaW5nLCBjcmVkOiBDcmVkKTogc3RyaW5nW10ge1xuXHRcdHJldHVybiB0aGlzLl9zeW5jLnJlYWRkaXJTeW5jKHAsIGNyZWQpO1xuXHR9XG5cblx0cHVibGljIGV4aXN0c1N5bmMocDogc3RyaW5nLCBjcmVkOiBDcmVkKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMuX3N5bmMuZXhpc3RzU3luYyhwLCBjcmVkKTtcblx0fVxuXG5cdHB1YmxpYyBjaG1vZFN5bmMocDogc3RyaW5nLCBpc0xjaG1vZDogYm9vbGVhbiwgbW9kZTogbnVtYmVyLCBjcmVkOiBDcmVkKTogdm9pZCB7XG5cdFx0dGhpcy5fc3luYy5jaG1vZFN5bmMocCwgaXNMY2htb2QsIG1vZGUsIGNyZWQpO1xuXHRcdHRoaXMuZW5xdWV1ZU9wKHtcblx0XHRcdGFwaU1ldGhvZDogJ2NobW9kJyxcblx0XHRcdGFyZ3VtZW50czogW3AsIGlzTGNobW9kLCBtb2RlLCBjcmVkXSxcblx0XHR9KTtcblx0fVxuXG5cdHB1YmxpYyBjaG93blN5bmMocDogc3RyaW5nLCBpc0xjaG93bjogYm9vbGVhbiwgbmV3X3VpZDogbnVtYmVyLCBuZXdfZ2lkOiBudW1iZXIsIGNyZWQ6IENyZWQpOiB2b2lkIHtcblx0XHR0aGlzLl9zeW5jLmNob3duU3luYyhwLCBpc0xjaG93biwgbmV3X3VpZCwgbmV3X2dpZCwgY3JlZCk7XG5cdFx0dGhpcy5lbnF1ZXVlT3Aoe1xuXHRcdFx0YXBpTWV0aG9kOiAnY2hvd24nLFxuXHRcdFx0YXJndW1lbnRzOiBbcCwgaXNMY2hvd24sIG5ld191aWQsIG5ld19naWQsIGNyZWRdLFxuXHRcdH0pO1xuXHR9XG5cblx0cHVibGljIHV0aW1lc1N5bmMocDogc3RyaW5nLCBhdGltZTogRGF0ZSwgbXRpbWU6IERhdGUsIGNyZWQ6IENyZWQpOiB2b2lkIHtcblx0XHR0aGlzLl9zeW5jLnV0aW1lc1N5bmMocCwgYXRpbWUsIG10aW1lLCBjcmVkKTtcblx0XHR0aGlzLmVucXVldWVPcCh7XG5cdFx0XHRhcGlNZXRob2Q6ICd1dGltZXMnLFxuXHRcdFx0YXJndW1lbnRzOiBbcCwgYXRpbWUsIG10aW1lLCBjcmVkXSxcblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDYWxsZWQgb25jZSB0byBsb2FkIHVwIGZpbGVzIGZyb20gYXN5bmMgc3RvcmFnZSBpbnRvIHN5bmMgc3RvcmFnZS5cblx0ICovXG5cdHByaXZhdGUgX2luaXRpYWxpemUodXNlckNiOiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQge1xuXHRcdGNvbnN0IGNhbGxiYWNrcyA9IHRoaXMuX2luaXRpYWxpemVDYWxsYmFja3M7XG5cblx0XHRjb25zdCBlbmQgPSAoZT86IEFwaUVycm9yKTogdm9pZCA9PiB7XG5cdFx0XHR0aGlzLl9pc0luaXRpYWxpemVkID0gIWU7XG5cdFx0XHR0aGlzLl9pbml0aWFsaXplQ2FsbGJhY2tzID0gW107XG5cdFx0XHRjYWxsYmFja3MuZm9yRWFjaChjYiA9PiBjYihlKSk7XG5cdFx0fTtcblxuXHRcdGlmICghdGhpcy5faXNJbml0aWFsaXplZCkge1xuXHRcdFx0Ly8gRmlyc3QgY2FsbCB0cmlnZ2VycyBpbml0aWFsaXphdGlvbiwgdGhlIHJlc3Qgd2FpdC5cblx0XHRcdGlmIChjYWxsYmFja3MucHVzaCh1c2VyQ2IpID09PSAxKSB7XG5cdFx0XHRcdGNvbnN0IGNvcHlEaXJlY3RvcnkgPSAocDogc3RyaW5nLCBtb2RlOiBudW1iZXIsIGNiOiBCRlNPbmVBcmdDYWxsYmFjaykgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKHAgIT09ICcvJykge1xuXHRcdFx0XHRcdFx0XHR0aGlzLl9hc3luYy5zdGF0KHAsIHRydWUsIENyZWQuUm9vdCwgKGVycj86IEFwaUVycm9yLCBzdGF0cz86IFN0YXRzKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKGVycikge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y2IoZXJyKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5fc3luYy5ta2RpclN5bmMocCwgc3RhdHMubW9kZSwgc3RhdHMuZ2V0Q3JlZCgpKTtcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR0aGlzLl9hc3luYy5yZWFkZGlyKHAsIENyZWQuUm9vdCwgKGVyciwgZmlsZXMpID0+IHtcblx0XHRcdFx0XHRcdFx0bGV0IGkgPSAwO1xuXHRcdFx0XHRcdFx0XHQvLyBOT1RFOiBUaGlzIGZ1bmN0aW9uIG11c3Qgbm90IGJlIGluIGEgbGV4aWNhbGx5IG5lc3RlZCBzdGF0ZW1lbnQsXG5cdFx0XHRcdFx0XHRcdC8vIHN1Y2ggYXMgYW4gaWYgb3Igd2hpbGUgc3RhdGVtZW50LiBTYWZhcmkgcmVmdXNlcyB0byBydW4gdGhlXG5cdFx0XHRcdFx0XHRcdC8vIHNjcmlwdCBzaW5jZSBpdCBpcyB1bmRlZmluZWQgYmVoYXZpb3IuXG5cdFx0XHRcdFx0XHRcdGZ1bmN0aW9uIGNvcHlOZXh0RmlsZShlcnI/OiBBcGlFcnJvcikge1xuXHRcdFx0XHRcdFx0XHRcdGlmIChlcnIpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNiKGVycik7XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIGlmIChpIDwgZmlsZXMhLmxlbmd0aCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29weUl0ZW0ocGF0aC5qb2luKHAsIGZpbGVzIVtpXSksIGNvcHlOZXh0RmlsZSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRpKys7XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNiKCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdGlmIChlcnIpIHtcblx0XHRcdFx0XHRcdFx0XHRjYihlcnIpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdGNvcHlOZXh0RmlsZSgpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGNvcHlGaWxlID0gKHA6IHN0cmluZywgbW9kZTogbnVtYmVyLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spID0+IHtcblx0XHRcdFx0XHRcdHRoaXMuX2FzeW5jLnJlYWRGaWxlKHAsIG51bGwsIEZpbGVGbGFnLmdldEZpbGVGbGFnKCdyJyksIENyZWQuUm9vdCwgKGVyciwgZGF0YSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRpZiAoZXJyKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2IoZXJyKTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5fc3luYy53cml0ZUZpbGVTeW5jKHAsIGRhdGEhLCBudWxsLCBGaWxlRmxhZy5nZXRGaWxlRmxhZygndycpLCBtb2RlLCBDcmVkLlJvb3QpO1xuXHRcdFx0XHRcdFx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGVyciA9IGU7XG5cdFx0XHRcdFx0XHRcdFx0fSBmaW5hbGx5IHtcblx0XHRcdFx0XHRcdFx0XHRcdGNiKGVycik7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGNvcHlJdGVtID0gKHA6IHN0cmluZywgY2I6IEJGU09uZUFyZ0NhbGxiYWNrKSA9PiB7XG5cdFx0XHRcdFx0XHR0aGlzLl9hc3luYy5zdGF0KHAsIGZhbHNlLCBDcmVkLlJvb3QsIChlcnIsIHN0YXRzKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGlmIChlcnIpIHtcblx0XHRcdFx0XHRcdFx0XHRjYihlcnIpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKHN0YXRzIS5pc0RpcmVjdG9yeSgpKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29weURpcmVjdG9yeShwLCBzdGF0cyEubW9kZSwgY2IpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdGNvcHlGaWxlKHAsIHN0YXRzIS5tb2RlLCBjYik7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH07XG5cdFx0XHRcdGNvcHlEaXJlY3RvcnkoJy8nLCAwLCBlbmQpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR1c2VyQ2IoKTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGVucXVldWVPcChvcDogSUFzeW5jT3BlcmF0aW9uKSB7XG5cdFx0dGhpcy5fcXVldWUucHVzaChvcCk7XG5cdFx0aWYgKCF0aGlzLl9xdWV1ZVJ1bm5pbmcpIHtcblx0XHRcdHRoaXMuX3F1ZXVlUnVubmluZyA9IHRydWU7XG5cdFx0XHRjb25zdCBkb05leHRPcCA9IChlcnI/OiBBcGlFcnJvcikgPT4ge1xuXHRcdFx0XHRpZiAoZXJyKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBXQVJOSU5HOiBGaWxlIHN5c3RlbSBoYXMgZGVzeW5jaHJvbml6ZWQuIFJlY2VpdmVkIGZvbGxvd2luZyBlcnJvcjogJHtlcnJ9XFxuJGApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICh0aGlzLl9xdWV1ZS5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0Y29uc3Qgb3AgPSB0aGlzLl9xdWV1ZS5zaGlmdCgpISxcblx0XHRcdFx0XHRcdGFyZ3MgPSBvcC5hcmd1bWVudHM7XG5cdFx0XHRcdFx0YXJncy5wdXNoKGRvTmV4dE9wKTtcblx0XHRcdFx0XHQoPEZ1bmN0aW9uPig8YW55PnRoaXMuX2FzeW5jKVtvcC5hcGlNZXRob2RdKS5hcHBseSh0aGlzLl9hc3luYywgYXJncyk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhpcy5fcXVldWVSdW5uaW5nID0gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0XHRkb05leHRPcCgpO1xuXHRcdH1cblx0fVxufVxuIiwgIi8vIElmIERyb3Bib3ggaXNuJ3Qgb24gdGhlIHdlYnBhZ2UsIHRoZW4gc2V0IHRoaXMgdG8gbnVsbC5cbmV4cG9ydCBjb25zdCBEcm9wYm94ID0gZ2xvYmFsVGhpcy5Ecm9wYm94ID8gZ2xvYmFsVGhpcy5Ecm9wYm94LkRyb3Bib3ggOiB1bmRlZmluZWQ7XG4iLCAiaW1wb3J0IFByZWxvYWRGaWxlIGZyb20gJy4uL2dlbmVyaWMvcHJlbG9hZF9maWxlJztcbmltcG9ydCB7IEJhc2VGaWxlU3lzdGVtLCBGaWxlU3lzdGVtLCBCRlNPbmVBcmdDYWxsYmFjaywgQkZTQ2FsbGJhY2ssIEZpbGVTeXN0ZW1PcHRpb25zIH0gZnJvbSAnLi4vY29yZS9maWxlX3N5c3RlbSc7XG5pbXBvcnQgeyBGaWxlRmxhZyB9IGZyb20gJy4uL2NvcmUvZmlsZV9mbGFnJztcbmltcG9ydCB7IGRlZmF1bHQgYXMgU3RhdHMsIEZpbGVUeXBlIH0gZnJvbSAnLi4vY29yZS9zdGF0cyc7XG5pbXBvcnQgeyBBcGlFcnJvciwgRXJyb3JDb2RlIH0gZnJvbSAnLi4vY29yZS9hcGlfZXJyb3InO1xuaW1wb3J0IHsgRmlsZSB9IGZyb20gJy4uL2NvcmUvZmlsZSc7XG5pbXBvcnQgeyBhcnJheUJ1ZmZlcjJCdWZmZXIsIGJ1ZmZlcjJBcnJheUJ1ZmZlciB9IGZyb20gJy4uL2NvcmUvdXRpbCc7XG5pbXBvcnQgeyBEcm9wYm94IH0gZnJvbSAnLi4vZ2VuZXJpYy9kcm9wYm94X2JyaWRnZV9hY3R1YWwnO1xuaW1wb3J0IHNldEltbWVkaWF0ZSBmcm9tICcuLi9nZW5lcmljL3NldEltbWVkaWF0ZSc7XG5pbXBvcnQgeyBkaXJuYW1lIH0gZnJvbSAncGF0aCc7XG5pbXBvcnQgQ3JlZCBmcm9tICcuLi9jb3JlL2NyZWQnO1xuaW1wb3J0IHsgQnVmZmVyIH0gZnJvbSAnYnVmZmVyJztcbnR5cGUgRHJvcGJveENsaWVudCA9IERyb3Bib3hUeXBlcy5Ecm9wYm94O1xuXG4vKipcbiAqIERyb3Bib3ggcGF0aHMgZG8gbm90IGJlZ2luIHdpdGggYSAvLCB0aGV5IGp1c3QgYmVnaW4gd2l0aCBhIGZvbGRlciBhdCB0aGUgcm9vdCBub2RlLlxuICogSGVyZSwgd2Ugc3RyaXAgdGhlIGAvYC5cbiAqIEBwYXJhbSBwIEFuIGFic29sdXRlIHBhdGhcbiAqL1xuZnVuY3Rpb24gRml4UGF0aChwOiBzdHJpbmcpOiBzdHJpbmcge1xuXHRpZiAocCA9PT0gJy8nKSB7XG5cdFx0cmV0dXJuICcnO1xuXHR9IGVsc2Uge1xuXHRcdHJldHVybiBwO1xuXHR9XG59XG5cbi8qKlxuICogSEFDSzogRHJvcGJveCBlcnJvcnMgYXJlIEZVQkFSJ2Qgc29tZXRpbWVzLlxuICogQHVybCBodHRwczovL2dpdGh1Yi5jb20vZHJvcGJveC9kcm9wYm94LXNkay1qcy9pc3N1ZXMvMTQ2XG4gKiBAcGFyYW0gZVxuICovXG5mdW5jdGlvbiBFeHRyYWN0VGhlRnVja2luZ0Vycm9yPFQ+KGU6IERyb3Bib3hUeXBlcy5FcnJvcjxUPik6IFQge1xuXHRjb25zdCBvYmogPSA8YW55PmUuZXJyb3I7XG5cdGlmIChvYmpbJy50YWcnXSkge1xuXHRcdC8vIEV2ZXJ5dGhpbmcgaXMgT0suXG5cdFx0cmV0dXJuIG9iajtcblx0fSBlbHNlIGlmIChvYmpbJ2Vycm9yJ10pIHtcblx0XHQvLyBUZXJyaWJsZSBuZXN0ZWQgb2JqZWN0IGJ1Zy5cblx0XHRjb25zdCBvYmoyID0gb2JqLmVycm9yO1xuXHRcdGlmIChvYmoyWycudGFnJ10pIHtcblx0XHRcdHJldHVybiBvYmoyO1xuXHRcdH0gZWxzZSBpZiAob2JqMlsncmVhc29uJ10gJiYgb2JqMlsncmVhc29uJ11bJy50YWcnXSkge1xuXHRcdFx0cmV0dXJuIG9iajIucmVhc29uO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gb2JqMjtcblx0XHR9XG5cdH0gZWxzZSBpZiAodHlwZW9mIG9iaiA9PT0gJ3N0cmluZycpIHtcblx0XHQvLyBNaWdodCBiZSBhIGZ1Y2tpbmcgSlNPTiBvYmplY3QgZXJyb3IuXG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IG9iajIgPSBKU09OLnBhcnNlKG9iaik7XG5cdFx0XHRpZiAob2JqMlsnZXJyb3InXSAmJiBvYmoyWydlcnJvciddWydyZWFzb24nXSAmJiBvYmoyWydlcnJvciddWydyZWFzb24nXVsnLnRhZyddKSB7XG5cdFx0XHRcdHJldHVybiBvYmoyLmVycm9yLnJlYXNvbjtcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHQvLyBOb3BlLiBHaXZlIHVwLlxuXHRcdH1cblx0fVxuXHRyZXR1cm4gPGFueT5vYmo7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHVzZXItZmFjaW5nIGVycm9yIG1lc3NhZ2UgZ2l2ZW4gYW4gZXJyb3IuXG4gKlxuICogSEFDSzogRHJvcGJveCBlcnJvciBtZXNzYWdlcyBzb21ldGltZXMgbGFjayBhIGB1c2VyX21lc3NhZ2VgIGZpZWxkLlxuICogU29tZXRpbWVzLCB0aGV5IGFyZSBldmVuIHN0cmluZ3MuIFVnaC5cbiAqIEB1cmwgaHR0cHM6Ly9naXRodWIuY29tL2Ryb3Bib3gvZHJvcGJveC1zZGstanMvaXNzdWVzLzE0NlxuICogQHVybCBodHRwczovL2dpdGh1Yi5jb20vZHJvcGJveC9kcm9wYm94LXNkay1qcy9pc3N1ZXMvMTQ1XG4gKiBAdXJsIGh0dHBzOi8vZ2l0aHViLmNvbS9kcm9wYm94L2Ryb3Bib3gtc2RrLWpzL2lzc3Vlcy8xNDRcbiAqIEBwYXJhbSBlcnIgQW4gZXJyb3IuXG4gKi9cbmZ1bmN0aW9uIEdldEVycm9yTWVzc2FnZShlcnI6IERyb3Bib3hUeXBlcy5FcnJvcjxhbnk+KTogc3RyaW5nIHtcblx0aWYgKGVyclsndXNlcl9tZXNzYWdlJ10pIHtcblx0XHRyZXR1cm4gZXJyLnVzZXJfbWVzc2FnZS50ZXh0O1xuXHR9IGVsc2UgaWYgKGVyclsnZXJyb3Jfc3VtbWFyeSddKSB7XG5cdFx0cmV0dXJuIGVyci5lcnJvcl9zdW1tYXJ5O1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBlcnIuZXJyb3IgPT09ICdzdHJpbmcnKSB7XG5cdFx0cmV0dXJuIGVyci5lcnJvcjtcblx0fSBlbHNlIGlmICh0eXBlb2YgZXJyLmVycm9yID09PSAnb2JqZWN0Jykge1xuXHRcdC8vIERST1BCT1ggQlVHOiBTb21ldGltZXMsIGVycm9yIGlzIGEgbmVzdGVkIGVycm9yLlxuXHRcdHJldHVybiBHZXRFcnJvck1lc3NhZ2UoZXJyLmVycm9yKTtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYERyb3Bib3gncyBzZXJ2ZXJzIGdhdmUgdXMgYSBnYXJiYWdlIGVycm9yIG1lc3NhZ2U6ICR7SlNPTi5zdHJpbmdpZnkoZXJyKX1gKTtcblx0fVxufVxuXG5mdW5jdGlvbiBMb29rdXBFcnJvclRvRXJyb3IoZXJyOiBEcm9wYm94VHlwZXMuZmlsZXMuTG9va3VwRXJyb3IsIHA6IHN0cmluZywgbXNnOiBzdHJpbmcpOiBBcGlFcnJvciB7XG5cdHN3aXRjaCAoZXJyWycudGFnJ10pIHtcblx0XHRjYXNlICdtYWxmb3JtZWRfcGF0aCc6XG5cdFx0XHRyZXR1cm4gbmV3IEFwaUVycm9yKEVycm9yQ29kZS5FQkFERiwgbXNnLCBwKTtcblx0XHRjYXNlICdub3RfZm91bmQnOlxuXHRcdFx0cmV0dXJuIEFwaUVycm9yLkVOT0VOVChwKTtcblx0XHRjYXNlICdub3RfZmlsZSc6XG5cdFx0XHRyZXR1cm4gQXBpRXJyb3IuRUlTRElSKHApO1xuXHRcdGNhc2UgJ25vdF9mb2xkZXInOlxuXHRcdFx0cmV0dXJuIEFwaUVycm9yLkVOT1RESVIocCk7XG5cdFx0Y2FzZSAncmVzdHJpY3RlZF9jb250ZW50Jzpcblx0XHRcdHJldHVybiBBcGlFcnJvci5FUEVSTShwKTtcblx0XHRjYXNlICdvdGhlcic6XG5cdFx0ZGVmYXVsdDpcblx0XHRcdHJldHVybiBuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVJTywgbXNnLCBwKTtcblx0fVxufVxuXG5mdW5jdGlvbiBXcml0ZUVycm9yVG9FcnJvcihlcnI6IERyb3Bib3hUeXBlcy5maWxlcy5Xcml0ZUVycm9yLCBwOiBzdHJpbmcsIG1zZzogc3RyaW5nKTogQXBpRXJyb3Ige1xuXHRzd2l0Y2ggKGVyclsnLnRhZyddKSB7XG5cdFx0Y2FzZSAnbWFsZm9ybWVkX3BhdGgnOlxuXHRcdGNhc2UgJ2Rpc2FsbG93ZWRfbmFtZSc6XG5cdFx0XHRyZXR1cm4gbmV3IEFwaUVycm9yKEVycm9yQ29kZS5FQkFERiwgbXNnLCBwKTtcblx0XHRjYXNlICdjb25mbGljdCc6XG5cdFx0Y2FzZSAnbm9fd3JpdGVfcGVybWlzc2lvbic6XG5cdFx0Y2FzZSAndGVhbV9mb2xkZXInOlxuXHRcdFx0cmV0dXJuIEFwaUVycm9yLkVQRVJNKHApO1xuXHRcdGNhc2UgJ2luc3VmZmljaWVudF9zcGFjZSc6XG5cdFx0XHRyZXR1cm4gbmV3IEFwaUVycm9yKEVycm9yQ29kZS5FTk9TUEMsIG1zZyk7XG5cdFx0Y2FzZSAnb3RoZXInOlxuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gbmV3IEFwaUVycm9yKEVycm9yQ29kZS5FSU8sIG1zZywgcCk7XG5cdH1cbn1cblxuZnVuY3Rpb24gRmlsZXNEZWxldGVXcmFwcGVkKGNsaWVudDogRHJvcGJveENsaWVudCwgcDogc3RyaW5nLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0Y29uc3QgYXJnOiBEcm9wYm94VHlwZXMuZmlsZXMuRGVsZXRlQXJnID0ge1xuXHRcdHBhdGg6IEZpeFBhdGgocCksXG5cdH07XG5cdGNsaWVudFxuXHRcdC5maWxlc0RlbGV0ZVYyKGFyZylcblx0XHQudGhlbigoKSA9PiB7XG5cdFx0XHRjYigpO1xuXHRcdH0pXG5cdFx0LmNhdGNoKChlOiBEcm9wYm94VHlwZXMuRXJyb3I8RHJvcGJveFR5cGVzLmZpbGVzLkRlbGV0ZUVycm9yPikgPT4ge1xuXHRcdFx0Y29uc3QgZXJyID0gRXh0cmFjdFRoZUZ1Y2tpbmdFcnJvcihlKTtcblx0XHRcdHN3aXRjaCAoZXJyWycudGFnJ10pIHtcblx0XHRcdFx0Y2FzZSAncGF0aF9sb29rdXAnOlxuXHRcdFx0XHRcdGNiKExvb2t1cEVycm9yVG9FcnJvcigoPERyb3Bib3hUeXBlcy5maWxlcy5EZWxldGVFcnJvclBhdGhMb29rdXA+ZXJyKS5wYXRoX2xvb2t1cCwgcCwgR2V0RXJyb3JNZXNzYWdlKGUpKSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJ3BhdGhfd3JpdGUnOlxuXHRcdFx0XHRcdGNiKFdyaXRlRXJyb3JUb0Vycm9yKCg8RHJvcGJveFR5cGVzLmZpbGVzLkRlbGV0ZUVycm9yUGF0aFdyaXRlPmVycikucGF0aF93cml0ZSwgcCwgR2V0RXJyb3JNZXNzYWdlKGUpKSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJ3Rvb19tYW55X3dyaXRlX29wZXJhdGlvbnMnOlxuXHRcdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4gRmlsZXNEZWxldGVXcmFwcGVkKGNsaWVudCwgcCwgY2IpLCA1MDAgKyAzMDAgKiBNYXRoLnJhbmRvbSgpKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAnb3RoZXInOlxuXHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdGNiKG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRUlPLCBHZXRFcnJvck1lc3NhZ2UoZSksIHApKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9KTtcbn1cblxuZXhwb3J0IGNsYXNzIERyb3Bib3hGaWxlIGV4dGVuZHMgUHJlbG9hZEZpbGU8RHJvcGJveEZpbGVTeXN0ZW0+IGltcGxlbWVudHMgRmlsZSB7XG5cdGNvbnN0cnVjdG9yKF9mczogRHJvcGJveEZpbGVTeXN0ZW0sIF9wYXRoOiBzdHJpbmcsIF9mbGFnOiBGaWxlRmxhZywgX3N0YXQ6IFN0YXRzLCBjb250ZW50cz86IEJ1ZmZlcikge1xuXHRcdHN1cGVyKF9mcywgX3BhdGgsIF9mbGFnLCBfc3RhdCwgY29udGVudHMpO1xuXHR9XG5cblx0cHVibGljIHN5bmMoY2I6IEJGU09uZUFyZ0NhbGxiYWNrKTogdm9pZCB7XG5cdFx0dGhpcy5fZnMuX3N5bmNGaWxlKHRoaXMuZ2V0UGF0aCgpLCB0aGlzLmdldEJ1ZmZlcigpLCBjYik7XG5cdH1cblxuXHRwdWJsaWMgY2xvc2UoY2I6IEJGU09uZUFyZ0NhbGxiYWNrKTogdm9pZCB7XG5cdFx0dGhpcy5zeW5jKGNiKTtcblx0fVxufVxuXG4vKipcbiAqIE9wdGlvbnMgZm9yIHRoZSBEcm9wYm94IGZpbGUgc3lzdGVtLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIERyb3Bib3hGaWxlU3lzdGVtT3B0aW9ucyB7XG5cdC8vIEFuICphdXRoZW50aWNhdGVkKiBEcm9wYm94IGNsaWVudCBmcm9tIHRoZSAyLnggSlMgU0RLLlxuXHRjbGllbnQ6IERyb3Bib3hUeXBlcy5Ecm9wYm94O1xufVxuXG4vKipcbiAqIEEgcmVhZC93cml0ZSBmaWxlIHN5c3RlbSBiYWNrZWQgYnkgRHJvcGJveCBjbG91ZCBzdG9yYWdlLlxuICpcbiAqIFVzZXMgdGhlIERyb3Bib3ggVjIgQVBJLCBhbmQgdGhlIDIueCBKUyBTREsuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERyb3Bib3hGaWxlU3lzdGVtIGV4dGVuZHMgQmFzZUZpbGVTeXN0ZW0gaW1wbGVtZW50cyBGaWxlU3lzdGVtIHtcblx0cHVibGljIHN0YXRpYyByZWFkb25seSBOYW1lID0gJ0Ryb3Bib3hWMic7XG5cblx0cHVibGljIHN0YXRpYyByZWFkb25seSBPcHRpb25zOiBGaWxlU3lzdGVtT3B0aW9ucyA9IHtcblx0XHRjbGllbnQ6IHtcblx0XHRcdHR5cGU6ICdvYmplY3QnLFxuXHRcdFx0ZGVzY3JpcHRpb246ICdBbiAqYXV0aGVudGljYXRlZCogRHJvcGJveCBjbGllbnQuIE11c3QgYmUgZnJvbSB0aGUgMi41LnggSlMgU0RLLicsXG5cdFx0fSxcblx0fTtcblxuXHQvKipcblx0ICogQ3JlYXRlcyBhIG5ldyBEcm9wYm94RmlsZVN5c3RlbSBpbnN0YW5jZSB3aXRoIHRoZSBnaXZlbiBvcHRpb25zLlxuXHQgKiBNdXN0IGJlIGdpdmVuIGFuICphdXRoZW50aWNhdGVkKiBEcm9wYm94IGNsaWVudCBmcm9tIDIueCBKUyBTREsuXG5cdCAqL1xuXHRwdWJsaWMgc3RhdGljIENyZWF0ZShvcHRzOiBEcm9wYm94RmlsZVN5c3RlbU9wdGlvbnMsIGNiOiBCRlNDYWxsYmFjazxEcm9wYm94RmlsZVN5c3RlbT4pOiB2b2lkIHtcblx0XHRjYihudWxsLCBuZXcgRHJvcGJveEZpbGVTeXN0ZW0ob3B0cy5jbGllbnQpKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBc3luY2hyb25vdXNseSBjcmVhdGVzIGEgbmV3IERyb3Bib3hGaWxlU3lzdGVtIGluc3RhbmNlIHdpdGggdGhlIGdpdmVuIG9wdGlvbnMuXG5cdCAqIE11c3QgYmUgZ2l2ZW4gYW4gKmF1dGhlbnRpY2F0ZWQqIERyb3Bib3ggY2xpZW50IGZyb20gMi54IEpTIFNESy5cblx0ICovXG5cdHB1YmxpYyBzdGF0aWMgQ3JlYXRlQXN5bmMob3B0czogRHJvcGJveEZpbGVTeXN0ZW1PcHRpb25zKTogUHJvbWlzZTxEcm9wYm94RmlsZVN5c3RlbT4ge1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHR0aGlzLkNyZWF0ZShvcHRzLCAoZXJyb3IsIGZzKSA9PiB7XG5cdFx0XHRcdGlmIChlcnJvciB8fCAhZnMpIHtcblx0XHRcdFx0XHRyZWplY3QoZXJyb3IpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJlc29sdmUoZnMpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXG5cdHB1YmxpYyBzdGF0aWMgaXNBdmFpbGFibGUoKTogYm9vbGVhbiB7XG5cdFx0Ly8gQ2hlY2tzIGlmIHRoZSBEcm9wYm94IGxpYnJhcnkgaXMgbG9hZGVkLlxuXHRcdHJldHVybiB0eXBlb2YgRHJvcGJveCAhPT0gJ3VuZGVmaW5lZCc7XG5cdH1cblxuXHRwcml2YXRlIF9jbGllbnQ6IERyb3Bib3hUeXBlcy5Ecm9wYm94O1xuXG5cdHByaXZhdGUgY29uc3RydWN0b3IoY2xpZW50OiBEcm9wYm94VHlwZXMuRHJvcGJveCkge1xuXHRcdHN1cGVyKCk7XG5cdFx0dGhpcy5fY2xpZW50ID0gY2xpZW50O1xuXHR9XG5cblx0cHVibGljIGdldE5hbWUoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gRHJvcGJveEZpbGVTeXN0ZW0uTmFtZTtcblx0fVxuXG5cdHB1YmxpYyBpc1JlYWRPbmx5KCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdC8vIERyb3Bib3ggZG9lc24ndCBzdXBwb3J0IHN5bWxpbmtzLCBwcm9wZXJ0aWVzLCBvciBzeW5jaHJvbm91cyBjYWxsc1xuXHQvLyBUT0RPOiBkb2VzIGl0Pz8/XG5cblx0cHVibGljIHN1cHBvcnRzU3ltbGlua3MoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0cHVibGljIHN1cHBvcnRzUHJvcHMoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0cHVibGljIHN1cHBvcnRzU3luY2goKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0LyoqXG5cdCAqIERlbGV0ZXMgKmV2ZXJ5dGhpbmcqIGluIHRoZSBmaWxlIHN5c3RlbS4gTWFpbmx5IGludGVuZGVkIGZvciB1bml0IHRlc3RpbmchXG5cdCAqIEBwYXJhbSBtYWluQ2IgQ2FsbGVkIHdoZW4gb3BlcmF0aW9uIGNvbXBsZXRlcy5cblx0ICovXG5cdHB1YmxpYyBlbXB0eShtYWluQ2I6IEJGU09uZUFyZ0NhbGxiYWNrKTogdm9pZCB7XG5cdFx0dGhpcy5yZWFkZGlyKCcvJywgQ3JlZC5Sb290LCAoZSwgcGF0aHM/KSA9PiB7XG5cdFx0XHRpZiAocGF0aHMpIHtcblx0XHRcdFx0Y29uc3QgbmV4dCA9IChlPzogQXBpRXJyb3IpID0+IHtcblx0XHRcdFx0XHRpZiAocGF0aHMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdFx0XHRtYWluQ2IoKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0RmlsZXNEZWxldGVXcmFwcGVkKHRoaXMuX2NsaWVudCwgPHN0cmluZz5wYXRocy5zaGlmdCgpLCBuZXh0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cdFx0XHRcdG5leHQoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG1haW5DYihlKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdHB1YmxpYyByZW5hbWUob2xkUGF0aDogc3RyaW5nLCBuZXdQYXRoOiBzdHJpbmcsIGNyZWQ6IENyZWQsIGNiOiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQge1xuXHRcdC8vIERyb3Bib3ggZG9lc24ndCBsZXQgeW91IHJlbmFtZSB0aGluZ3Mgb3ZlciBleGlzdGluZyB0aGluZ3MsIGJ1dCBQT1NJWCBkb2VzLlxuXHRcdC8vIFNvLCB3ZSBuZWVkIHRvIHNlZSBpZiBuZXdQYXRoIGV4aXN0cy4uLlxuXHRcdHRoaXMuc3RhdChuZXdQYXRoLCBmYWxzZSwgY3JlZCwgKGUsIHN0YXRzPykgPT4ge1xuXHRcdFx0Y29uc3QgcmVuYW1lID0gKCkgPT4ge1xuXHRcdFx0XHRjb25zdCByZWxvY2F0aW9uQXJnOiBEcm9wYm94VHlwZXMuZmlsZXMuUmVsb2NhdGlvbkFyZyA9IHtcblx0XHRcdFx0XHRmcm9tX3BhdGg6IEZpeFBhdGgob2xkUGF0aCksXG5cdFx0XHRcdFx0dG9fcGF0aDogRml4UGF0aChuZXdQYXRoKSxcblx0XHRcdFx0fTtcblx0XHRcdFx0dGhpcy5fY2xpZW50XG5cdFx0XHRcdFx0LmZpbGVzTW92ZVYyKHJlbG9jYXRpb25BcmcpXG5cdFx0XHRcdFx0LnRoZW4oKCkgPT4gY2IoKSlcblx0XHRcdFx0XHQuY2F0Y2goZnVuY3Rpb24gKGU6IERyb3Bib3hUeXBlcy5FcnJvcjxEcm9wYm94VHlwZXMuZmlsZXMuUmVsb2NhdGlvbkVycm9yPikge1xuXHRcdFx0XHRcdFx0Y29uc3QgZXJyID0gRXh0cmFjdFRoZUZ1Y2tpbmdFcnJvcihlKTtcblx0XHRcdFx0XHRcdHN3aXRjaCAoZXJyWycudGFnJ10pIHtcblx0XHRcdFx0XHRcdFx0Y2FzZSAnZnJvbV9sb29rdXAnOlxuXHRcdFx0XHRcdFx0XHRcdGNiKExvb2t1cEVycm9yVG9FcnJvcigoPERyb3Bib3hUeXBlcy5maWxlcy5SZWxvY2F0aW9uRXJyb3JGcm9tTG9va3VwPmVycikuZnJvbV9sb29rdXAsIG9sZFBhdGgsIEdldEVycm9yTWVzc2FnZShlKSkpO1xuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRjYXNlICdmcm9tX3dyaXRlJzpcblx0XHRcdFx0XHRcdFx0XHRjYihXcml0ZUVycm9yVG9FcnJvcigoPERyb3Bib3hUeXBlcy5maWxlcy5SZWxvY2F0aW9uRXJyb3JGcm9tV3JpdGU+ZXJyKS5mcm9tX3dyaXRlLCBvbGRQYXRoLCBHZXRFcnJvck1lc3NhZ2UoZSkpKTtcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0Y2FzZSAndG8nOlxuXHRcdFx0XHRcdFx0XHRcdGNiKFdyaXRlRXJyb3JUb0Vycm9yKCg8RHJvcGJveFR5cGVzLmZpbGVzLlJlbG9jYXRpb25FcnJvclRvPmVycikudG8sIG5ld1BhdGgsIEdldEVycm9yTWVzc2FnZShlKSkpO1xuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRjYXNlICdjYW50X2NvcHlfc2hhcmVkX2ZvbGRlcic6XG5cdFx0XHRcdFx0XHRcdGNhc2UgJ2NhbnRfbmVzdF9zaGFyZWRfZm9sZGVyJzpcblx0XHRcdFx0XHRcdFx0XHRjYihuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVQRVJNLCBHZXRFcnJvck1lc3NhZ2UoZSksIG9sZFBhdGgpKTtcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0Y2FzZSAnY2FudF9tb3ZlX2ZvbGRlcl9pbnRvX2l0c2VsZic6XG5cdFx0XHRcdFx0XHRcdGNhc2UgJ2R1cGxpY2F0ZWRfb3JfbmVzdGVkX3BhdGhzJzpcblx0XHRcdFx0XHRcdFx0XHRjYihuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVCQURGLCBHZXRFcnJvck1lc3NhZ2UoZSksIG9sZFBhdGgpKTtcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0Y2FzZSAndG9vX21hbnlfZmlsZXMnOlxuXHRcdFx0XHRcdFx0XHRcdGNiKG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRU5PU1BDLCBHZXRFcnJvck1lc3NhZ2UoZSksIG9sZFBhdGgpKTtcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0Y2FzZSAnb3RoZXInOlxuXHRcdFx0XHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdFx0XHRcdGNiKG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRUlPLCBHZXRFcnJvck1lc3NhZ2UoZSksIG9sZFBhdGgpKTtcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdH07XG5cdFx0XHRpZiAoZSkge1xuXHRcdFx0XHQvLyBEb2Vzbid0IGV4aXN0LiBQcm9jZWVkIVxuXHRcdFx0XHRyZW5hbWUoKTtcblx0XHRcdH0gZWxzZSBpZiAob2xkUGF0aCA9PT0gbmV3UGF0aCkge1xuXHRcdFx0XHQvLyBOT1AgaWYgdGhlIHBhdGggZXhpc3RzLiBFcnJvciBpZiBpdCBkb2Vzbid0IGV4aXN0LlxuXHRcdFx0XHRpZiAoZSkge1xuXHRcdFx0XHRcdGNiKEFwaUVycm9yLkVOT0VOVChuZXdQYXRoKSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y2IoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChzdGF0cyAmJiBzdGF0cy5pc0RpcmVjdG9yeSgpKSB7XG5cdFx0XHRcdC8vIEV4aXN0cywgaXMgYSBkaXJlY3RvcnkuIENhbm5vdCByZW5hbWUgb3ZlciBhbiBleGlzdGluZyBkaXJlY3RvcnkuXG5cdFx0XHRcdGNiKEFwaUVycm9yLkVJU0RJUihuZXdQYXRoKSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBFeGlzdHMsIGlzIGEgZmlsZSwgYW5kIGRpZmZlcnMgZnJvbSBvbGRQYXRoLiBEZWxldGUgYW5kIHJlbmFtZS5cblx0XHRcdFx0dGhpcy51bmxpbmsobmV3UGF0aCwgY3JlZCwgZSA9PiB7XG5cdFx0XHRcdFx0aWYgKGUpIHtcblx0XHRcdFx0XHRcdGNiKGUpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRyZW5hbWUoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0cHVibGljIHN0YXQocGF0aDogc3RyaW5nLCBpc0xzdGF0OiBib29sZWFuLCBjcmVkOiBDcmVkLCBjYjogQkZTQ2FsbGJhY2s8U3RhdHM+KTogdm9pZCB7XG5cdFx0aWYgKHBhdGggPT09ICcvJykge1xuXHRcdFx0Ly8gRHJvcGJveCBkb2Vzbid0IHN1cHBvcnQgcXVlcnlpbmcgdGhlIHJvb3QgZGlyZWN0b3J5LlxuXHRcdFx0c2V0SW1tZWRpYXRlKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0Y2IobnVsbCwgbmV3IFN0YXRzKEZpbGVUeXBlLkRJUkVDVE9SWSwgNDA5NikpO1xuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGNvbnN0IGFyZzogRHJvcGJveFR5cGVzLmZpbGVzLkdldE1ldGFkYXRhQXJnID0ge1xuXHRcdFx0cGF0aDogRml4UGF0aChwYXRoKSxcblx0XHR9O1xuXHRcdHRoaXMuX2NsaWVudFxuXHRcdFx0LmZpbGVzR2V0TWV0YWRhdGEoYXJnKVxuXHRcdFx0LnRoZW4ocmVmID0+IHtcblx0XHRcdFx0c3dpdGNoIChyZWZbJy50YWcnXSkge1xuXHRcdFx0XHRcdGNhc2UgJ2ZpbGUnOlxuXHRcdFx0XHRcdFx0Y29uc3QgZmlsZU1ldGFkYXRhID0gPERyb3Bib3hUeXBlcy5maWxlcy5GaWxlTWV0YWRhdGE+cmVmO1xuXHRcdFx0XHRcdFx0Ly8gVE9ETzogUGFyc2UgdGltZSBmaWVsZHMuXG5cdFx0XHRcdFx0XHRjYihudWxsLCBuZXcgU3RhdHMoRmlsZVR5cGUuRklMRSwgZmlsZU1ldGFkYXRhLnNpemUpKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2ZvbGRlcic6XG5cdFx0XHRcdFx0XHRjYihudWxsLCBuZXcgU3RhdHMoRmlsZVR5cGUuRElSRUNUT1JZLCA0MDk2KSk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlICdkZWxldGVkJzpcblx0XHRcdFx0XHRcdGNiKEFwaUVycm9yLkVOT0VOVChwYXRoKSk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdFx0Ly8gVW5rbm93bi5cblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXHRcdFx0LmNhdGNoKChlOiBEcm9wYm94VHlwZXMuRXJyb3I8RHJvcGJveFR5cGVzLmZpbGVzLkdldE1ldGFkYXRhRXJyb3I+KSA9PiB7XG5cdFx0XHRcdGNvbnN0IGVyciA9IEV4dHJhY3RUaGVGdWNraW5nRXJyb3IoZSk7XG5cdFx0XHRcdHN3aXRjaCAoZXJyWycudGFnJ10pIHtcblx0XHRcdFx0XHRjYXNlICdwYXRoJzpcblx0XHRcdFx0XHRcdGNiKExvb2t1cEVycm9yVG9FcnJvcihlcnIucGF0aCwgcGF0aCwgR2V0RXJyb3JNZXNzYWdlKGUpKSk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdFx0Y2IobmV3IEFwaUVycm9yKEVycm9yQ29kZS5FSU8sIEdldEVycm9yTWVzc2FnZShlKSwgcGF0aCkpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHR9XG5cblx0cHVibGljIG9wZW5GaWxlKHBhdGg6IHN0cmluZywgZmxhZ3M6IEZpbGVGbGFnLCBjcmVkOiBDcmVkLCBjYjogQkZTQ2FsbGJhY2s8RmlsZT4pOiB2b2lkIHtcblx0XHRjb25zdCBkb3dubG9hZEFyZzogRHJvcGJveFR5cGVzLmZpbGVzLkRvd25sb2FkQXJnID0ge1xuXHRcdFx0cGF0aDogRml4UGF0aChwYXRoKSxcblx0XHR9O1xuXHRcdHRoaXMuX2NsaWVudFxuXHRcdFx0LmZpbGVzRG93bmxvYWQoZG93bmxvYWRBcmcpXG5cdFx0XHQudGhlbihyZXMgPT4ge1xuXHRcdFx0XHRjb25zdCBiOiBCbG9iID0gKDxhbnk+cmVzKS5maWxlQmxvYjtcblx0XHRcdFx0Y29uc3QgZnIgPSBuZXcgRmlsZVJlYWRlcigpO1xuXHRcdFx0XHRmci5vbmxvYWQgPSAoKSA9PiB7XG5cdFx0XHRcdFx0Y29uc3QgYWIgPSBmci5yZXN1bHQgYXMgQXJyYXlCdWZmZXI7XG5cdFx0XHRcdFx0Y2IobnVsbCwgbmV3IERyb3Bib3hGaWxlKHRoaXMsIHBhdGgsIGZsYWdzLCBuZXcgU3RhdHMoRmlsZVR5cGUuRklMRSwgYWIuYnl0ZUxlbmd0aCksIGFycmF5QnVmZmVyMkJ1ZmZlcihhYikpKTtcblx0XHRcdFx0fTtcblx0XHRcdFx0ZnIucmVhZEFzQXJyYXlCdWZmZXIoYik7XG5cdFx0XHR9KVxuXHRcdFx0LmNhdGNoKChlOiBEcm9wYm94VHlwZXMuRXJyb3I8RHJvcGJveFR5cGVzLmZpbGVzLkRvd25sb2FkRXJyb3I+KSA9PiB7XG5cdFx0XHRcdGNvbnN0IGVyciA9IEV4dHJhY3RUaGVGdWNraW5nRXJyb3IoZSk7XG5cdFx0XHRcdHN3aXRjaCAoZXJyWycudGFnJ10pIHtcblx0XHRcdFx0XHRjYXNlICdwYXRoJzpcblx0XHRcdFx0XHRcdGNvbnN0IGRwRXJyb3IgPSA8RHJvcGJveFR5cGVzLmZpbGVzLkRvd25sb2FkRXJyb3JQYXRoPmVycjtcblx0XHRcdFx0XHRcdGNiKExvb2t1cEVycm9yVG9FcnJvcihkcEVycm9yLnBhdGgsIHBhdGgsIEdldEVycm9yTWVzc2FnZShlKSkpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnb3RoZXInOlxuXHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHRjYihuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVJTywgR2V0RXJyb3JNZXNzYWdlKGUpLCBwYXRoKSk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdH1cblxuXHRwdWJsaWMgY3JlYXRlRmlsZShwOiBzdHJpbmcsIGZsYWdzOiBGaWxlRmxhZywgbW9kZTogbnVtYmVyLCBjcmVkOiBDcmVkLCBjYjogQkZTQ2FsbGJhY2s8RmlsZT4pOiB2b2lkIHtcblx0XHRjb25zdCBmaWxlRGF0YSA9IEJ1ZmZlci5hbGxvYygwKTtcblx0XHRjb25zdCBibG9iID0gbmV3IEJsb2IoW2J1ZmZlcjJBcnJheUJ1ZmZlcihmaWxlRGF0YSkgYXMgQXJyYXlCdWZmZXJdLCB7IHR5cGU6ICdvY3RldC9zdHJlYW0nIH0pO1xuXHRcdGNvbnN0IGNvbW1pdEluZm86IERyb3Bib3hUeXBlcy5maWxlcy5Db21taXRJbmZvID0ge1xuXHRcdFx0Y29udGVudHM6IGJsb2IsXG5cdFx0XHRwYXRoOiBGaXhQYXRoKHApLFxuXHRcdH07XG5cdFx0dGhpcy5fY2xpZW50XG5cdFx0XHQuZmlsZXNVcGxvYWQoY29tbWl0SW5mbylcblx0XHRcdC50aGVuKG1ldGFkYXRhID0+IHtcblx0XHRcdFx0Y2IobnVsbCwgbmV3IERyb3Bib3hGaWxlKHRoaXMsIHAsIGZsYWdzLCBuZXcgU3RhdHMoRmlsZVR5cGUuRklMRSwgMCksIGZpbGVEYXRhKSk7XG5cdFx0XHR9KVxuXHRcdFx0LmNhdGNoKChlOiBEcm9wYm94VHlwZXMuRXJyb3I8RHJvcGJveFR5cGVzLmZpbGVzLlVwbG9hZEVycm9yPikgPT4ge1xuXHRcdFx0XHRjb25zdCBlcnIgPSBFeHRyYWN0VGhlRnVja2luZ0Vycm9yKGUpO1xuXHRcdFx0XHQvLyBIQUNLOiBDYXN0aW5nIHRvICdhbnknIHNpbmNlIHRhZyBjYW4gYmUgJ3Rvb19tYW55X3dyaXRlX29wZXJhdGlvbnMnLlxuXHRcdFx0XHRzd2l0Y2ggKDxzdHJpbmc+ZXJyWycudGFnJ10pIHtcblx0XHRcdFx0XHRjYXNlICdwYXRoJzpcblx0XHRcdFx0XHRcdGNvbnN0IHVwRXJyb3IgPSA8RHJvcGJveFR5cGVzLmZpbGVzLlVwbG9hZEVycm9yUGF0aD5lcnI7XG5cdFx0XHRcdFx0XHRjYihXcml0ZUVycm9yVG9FcnJvcigodXBFcnJvciBhcyBhbnkpLnBhdGgucmVhc29uLCBwLCBHZXRFcnJvck1lc3NhZ2UoZSkpKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3Rvb19tYW55X3dyaXRlX29wZXJhdGlvbnMnOlxuXHRcdFx0XHRcdFx0Ly8gUmV0cnkgaW4gKDUwMCwgODAwKSBtcy5cblx0XHRcdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4gdGhpcy5jcmVhdGVGaWxlKHAsIGZsYWdzLCBtb2RlLCBjcmVkLCBjYiksIDUwMCArIDMwMCAqIE1hdGgucmFuZG9tKCkpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnb3RoZXInOlxuXHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHRjYihuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVJTywgR2V0RXJyb3JNZXNzYWdlKGUpLCBwKSk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogRGVsZXRlIGEgZmlsZVxuXHQgKi9cblx0cHVibGljIHVubGluayhwYXRoOiBzdHJpbmcsIGNyZWQ6IENyZWQsIGNiOiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQge1xuXHRcdC8vIE11c3QgYmUgYSBmaWxlLiBDaGVjayBmaXJzdC5cblx0XHR0aGlzLnN0YXQocGF0aCwgZmFsc2UsIGNyZWQsIChlLCBzdGF0KSA9PiB7XG5cdFx0XHRpZiAoc3RhdCkge1xuXHRcdFx0XHRpZiAoc3RhdC5pc0RpcmVjdG9yeSgpKSB7XG5cdFx0XHRcdFx0Y2IoQXBpRXJyb3IuRUlTRElSKHBhdGgpKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRGaWxlc0RlbGV0ZVdyYXBwZWQodGhpcy5fY2xpZW50LCBwYXRoLCBjYik7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNiKGUpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIERlbGV0ZSBhIGRpcmVjdG9yeVxuXHQgKi9cblx0cHVibGljIHJtZGlyKHBhdGg6IHN0cmluZywgY3JlZDogQ3JlZCwgY2I6IEJGU09uZUFyZ0NhbGxiYWNrKTogdm9pZCB7XG5cdFx0dGhpcy5yZWFkZGlyKHBhdGgsIGNyZWQsIChlLCBwYXRocykgPT4ge1xuXHRcdFx0aWYgKHBhdGhzKSB7XG5cdFx0XHRcdGlmIChwYXRocy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0Y2IoQXBpRXJyb3IuRU5PVEVNUFRZKHBhdGgpKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRGaWxlc0RlbGV0ZVdyYXBwZWQodGhpcy5fY2xpZW50LCBwYXRoLCBjYik7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNiKGUpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZSBhIGRpcmVjdG9yeVxuXHQgKi9cblx0cHVibGljIG1rZGlyKHA6IHN0cmluZywgbW9kZTogbnVtYmVyLCBjcmVkOiBDcmVkLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0XHQvLyBEcm9wYm94J3MgY3JlYXRlX2ZvbGRlciBpcyByZWN1cnNpdmUuIENoZWNrIGlmIHBhcmVudCBleGlzdHMuXG5cdFx0Y29uc3QgcGFyZW50ID0gZGlybmFtZShwKTtcblx0XHR0aGlzLnN0YXQocGFyZW50LCBmYWxzZSwgY3JlZCwgKGUsIHN0YXRzPykgPT4ge1xuXHRcdFx0aWYgKGUpIHtcblx0XHRcdFx0Y2IoZSk7XG5cdFx0XHR9IGVsc2UgaWYgKHN0YXRzICYmICFzdGF0cy5pc0RpcmVjdG9yeSgpKSB7XG5cdFx0XHRcdGNiKEFwaUVycm9yLkVOT1RESVIocGFyZW50KSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zdCBhcmc6IERyb3Bib3hUeXBlcy5maWxlcy5DcmVhdGVGb2xkZXJBcmcgPSB7XG5cdFx0XHRcdFx0cGF0aDogRml4UGF0aChwKSxcblx0XHRcdFx0fTtcblx0XHRcdFx0dGhpcy5fY2xpZW50XG5cdFx0XHRcdFx0LmZpbGVzQ3JlYXRlRm9sZGVyVjIoYXJnKVxuXHRcdFx0XHRcdC50aGVuKCgpID0+IGNiKCkpXG5cdFx0XHRcdFx0LmNhdGNoKChlOiBEcm9wYm94VHlwZXMuRXJyb3I8RHJvcGJveFR5cGVzLmZpbGVzLkNyZWF0ZUZvbGRlckVycm9yPikgPT4ge1xuXHRcdFx0XHRcdFx0Y29uc3QgZXJyID0gRXh0cmFjdFRoZUZ1Y2tpbmdFcnJvcihlKTtcblx0XHRcdFx0XHRcdGlmICg8c3RyaW5nPmVyclsnLnRhZyddID09PSAndG9vX21hbnlfd3JpdGVfb3BlcmF0aW9ucycpIHtcblx0XHRcdFx0XHRcdFx0Ly8gUmV0cnkgaW4gYSBiaXQuXG5cdFx0XHRcdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4gdGhpcy5ta2RpcihwLCBtb2RlLCBjcmVkLCBjYiksIDUwMCArIDMwMCAqIE1hdGgucmFuZG9tKCkpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0Y2IoV3JpdGVFcnJvclRvRXJyb3IoRXh0cmFjdFRoZUZ1Y2tpbmdFcnJvcihlKS5wYXRoLCBwLCBHZXRFcnJvck1lc3NhZ2UoZSkpKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXQgdGhlIG5hbWVzIG9mIHRoZSBmaWxlcyBpbiBhIGRpcmVjdG9yeVxuXHQgKi9cblx0cHVibGljIHJlYWRkaXIocGF0aDogc3RyaW5nLCBjcmVkOiBDcmVkLCBjYjogQkZTQ2FsbGJhY2s8c3RyaW5nW10+KTogdm9pZCB7XG5cdFx0Y29uc3QgYXJnOiBEcm9wYm94VHlwZXMuZmlsZXMuTGlzdEZvbGRlckFyZyA9IHtcblx0XHRcdHBhdGg6IEZpeFBhdGgocGF0aCksXG5cdFx0fTtcblx0XHR0aGlzLl9jbGllbnRcblx0XHRcdC5maWxlc0xpc3RGb2xkZXIoYXJnKVxuXHRcdFx0LnRoZW4ocmVzID0+IHtcblx0XHRcdFx0Q29udGludWVSZWFkaW5nRGlyKHRoaXMuX2NsaWVudCwgcGF0aCwgcmVzLCBbXSwgY2IpO1xuXHRcdFx0fSlcblx0XHRcdC5jYXRjaCgoZTogRHJvcGJveFR5cGVzLkVycm9yPERyb3Bib3hUeXBlcy5maWxlcy5MaXN0Rm9sZGVyRXJyb3I+KSA9PiB7XG5cdFx0XHRcdFByb2Nlc3NMaXN0Rm9sZGVyRXJyb3IoZSwgcGF0aCwgY2IpO1xuXHRcdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogKEludGVybmFsKSBTeW5jcyBmaWxlIHRvIERyb3Bib3guXG5cdCAqL1xuXHRwdWJsaWMgX3N5bmNGaWxlKHA6IHN0cmluZywgZDogQnVmZmVyLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0XHRjb25zdCBibG9iID0gbmV3IEJsb2IoW2J1ZmZlcjJBcnJheUJ1ZmZlcihkKSBhcyBBcnJheUJ1ZmZlcl0sIHsgdHlwZTogJ29jdGV0L3N0cmVhbScgfSk7XG5cdFx0Y29uc3QgYXJnOiBEcm9wYm94VHlwZXMuZmlsZXMuQ29tbWl0SW5mbyA9IHtcblx0XHRcdGNvbnRlbnRzOiBibG9iLFxuXHRcdFx0cGF0aDogRml4UGF0aChwKSxcblx0XHRcdG1vZGU6IHtcblx0XHRcdFx0Jy50YWcnOiAnb3ZlcndyaXRlJyxcblx0XHRcdH0sXG5cdFx0fTtcblx0XHR0aGlzLl9jbGllbnRcblx0XHRcdC5maWxlc1VwbG9hZChhcmcpXG5cdFx0XHQudGhlbigoKSA9PiB7XG5cdFx0XHRcdGNiKCk7XG5cdFx0XHR9KVxuXHRcdFx0LmNhdGNoKChlOiBEcm9wYm94VHlwZXMuRXJyb3I8RHJvcGJveFR5cGVzLmZpbGVzLlVwbG9hZEVycm9yPikgPT4ge1xuXHRcdFx0XHRjb25zdCBlcnIgPSBFeHRyYWN0VGhlRnVja2luZ0Vycm9yKGUpO1xuXHRcdFx0XHRzd2l0Y2ggKDxzdHJpbmc+ZXJyWycudGFnJ10pIHtcblx0XHRcdFx0XHRjYXNlICdwYXRoJzpcblx0XHRcdFx0XHRcdGNvbnN0IHVwRXJyb3IgPSA8RHJvcGJveFR5cGVzLmZpbGVzLlVwbG9hZEVycm9yUGF0aD5lcnI7XG5cdFx0XHRcdFx0XHRjYihXcml0ZUVycm9yVG9FcnJvcigodXBFcnJvciBhcyBhbnkpLnBhdGgucmVhc29uLCBwLCBHZXRFcnJvck1lc3NhZ2UoZSkpKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3Rvb19tYW55X3dyaXRlX29wZXJhdGlvbnMnOlxuXHRcdFx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB0aGlzLl9zeW5jRmlsZShwLCBkLCBjYiksIDUwMCArIDMwMCAqIE1hdGgucmFuZG9tKCkpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnb3RoZXInOlxuXHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHRjYihuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVJTywgR2V0RXJyb3JNZXNzYWdlKGUpLCBwKSk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gUHJvY2Vzc0xpc3RGb2xkZXJFcnJvcihlOiBEcm9wYm94VHlwZXMuRXJyb3I8RHJvcGJveFR5cGVzLmZpbGVzLkxpc3RGb2xkZXJFcnJvcj4sIHBhdGg6IHN0cmluZywgY2I6IEJGU0NhbGxiYWNrPHN0cmluZ1tdPik6IHZvaWQge1xuXHRjb25zdCBlcnIgPSBFeHRyYWN0VGhlRnVja2luZ0Vycm9yKGUpO1xuXHRzd2l0Y2ggKGVyclsnLnRhZyddKSB7XG5cdFx0Y2FzZSAncGF0aCc6XG5cdFx0XHRjb25zdCBwYXRoRXJyb3IgPSA8RHJvcGJveFR5cGVzLmZpbGVzLkxpc3RGb2xkZXJFcnJvclBhdGg+ZXJyO1xuXHRcdFx0Y2IoTG9va3VwRXJyb3JUb0Vycm9yKHBhdGhFcnJvci5wYXRoLCBwYXRoLCBHZXRFcnJvck1lc3NhZ2UoZSkpKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgJ290aGVyJzpcblx0XHRkZWZhdWx0OlxuXHRcdFx0Y2IobmV3IEFwaUVycm9yKEVycm9yQ29kZS5FSU8sIEdldEVycm9yTWVzc2FnZShlKSwgcGF0aCkpO1xuXHRcdFx0YnJlYWs7XG5cdH1cbn1cblxuZnVuY3Rpb24gQ29udGludWVSZWFkaW5nRGlyKGNsaWVudDogRHJvcGJveENsaWVudCwgcGF0aDogc3RyaW5nLCByZXM6IERyb3Bib3hUeXBlcy5maWxlcy5MaXN0Rm9sZGVyUmVzdWx0LCBwcmV2aW91c0VudHJpZXM6IHN0cmluZ1tdLCBjYjogQkZTQ2FsbGJhY2s8c3RyaW5nW10+KTogdm9pZCB7XG5cdGNvbnN0IG5ld0VudHJpZXMgPSA8c3RyaW5nW10+cmVzLmVudHJpZXMubWFwKGUgPT4gZS5wYXRoX2Rpc3BsYXkpLmZpbHRlcihwID0+ICEhcCk7XG5cdGNvbnN0IGVudHJpZXMgPSBwcmV2aW91c0VudHJpZXMuY29uY2F0KG5ld0VudHJpZXMpO1xuXHRpZiAoIXJlcy5oYXNfbW9yZSkge1xuXHRcdGNiKG51bGwsIGVudHJpZXMpO1xuXHR9IGVsc2Uge1xuXHRcdGNvbnN0IGFyZzogRHJvcGJveFR5cGVzLmZpbGVzLkxpc3RGb2xkZXJDb250aW51ZUFyZyA9IHtcblx0XHRcdGN1cnNvcjogcmVzLmN1cnNvcixcblx0XHR9O1xuXHRcdGNsaWVudFxuXHRcdFx0LmZpbGVzTGlzdEZvbGRlckNvbnRpbnVlKGFyZylcblx0XHRcdC50aGVuKHJlcyA9PiB7XG5cdFx0XHRcdENvbnRpbnVlUmVhZGluZ0RpcihjbGllbnQsIHBhdGgsIHJlcywgZW50cmllcywgY2IpO1xuXHRcdFx0fSlcblx0XHRcdC5jYXRjaCgoZTogRHJvcGJveFR5cGVzLkVycm9yPERyb3Bib3hUeXBlcy5maWxlcy5MaXN0Rm9sZGVyRXJyb3I+KSA9PiB7XG5cdFx0XHRcdFByb2Nlc3NMaXN0Rm9sZGVyRXJyb3IoZSwgcGF0aCwgY2IpO1xuXHRcdFx0fSk7XG5cdH1cbn1cbiIsICJpbXBvcnQgeyBTeW5jaHJvbm91c0ZpbGVTeXN0ZW0sIEJGU09uZUFyZ0NhbGxiYWNrLCBCRlNDYWxsYmFjaywgQkZTVGhyZWVBcmdDYWxsYmFjaywgRmlsZVN5c3RlbU9wdGlvbnMgfSBmcm9tICcuLi9jb3JlL2ZpbGVfc3lzdGVtJztcbmltcG9ydCB7IGRlZmF1bHQgYXMgU3RhdHMsIEZpbGVUeXBlIH0gZnJvbSAnLi4vY29yZS9zdGF0cyc7XG5pbXBvcnQgeyBGaWxlRmxhZyB9IGZyb20gJy4uL2NvcmUvZmlsZV9mbGFnJztcbmltcG9ydCB7IEJhc2VGaWxlLCBGaWxlIH0gZnJvbSAnLi4vY29yZS9maWxlJztcbmltcG9ydCB7IHVpbnQ4QXJyYXkyQnVmZmVyLCBidWZmZXIyVWludDhhcnJheSB9IGZyb20gJy4uL2NvcmUvdXRpbCc7XG5pbXBvcnQgeyBBcGlFcnJvciwgRXJyb3JDb2RlLCBFcnJvclN0cmluZ3MgfSBmcm9tICcuLi9jb3JlL2FwaV9lcnJvcic7XG5pbXBvcnQgeyBFbXNjcmlwdGVuRlNOb2RlIH0gZnJvbSAnLi4vZ2VuZXJpYy9lbXNjcmlwdGVuX2ZzJztcbmltcG9ydCBDcmVkIGZyb20gJy4uL2NvcmUvY3JlZCc7XG5pbXBvcnQgeyBCdWZmZXIgfSBmcm9tICdidWZmZXInO1xuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmludGVyZmFjZSBFbXNjcmlwdGVuRXJyb3Ige1xuXHRub2RlOiBFbXNjcmlwdGVuRlNOb2RlO1xuXHRlcnJubzogbnVtYmVyO1xufVxuXG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuZnVuY3Rpb24gY29udmVydEVycm9yKGU6IEVtc2NyaXB0ZW5FcnJvciwgcGF0aDogc3RyaW5nID0gJycpOiBBcGlFcnJvciB7XG5cdGNvbnN0IGVycm5vID0gZS5lcnJubztcblx0bGV0IHBhcmVudCA9IGUubm9kZTtcblx0Y29uc3QgcGF0aHM6IHN0cmluZ1tdID0gW107XG5cdHdoaWxlIChwYXJlbnQpIHtcblx0XHRwYXRocy51bnNoaWZ0KHBhcmVudC5uYW1lKTtcblx0XHRpZiAocGFyZW50ID09PSBwYXJlbnQucGFyZW50KSB7XG5cdFx0XHRicmVhaztcblx0XHR9XG5cdFx0cGFyZW50ID0gcGFyZW50LnBhcmVudDtcblx0fVxuXHRyZXR1cm4gbmV3IEFwaUVycm9yKGVycm5vLCBFcnJvclN0cmluZ3NbZXJybm9dLCBwYXRocy5sZW5ndGggPiAwID8gJy8nICsgcGF0aHMuam9pbignLycpIDogcGF0aCk7XG59XG5cbmV4cG9ydCBjbGFzcyBFbXNjcmlwdGVuRmlsZSBleHRlbmRzIEJhc2VGaWxlIGltcGxlbWVudHMgRmlsZSB7XG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgX2ZzOiBFbXNjcmlwdGVuRmlsZVN5c3RlbSwgcHJpdmF0ZSBfRlM6IGFueSwgcHJpdmF0ZSBfcGF0aDogc3RyaW5nLCBwcml2YXRlIF9zdHJlYW06IGFueSkge1xuXHRcdHN1cGVyKCk7XG5cdH1cblx0cHVibGljIGdldFBvcygpOiBudW1iZXIgfCB1bmRlZmluZWQge1xuXHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdH1cblx0cHVibGljIGNsb3NlKGNiOiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQge1xuXHRcdGxldCBlcnI6IEFwaUVycm9yIHwgbnVsbCA9IG51bGw7XG5cdFx0dHJ5IHtcblx0XHRcdHRoaXMuY2xvc2VTeW5jKCk7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0ZXJyID0gZTtcblx0XHR9IGZpbmFsbHkge1xuXHRcdFx0Y2IoZXJyKTtcblx0XHR9XG5cdH1cblx0cHVibGljIGNsb3NlU3luYygpOiB2b2lkIHtcblx0XHR0cnkge1xuXHRcdFx0dGhpcy5fRlMuY2xvc2UodGhpcy5fc3RyZWFtKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHR0aHJvdyBjb252ZXJ0RXJyb3IoZSwgdGhpcy5fcGF0aCk7XG5cdFx0fVxuXHR9XG5cdHB1YmxpYyBzdGF0KGNiOiBCRlNDYWxsYmFjazxTdGF0cz4pOiB2b2lkIHtcblx0XHR0cnkge1xuXHRcdFx0Y2IobnVsbCwgdGhpcy5zdGF0U3luYygpKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRjYihlKTtcblx0XHR9XG5cdH1cblx0cHVibGljIHN0YXRTeW5jKCk6IFN0YXRzIHtcblx0XHR0cnkge1xuXHRcdFx0cmV0dXJuIHRoaXMuX2ZzLnN0YXRTeW5jKHRoaXMuX3BhdGgsIGZhbHNlLCBDcmVkLlJvb3QpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdHRocm93IGNvbnZlcnRFcnJvcihlLCB0aGlzLl9wYXRoKTtcblx0XHR9XG5cdH1cblx0cHVibGljIHRydW5jYXRlKGxlbjogbnVtYmVyLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0XHRsZXQgZXJyOiBBcGlFcnJvciB8IG51bGwgPSBudWxsO1xuXHRcdHRyeSB7XG5cdFx0XHR0aGlzLnRydW5jYXRlU3luYyhsZW4pO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGVyciA9IGU7XG5cdFx0fSBmaW5hbGx5IHtcblx0XHRcdGNiKGVycik7XG5cdFx0fVxuXHR9XG5cdHB1YmxpYyB0cnVuY2F0ZVN5bmMobGVuOiBudW1iZXIpOiB2b2lkIHtcblx0XHR0cnkge1xuXHRcdFx0dGhpcy5fRlMuZnRydW5jYXRlKHRoaXMuX3N0cmVhbS5mZCwgbGVuKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHR0aHJvdyBjb252ZXJ0RXJyb3IoZSwgdGhpcy5fcGF0aCk7XG5cdFx0fVxuXHR9XG5cdHB1YmxpYyB3cml0ZShidWZmZXI6IEJ1ZmZlciwgb2Zmc2V0OiBudW1iZXIsIGxlbmd0aDogbnVtYmVyLCBwb3NpdGlvbjogbnVtYmVyLCBjYjogQkZTVGhyZWVBcmdDYWxsYmFjazxudW1iZXIsIEJ1ZmZlcj4pOiB2b2lkIHtcblx0XHR0cnkge1xuXHRcdFx0Y2IobnVsbCwgdGhpcy53cml0ZVN5bmMoYnVmZmVyLCBvZmZzZXQsIGxlbmd0aCwgcG9zaXRpb24pLCBidWZmZXIpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGNiKGUpO1xuXHRcdH1cblx0fVxuXHRwdWJsaWMgd3JpdGVTeW5jKGJ1ZmZlcjogQnVmZmVyLCBvZmZzZXQ6IG51bWJlciwgbGVuZ3RoOiBudW1iZXIsIHBvc2l0aW9uOiBudW1iZXIgfCBudWxsKTogbnVtYmVyIHtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgdTggPSBidWZmZXIyVWludDhhcnJheShidWZmZXIpO1xuXHRcdFx0Ly8gRW1zY3JpcHRlbiBpcyBwYXJ0aWN1bGFyIGFib3V0IHdoYXQgcG9zaXRpb24gaXMgc2V0IHRvLlxuXHRcdFx0Y29uc3QgZW1Qb3NpdGlvbiA9IHBvc2l0aW9uID09PSBudWxsID8gdW5kZWZpbmVkIDogcG9zaXRpb247XG5cdFx0XHRyZXR1cm4gdGhpcy5fRlMud3JpdGUodGhpcy5fc3RyZWFtLCB1OCwgb2Zmc2V0LCBsZW5ndGgsIGVtUG9zaXRpb24pO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdHRocm93IGNvbnZlcnRFcnJvcihlLCB0aGlzLl9wYXRoKTtcblx0XHR9XG5cdH1cblx0cHVibGljIHJlYWQoYnVmZmVyOiBCdWZmZXIsIG9mZnNldDogbnVtYmVyLCBsZW5ndGg6IG51bWJlciwgcG9zaXRpb246IG51bWJlciwgY2I6IEJGU1RocmVlQXJnQ2FsbGJhY2s8bnVtYmVyLCBCdWZmZXI+KTogdm9pZCB7XG5cdFx0dHJ5IHtcblx0XHRcdGNiKG51bGwsIHRoaXMucmVhZFN5bmMoYnVmZmVyLCBvZmZzZXQsIGxlbmd0aCwgcG9zaXRpb24pLCBidWZmZXIpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGNiKGUpO1xuXHRcdH1cblx0fVxuXHRwdWJsaWMgcmVhZFN5bmMoYnVmZmVyOiBCdWZmZXIsIG9mZnNldDogbnVtYmVyLCBsZW5ndGg6IG51bWJlciwgcG9zaXRpb246IG51bWJlciB8IG51bGwpOiBudW1iZXIge1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCB1OCA9IGJ1ZmZlcjJVaW50OGFycmF5KGJ1ZmZlcik7XG5cdFx0XHQvLyBFbXNjcmlwdGVuIGlzIHBhcnRpY3VsYXIgYWJvdXQgd2hhdCBwb3NpdGlvbiBpcyBzZXQgdG8uXG5cdFx0XHRjb25zdCBlbVBvc2l0aW9uID0gcG9zaXRpb24gPT09IG51bGwgPyB1bmRlZmluZWQgOiBwb3NpdGlvbjtcblx0XHRcdHJldHVybiB0aGlzLl9GUy5yZWFkKHRoaXMuX3N0cmVhbSwgdTgsIG9mZnNldCwgbGVuZ3RoLCBlbVBvc2l0aW9uKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHR0aHJvdyBjb252ZXJ0RXJyb3IoZSwgdGhpcy5fcGF0aCk7XG5cdFx0fVxuXHR9XG5cdHB1YmxpYyBzeW5jKGNiOiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQge1xuXHRcdC8vIE5PUC5cblx0XHRjYigpO1xuXHR9XG5cdHB1YmxpYyBzeW5jU3luYygpOiB2b2lkIHtcblx0XHQvLyBOT1AuXG5cdH1cblx0cHVibGljIGNob3duKHVpZDogbnVtYmVyLCBnaWQ6IG51bWJlciwgY2I6IEJGU09uZUFyZ0NhbGxiYWNrKTogdm9pZCB7XG5cdFx0bGV0IGVycjogQXBpRXJyb3IgfCBudWxsID0gbnVsbDtcblx0XHR0cnkge1xuXHRcdFx0dGhpcy5jaG93blN5bmModWlkLCBnaWQpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGVyciA9IGU7XG5cdFx0fSBmaW5hbGx5IHtcblx0XHRcdGNiKGVycik7XG5cdFx0fVxuXHR9XG5cdHB1YmxpYyBjaG93blN5bmModWlkOiBudW1iZXIsIGdpZDogbnVtYmVyKTogdm9pZCB7XG5cdFx0dHJ5IHtcblx0XHRcdHRoaXMuX0ZTLmZjaG93bih0aGlzLl9zdHJlYW0uZmQsIHVpZCwgZ2lkKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHR0aHJvdyBjb252ZXJ0RXJyb3IoZSwgdGhpcy5fcGF0aCk7XG5cdFx0fVxuXHR9XG5cdHB1YmxpYyBjaG1vZChtb2RlOiBudW1iZXIsIGNiOiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQge1xuXHRcdGxldCBlcnI6IEFwaUVycm9yIHwgbnVsbCA9IG51bGw7XG5cdFx0dHJ5IHtcblx0XHRcdHRoaXMuY2htb2RTeW5jKG1vZGUpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGVyciA9IGU7XG5cdFx0fSBmaW5hbGx5IHtcblx0XHRcdGNiKGVycik7XG5cdFx0fVxuXHR9XG5cdHB1YmxpYyBjaG1vZFN5bmMobW9kZTogbnVtYmVyKTogdm9pZCB7XG5cdFx0dHJ5IHtcblx0XHRcdHRoaXMuX0ZTLmZjaG1vZCh0aGlzLl9zdHJlYW0uZmQsIG1vZGUpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdHRocm93IGNvbnZlcnRFcnJvcihlLCB0aGlzLl9wYXRoKTtcblx0XHR9XG5cdH1cblx0cHVibGljIHV0aW1lcyhhdGltZTogRGF0ZSwgbXRpbWU6IERhdGUsIGNiOiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQge1xuXHRcdGxldCBlcnI6IEFwaUVycm9yIHwgbnVsbCA9IG51bGw7XG5cdFx0dHJ5IHtcblx0XHRcdHRoaXMudXRpbWVzU3luYyhhdGltZSwgbXRpbWUpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGVyciA9IGU7XG5cdFx0fSBmaW5hbGx5IHtcblx0XHRcdGNiKGVycik7XG5cdFx0fVxuXHR9XG5cdHB1YmxpYyB1dGltZXNTeW5jKGF0aW1lOiBEYXRlLCBtdGltZTogRGF0ZSk6IHZvaWQge1xuXHRcdHRoaXMuX2ZzLnV0aW1lc1N5bmModGhpcy5fcGF0aCwgYXRpbWUsIG10aW1lLCBDcmVkLlJvb3QpO1xuXHR9XG59XG5cbi8qKlxuICogQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciBFbXNjcmlwdGVuIGZpbGUgc3lzdGVtcy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBFbXNjcmlwdGVuRmlsZVN5c3RlbU9wdGlvbnMge1xuXHQvLyBUaGUgRW1zY3JpcHRlbiBmaWxlIHN5c3RlbSB0byB1c2UgKGBGU2ApXG5cdEZTOiBhbnk7XG59XG5cbi8qKlxuICogTW91bnRzIGFuIEVtc2NyaXB0ZW4gZmlsZSBzeXN0ZW0gaW50byB0aGUgQnJvd3NlckZTIGZpbGUgc3lzdGVtLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFbXNjcmlwdGVuRmlsZVN5c3RlbSBleHRlbmRzIFN5bmNocm9ub3VzRmlsZVN5c3RlbSB7XG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTmFtZSA9ICdFbXNjcmlwdGVuRmlsZVN5c3RlbSc7XG5cblx0cHVibGljIHN0YXRpYyByZWFkb25seSBPcHRpb25zOiBGaWxlU3lzdGVtT3B0aW9ucyA9IHtcblx0XHRGUzoge1xuXHRcdFx0dHlwZTogJ29iamVjdCcsXG5cdFx0XHRkZXNjcmlwdGlvbjogJ1RoZSBFbXNjcmlwdGVuIGZpbGUgc3lzdGVtIHRvIHVzZSAodGhlIGBGU2AgdmFyaWFibGUpJyxcblx0XHR9LFxuXHR9O1xuXG5cdC8qKlxuXHQgKiBDcmVhdGUgYW4gRW1zY3JpcHRlbkZpbGVTeXN0ZW0gaW5zdGFuY2Ugd2l0aCB0aGUgZ2l2ZW4gb3B0aW9ucy5cblx0ICovXG5cdHB1YmxpYyBzdGF0aWMgQ3JlYXRlKG9wdHM6IEVtc2NyaXB0ZW5GaWxlU3lzdGVtT3B0aW9ucywgY2I6IEJGU0NhbGxiYWNrPEVtc2NyaXB0ZW5GaWxlU3lzdGVtPik6IHZvaWQge1xuXHRcdGNiKG51bGwsIG5ldyBFbXNjcmlwdGVuRmlsZVN5c3RlbShvcHRzLkZTKSk7XG5cdH1cblxuXHRwdWJsaWMgc3RhdGljIENyZWF0ZUFzeW5jKG9wdHM6IEVtc2NyaXB0ZW5GaWxlU3lzdGVtT3B0aW9ucyk6IFByb21pc2U8RW1zY3JpcHRlbkZpbGVTeXN0ZW0+IHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0dGhpcy5DcmVhdGUob3B0cywgKGVycm9yLCBmcykgPT4ge1xuXHRcdFx0XHRpZiAoZXJyb3IgfHwgIWZzKSB7XG5cdFx0XHRcdFx0cmVqZWN0KGVycm9yKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyZXNvbHZlKGZzKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXHRwdWJsaWMgc3RhdGljIGlzQXZhaWxhYmxlKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0cHJpdmF0ZSBfRlM6IGFueTtcblxuXHRwcml2YXRlIGNvbnN0cnVjdG9yKF9GUzogYW55KSB7XG5cdFx0c3VwZXIoKTtcblx0XHR0aGlzLl9GUyA9IF9GUztcblx0fVxuXHRwdWJsaWMgZ2V0TmFtZSgpOiBzdHJpbmcge1xuXHRcdHJldHVybiB0aGlzLl9GUy5EQl9OQU1FKCk7XG5cdH1cblx0cHVibGljIGlzUmVhZE9ubHkoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cdHB1YmxpYyBzdXBwb3J0c0xpbmtzKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cdHB1YmxpYyBzdXBwb3J0c1Byb3BzKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cdHB1YmxpYyBzdXBwb3J0c1N5bmNoKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0cHVibGljIHJlbmFtZVN5bmMob2xkUGF0aDogc3RyaW5nLCBuZXdQYXRoOiBzdHJpbmcsIGNyZWQ6IENyZWQpOiB2b2lkIHtcblx0XHR0cnkge1xuXHRcdFx0dGhpcy5fRlMucmVuYW1lKG9sZFBhdGgsIG5ld1BhdGgpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGlmIChlLmVycm5vID09PSBFcnJvckNvZGUuRU5PRU5UKSB7XG5cdFx0XHRcdHRocm93IGNvbnZlcnRFcnJvcihlLCB0aGlzLmV4aXN0c1N5bmMob2xkUGF0aCwgY3JlZCkgPyBuZXdQYXRoIDogb2xkUGF0aCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aHJvdyBjb252ZXJ0RXJyb3IoZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIHN0YXRTeW5jKHA6IHN0cmluZywgaXNMc3RhdDogYm9vbGVhbiwgY3JlZDogQ3JlZCk6IFN0YXRzIHtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3Qgc3RhdHMgPSBpc0xzdGF0ID8gdGhpcy5fRlMubHN0YXQocCkgOiB0aGlzLl9GUy5zdGF0KHApO1xuXHRcdFx0Y29uc3QgaXRlbVR5cGUgPSB0aGlzLm1vZGVUb0ZpbGVUeXBlKHN0YXRzLm1vZGUpO1xuXHRcdFx0cmV0dXJuIG5ldyBTdGF0cyhpdGVtVHlwZSwgc3RhdHMuc2l6ZSwgc3RhdHMubW9kZSwgc3RhdHMuYXRpbWUuZ2V0VGltZSgpLCBzdGF0cy5tdGltZS5nZXRUaW1lKCksIHN0YXRzLmN0aW1lLmdldFRpbWUoKSk7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0dGhyb3cgY29udmVydEVycm9yKGUsIHApO1xuXHRcdH1cblx0fVxuXG5cdHB1YmxpYyBvcGVuU3luYyhwOiBzdHJpbmcsIGZsYWc6IEZpbGVGbGFnLCBtb2RlOiBudW1iZXIsIGNyZWQ6IENyZWQpOiBFbXNjcmlwdGVuRmlsZSB7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHN0cmVhbSA9IHRoaXMuX0ZTLm9wZW4ocCwgZmxhZy5nZXRGbGFnU3RyaW5nKCksIG1vZGUpO1xuXHRcdFx0cmV0dXJuIG5ldyBFbXNjcmlwdGVuRmlsZSh0aGlzLCB0aGlzLl9GUywgcCwgc3RyZWFtKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHR0aHJvdyBjb252ZXJ0RXJyb3IoZSwgcCk7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIHVubGlua1N5bmMocDogc3RyaW5nLCBjcmVkOiBDcmVkKTogdm9pZCB7XG5cdFx0dHJ5IHtcblx0XHRcdHRoaXMuX0ZTLnVubGluayhwKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHR0aHJvdyBjb252ZXJ0RXJyb3IoZSwgcCk7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIHJtZGlyU3luYyhwOiBzdHJpbmcsIGNyZWQ6IENyZWQpOiB2b2lkIHtcblx0XHR0cnkge1xuXHRcdFx0dGhpcy5fRlMucm1kaXIocCk7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0dGhyb3cgY29udmVydEVycm9yKGUsIHApO1xuXHRcdH1cblx0fVxuXG5cdHB1YmxpYyBta2RpclN5bmMocDogc3RyaW5nLCBtb2RlOiBudW1iZXIsIGNyZWQ6IENyZWQpOiB2b2lkIHtcblx0XHR0cnkge1xuXHRcdFx0dGhpcy5fRlMubWtkaXIocCwgbW9kZSk7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0dGhyb3cgY29udmVydEVycm9yKGUsIHApO1xuXHRcdH1cblx0fVxuXG5cdHB1YmxpYyByZWFkZGlyU3luYyhwOiBzdHJpbmcsIGNyZWQ6IENyZWQpOiBzdHJpbmdbXSB7XG5cdFx0dHJ5IHtcblx0XHRcdC8vIEVtc2NyaXB0ZW4gcmV0dXJucyBpdGVtcyBmb3IgJy4nIGFuZCAnLi4nLiBOb2RlIGRvZXMgbm90LlxuXHRcdFx0cmV0dXJuIHRoaXMuX0ZTLnJlYWRkaXIocCkuZmlsdGVyKChwOiBzdHJpbmcpID0+IHAgIT09ICcuJyAmJiBwICE9PSAnLi4nKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHR0aHJvdyBjb252ZXJ0RXJyb3IoZSwgcCk7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIHRydW5jYXRlU3luYyhwOiBzdHJpbmcsIGxlbjogbnVtYmVyLCBjcmVkOiBDcmVkKTogdm9pZCB7XG5cdFx0dHJ5IHtcblx0XHRcdHRoaXMuX0ZTLnRydW5jYXRlKHAsIGxlbik7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0dGhyb3cgY29udmVydEVycm9yKGUsIHApO1xuXHRcdH1cblx0fVxuXG5cdHB1YmxpYyByZWFkRmlsZVN5bmMocDogc3RyaW5nLCBlbmNvZGluZzogQnVmZmVyRW5jb2RpbmcsIGZsYWc6IEZpbGVGbGFnLCBjcmVkOiBDcmVkKTogYW55IHtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgZGF0YTogVWludDhBcnJheSA9IHRoaXMuX0ZTLnJlYWRGaWxlKHAsIHsgZmxhZ3M6IGZsYWcuZ2V0RmxhZ1N0cmluZygpIH0pO1xuXHRcdFx0Y29uc3QgYnVmZiA9IHVpbnQ4QXJyYXkyQnVmZmVyKGRhdGEpO1xuXHRcdFx0aWYgKGVuY29kaW5nKSB7XG5cdFx0XHRcdHJldHVybiBidWZmLnRvU3RyaW5nKGVuY29kaW5nKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBidWZmO1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdHRocm93IGNvbnZlcnRFcnJvcihlLCBwKTtcblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgd3JpdGVGaWxlU3luYyhwOiBzdHJpbmcsIGRhdGE6IGFueSwgZW5jb2Rpbmc6IEJ1ZmZlckVuY29kaW5nLCBmbGFnOiBGaWxlRmxhZywgbW9kZTogbnVtYmVyLCBjcmVkOiBDcmVkKTogdm9pZCB7XG5cdFx0dHJ5IHtcblx0XHRcdGlmIChlbmNvZGluZykge1xuXHRcdFx0XHRkYXRhID0gQnVmZmVyLmZyb20oZGF0YSwgZW5jb2RpbmcpO1xuXHRcdFx0fVxuXHRcdFx0Y29uc3QgdTggPSBidWZmZXIyVWludDhhcnJheShkYXRhKTtcblx0XHRcdHRoaXMuX0ZTLndyaXRlRmlsZShwLCB1OCwgeyBmbGFnczogZmxhZy5nZXRGbGFnU3RyaW5nKCksIGVuY29kaW5nOiAnYmluYXJ5JyB9KTtcblx0XHRcdHRoaXMuX0ZTLmNobW9kKHAsIG1vZGUpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdHRocm93IGNvbnZlcnRFcnJvcihlLCBwKTtcblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgY2htb2RTeW5jKHA6IHN0cmluZywgaXNMY2htb2Q6IGJvb2xlYW4sIG1vZGU6IG51bWJlciwgY3JlZDogQ3JlZCkge1xuXHRcdHRyeSB7XG5cdFx0XHRpc0xjaG1vZCA/IHRoaXMuX0ZTLmxjaG1vZChwLCBtb2RlKSA6IHRoaXMuX0ZTLmNobW9kKHAsIG1vZGUpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdHRocm93IGNvbnZlcnRFcnJvcihlLCBwKTtcblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgY2hvd25TeW5jKHA6IHN0cmluZywgaXNMY2hvd246IGJvb2xlYW4sIG5ld191aWQ6IG51bWJlciwgbmV3X2dpZDogbnVtYmVyLCBjcmVkOiBDcmVkKTogdm9pZCB7XG5cdFx0dHJ5IHtcblx0XHRcdGlzTGNob3duID8gdGhpcy5fRlMubGNob3duKHAsIG5ld191aWQsIG5ld19naWQpIDogdGhpcy5fRlMuY2hvd24ocCwgbmV3X3VpZCwgbmV3X2dpZCk7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0dGhyb3cgY29udmVydEVycm9yKGUsIHApO1xuXHRcdH1cblx0fVxuXG5cdHB1YmxpYyBzeW1saW5rU3luYyhzcmNwYXRoOiBzdHJpbmcsIGRzdHBhdGg6IHN0cmluZywgdHlwZTogc3RyaW5nLCBjcmVkOiBDcmVkKTogdm9pZCB7XG5cdFx0dHJ5IHtcblx0XHRcdHRoaXMuX0ZTLnN5bWxpbmsoc3JjcGF0aCwgZHN0cGF0aCk7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0dGhyb3cgY29udmVydEVycm9yKGUpO1xuXHRcdH1cblx0fVxuXG5cdHB1YmxpYyByZWFkbGlua1N5bmMocDogc3RyaW5nLCBjcmVkOiBDcmVkKTogc3RyaW5nIHtcblx0XHR0cnkge1xuXHRcdFx0cmV0dXJuIHRoaXMuX0ZTLnJlYWRsaW5rKHApO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdHRocm93IGNvbnZlcnRFcnJvcihlLCBwKTtcblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgdXRpbWVzU3luYyhwOiBzdHJpbmcsIGF0aW1lOiBEYXRlLCBtdGltZTogRGF0ZSwgY3JlZDogQ3JlZCk6IHZvaWQge1xuXHRcdHRyeSB7XG5cdFx0XHR0aGlzLl9GUy51dGltZShwLCBhdGltZS5nZXRUaW1lKCksIG10aW1lLmdldFRpbWUoKSk7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0dGhyb3cgY29udmVydEVycm9yKGUsIHApO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgbW9kZVRvRmlsZVR5cGUobW9kZTogbnVtYmVyKTogRmlsZVR5cGUge1xuXHRcdGlmICh0aGlzLl9GUy5pc0Rpcihtb2RlKSkge1xuXHRcdFx0cmV0dXJuIEZpbGVUeXBlLkRJUkVDVE9SWTtcblx0XHR9IGVsc2UgaWYgKHRoaXMuX0ZTLmlzRmlsZShtb2RlKSkge1xuXHRcdFx0cmV0dXJuIEZpbGVUeXBlLkZJTEU7XG5cdFx0fSBlbHNlIGlmICh0aGlzLl9GUy5pc0xpbmsobW9kZSkpIHtcblx0XHRcdHJldHVybiBGaWxlVHlwZS5TWU1MSU5LO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aHJvdyBBcGlFcnJvci5FUEVSTShgSW52YWxpZCBtb2RlOiAke21vZGV9YCk7XG5cdFx0fVxuXHR9XG59XG4iLCAiaW1wb3J0IHsgYmFzZW5hbWUsIGRpcm5hbWUsIGpvaW4gfSBmcm9tICdwYXRoJztcbmltcG9ydCB7IEFwaUVycm9yLCBFcnJvckNvZGUgfSBmcm9tICcuLi9jb3JlL2FwaV9lcnJvcic7XG5pbXBvcnQgQ3JlZCBmcm9tICcuLi9jb3JlL2NyZWQnO1xuaW1wb3J0IHsgRmlsZSB9IGZyb20gJy4uL2NvcmUvZmlsZSc7XG5pbXBvcnQgeyBGaWxlRmxhZyB9IGZyb20gJy4uL2NvcmUvZmlsZV9mbGFnJztcbmltcG9ydCB7IEJhc2VGaWxlU3lzdGVtLCBCRlNDYWxsYmFjaywgQkZTT25lQXJnQ2FsbGJhY2ssIEZpbGVTeXN0ZW0sIEZpbGVTeXN0ZW1PcHRpb25zIH0gZnJvbSAnLi4vY29yZS9maWxlX3N5c3RlbSc7XG5pbXBvcnQgeyBkZWZhdWx0IGFzIFN0YXRzLCBGaWxlVHlwZSB9IGZyb20gJy4uL2NvcmUvc3RhdHMnO1xuaW1wb3J0IHsgZW1wdHlCdWZmZXIgfSBmcm9tICcuLi9jb3JlL3V0aWwnO1xuaW1wb3J0IFByZWxvYWRGaWxlIGZyb20gJy4uL2dlbmVyaWMvcHJlbG9hZF9maWxlJztcbmltcG9ydCB7IEJ1ZmZlciB9IGZyb20gJ2J1ZmZlcic7XG5cbmludGVyZmFjZSBGaWxlU3lzdGVtQWNjZXNzRmlsZVN5c3RlbU9wdGlvbnMge1xuXHRoYW5kbGU6IEZpbGVTeXN0ZW1EaXJlY3RvcnlIYW5kbGU7XG59XG5cbnR5cGUgRmlsZVN5c3RlbUtleXNJdGVyYXRvciA9IEFzeW5jSXRlcmFibGVJdGVyYXRvcjxzdHJpbmc+ICYge1xuXHRuZXh0OiAoKSA9PiBQcm9taXNlPEl0ZXJhdG9yUmVzdWx0PHN0cmluZz4+O1xufTtcblxudHlwZSBHbG9iYWxGaWxlID0gZ2xvYmFsVGhpcy5GaWxlICYge1xuXHRhcnJheUJ1ZmZlcjogKCkgPT4gUHJvbWlzZTxBcnJheUJ1ZmZlcj47XG59O1xuXG5jb25zdCBoYW5kbGVFcnJvciA9XG5cdChjYjogQkZTQ2FsbGJhY2s8bmV2ZXI+LCBwYXRoID0gJycpID0+XG5cdChlcnJvcjogRXJyb3IpID0+IHtcblx0XHRpZiAoZXJyb3IubmFtZSA9PT0gJ05vdEZvdW5kRXJyb3InKSB7XG5cdFx0XHRyZXR1cm4gY2IoQXBpRXJyb3IuRU5PRU5UKHBhdGgpKTtcblx0XHR9XG5cblx0XHRjYihlcnJvciBhcyBBcGlFcnJvcik7XG5cdH07XG5cbmNvbnN0IGtleXNUb0FycmF5ID0gKGRpcmVjdG9yeUtleXM6IEZpbGVTeXN0ZW1LZXlzSXRlcmF0b3IsIGNiOiBCRlNDYWxsYmFjazxzdHJpbmdbXT4sIHBhdGg6IHN0cmluZyk6IHZvaWQgPT4ge1xuXHRjb25zdCBrZXlzOiBzdHJpbmdbXSA9IFtdO1xuXHRjb25zdCBpdGVyYXRlS2V5cyA9ICgpOiB2b2lkID0+IHtcblx0XHRkaXJlY3RvcnlLZXlzXG5cdFx0XHQubmV4dCgpXG5cdFx0XHQudGhlbigoeyBkb25lLCB2YWx1ZSB9KSA9PiB7XG5cdFx0XHRcdGlmIChkb25lKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGNiKG51bGwsIGtleXMpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0a2V5cy5wdXNoKHZhbHVlKTtcblx0XHRcdFx0aXRlcmF0ZUtleXMoKTtcblx0XHRcdH0pXG5cdFx0XHQuY2F0Y2goaGFuZGxlRXJyb3IoY2IsIHBhdGgpKTtcblx0fTtcblxuXHRpdGVyYXRlS2V5cygpO1xufTtcblxuZXhwb3J0IGNsYXNzIEZpbGVTeXN0ZW1BY2Nlc3NGaWxlIGV4dGVuZHMgUHJlbG9hZEZpbGU8RmlsZVN5c3RlbUFjY2Vzc0ZpbGVTeXN0ZW0+IGltcGxlbWVudHMgRmlsZSB7XG5cdGNvbnN0cnVjdG9yKF9mczogRmlsZVN5c3RlbUFjY2Vzc0ZpbGVTeXN0ZW0sIF9wYXRoOiBzdHJpbmcsIF9mbGFnOiBGaWxlRmxhZywgX3N0YXQ6IFN0YXRzLCBjb250ZW50cz86IEJ1ZmZlcikge1xuXHRcdHN1cGVyKF9mcywgX3BhdGgsIF9mbGFnLCBfc3RhdCwgY29udGVudHMpO1xuXHR9XG5cblx0cHVibGljIHN5bmMoY2I6IEJGU09uZUFyZ0NhbGxiYWNrKTogdm9pZCB7XG5cdFx0aWYgKHRoaXMuaXNEaXJ0eSgpKSB7XG5cdFx0XHR0aGlzLl9mcy5fc3luYyh0aGlzLmdldFBhdGgoKSwgdGhpcy5nZXRCdWZmZXIoKSwgdGhpcy5nZXRTdGF0cygpLCBDcmVkLlJvb3QsIChlPzogQXBpRXJyb3IpID0+IHtcblx0XHRcdFx0aWYgKCFlKSB7XG5cdFx0XHRcdFx0dGhpcy5yZXNldERpcnR5KCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y2IoZSk7XG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y2IoKTtcblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgY2xvc2UoY2I6IEJGU09uZUFyZ0NhbGxiYWNrKTogdm9pZCB7XG5cdFx0dGhpcy5zeW5jKGNiKTtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGaWxlU3lzdGVtQWNjZXNzRmlsZVN5c3RlbSBleHRlbmRzIEJhc2VGaWxlU3lzdGVtIGltcGxlbWVudHMgRmlsZVN5c3RlbSB7XG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTmFtZSA9ICdGaWxlU3lzdGVtQWNjZXNzJztcblxuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE9wdGlvbnM6IEZpbGVTeXN0ZW1PcHRpb25zID0ge307XG5cblx0cHVibGljIHN0YXRpYyBDcmVhdGUoeyBoYW5kbGUgfTogRmlsZVN5c3RlbUFjY2Vzc0ZpbGVTeXN0ZW1PcHRpb25zLCBjYjogQkZTQ2FsbGJhY2s8RmlsZVN5c3RlbUFjY2Vzc0ZpbGVTeXN0ZW0+KTogdm9pZCB7XG5cdFx0Y2IobnVsbCwgbmV3IEZpbGVTeXN0ZW1BY2Nlc3NGaWxlU3lzdGVtKGhhbmRsZSkpO1xuXHR9XG5cblx0cHVibGljIHN0YXRpYyBDcmVhdGVBc3luYyhvcHRzOiBGaWxlU3lzdGVtQWNjZXNzRmlsZVN5c3RlbU9wdGlvbnMpOiBQcm9taXNlPEZpbGVTeXN0ZW1BY2Nlc3NGaWxlU3lzdGVtPiB7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdHRoaXMuQ3JlYXRlKG9wdHMsIChlcnJvciwgZnMpID0+IHtcblx0XHRcdFx0aWYgKGVycm9yIHx8ICFmcykge1xuXHRcdFx0XHRcdHJlamVjdChlcnJvcik7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmVzb2x2ZShmcyk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0cHVibGljIHN0YXRpYyBpc0F2YWlsYWJsZSgpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdHlwZW9mIEZpbGVTeXN0ZW1IYW5kbGUgPT09ICdmdW5jdGlvbic7XG5cdH1cblxuXHRwcml2YXRlIF9oYW5kbGVzOiB7IFtwYXRoOiBzdHJpbmddOiBGaWxlU3lzdGVtSGFuZGxlIH07XG5cblx0cHJpdmF0ZSBjb25zdHJ1Y3RvcihoYW5kbGU6IEZpbGVTeXN0ZW1EaXJlY3RvcnlIYW5kbGUpIHtcblx0XHRzdXBlcigpO1xuXHRcdHRoaXMuX2hhbmRsZXMgPSB7ICcvJzogaGFuZGxlIH07XG5cdH1cblxuXHRwdWJsaWMgZ2V0TmFtZSgpOiBzdHJpbmcge1xuXHRcdHJldHVybiBGaWxlU3lzdGVtQWNjZXNzRmlsZVN5c3RlbS5OYW1lO1xuXHR9XG5cblx0cHVibGljIGlzUmVhZE9ubHkoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0cHVibGljIHN1cHBvcnRzU3ltbGlua3MoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0cHVibGljIHN1cHBvcnRzUHJvcHMoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0cHVibGljIHN1cHBvcnRzU3luY2goKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0cHVibGljIF9zeW5jKHA6IHN0cmluZywgZGF0YTogQnVmZmVyLCBzdGF0czogU3RhdHMsIGNyZWQ6IENyZWQsIGNiOiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQge1xuXHRcdHRoaXMuc3RhdChwLCBmYWxzZSwgY3JlZCwgKGVyciwgY3VycmVudFN0YXRzKSA9PiB7XG5cdFx0XHRpZiAoc3RhdHMubXRpbWUgIT09IGN1cnJlbnRTdGF0cyEubXRpbWUpIHtcblx0XHRcdFx0dGhpcy53cml0ZUZpbGUocCwgZGF0YSwgbnVsbCwgRmlsZUZsYWcuZ2V0RmlsZUZsYWcoJ3cnKSwgY3VycmVudFN0YXRzIS5tb2RlLCBjcmVkLCBjYik7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjYihlcnIpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0cHVibGljIHJlbmFtZShvbGRQYXRoOiBzdHJpbmcsIG5ld1BhdGg6IHN0cmluZywgY3JlZDogQ3JlZCwgY2I6IEJGU09uZUFyZ0NhbGxiYWNrKTogdm9pZCB7XG5cdFx0dGhpcy5nZXRIYW5kbGUob2xkUGF0aCwgKHNvdXJjZUVycm9yLCBoYW5kbGUpID0+IHtcblx0XHRcdGlmIChzb3VyY2VFcnJvcikge1xuXHRcdFx0XHRyZXR1cm4gY2Ioc291cmNlRXJyb3IpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGhhbmRsZSBpbnN0YW5jZW9mIEZpbGVTeXN0ZW1EaXJlY3RvcnlIYW5kbGUpIHtcblx0XHRcdFx0dGhpcy5yZWFkZGlyKG9sZFBhdGgsIGNyZWQsIChyZWFkRGlyRXJyb3IsIGZpbGVzID0gW10pID0+IHtcblx0XHRcdFx0XHRpZiAocmVhZERpckVycm9yKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gY2IocmVhZERpckVycm9yKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0dGhpcy5ta2RpcihuZXdQYXRoLCAnd3gnLCBjcmVkLCBta2RpckVycm9yID0+IHtcblx0XHRcdFx0XHRcdGlmIChta2RpckVycm9yKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBjYihta2RpckVycm9yKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmIChmaWxlcy5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0XHRcdFx0dGhpcy51bmxpbmsob2xkUGF0aCwgY3JlZCwgY2IpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0ZmlsZXMuZm9yRWFjaChmaWxlID0+IHRoaXMucmVuYW1lKGpvaW4ob2xkUGF0aCwgZmlsZSksIGpvaW4obmV3UGF0aCwgZmlsZSksIGNyZWQsICgpID0+IHRoaXMudW5saW5rKG9sZFBhdGgsIGNyZWQsIGNiKSkpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHRcdGlmIChoYW5kbGUgaW5zdGFuY2VvZiBGaWxlU3lzdGVtRmlsZUhhbmRsZSkge1xuXHRcdFx0XHRoYW5kbGVcblx0XHRcdFx0XHQuZ2V0RmlsZSgpXG5cdFx0XHRcdFx0LnRoZW4oKG9sZEZpbGU6IEdsb2JhbEZpbGUpID0+XG5cdFx0XHRcdFx0XHR0aGlzLmdldEhhbmRsZShkaXJuYW1lKG5ld1BhdGgpLCAoZGVzdEVycm9yLCBkZXN0Rm9sZGVyKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGlmIChkZXN0RXJyb3IpIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY2IoZGVzdEVycm9yKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRpZiAoZGVzdEZvbGRlciBpbnN0YW5jZW9mIEZpbGVTeXN0ZW1EaXJlY3RvcnlIYW5kbGUpIHtcblx0XHRcdFx0XHRcdFx0XHRkZXN0Rm9sZGVyXG5cdFx0XHRcdFx0XHRcdFx0XHQuZ2V0RmlsZUhhbmRsZShiYXNlbmFtZShuZXdQYXRoKSwgeyBjcmVhdGU6IHRydWUgfSlcblx0XHRcdFx0XHRcdFx0XHRcdC50aGVuKG5ld0ZpbGUgPT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0bmV3RmlsZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC5jcmVhdGVXcml0YWJsZSgpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0LnRoZW4od3JpdGFibGUgPT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9sZEZpbGVcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0LmFycmF5QnVmZmVyKClcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0LnRoZW4oYnVmZmVyID0+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0d3JpdGFibGVcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC53cml0ZShidWZmZXIpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQudGhlbigoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHdyaXRhYmxlLmNsb3NlKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMudW5saW5rKG9sZFBhdGgsIGNyZWQsIGNiKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQuY2F0Y2goaGFuZGxlRXJyb3IoY2IsIG5ld1BhdGgpKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC5jYXRjaChoYW5kbGVFcnJvcihjYiwgb2xkUGF0aCkpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC5jYXRjaChoYW5kbGVFcnJvcihjYiwgbmV3UGF0aCkpXG5cdFx0XHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHRcdFx0XHQuY2F0Y2goaGFuZGxlRXJyb3IoY2IsIG5ld1BhdGgpKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0LmNhdGNoKGhhbmRsZUVycm9yKGNiLCBvbGRQYXRoKSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHRwdWJsaWMgd3JpdGVGaWxlKGZuYW1lOiBzdHJpbmcsIGRhdGE6IGFueSwgZW5jb2Rpbmc6IHN0cmluZyB8IG51bGwsIGZsYWc6IEZpbGVGbGFnLCBtb2RlOiBudW1iZXIsIGNyZWQ6IENyZWQsIGNiOiBCRlNDYWxsYmFjazxGaWxlIHwgdW5kZWZpbmVkPiwgY3JlYXRlRmlsZT86IGJvb2xlYW4pOiB2b2lkIHtcblx0XHR0aGlzLmdldEhhbmRsZShkaXJuYW1lKGZuYW1lKSwgKGVycm9yLCBoYW5kbGUpID0+IHtcblx0XHRcdGlmIChlcnJvcikge1xuXHRcdFx0XHRyZXR1cm4gY2IoZXJyb3IpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGhhbmRsZSBpbnN0YW5jZW9mIEZpbGVTeXN0ZW1EaXJlY3RvcnlIYW5kbGUpIHtcblx0XHRcdFx0aGFuZGxlXG5cdFx0XHRcdFx0LmdldEZpbGVIYW5kbGUoYmFzZW5hbWUoZm5hbWUpLCB7IGNyZWF0ZTogdHJ1ZSB9KVxuXHRcdFx0XHRcdC50aGVuKGZpbGUgPT5cblx0XHRcdFx0XHRcdGZpbGVcblx0XHRcdFx0XHRcdFx0LmNyZWF0ZVdyaXRhYmxlKClcblx0XHRcdFx0XHRcdFx0LnRoZW4od3JpdGFibGUgPT5cblx0XHRcdFx0XHRcdFx0XHR3cml0YWJsZVxuXHRcdFx0XHRcdFx0XHRcdFx0LndyaXRlKGRhdGEpXG5cdFx0XHRcdFx0XHRcdFx0XHQudGhlbigoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHdyaXRhYmxlLmNsb3NlKCkuY2F0Y2goaGFuZGxlRXJyb3IoY2IsIGZuYW1lKSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNiKG51bGwsIGNyZWF0ZUZpbGUgPyB0aGlzLm5ld0ZpbGUoZm5hbWUsIGZsYWcsIGRhdGEpIDogdW5kZWZpbmVkKTtcblx0XHRcdFx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHRcdFx0XHQuY2F0Y2goaGFuZGxlRXJyb3IoY2IsIGZuYW1lKSlcblx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0XHQuY2F0Y2goaGFuZGxlRXJyb3IoY2IsIGZuYW1lKSlcblx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0LmNhdGNoKGhhbmRsZUVycm9yKGNiLCBmbmFtZSkpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0cHVibGljIGNyZWF0ZUZpbGUocDogc3RyaW5nLCBmbGFnOiBGaWxlRmxhZywgbW9kZTogbnVtYmVyLCBjcmVkOiBDcmVkLCBjYjogQkZTQ2FsbGJhY2s8RmlsZT4pOiB2b2lkIHtcblx0XHR0aGlzLndyaXRlRmlsZShwLCBlbXB0eUJ1ZmZlcigpLCBudWxsLCBmbGFnLCBtb2RlLCBjcmVkLCBjYiwgdHJ1ZSk7XG5cdH1cblxuXHRwdWJsaWMgc3RhdChwYXRoOiBzdHJpbmcsIGlzTHN0YXQ6IGJvb2xlYW4sIGNyZWQ6IENyZWQsIGNiOiBCRlNDYWxsYmFjazxTdGF0cz4pOiB2b2lkIHtcblx0XHR0aGlzLmdldEhhbmRsZShwYXRoLCAoZXJyb3IsIGhhbmRsZSkgPT4ge1xuXHRcdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRcdHJldHVybiBjYihlcnJvcik7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIWhhbmRsZSkge1xuXHRcdFx0XHRyZXR1cm4gY2IoQXBpRXJyb3IuRmlsZUVycm9yKEVycm9yQ29kZS5FSU5WQUwsIHBhdGgpKTtcblx0XHRcdH1cblx0XHRcdGlmIChoYW5kbGUgaW5zdGFuY2VvZiBGaWxlU3lzdGVtRGlyZWN0b3J5SGFuZGxlKSB7XG5cdFx0XHRcdHJldHVybiBjYihudWxsLCBuZXcgU3RhdHMoRmlsZVR5cGUuRElSRUNUT1JZLCA0MDk2KSk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoaGFuZGxlIGluc3RhbmNlb2YgRmlsZVN5c3RlbUZpbGVIYW5kbGUpIHtcblx0XHRcdFx0aGFuZGxlXG5cdFx0XHRcdFx0LmdldEZpbGUoKVxuXHRcdFx0XHRcdC50aGVuKCh7IGxhc3RNb2RpZmllZCwgc2l6ZSB9KSA9PiBjYihudWxsLCBuZXcgU3RhdHMoRmlsZVR5cGUuRklMRSwgc2l6ZSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGxhc3RNb2RpZmllZCkpKVxuXHRcdFx0XHRcdC5jYXRjaChoYW5kbGVFcnJvcihjYiwgcGF0aCkpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0cHVibGljIGV4aXN0cyhwOiBzdHJpbmcsIGNyZWQ6IENyZWQsIGNiOiAoZXhpc3RzOiBib29sZWFuKSA9PiB2b2lkKTogdm9pZCB7XG5cdFx0dGhpcy5nZXRIYW5kbGUocCwgZXJyb3IgPT4gY2IoZXJyb3IgPT09IG51bGwpKTtcblx0fVxuXG5cdHB1YmxpYyBvcGVuRmlsZShwYXRoOiBzdHJpbmcsIGZsYWdzOiBGaWxlRmxhZywgY3JlZDogQ3JlZCwgY2I6IEJGU0NhbGxiYWNrPEZpbGU+KTogdm9pZCB7XG5cdFx0dGhpcy5nZXRIYW5kbGUocGF0aCwgKGVycm9yLCBoYW5kbGUpID0+IHtcblx0XHRcdGlmIChlcnJvcikge1xuXHRcdFx0XHRyZXR1cm4gY2IoZXJyb3IpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGhhbmRsZSBpbnN0YW5jZW9mIEZpbGVTeXN0ZW1GaWxlSGFuZGxlKSB7XG5cdFx0XHRcdGhhbmRsZVxuXHRcdFx0XHRcdC5nZXRGaWxlKClcblx0XHRcdFx0XHQudGhlbigoZmlsZTogR2xvYmFsRmlsZSkgPT5cblx0XHRcdFx0XHRcdGZpbGVcblx0XHRcdFx0XHRcdFx0LmFycmF5QnVmZmVyKClcblx0XHRcdFx0XHRcdFx0LnRoZW4oYnVmZmVyID0+IGNiKG51bGwsIHRoaXMubmV3RmlsZShwYXRoLCBmbGFncywgYnVmZmVyLCBmaWxlLnNpemUsIGZpbGUubGFzdE1vZGlmaWVkKSkpXG5cdFx0XHRcdFx0XHRcdC5jYXRjaChoYW5kbGVFcnJvcihjYiwgcGF0aCkpXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHRcdC5jYXRjaChoYW5kbGVFcnJvcihjYiwgcGF0aCkpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0cHVibGljIHVubGluayhwYXRoOiBzdHJpbmcsIGNyZWQ6IENyZWQsIGNiOiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQge1xuXHRcdHRoaXMuZ2V0SGFuZGxlKGRpcm5hbWUocGF0aCksIChlcnJvciwgaGFuZGxlKSA9PiB7XG5cdFx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdFx0cmV0dXJuIGNiKGVycm9yKTtcblx0XHRcdH1cblx0XHRcdGlmIChoYW5kbGUgaW5zdGFuY2VvZiBGaWxlU3lzdGVtRGlyZWN0b3J5SGFuZGxlKSB7XG5cdFx0XHRcdGhhbmRsZVxuXHRcdFx0XHRcdC5yZW1vdmVFbnRyeShiYXNlbmFtZShwYXRoKSwgeyByZWN1cnNpdmU6IHRydWUgfSlcblx0XHRcdFx0XHQudGhlbigoKSA9PiBjYihudWxsKSlcblx0XHRcdFx0XHQuY2F0Y2goaGFuZGxlRXJyb3IoY2IsIHBhdGgpKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdHB1YmxpYyBybWRpcihwYXRoOiBzdHJpbmcsIGNyZWQ6IENyZWQsIGNiOiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQge1xuXHRcdHRoaXMudW5saW5rKHBhdGgsIGNyZWQsIGNiKTtcblx0fVxuXG5cdHB1YmxpYyBta2RpcihwOiBzdHJpbmcsIG1vZGU6IGFueSwgY3JlZDogQ3JlZCwgY2I6IEJGU09uZUFyZ0NhbGxiYWNrKTogdm9pZCB7XG5cdFx0Y29uc3Qgb3ZlcndyaXRlID0gbW9kZSAmJiBtb2RlLmZsYWcgJiYgbW9kZS5mbGFnLmluY2x1ZGVzKCd3JykgJiYgIW1vZGUuZmxhZy5pbmNsdWRlcygneCcpO1xuXG5cdFx0dGhpcy5nZXRIYW5kbGUocCwgKF9leGlzdGluZ0Vycm9yLCBleGlzdGluZ0hhbmRsZSkgPT4ge1xuXHRcdFx0aWYgKGV4aXN0aW5nSGFuZGxlICYmICFvdmVyd3JpdGUpIHtcblx0XHRcdFx0cmV0dXJuIGNiKEFwaUVycm9yLkVFWElTVChwKSk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuZ2V0SGFuZGxlKGRpcm5hbWUocCksIChlcnJvciwgaGFuZGxlKSA9PiB7XG5cdFx0XHRcdGlmIChlcnJvcikge1xuXHRcdFx0XHRcdHJldHVybiBjYihlcnJvcik7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKGhhbmRsZSBpbnN0YW5jZW9mIEZpbGVTeXN0ZW1EaXJlY3RvcnlIYW5kbGUpIHtcblx0XHRcdFx0XHRoYW5kbGVcblx0XHRcdFx0XHRcdC5nZXREaXJlY3RvcnlIYW5kbGUoYmFzZW5hbWUocCksIHsgY3JlYXRlOiB0cnVlIH0pXG5cdFx0XHRcdFx0XHQudGhlbigoKSA9PiBjYihudWxsKSlcblx0XHRcdFx0XHRcdC5jYXRjaChoYW5kbGVFcnJvcihjYiwgcCkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXG5cdHB1YmxpYyByZWFkZGlyKHBhdGg6IHN0cmluZywgY3JlZDogQ3JlZCwgY2I6IEJGU0NhbGxiYWNrPHN0cmluZ1tdPik6IHZvaWQge1xuXHRcdHRoaXMuZ2V0SGFuZGxlKHBhdGgsIChyZWFkRXJyb3IsIGhhbmRsZSkgPT4ge1xuXHRcdFx0aWYgKHJlYWRFcnJvcikge1xuXHRcdFx0XHRyZXR1cm4gY2IocmVhZEVycm9yKTtcblx0XHRcdH1cblx0XHRcdGlmIChoYW5kbGUgaW5zdGFuY2VvZiBGaWxlU3lzdGVtRGlyZWN0b3J5SGFuZGxlKSB7XG5cdFx0XHRcdGtleXNUb0FycmF5KGhhbmRsZS5rZXlzKCkgYXMgRmlsZVN5c3RlbUtleXNJdGVyYXRvciwgY2IsIHBhdGgpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0cHJpdmF0ZSBuZXdGaWxlKHBhdGg6IHN0cmluZywgZmxhZzogRmlsZUZsYWcsIGRhdGE6IEFycmF5QnVmZmVyLCBzaXplPzogbnVtYmVyLCBsYXN0TW9kaWZpZWQ/OiBudW1iZXIpOiBGaWxlIHtcblx0XHRyZXR1cm4gbmV3IEZpbGVTeXN0ZW1BY2Nlc3NGaWxlKHRoaXMsIHBhdGgsIGZsYWcsIG5ldyBTdGF0cyhGaWxlVHlwZS5GSUxFLCBzaXplIHx8IDAsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBsYXN0TW9kaWZpZWQgfHwgbmV3IERhdGUoKS5nZXRUaW1lKCkpLCBCdWZmZXIuZnJvbShkYXRhKSk7XG5cdH1cblxuXHRwcml2YXRlIGdldEhhbmRsZShwYXRoOiBzdHJpbmcsIGNiOiBCRlNDYWxsYmFjazxGaWxlU3lzdGVtSGFuZGxlPik6IHZvaWQge1xuXHRcdGlmIChwYXRoID09PSAnLycpIHtcblx0XHRcdHJldHVybiBjYihudWxsLCB0aGlzLl9oYW5kbGVzWycvJ10pO1xuXHRcdH1cblxuXHRcdGxldCB3YWxrZWRQYXRoID0gJy8nO1xuXHRcdGNvbnN0IFssIC4uLnBhdGhQYXJ0c10gPSBwYXRoLnNwbGl0KCcvJyk7XG5cdFx0Y29uc3QgZ2V0SGFuZGxlUGFydHMgPSAoW3BhdGhQYXJ0LCAuLi5yZW1haW5pbmdQYXRoUGFydHNdOiBzdHJpbmdbXSkgPT4ge1xuXHRcdFx0Y29uc3Qgd2Fsa2luZ1BhdGggPSBqb2luKHdhbGtlZFBhdGgsIHBhdGhQYXJ0KTtcblx0XHRcdGNvbnN0IGNvbnRpbnVlV2FsayA9IChoYW5kbGU6IEZpbGVTeXN0ZW1IYW5kbGUpID0+IHtcblx0XHRcdFx0d2Fsa2VkUGF0aCA9IHdhbGtpbmdQYXRoO1xuXHRcdFx0XHR0aGlzLl9oYW5kbGVzW3dhbGtlZFBhdGhdID0gaGFuZGxlO1xuXG5cdFx0XHRcdGlmIChyZW1haW5pbmdQYXRoUGFydHMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGNiKG51bGwsIHRoaXMuX2hhbmRsZXNbcGF0aF0pO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Z2V0SGFuZGxlUGFydHMocmVtYWluaW5nUGF0aFBhcnRzKTtcblx0XHRcdH07XG5cdFx0XHRjb25zdCBoYW5kbGUgPSB0aGlzLl9oYW5kbGVzW3dhbGtlZFBhdGhdIGFzIEZpbGVTeXN0ZW1EaXJlY3RvcnlIYW5kbGU7XG5cblx0XHRcdGhhbmRsZVxuXHRcdFx0XHQuZ2V0RGlyZWN0b3J5SGFuZGxlKHBhdGhQYXJ0KVxuXHRcdFx0XHQudGhlbihjb250aW51ZVdhbGspXG5cdFx0XHRcdC5jYXRjaCgoZXJyb3I6IEVycm9yKSA9PiB7XG5cdFx0XHRcdFx0aWYgKGVycm9yLm5hbWUgPT09ICdUeXBlTWlzbWF0Y2hFcnJvcicpIHtcblx0XHRcdFx0XHRcdGhhbmRsZS5nZXRGaWxlSGFuZGxlKHBhdGhQYXJ0KS50aGVuKGNvbnRpbnVlV2FsaykuY2F0Y2goaGFuZGxlRXJyb3IoY2IsIHdhbGtpbmdQYXRoKSk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChlcnJvci5tZXNzYWdlID09PSAnTmFtZSBpcyBub3QgYWxsb3dlZC4nKSB7XG5cdFx0XHRcdFx0XHRjYihuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVOT0VOVCwgZXJyb3IubWVzc2FnZSwgd2Fsa2luZ1BhdGgpKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0aGFuZGxlRXJyb3IoY2IsIHdhbGtpbmdQYXRoKShlcnJvcik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHR9O1xuXG5cdFx0Z2V0SGFuZGxlUGFydHMocGF0aFBhcnRzKTtcblx0fVxufVxuIiwgImltcG9ydCB7IEJhc2VGaWxlU3lzdGVtLCBGaWxlU3lzdGVtLCBCRlNDYWxsYmFjaywgRmlsZVN5c3RlbU9wdGlvbnMgfSBmcm9tICcuLi9jb3JlL2ZpbGVfc3lzdGVtJztcbmltcG9ydCAqIGFzIHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgeyBBcGlFcnJvciB9IGZyb20gJy4uL2NvcmUvYXBpX2Vycm9yJztcbmltcG9ydCBDcmVkIGZyb20gJy4uL2NvcmUvY3JlZCc7XG5cbi8qKlxuICogQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciBhIEZvbGRlckFkYXB0ZXIgZmlsZSBzeXN0ZW0uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRm9sZGVyQWRhcHRlck9wdGlvbnMge1xuXHQvLyBUaGUgZm9sZGVyIHRvIHVzZSBhcyB0aGUgcm9vdCBkaXJlY3RvcnkuXG5cdGZvbGRlcjogc3RyaW5nO1xuXHQvLyBUaGUgZmlsZSBzeXN0ZW0gdG8gd3JhcC5cblx0d3JhcHBlZDogRmlsZVN5c3RlbTtcbn1cblxuLyoqXG4gKiBUaGUgRm9sZGVyQWRhcHRlciBmaWxlIHN5c3RlbSB3cmFwcyBhIGZpbGUgc3lzdGVtLCBhbmQgc2NvcGVzIGFsbCBpbnRlcmFjdGlvbnMgdG8gYSBzdWJmb2xkZXIgb2YgdGhhdCBmaWxlIHN5c3RlbS5cbiAqXG4gKiBFeGFtcGxlOiBHaXZlbiBhIGZpbGUgc3lzdGVtIGBmb29gIHdpdGggZm9sZGVyIGBiYXJgIGFuZCBmaWxlIGBiYXIvYmF6YC4uLlxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIEJyb3dzZXJGUy5jb25maWd1cmUoe1xuICogICBmczogXCJGb2xkZXJBZGFwdGVyXCIsXG4gKiAgIG9wdGlvbnM6IHtcbiAqICAgICBmb2xkZXI6IFwiYmFyXCIsXG4gKiAgICAgd3JhcHBlZDogZm9vXG4gKiAgIH1cbiAqIH0sIGZ1bmN0aW9uKGUpIHtcbiAqICAgdmFyIGZzID0gQnJvd3NlckZTLkJGU1JlcXVpcmUoJ2ZzJyk7XG4gKiAgIGZzLnJlYWRkaXJTeW5jKCcvJyk7IC8vIFsnYmF6J11cbiAqIH0pO1xuICogYGBgXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvbGRlckFkYXB0ZXIgZXh0ZW5kcyBCYXNlRmlsZVN5c3RlbSBpbXBsZW1lbnRzIEZpbGVTeXN0ZW0ge1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE5hbWUgPSAnRm9sZGVyQWRhcHRlcic7XG5cblx0cHVibGljIHN0YXRpYyByZWFkb25seSBPcHRpb25zOiBGaWxlU3lzdGVtT3B0aW9ucyA9IHtcblx0XHRmb2xkZXI6IHtcblx0XHRcdHR5cGU6ICdzdHJpbmcnLFxuXHRcdFx0ZGVzY3JpcHRpb246ICdUaGUgZm9sZGVyIHRvIHVzZSBhcyB0aGUgcm9vdCBkaXJlY3RvcnknLFxuXHRcdH0sXG5cdFx0d3JhcHBlZDoge1xuXHRcdFx0dHlwZTogJ29iamVjdCcsXG5cdFx0XHRkZXNjcmlwdGlvbjogJ1RoZSBmaWxlIHN5c3RlbSB0byB3cmFwJyxcblx0XHR9LFxuXHR9O1xuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGEgRm9sZGVyQWRhcHRlciBpbnN0YW5jZSB3aXRoIHRoZSBnaXZlbiBvcHRpb25zLlxuXHQgKi9cblx0cHVibGljIHN0YXRpYyBDcmVhdGUob3B0czogRm9sZGVyQWRhcHRlck9wdGlvbnMsIGNiOiBCRlNDYWxsYmFjazxGb2xkZXJBZGFwdGVyPik6IHZvaWQge1xuXHRcdGNvbnN0IGZhID0gbmV3IEZvbGRlckFkYXB0ZXIob3B0cy5mb2xkZXIsIG9wdHMud3JhcHBlZCk7XG5cdFx0ZmEuX2luaXRpYWxpemUoZnVuY3Rpb24gKGU/KSB7XG5cdFx0XHRpZiAoZSkge1xuXHRcdFx0XHRjYihlKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNiKG51bGwsIGZhKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdHB1YmxpYyBzdGF0aWMgQ3JlYXRlQXN5bmMob3B0czogRm9sZGVyQWRhcHRlck9wdGlvbnMpOiBQcm9taXNlPEZvbGRlckFkYXB0ZXI+IHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0dGhpcy5DcmVhdGUob3B0cywgKGVycm9yLCBmcykgPT4ge1xuXHRcdFx0XHRpZiAoZXJyb3IgfHwgIWZzKSB7XG5cdFx0XHRcdFx0cmVqZWN0KGVycm9yKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyZXNvbHZlKGZzKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXHRwdWJsaWMgc3RhdGljIGlzQXZhaWxhYmxlKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0cHVibGljIF93cmFwcGVkOiBGaWxlU3lzdGVtO1xuXHRwdWJsaWMgX2ZvbGRlcjogc3RyaW5nO1xuXG5cdHByaXZhdGUgY29uc3RydWN0b3IoZm9sZGVyOiBzdHJpbmcsIHdyYXBwZWQ6IEZpbGVTeXN0ZW0pIHtcblx0XHRzdXBlcigpO1xuXHRcdHRoaXMuX2ZvbGRlciA9IGZvbGRlcjtcblx0XHR0aGlzLl93cmFwcGVkID0gd3JhcHBlZDtcblx0fVxuXG5cdHB1YmxpYyBnZXROYW1lKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIHRoaXMuX3dyYXBwZWQuZ2V0TmFtZSgpO1xuXHR9XG5cdHB1YmxpYyBpc1JlYWRPbmx5KCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0aGlzLl93cmFwcGVkLmlzUmVhZE9ubHkoKTtcblx0fVxuXHRwdWJsaWMgc3VwcG9ydHNQcm9wcygpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdGhpcy5fd3JhcHBlZC5zdXBwb3J0c1Byb3BzKCk7XG5cdH1cblx0cHVibGljIHN1cHBvcnRzU3luY2goKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMuX3dyYXBwZWQuc3VwcG9ydHNTeW5jaCgpO1xuXHR9XG5cdHB1YmxpYyBzdXBwb3J0c0xpbmtzKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBJbml0aWFsaXplIHRoZSBmaWxlIHN5c3RlbS4gRW5zdXJlcyB0aGF0IHRoZSB3cmFwcGVkIGZpbGUgc3lzdGVtXG5cdCAqIGhhcyB0aGUgZ2l2ZW4gZm9sZGVyLlxuXHQgKi9cblx0cHJpdmF0ZSBfaW5pdGlhbGl6ZShjYjogKGU/OiBBcGlFcnJvcikgPT4gdm9pZCkge1xuXHRcdHRoaXMuX3dyYXBwZWQuZXhpc3RzKHRoaXMuX2ZvbGRlciwgQ3JlZC5Sb290LCAoZXhpc3RzOiBib29sZWFuKSA9PiB7XG5cdFx0XHRpZiAoZXhpc3RzKSB7XG5cdFx0XHRcdGNiKCk7XG5cdFx0XHR9IGVsc2UgaWYgKHRoaXMuX3dyYXBwZWQuaXNSZWFkT25seSgpKSB7XG5cdFx0XHRcdGNiKEFwaUVycm9yLkVOT0VOVCh0aGlzLl9mb2xkZXIpKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuX3dyYXBwZWQubWtkaXIodGhpcy5fZm9sZGVyLCAweDFmZiwgQ3JlZC5Sb290LCBjYik7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cbn1cblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmZ1bmN0aW9uIHRyYW5zbGF0ZUVycm9yKGZvbGRlcjogc3RyaW5nLCBlOiBhbnkpOiBhbnkge1xuXHRpZiAoZSAhPT0gbnVsbCAmJiB0eXBlb2YgZSA9PT0gJ29iamVjdCcpIHtcblx0XHRjb25zdCBlcnIgPSA8QXBpRXJyb3I+ZTtcblx0XHRsZXQgcCA9IGVyci5wYXRoO1xuXHRcdGlmIChwKSB7XG5cdFx0XHRwID0gJy8nICsgcGF0aC5yZWxhdGl2ZShmb2xkZXIsIHApO1xuXHRcdFx0ZXJyLm1lc3NhZ2UgPSBlcnIubWVzc2FnZS5yZXBsYWNlKGVyci5wYXRoISwgcCk7XG5cdFx0XHRlcnIucGF0aCA9IHA7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBlO1xufVxuXG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuZnVuY3Rpb24gd3JhcENhbGxiYWNrKGZvbGRlcjogc3RyaW5nLCBjYjogYW55KTogYW55IHtcblx0aWYgKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdHJldHVybiBmdW5jdGlvbiAoZXJyOiBBcGlFcnJvcikge1xuXHRcdFx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdGFyZ3VtZW50c1swXSA9IHRyYW5zbGF0ZUVycm9yKGZvbGRlciwgZXJyKTtcblx0XHRcdH1cblx0XHRcdCg8RnVuY3Rpb24+Y2IpLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG5cdFx0fTtcblx0fSBlbHNlIHtcblx0XHRyZXR1cm4gY2I7XG5cdH1cbn1cblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmZ1bmN0aW9uIHdyYXBGdW5jdGlvbihuYW1lOiBzdHJpbmcsIHdyYXBGaXJzdDogYm9vbGVhbiwgd3JhcFNlY29uZDogYm9vbGVhbik6IEZ1bmN0aW9uIHtcblx0aWYgKG5hbWUuc2xpY2UobmFtZS5sZW5ndGggLSA0KSAhPT0gJ1N5bmMnKSB7XG5cdFx0Ly8gQXN5bmMgZnVuY3Rpb24uIFRyYW5zbGF0ZSBlcnJvciBpbiBjYWxsYmFjay5cblx0XHRyZXR1cm4gZnVuY3Rpb24gKHRoaXM6IEZvbGRlckFkYXB0ZXIpIHtcblx0XHRcdGlmIChhcmd1bWVudHMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRpZiAod3JhcEZpcnN0KSB7XG5cdFx0XHRcdFx0YXJndW1lbnRzWzBdID0gcGF0aC5qb2luKHRoaXMuX2ZvbGRlciwgYXJndW1lbnRzWzBdKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAod3JhcFNlY29uZCkge1xuXHRcdFx0XHRcdGFyZ3VtZW50c1sxXSA9IHBhdGguam9pbih0aGlzLl9mb2xkZXIsIGFyZ3VtZW50c1sxXSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0YXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGggLSAxXSA9IHdyYXBDYWxsYmFjayh0aGlzLl9mb2xkZXIsIGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoIC0gMV0pO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuICg8YW55PnRoaXMuX3dyYXBwZWQpW25hbWVdLmFwcGx5KHRoaXMuX3dyYXBwZWQsIGFyZ3VtZW50cyk7XG5cdFx0fTtcblx0fSBlbHNlIHtcblx0XHQvLyBTeW5jIGZ1bmN0aW9uLiBUcmFuc2xhdGUgZXJyb3IgaW4gY2F0Y2guXG5cdFx0cmV0dXJuIGZ1bmN0aW9uICh0aGlzOiBGb2xkZXJBZGFwdGVyKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRpZiAod3JhcEZpcnN0KSB7XG5cdFx0XHRcdFx0YXJndW1lbnRzWzBdID0gcGF0aC5qb2luKHRoaXMuX2ZvbGRlciwgYXJndW1lbnRzWzBdKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAod3JhcFNlY29uZCkge1xuXHRcdFx0XHRcdGFyZ3VtZW50c1sxXSA9IHBhdGguam9pbih0aGlzLl9mb2xkZXIsIGFyZ3VtZW50c1sxXSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuICg8YW55PnRoaXMuX3dyYXBwZWQpW25hbWVdLmFwcGx5KHRoaXMuX3dyYXBwZWQsIGFyZ3VtZW50cyk7XG5cdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdHRocm93IHRyYW5zbGF0ZUVycm9yKHRoaXMuX2ZvbGRlciwgZSk7XG5cdFx0XHR9XG5cdFx0fTtcblx0fVxufVxuXG4vLyBGaXJzdCBhcmd1bWVudCBpcyBhIHBhdGguXG5bXG5cdCdkaXNrU3BhY2UnLFxuXHQnc3RhdCcsXG5cdCdzdGF0U3luYycsXG5cdCdvcGVuJyxcblx0J29wZW5TeW5jJyxcblx0J3VubGluaycsXG5cdCd1bmxpbmtTeW5jJyxcblx0J3JtZGlyJyxcblx0J3JtZGlyU3luYycsXG5cdCdta2RpcicsXG5cdCdta2RpclN5bmMnLFxuXHQncmVhZGRpcicsXG5cdCdyZWFkZGlyU3luYycsXG5cdCdleGlzdHMnLFxuXHQnZXhpc3RzU3luYycsXG5cdCdyZWFscGF0aCcsXG5cdCdyZWFscGF0aFN5bmMnLFxuXHQndHJ1bmNhdGUnLFxuXHQndHJ1bmNhdGVTeW5jJyxcblx0J3JlYWRGaWxlJyxcblx0J3JlYWRGaWxlU3luYycsXG5cdCd3cml0ZUZpbGUnLFxuXHQnd3JpdGVGaWxlU3luYycsXG5cdCdhcHBlbmRGaWxlJyxcblx0J2FwcGVuZEZpbGVTeW5jJyxcblx0J2NobW9kJyxcblx0J2NobW9kU3luYycsXG5cdCdjaG93bicsXG5cdCdjaG93blN5bmMnLFxuXHQndXRpbWVzJyxcblx0J3V0aW1lc1N5bmMnLFxuXHQncmVhZGxpbmsnLFxuXHQncmVhZGxpbmtTeW5jJyxcbl0uZm9yRWFjaCgobmFtZTogc3RyaW5nKSA9PiB7XG5cdCg8YW55PkZvbGRlckFkYXB0ZXIucHJvdG90eXBlKVtuYW1lXSA9IHdyYXBGdW5jdGlvbihuYW1lLCB0cnVlLCBmYWxzZSk7XG59KTtcblxuLy8gRmlyc3QgYW5kIHNlY29uZCBhcmd1bWVudHMgYXJlIHBhdGhzLlxuWydyZW5hbWUnLCAncmVuYW1lU3luYycsICdsaW5rJywgJ2xpbmtTeW5jJywgJ3N5bWxpbmsnLCAnc3ltbGlua1N5bmMnXS5mb3JFYWNoKChuYW1lOiBzdHJpbmcpID0+IHtcblx0KDxhbnk+Rm9sZGVyQWRhcHRlci5wcm90b3R5cGUpW25hbWVdID0gd3JhcEZ1bmN0aW9uKG5hbWUsIHRydWUsIHRydWUpO1xufSk7XG4iLCAiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG4vLyBiYXNlZCBvZmYgaHR0cHM6Ly9naXRodWIuY29tL2RlZnVuY3R6b21iaWUvbm9kZS1wcm9jZXNzL2Jsb2IvbWFzdGVyL2Jyb3dzZXIuanNcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG52YXIgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbmlmICh0eXBlb2YgZ2xvYmFsLnNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbn1cbmlmICh0eXBlb2YgZ2xvYmFsLmNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbn1cblxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuZnVuY3Rpb24gbmV4dFRpY2soZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn1cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG52YXIgdGl0bGUgPSAnYnJvd3Nlcic7XG52YXIgcGxhdGZvcm0gPSAnYnJvd3Nlcic7XG52YXIgYnJvd3NlciA9IHRydWU7XG52YXIgZW52ID0ge307XG52YXIgYXJndiA9IFtdO1xudmFyIHZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnZhciB2ZXJzaW9ucyA9IHt9O1xudmFyIHJlbGVhc2UgPSB7fTtcbnZhciBjb25maWcgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnZhciBvbiA9IG5vb3A7XG52YXIgYWRkTGlzdGVuZXIgPSBub29wO1xudmFyIG9uY2UgPSBub29wO1xudmFyIG9mZiA9IG5vb3A7XG52YXIgcmVtb3ZlTGlzdGVuZXIgPSBub29wO1xudmFyIHJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG52YXIgZW1pdCA9IG5vb3A7XG5cbmZ1bmN0aW9uIGJpbmRpbmcobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn1cblxuZnVuY3Rpb24gY3dkICgpIHsgcmV0dXJuICcvJyB9XG5mdW5jdGlvbiBjaGRpciAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn1mdW5jdGlvbiB1bWFzaygpIHsgcmV0dXJuIDA7IH1cblxuLy8gZnJvbSBodHRwczovL2dpdGh1Yi5jb20va3VtYXZpcy9icm93c2VyLXByb2Nlc3MtaHJ0aW1lL2Jsb2IvbWFzdGVyL2luZGV4LmpzXG52YXIgcGVyZm9ybWFuY2UgPSBnbG9iYWwucGVyZm9ybWFuY2UgfHwge307XG52YXIgcGVyZm9ybWFuY2VOb3cgPVxuICBwZXJmb3JtYW5jZS5ub3cgICAgICAgIHx8XG4gIHBlcmZvcm1hbmNlLm1vek5vdyAgICAgfHxcbiAgcGVyZm9ybWFuY2UubXNOb3cgICAgICB8fFxuICBwZXJmb3JtYW5jZS5vTm93ICAgICAgIHx8XG4gIHBlcmZvcm1hbmNlLndlYmtpdE5vdyAgfHxcbiAgZnVuY3Rpb24oKXsgcmV0dXJuIChuZXcgRGF0ZSgpKS5nZXRUaW1lKCkgfTtcblxuLy8gZ2VuZXJhdGUgdGltZXN0YW1wIG9yIGRlbHRhXG4vLyBzZWUgaHR0cDovL25vZGVqcy5vcmcvYXBpL3Byb2Nlc3MuaHRtbCNwcm9jZXNzX3Byb2Nlc3NfaHJ0aW1lXG5mdW5jdGlvbiBocnRpbWUocHJldmlvdXNUaW1lc3RhbXApe1xuICB2YXIgY2xvY2t0aW1lID0gcGVyZm9ybWFuY2VOb3cuY2FsbChwZXJmb3JtYW5jZSkqMWUtMztcbiAgdmFyIHNlY29uZHMgPSBNYXRoLmZsb29yKGNsb2NrdGltZSk7XG4gIHZhciBuYW5vc2Vjb25kcyA9IE1hdGguZmxvb3IoKGNsb2NrdGltZSUxKSoxZTkpO1xuICBpZiAocHJldmlvdXNUaW1lc3RhbXApIHtcbiAgICBzZWNvbmRzID0gc2Vjb25kcyAtIHByZXZpb3VzVGltZXN0YW1wWzBdO1xuICAgIG5hbm9zZWNvbmRzID0gbmFub3NlY29uZHMgLSBwcmV2aW91c1RpbWVzdGFtcFsxXTtcbiAgICBpZiAobmFub3NlY29uZHM8MCkge1xuICAgICAgc2Vjb25kcy0tO1xuICAgICAgbmFub3NlY29uZHMgKz0gMWU5O1xuICAgIH1cbiAgfVxuICByZXR1cm4gW3NlY29uZHMsbmFub3NlY29uZHNdXG59XG5cbnZhciBzdGFydFRpbWUgPSBuZXcgRGF0ZSgpO1xuZnVuY3Rpb24gdXB0aW1lKCkge1xuICB2YXIgY3VycmVudFRpbWUgPSBuZXcgRGF0ZSgpO1xuICB2YXIgZGlmID0gY3VycmVudFRpbWUgLSBzdGFydFRpbWU7XG4gIHJldHVybiBkaWYgLyAxMDAwO1xufVxuXG52YXIgYnJvd3NlciQxID0ge1xuICBuZXh0VGljazogbmV4dFRpY2ssXG4gIHRpdGxlOiB0aXRsZSxcbiAgYnJvd3NlcjogYnJvd3NlcixcbiAgZW52OiBlbnYsXG4gIGFyZ3Y6IGFyZ3YsXG4gIHZlcnNpb246IHZlcnNpb24sXG4gIHZlcnNpb25zOiB2ZXJzaW9ucyxcbiAgb246IG9uLFxuICBhZGRMaXN0ZW5lcjogYWRkTGlzdGVuZXIsXG4gIG9uY2U6IG9uY2UsXG4gIG9mZjogb2ZmLFxuICByZW1vdmVMaXN0ZW5lcjogcmVtb3ZlTGlzdGVuZXIsXG4gIHJlbW92ZUFsbExpc3RlbmVyczogcmVtb3ZlQWxsTGlzdGVuZXJzLFxuICBlbWl0OiBlbWl0LFxuICBiaW5kaW5nOiBiaW5kaW5nLFxuICBjd2Q6IGN3ZCxcbiAgY2hkaXI6IGNoZGlyLFxuICB1bWFzazogdW1hc2ssXG4gIGhydGltZTogaHJ0aW1lLFxuICBwbGF0Zm9ybTogcGxhdGZvcm0sXG4gIHJlbGVhc2U6IHJlbGVhc2UsXG4gIGNvbmZpZzogY29uZmlnLFxuICB1cHRpbWU6IHVwdGltZVxufTtcblxuZXhwb3J0IGRlZmF1bHQgYnJvd3NlciQxO1xuZXhwb3J0IHsgYWRkTGlzdGVuZXIsIGFyZ3YsIGJpbmRpbmcsIGJyb3dzZXIsIGNoZGlyLCBjb25maWcsIGN3ZCwgZW1pdCwgZW52LCBocnRpbWUsIG5leHRUaWNrLCBvZmYsIG9uLCBvbmNlLCBwbGF0Zm9ybSwgcmVsZWFzZSwgcmVtb3ZlQWxsTGlzdGVuZXJzLCByZW1vdmVMaXN0ZW5lciwgdGl0bGUsIHVtYXNrLCB1cHRpbWUsIHZlcnNpb24sIHZlcnNpb25zIH07XG4iLCAiaW1wb3J0IHsgZGVmYXVsdCBhcyBTdGF0cywgRmlsZVR5cGUgfSBmcm9tICcuLi9jb3JlL3N0YXRzJztcbmltcG9ydCB7IEJ1ZmZlciB9IGZyb20gJ2J1ZmZlcic7XG5cbi8qKlxuICogR2VuZXJpYyBpbm9kZSBkZWZpbml0aW9uIHRoYXQgY2FuIGVhc2lseSBiZSBzZXJpYWxpemVkLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbm9kZSB7XG5cdC8qKlxuXHQgKiBDb252ZXJ0cyB0aGUgYnVmZmVyIGludG8gYW4gSW5vZGUuXG5cdCAqL1xuXHRwdWJsaWMgc3RhdGljIGZyb21CdWZmZXIoYnVmZmVyOiBCdWZmZXIpOiBJbm9kZSB7XG5cdFx0aWYgKGJ1ZmZlciA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ05PJyk7XG5cdFx0fVxuXHRcdHJldHVybiBuZXcgSW5vZGUoXG5cdFx0XHRidWZmZXIudG9TdHJpbmcoJ2FzY2lpJywgMzgpLFxuXHRcdFx0YnVmZmVyLnJlYWRVSW50MzJMRSgwKSxcblx0XHRcdGJ1ZmZlci5yZWFkVUludDE2TEUoNCksXG5cdFx0XHRidWZmZXIucmVhZERvdWJsZUxFKDYpLFxuXHRcdFx0YnVmZmVyLnJlYWREb3VibGVMRSgxNCksXG5cdFx0XHRidWZmZXIucmVhZERvdWJsZUxFKDIyKSxcblx0XHRcdGJ1ZmZlci5yZWFkVUludDMyTEUoMzApLFxuXHRcdFx0YnVmZmVyLnJlYWRVSW50MzJMRSgzNClcblx0XHQpO1xuXHR9XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0cHVibGljIGlkOiBzdHJpbmcsXG5cdFx0cHVibGljIHNpemU6IG51bWJlcixcblx0XHRwdWJsaWMgbW9kZTogbnVtYmVyLFxuXHRcdHB1YmxpYyBhdGltZTogbnVtYmVyLFxuXHRcdHB1YmxpYyBtdGltZTogbnVtYmVyLFxuXHRcdHB1YmxpYyBjdGltZTogbnVtYmVyLFxuXHRcdHB1YmxpYyB1aWQ6IG51bWJlcixcblx0XHRwdWJsaWMgZ2lkOiBudW1iZXJcblx0KSB7fVxuXG5cdC8qKlxuXHQgKiBIYW5keSBmdW5jdGlvbiB0aGF0IGNvbnZlcnRzIHRoZSBJbm9kZSB0byBhIE5vZGUgU3RhdHMgb2JqZWN0LlxuXHQgKi9cblx0cHVibGljIHRvU3RhdHMoKTogU3RhdHMge1xuXHRcdHJldHVybiBuZXcgU3RhdHMoXG5cdFx0XHQodGhpcy5tb2RlICYgMHhmMDAwKSA9PT0gRmlsZVR5cGUuRElSRUNUT1JZID8gRmlsZVR5cGUuRElSRUNUT1JZIDogRmlsZVR5cGUuRklMRSxcblx0XHRcdHRoaXMuc2l6ZSxcblx0XHRcdHRoaXMubW9kZSxcblx0XHRcdHRoaXMuYXRpbWUsXG5cdFx0XHR0aGlzLm10aW1lLFxuXHRcdFx0dGhpcy5jdGltZSxcblx0XHRcdHRoaXMudWlkLFxuXHRcdFx0dGhpcy5naWRcblx0XHQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldCB0aGUgc2l6ZSBvZiB0aGlzIElub2RlLCBpbiBieXRlcy5cblx0ICovXG5cdHB1YmxpYyBnZXRTaXplKCk6IG51bWJlciB7XG5cdFx0Ly8gQVNTVU1QVElPTjogSUQgaXMgQVNDSUkgKDEgYnl0ZSBwZXIgY2hhcikuXG5cdFx0cmV0dXJuIDM4ICsgdGhpcy5pZC5sZW5ndGg7XG5cdH1cblxuXHQvKipcblx0ICogV3JpdGVzIHRoZSBpbm9kZSBpbnRvIHRoZSBzdGFydCBvZiB0aGUgYnVmZmVyLlxuXHQgKi9cblx0cHVibGljIHRvQnVmZmVyKGJ1ZmY6IEJ1ZmZlciA9IEJ1ZmZlci5hbGxvYyh0aGlzLmdldFNpemUoKSkpOiBCdWZmZXIge1xuXHRcdGJ1ZmYud3JpdGVVSW50MzJMRSh0aGlzLnNpemUsIDApO1xuXHRcdGJ1ZmYud3JpdGVVSW50MTZMRSh0aGlzLm1vZGUsIDQpO1xuXHRcdGJ1ZmYud3JpdGVEb3VibGVMRSh0aGlzLmF0aW1lLCA2KTtcblx0XHRidWZmLndyaXRlRG91YmxlTEUodGhpcy5tdGltZSwgMTQpO1xuXHRcdGJ1ZmYud3JpdGVEb3VibGVMRSh0aGlzLmN0aW1lLCAyMik7XG5cdFx0YnVmZi53cml0ZVVJbnQzMkxFKHRoaXMudWlkLCAzMCk7XG5cdFx0YnVmZi53cml0ZVVJbnQzMkxFKHRoaXMuZ2lkLCAzNCk7XG5cdFx0YnVmZi53cml0ZSh0aGlzLmlkLCAzOCwgdGhpcy5pZC5sZW5ndGgsICdhc2NpaScpO1xuXHRcdHJldHVybiBidWZmO1xuXHR9XG5cblx0LyoqXG5cdCAqIFVwZGF0ZXMgdGhlIElub2RlIHVzaW5nIGluZm9ybWF0aW9uIGZyb20gdGhlIHN0YXRzIG9iamVjdC4gVXNlZCBieSBmaWxlXG5cdCAqIHN5c3RlbXMgYXQgc3luYyB0aW1lLCBlLmcuOlxuXHQgKiAtIFByb2dyYW0gb3BlbnMgZmlsZSBhbmQgZ2V0cyBhIEZpbGUgb2JqZWN0LlxuXHQgKiAtIFByb2dyYW0gbXV0YXRlcyBmaWxlLiBGaWxlIG9iamVjdCBpcyByZXNwb25zaWJsZSBmb3IgbWFpbnRhaW5pbmdcblx0ICogICBtZXRhZGF0YSBjaGFuZ2VzIGxvY2FsbHkgLS0gdHlwaWNhbGx5IGluIGEgU3RhdHMgb2JqZWN0LlxuXHQgKiAtIFByb2dyYW0gY2xvc2VzIGZpbGUuIEZpbGUgb2JqZWN0J3MgbWV0YWRhdGEgY2hhbmdlcyBhcmUgc3luY2VkIHdpdGggdGhlXG5cdCAqICAgZmlsZSBzeXN0ZW0uXG5cdCAqIEByZXR1cm4gVHJ1ZSBpZiBhbnkgY2hhbmdlcyBoYXZlIG9jY3VycmVkLlxuXHQgKi9cblx0cHVibGljIHVwZGF0ZShzdGF0czogU3RhdHMpOiBib29sZWFuIHtcblx0XHRsZXQgaGFzQ2hhbmdlZCA9IGZhbHNlO1xuXHRcdGlmICh0aGlzLnNpemUgIT09IHN0YXRzLnNpemUpIHtcblx0XHRcdHRoaXMuc2l6ZSA9IHN0YXRzLnNpemU7XG5cdFx0XHRoYXNDaGFuZ2VkID0gdHJ1ZTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5tb2RlICE9PSBzdGF0cy5tb2RlKSB7XG5cdFx0XHR0aGlzLm1vZGUgPSBzdGF0cy5tb2RlO1xuXHRcdFx0aGFzQ2hhbmdlZCA9IHRydWU7XG5cdFx0fVxuXG5cdFx0Y29uc3QgYXRpbWVNcyA9IHN0YXRzLmF0aW1lLmdldFRpbWUoKTtcblx0XHRpZiAodGhpcy5hdGltZSAhPT0gYXRpbWVNcykge1xuXHRcdFx0dGhpcy5hdGltZSA9IGF0aW1lTXM7XG5cdFx0XHRoYXNDaGFuZ2VkID0gdHJ1ZTtcblx0XHR9XG5cblx0XHRjb25zdCBtdGltZU1zID0gc3RhdHMubXRpbWUuZ2V0VGltZSgpO1xuXHRcdGlmICh0aGlzLm10aW1lICE9PSBtdGltZU1zKSB7XG5cdFx0XHR0aGlzLm10aW1lID0gbXRpbWVNcztcblx0XHRcdGhhc0NoYW5nZWQgPSB0cnVlO1xuXHRcdH1cblxuXHRcdGNvbnN0IGN0aW1lTXMgPSBzdGF0cy5jdGltZS5nZXRUaW1lKCk7XG5cdFx0aWYgKHRoaXMuY3RpbWUgIT09IGN0aW1lTXMpIHtcblx0XHRcdHRoaXMuY3RpbWUgPSBjdGltZU1zO1xuXHRcdFx0aGFzQ2hhbmdlZCA9IHRydWU7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMudWlkICE9PSBzdGF0cy51aWQpIHtcblx0XHRcdHRoaXMudWlkID0gc3RhdHMudWlkO1xuXHRcdFx0aGFzQ2hhbmdlZCA9IHRydWU7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMudWlkICE9PSBzdGF0cy51aWQpIHtcblx0XHRcdHRoaXMudWlkID0gc3RhdHMudWlkO1xuXHRcdFx0aGFzQ2hhbmdlZCA9IHRydWU7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGhhc0NoYW5nZWQ7XG5cdH1cblxuXHQvLyBYWFg6IENvcGllZCBmcm9tIFN0YXRzLiBTaG91bGQgcmVjb25jaWxlIHRoZXNlIHR3byBpbnRvIHNvbWV0aGluZyBtb3JlXG5cdC8vICAgICAgY29tcGFjdC5cblxuXHQvKipcblx0ICogQHJldHVybiBbQm9vbGVhbl0gVHJ1ZSBpZiB0aGlzIGl0ZW0gaXMgYSBmaWxlLlxuXHQgKi9cblx0cHVibGljIGlzRmlsZSgpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gKHRoaXMubW9kZSAmIDB4ZjAwMCkgPT09IEZpbGVUeXBlLkZJTEU7XG5cdH1cblxuXHQvKipcblx0ICogQHJldHVybiBbQm9vbGVhbl0gVHJ1ZSBpZiB0aGlzIGl0ZW0gaXMgYSBkaXJlY3RvcnkuXG5cdCAqL1xuXHRwdWJsaWMgaXNEaXJlY3RvcnkoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuICh0aGlzLm1vZGUgJiAweGYwMDApID09PSBGaWxlVHlwZS5ESVJFQ1RPUlk7XG5cdH1cbn1cbiIsICJpbXBvcnQgeyBCYXNlRmlsZVN5c3RlbSwgU3luY2hyb25vdXNGaWxlU3lzdGVtLCBCRlNPbmVBcmdDYWxsYmFjaywgQkZTQ2FsbGJhY2ssIEJGU1RocmVlQXJnQ2FsbGJhY2sgfSBmcm9tICcuLi9jb3JlL2ZpbGVfc3lzdGVtJztcbmltcG9ydCB7IEFwaUVycm9yLCBFcnJvckNvZGUgfSBmcm9tICcuLi9jb3JlL2FwaV9lcnJvcic7XG5pbXBvcnQgeyBkZWZhdWx0IGFzIFN0YXRzLCBGaWxlVHlwZSwgRmlsZVBlcm0gfSBmcm9tICcuLi9jb3JlL3N0YXRzJztcbmltcG9ydCB7IEZpbGUgfSBmcm9tICcuLi9jb3JlL2ZpbGUnO1xuaW1wb3J0IHsgRmlsZUZsYWcgfSBmcm9tICcuLi9jb3JlL2ZpbGVfZmxhZyc7XG5pbXBvcnQgKiBhcyBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0ICogYXMgcHJvY2VzcyBmcm9tICdwcm9jZXNzJztcbmltcG9ydCBJbm9kZSBmcm9tICcuLi9nZW5lcmljL2lub2RlJztcbmltcG9ydCBQcmVsb2FkRmlsZSBmcm9tICcuLi9nZW5lcmljL3ByZWxvYWRfZmlsZSc7XG5pbXBvcnQgeyBlbXB0eUJ1ZmZlciB9IGZyb20gJy4uL2NvcmUvdXRpbCc7XG5pbXBvcnQgQ3JlZCBmcm9tICcuLi9jb3JlL2NyZWQnO1xuaW1wb3J0IHsgQnVmZmVyIH0gZnJvbSAnYnVmZmVyJztcbi8qKlxuICogQGhpZGRlblxuICovXG5jb25zdCBST09UX05PREVfSUQ6IHN0cmluZyA9ICcvJztcbi8qKlxuICogQGhpZGRlblxuICovXG5sZXQgZW1wdHlEaXJOb2RlOiBCdWZmZXIgfCBudWxsID0gbnVsbDtcbi8qKlxuICogUmV0dXJucyBhbiBlbXB0eSBkaXJlY3Rvcnkgbm9kZS5cbiAqIEBoaWRkZW5cbiAqL1xuZnVuY3Rpb24gZ2V0RW1wdHlEaXJOb2RlKCk6IEJ1ZmZlciB7XG5cdGlmIChlbXB0eURpck5vZGUpIHtcblx0XHRyZXR1cm4gZW1wdHlEaXJOb2RlO1xuXHR9XG5cdHJldHVybiAoZW1wdHlEaXJOb2RlID0gQnVmZmVyLmZyb20oJ3t9JykpO1xufVxuXG4vKipcbiAqIEdlbmVyYXRlcyBhIHJhbmRvbSBJRC5cbiAqIEBoaWRkZW5cbiAqL1xuZnVuY3Rpb24gR2VuZXJhdGVSYW5kb21JRCgpOiBzdHJpbmcge1xuXHQvLyBGcm9tIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTA1MDM0L2hvdy10by1jcmVhdGUtYS1ndWlkLXV1aWQtaW4tamF2YXNjcmlwdFxuXHRyZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykge1xuXHRcdGNvbnN0IHIgPSAoTWF0aC5yYW5kb20oKSAqIDE2KSB8IDA7XG5cdFx0Y29uc3QgdiA9IGMgPT09ICd4JyA/IHIgOiAociAmIDB4MykgfCAweDg7XG5cdFx0cmV0dXJuIHYudG9TdHJpbmcoMTYpO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24uIENoZWNrcyBpZiAnZScgaXMgZGVmaW5lZC4gSWYgc28sIGl0IHRyaWdnZXJzIHRoZSBjYWxsYmFja1xuICogd2l0aCAnZScgYW5kIHJldHVybnMgZmFsc2UuIE90aGVyd2lzZSwgcmV0dXJucyB0cnVlLlxuICogQGhpZGRlblxuICovXG5mdW5jdGlvbiBub0Vycm9yKGU6IEFwaUVycm9yIHwgdW5kZWZpbmVkIHwgbnVsbCwgY2I6IChlOiBBcGlFcnJvcikgPT4gdm9pZCk6IGJvb2xlYW4ge1xuXHRpZiAoZSkge1xuXHRcdGNiKGUpO1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXHRyZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24uIENoZWNrcyBpZiAnZScgaXMgZGVmaW5lZC4gSWYgc28sIGl0IGFib3J0cyB0aGUgdHJhbnNhY3Rpb24sXG4gKiB0cmlnZ2VycyB0aGUgY2FsbGJhY2sgd2l0aCAnZScsIGFuZCByZXR1cm5zIGZhbHNlLiBPdGhlcndpc2UsIHJldHVybnMgdHJ1ZS5cbiAqIEBoaWRkZW5cbiAqL1xuZnVuY3Rpb24gbm9FcnJvclR4KGU6IEFwaUVycm9yIHwgdW5kZWZpbmVkIHwgbnVsbCwgdHg6IEFzeW5jS2V5VmFsdWVSV1RyYW5zYWN0aW9uLCBjYjogKGU6IEFwaUVycm9yKSA9PiB2b2lkKTogYm9vbGVhbiB7XG5cdGlmIChlKSB7XG5cdFx0dHguYWJvcnQoKCkgPT4ge1xuXHRcdFx0Y2IoZSk7XG5cdFx0fSk7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cdHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgYSAqc3luY2hyb25vdXMqIGtleS12YWx1ZSBzdG9yZS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTeW5jS2V5VmFsdWVTdG9yZSB7XG5cdC8qKlxuXHQgKiBUaGUgbmFtZSBvZiB0aGUga2V5LXZhbHVlIHN0b3JlLlxuXHQgKi9cblx0bmFtZSgpOiBzdHJpbmc7XG5cdC8qKlxuXHQgKiBFbXB0aWVzIHRoZSBrZXktdmFsdWUgc3RvcmUgY29tcGxldGVseS5cblx0ICovXG5cdGNsZWFyKCk6IHZvaWQ7XG5cdC8qKlxuXHQgKiBCZWdpbnMgYSBuZXcgcmVhZC1vbmx5IHRyYW5zYWN0aW9uLlxuXHQgKi9cblx0YmVnaW5UcmFuc2FjdGlvbih0eXBlOiAncmVhZG9ubHknKTogU3luY0tleVZhbHVlUk9UcmFuc2FjdGlvbjtcblx0LyoqXG5cdCAqIEJlZ2lucyBhIG5ldyByZWFkLXdyaXRlIHRyYW5zYWN0aW9uLlxuXHQgKi9cblx0YmVnaW5UcmFuc2FjdGlvbih0eXBlOiAncmVhZHdyaXRlJyk6IFN5bmNLZXlWYWx1ZVJXVHJhbnNhY3Rpb247XG5cdGJlZ2luVHJhbnNhY3Rpb24odHlwZTogc3RyaW5nKTogU3luY0tleVZhbHVlUk9UcmFuc2FjdGlvbjtcbn1cblxuLyoqXG4gKiBBIHJlYWQtb25seSB0cmFuc2FjdGlvbiBmb3IgYSBzeW5jaHJvbm91cyBrZXkgdmFsdWUgc3RvcmUuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3luY0tleVZhbHVlUk9UcmFuc2FjdGlvbiB7XG5cdC8qKlxuXHQgKiBSZXRyaWV2ZXMgdGhlIGRhdGEgYXQgdGhlIGdpdmVuIGtleS4gVGhyb3dzIGFuIEFwaUVycm9yIGlmIGFuIGVycm9yIG9jY3Vyc1xuXHQgKiBvciBpZiB0aGUga2V5IGRvZXMgbm90IGV4aXN0LlxuXHQgKiBAcGFyYW0ga2V5IFRoZSBrZXkgdG8gbG9vayB1bmRlciBmb3IgZGF0YS5cblx0ICogQHJldHVybiBUaGUgZGF0YSBzdG9yZWQgdW5kZXIgdGhlIGtleSwgb3IgdW5kZWZpbmVkIGlmIG5vdCBwcmVzZW50LlxuXHQgKi9cblx0Z2V0KGtleTogc3RyaW5nKTogQnVmZmVyIHwgdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIEEgcmVhZC13cml0ZSB0cmFuc2FjdGlvbiBmb3IgYSBzeW5jaHJvbm91cyBrZXkgdmFsdWUgc3RvcmUuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3luY0tleVZhbHVlUldUcmFuc2FjdGlvbiBleHRlbmRzIFN5bmNLZXlWYWx1ZVJPVHJhbnNhY3Rpb24ge1xuXHQvKipcblx0ICogQWRkcyB0aGUgZGF0YSB0byB0aGUgc3RvcmUgdW5kZXIgdGhlIGdpdmVuIGtleS5cblx0ICogQHBhcmFtIGtleSBUaGUga2V5IHRvIGFkZCB0aGUgZGF0YSB1bmRlci5cblx0ICogQHBhcmFtIGRhdGEgVGhlIGRhdGEgdG8gYWRkIHRvIHRoZSBzdG9yZS5cblx0ICogQHBhcmFtIG92ZXJ3cml0ZSBJZiAndHJ1ZScsIG92ZXJ3cml0ZSBhbnkgZXhpc3RpbmcgZGF0YS4gSWYgJ2ZhbHNlJyxcblx0ICogICBhdm9pZHMgc3RvcmluZyB0aGUgZGF0YSBpZiB0aGUga2V5IGV4aXN0cy5cblx0ICogQHJldHVybiBUcnVlIGlmIHN0b3JhZ2Ugc3VjY2VlZGVkLCBmYWxzZSBvdGhlcndpc2UuXG5cdCAqL1xuXHRwdXQoa2V5OiBzdHJpbmcsIGRhdGE6IEJ1ZmZlciwgb3ZlcndyaXRlOiBib29sZWFuKTogYm9vbGVhbjtcblx0LyoqXG5cdCAqIERlbGV0ZXMgdGhlIGRhdGEgYXQgdGhlIGdpdmVuIGtleS5cblx0ICogQHBhcmFtIGtleSBUaGUga2V5IHRvIGRlbGV0ZSBmcm9tIHRoZSBzdG9yZS5cblx0ICovXG5cdGRlbChrZXk6IHN0cmluZyk6IHZvaWQ7XG5cdC8qKlxuXHQgKiBDb21taXRzIHRoZSB0cmFuc2FjdGlvbi5cblx0ICovXG5cdGNvbW1pdCgpOiB2b2lkO1xuXHQvKipcblx0ICogQWJvcnRzIGFuZCByb2xscyBiYWNrIHRoZSB0cmFuc2FjdGlvbi5cblx0ICovXG5cdGFib3J0KCk6IHZvaWQ7XG59XG5cbi8qKlxuICogQW4gaW50ZXJmYWNlIGZvciBzaW1wbGUgc3luY2hyb25vdXMga2V5LXZhbHVlIHN0b3JlcyB0aGF0IGRvbid0IGhhdmUgc3BlY2lhbFxuICogc3VwcG9ydCBmb3IgdHJhbnNhY3Rpb25zIGFuZCBzdWNoLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNpbXBsZVN5bmNTdG9yZSB7XG5cdGdldChrZXk6IHN0cmluZyk6IEJ1ZmZlciB8IHVuZGVmaW5lZDtcblx0cHV0KGtleTogc3RyaW5nLCBkYXRhOiBCdWZmZXIsIG92ZXJ3cml0ZTogYm9vbGVhbik6IGJvb2xlYW47XG5cdGRlbChrZXk6IHN0cmluZyk6IHZvaWQ7XG59XG5cbmNsYXNzIExSVU5vZGUge1xuXHRwdWJsaWMgcHJldjogTFJVTm9kZSB8IG51bGwgPSBudWxsO1xuXHRwdWJsaWMgbmV4dDogTFJVTm9kZSB8IG51bGwgPSBudWxsO1xuXHRjb25zdHJ1Y3RvcihwdWJsaWMga2V5OiBzdHJpbmcsIHB1YmxpYyB2YWx1ZTogc3RyaW5nKSB7fVxufVxuXG4vLyBBZGFwdGVkIGZyb20gaHR0cHM6Ly9jaHJpc3JuZy5zdmJ0bGUuY29tL2xydS1jYWNoZS1pbi1qYXZhc2NyaXB0XG5jbGFzcyBMUlVDYWNoZSB7XG5cdHByaXZhdGUgc2l6ZSA9IDA7XG5cdHByaXZhdGUgbWFwOiB7IFtpZDogc3RyaW5nXTogTFJVTm9kZSB9ID0ge307XG5cdHByaXZhdGUgaGVhZDogTFJVTm9kZSB8IG51bGwgPSBudWxsO1xuXHRwcml2YXRlIHRhaWw6IExSVU5vZGUgfCBudWxsID0gbnVsbDtcblx0Y29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IGxpbWl0OiBudW1iZXIpIHt9XG5cblx0LyoqXG5cdCAqIENoYW5nZSBvciBhZGQgYSBuZXcgdmFsdWUgaW4gdGhlIGNhY2hlXG5cdCAqIFdlIG92ZXJ3cml0ZSB0aGUgZW50cnkgaWYgaXQgYWxyZWFkeSBleGlzdHNcblx0ICovXG5cdHB1YmxpYyBzZXQoa2V5OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpOiB2b2lkIHtcblx0XHRjb25zdCBub2RlID0gbmV3IExSVU5vZGUoa2V5LCB2YWx1ZSk7XG5cdFx0aWYgKHRoaXMubWFwW2tleV0pIHtcblx0XHRcdHRoaXMubWFwW2tleV0udmFsdWUgPSBub2RlLnZhbHVlO1xuXHRcdFx0dGhpcy5yZW1vdmUobm9kZS5rZXkpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAodGhpcy5zaXplID49IHRoaXMubGltaXQpIHtcblx0XHRcdFx0ZGVsZXRlIHRoaXMubWFwW3RoaXMudGFpbCEua2V5XTtcblx0XHRcdFx0dGhpcy5zaXplLS07XG5cdFx0XHRcdHRoaXMudGFpbCA9IHRoaXMudGFpbCEucHJldjtcblx0XHRcdFx0dGhpcy50YWlsIS5uZXh0ID0gbnVsbDtcblx0XHRcdH1cblx0XHR9XG5cdFx0dGhpcy5zZXRIZWFkKG5vZGUpO1xuXHR9XG5cblx0LyogUmV0cmlldmUgYSBzaW5nbGUgZW50cnkgZnJvbSB0aGUgY2FjaGUgKi9cblx0cHVibGljIGdldChrZXk6IHN0cmluZyk6IHN0cmluZyB8IG51bGwge1xuXHRcdGlmICh0aGlzLm1hcFtrZXldKSB7XG5cdFx0XHRjb25zdCB2YWx1ZSA9IHRoaXMubWFwW2tleV0udmFsdWU7XG5cdFx0XHRjb25zdCBub2RlID0gbmV3IExSVU5vZGUoa2V5LCB2YWx1ZSk7XG5cdFx0XHR0aGlzLnJlbW92ZShrZXkpO1xuXHRcdFx0dGhpcy5zZXRIZWFkKG5vZGUpO1xuXHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cdH1cblxuXHQvKiBSZW1vdmUgYSBzaW5nbGUgZW50cnkgZnJvbSB0aGUgY2FjaGUgKi9cblx0cHVibGljIHJlbW92ZShrZXk6IHN0cmluZyk6IHZvaWQge1xuXHRcdGNvbnN0IG5vZGUgPSB0aGlzLm1hcFtrZXldO1xuXHRcdGlmICghbm9kZSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpZiAobm9kZS5wcmV2ICE9PSBudWxsKSB7XG5cdFx0XHRub2RlLnByZXYubmV4dCA9IG5vZGUubmV4dDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5oZWFkID0gbm9kZS5uZXh0O1xuXHRcdH1cblx0XHRpZiAobm9kZS5uZXh0ICE9PSBudWxsKSB7XG5cdFx0XHRub2RlLm5leHQucHJldiA9IG5vZGUucHJldjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy50YWlsID0gbm9kZS5wcmV2O1xuXHRcdH1cblx0XHRkZWxldGUgdGhpcy5tYXBba2V5XTtcblx0XHR0aGlzLnNpemUtLTtcblx0fVxuXG5cdC8qIFJlc2V0cyB0aGUgZW50aXJlIGNhY2hlIC0gQXJndW1lbnQgbGltaXQgaXMgb3B0aW9uYWwgdG8gYmUgcmVzZXQgKi9cblx0cHVibGljIHJlbW92ZUFsbCgpIHtcblx0XHR0aGlzLnNpemUgPSAwO1xuXHRcdHRoaXMubWFwID0ge307XG5cdFx0dGhpcy5oZWFkID0gbnVsbDtcblx0XHR0aGlzLnRhaWwgPSBudWxsO1xuXHR9XG5cblx0cHJpdmF0ZSBzZXRIZWFkKG5vZGU6IExSVU5vZGUpOiB2b2lkIHtcblx0XHRub2RlLm5leHQgPSB0aGlzLmhlYWQ7XG5cdFx0bm9kZS5wcmV2ID0gbnVsbDtcblx0XHRpZiAodGhpcy5oZWFkICE9PSBudWxsKSB7XG5cdFx0XHR0aGlzLmhlYWQucHJldiA9IG5vZGU7XG5cdFx0fVxuXHRcdHRoaXMuaGVhZCA9IG5vZGU7XG5cdFx0aWYgKHRoaXMudGFpbCA9PT0gbnVsbCkge1xuXHRcdFx0dGhpcy50YWlsID0gbm9kZTtcblx0XHR9XG5cdFx0dGhpcy5zaXplKys7XG5cdFx0dGhpcy5tYXBbbm9kZS5rZXldID0gbm9kZTtcblx0fVxufVxuXG4vKipcbiAqIEEgc2ltcGxlIFJXIHRyYW5zYWN0aW9uIGZvciBzaW1wbGUgc3luY2hyb25vdXMga2V5LXZhbHVlIHN0b3Jlcy5cbiAqL1xuZXhwb3J0IGNsYXNzIFNpbXBsZVN5bmNSV1RyYW5zYWN0aW9uIGltcGxlbWVudHMgU3luY0tleVZhbHVlUldUcmFuc2FjdGlvbiB7XG5cdC8qKlxuXHQgKiBTdG9yZXMgZGF0YSBpbiB0aGUga2V5cyB3ZSBtb2RpZnkgcHJpb3IgdG8gbW9kaWZ5aW5nIHRoZW0uXG5cdCAqIEFsbG93cyB1cyB0byByb2xsIGJhY2sgY29tbWl0cy5cblx0ICovXG5cdHByaXZhdGUgb3JpZ2luYWxEYXRhOiB7IFtrZXk6IHN0cmluZ106IEJ1ZmZlciB8IHVuZGVmaW5lZCB9ID0ge307XG5cdC8qKlxuXHQgKiBMaXN0IG9mIGtleXMgbW9kaWZpZWQgaW4gdGhpcyB0cmFuc2FjdGlvbiwgaWYgYW55LlxuXHQgKi9cblx0cHJpdmF0ZSBtb2RpZmllZEtleXM6IHN0cmluZ1tdID0gW107XG5cblx0Y29uc3RydWN0b3IocHJpdmF0ZSBzdG9yZTogU2ltcGxlU3luY1N0b3JlKSB7fVxuXG5cdHB1YmxpYyBnZXQoa2V5OiBzdHJpbmcpOiBCdWZmZXIgfCB1bmRlZmluZWQge1xuXHRcdGNvbnN0IHZhbCA9IHRoaXMuc3RvcmUuZ2V0KGtleSk7XG5cdFx0dGhpcy5zdGFzaE9sZFZhbHVlKGtleSwgdmFsKTtcblx0XHRyZXR1cm4gdmFsO1xuXHR9XG5cblx0cHVibGljIHB1dChrZXk6IHN0cmluZywgZGF0YTogQnVmZmVyLCBvdmVyd3JpdGU6IGJvb2xlYW4pOiBib29sZWFuIHtcblx0XHR0aGlzLm1hcmtNb2RpZmllZChrZXkpO1xuXHRcdHJldHVybiB0aGlzLnN0b3JlLnB1dChrZXksIGRhdGEsIG92ZXJ3cml0ZSk7XG5cdH1cblxuXHRwdWJsaWMgZGVsKGtleTogc3RyaW5nKTogdm9pZCB7XG5cdFx0dGhpcy5tYXJrTW9kaWZpZWQoa2V5KTtcblx0XHR0aGlzLnN0b3JlLmRlbChrZXkpO1xuXHR9XG5cblx0cHVibGljIGNvbW1pdCgpOiB2b2lkIHtcblx0XHQvKiBOT1AgKi9cblx0fVxuXG5cdHB1YmxpYyBhYm9ydCgpOiB2b2lkIHtcblx0XHQvLyBSb2xsYmFjayBvbGQgdmFsdWVzLlxuXHRcdGZvciAoY29uc3Qga2V5IG9mIHRoaXMubW9kaWZpZWRLZXlzKSB7XG5cdFx0XHRjb25zdCB2YWx1ZSA9IHRoaXMub3JpZ2luYWxEYXRhW2tleV07XG5cdFx0XHRpZiAoIXZhbHVlKSB7XG5cdFx0XHRcdC8vIEtleSBkaWRuJ3QgZXhpc3QuXG5cdFx0XHRcdHRoaXMuc3RvcmUuZGVsKGtleSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBLZXkgZXhpc3RlZC4gU3RvcmUgb2xkIHZhbHVlLlxuXHRcdFx0XHR0aGlzLnN0b3JlLnB1dChrZXksIHZhbHVlLCB0cnVlKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIF9oYXMoa2V5OiBzdHJpbmcpIHtcblx0XHRyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMub3JpZ2luYWxEYXRhLCBrZXkpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFN0YXNoZXMgZ2l2ZW4ga2V5IHZhbHVlIHBhaXIgaW50byBgb3JpZ2luYWxEYXRhYCBpZiBpdCBkb2Vzbid0IGFscmVhZHlcblx0ICogZXhpc3QuIEFsbG93cyB1cyB0byBzdGFzaCB2YWx1ZXMgdGhlIHByb2dyYW0gaXMgcmVxdWVzdGluZyBhbnl3YXkgdG9cblx0ICogcHJldmVudCBuZWVkbGVzcyBgZ2V0YCByZXF1ZXN0cyBpZiB0aGUgcHJvZ3JhbSBtb2RpZmllcyB0aGUgZGF0YSBsYXRlclxuXHQgKiBvbiBkdXJpbmcgdGhlIHRyYW5zYWN0aW9uLlxuXHQgKi9cblx0cHJpdmF0ZSBzdGFzaE9sZFZhbHVlKGtleTogc3RyaW5nLCB2YWx1ZTogQnVmZmVyIHwgdW5kZWZpbmVkKSB7XG5cdFx0Ly8gS2VlcCBvbmx5IHRoZSBlYXJsaWVzdCB2YWx1ZSBpbiB0aGUgdHJhbnNhY3Rpb24uXG5cdFx0aWYgKCF0aGlzLl9oYXMoa2V5KSkge1xuXHRcdFx0dGhpcy5vcmlnaW5hbERhdGFba2V5XSA9IHZhbHVlO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBNYXJrcyB0aGUgZ2l2ZW4ga2V5IGFzIG1vZGlmaWVkLCBhbmQgc3Rhc2hlcyBpdHMgdmFsdWUgaWYgaXQgaGFzIG5vdCBiZWVuXG5cdCAqIHN0YXNoZWQgYWxyZWFkeS5cblx0ICovXG5cdHByaXZhdGUgbWFya01vZGlmaWVkKGtleTogc3RyaW5nKSB7XG5cdFx0aWYgKHRoaXMubW9kaWZpZWRLZXlzLmluZGV4T2Yoa2V5KSA9PT0gLTEpIHtcblx0XHRcdHRoaXMubW9kaWZpZWRLZXlzLnB1c2goa2V5KTtcblx0XHRcdGlmICghdGhpcy5faGFzKGtleSkpIHtcblx0XHRcdFx0dGhpcy5vcmlnaW5hbERhdGFba2V5XSA9IHRoaXMuc3RvcmUuZ2V0KGtleSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3luY0tleVZhbHVlRmlsZVN5c3RlbU9wdGlvbnMge1xuXHQvKipcblx0ICogVGhlIGFjdHVhbCBrZXktdmFsdWUgc3RvcmUgdG8gcmVhZCBmcm9tL3dyaXRlIHRvLlxuXHQgKi9cblx0c3RvcmU6IFN5bmNLZXlWYWx1ZVN0b3JlO1xuXHQvKipcblx0ICogU2hvdWxkIHRoZSBmaWxlIHN5c3RlbSBzdXBwb3J0IHByb3BlcnRpZXMgKG10aW1lL2F0aW1lL2N0aW1lL2NobW9kL2V0Yyk/XG5cdCAqIEVuYWJsaW5nIHRoaXMgc2xpZ2h0bHkgaW5jcmVhc2VzIHRoZSBzdG9yYWdlIHNwYWNlIHBlciBmaWxlLCBhbmQgYWRkc1xuXHQgKiBhdGltZSB1cGRhdGVzIGV2ZXJ5IHRpbWUgYSBmaWxlIGlzIGFjY2Vzc2VkLCBtdGltZSB1cGRhdGVzIGV2ZXJ5IHRpbWVcblx0ICogYSBmaWxlIGlzIG1vZGlmaWVkLCBhbmQgcGVybWlzc2lvbiBjaGVja3Mgb24gZXZlcnkgb3BlcmF0aW9uLlxuXHQgKlxuXHQgKiBEZWZhdWx0cyB0byAqZmFsc2UqLlxuXHQgKi9cblx0c3VwcG9ydFByb3BzPzogYm9vbGVhbjtcblx0LyoqXG5cdCAqIFNob3VsZCB0aGUgZmlsZSBzeXN0ZW0gc3VwcG9ydCBsaW5rcz9cblx0ICovXG5cdHN1cHBvcnRMaW5rcz86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjbGFzcyBTeW5jS2V5VmFsdWVGaWxlIGV4dGVuZHMgUHJlbG9hZEZpbGU8U3luY0tleVZhbHVlRmlsZVN5c3RlbT4gaW1wbGVtZW50cyBGaWxlIHtcblx0Y29uc3RydWN0b3IoX2ZzOiBTeW5jS2V5VmFsdWVGaWxlU3lzdGVtLCBfcGF0aDogc3RyaW5nLCBfZmxhZzogRmlsZUZsYWcsIF9zdGF0OiBTdGF0cywgY29udGVudHM/OiBCdWZmZXIpIHtcblx0XHRzdXBlcihfZnMsIF9wYXRoLCBfZmxhZywgX3N0YXQsIGNvbnRlbnRzKTtcblx0fVxuXG5cdHB1YmxpYyBzeW5jU3luYygpOiB2b2lkIHtcblx0XHRpZiAodGhpcy5pc0RpcnR5KCkpIHtcblx0XHRcdHRoaXMuX2ZzLl9zeW5jU3luYyh0aGlzLmdldFBhdGgoKSwgdGhpcy5nZXRCdWZmZXIoKSwgdGhpcy5nZXRTdGF0cygpKTtcblx0XHRcdHRoaXMucmVzZXREaXJ0eSgpO1xuXHRcdH1cblx0fVxuXG5cdHB1YmxpYyBjbG9zZVN5bmMoKTogdm9pZCB7XG5cdFx0dGhpcy5zeW5jU3luYygpO1xuXHR9XG59XG5cbi8qKlxuICogQSBcIlN5bmNocm9ub3VzIGtleS12YWx1ZSBmaWxlIHN5c3RlbVwiLiBTdG9yZXMgZGF0YSB0by9yZXRyaWV2ZXMgZGF0YSBmcm9tIGFuXG4gKiB1bmRlcmx5aW5nIGtleS12YWx1ZSBzdG9yZS5cbiAqXG4gKiBXZSB1c2UgYSB1bmlxdWUgSUQgZm9yIGVhY2ggbm9kZSBpbiB0aGUgZmlsZSBzeXN0ZW0uIFRoZSByb290IG5vZGUgaGFzIGFcbiAqIGZpeGVkIElELlxuICogQHRvZG8gSW50cm9kdWNlIE5vZGUgSUQgY2FjaGluZy5cbiAqIEB0b2RvIENoZWNrIG1vZGVzLlxuICovXG5leHBvcnQgY2xhc3MgU3luY0tleVZhbHVlRmlsZVN5c3RlbSBleHRlbmRzIFN5bmNocm9ub3VzRmlsZVN5c3RlbSB7XG5cdHB1YmxpYyBzdGF0aWMgaXNBdmFpbGFibGUoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRwcml2YXRlIHN0b3JlOiBTeW5jS2V5VmFsdWVTdG9yZTtcblxuXHRjb25zdHJ1Y3RvcihvcHRpb25zOiBTeW5jS2V5VmFsdWVGaWxlU3lzdGVtT3B0aW9ucykge1xuXHRcdHN1cGVyKCk7XG5cdFx0dGhpcy5zdG9yZSA9IG9wdGlvbnMuc3RvcmU7XG5cdFx0Ly8gSU5WQVJJQU5UOiBFbnN1cmUgdGhhdCB0aGUgcm9vdCBleGlzdHMuXG5cdFx0dGhpcy5tYWtlUm9vdERpcmVjdG9yeSgpO1xuXHR9XG5cblx0cHVibGljIGdldE5hbWUoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gdGhpcy5zdG9yZS5uYW1lKCk7XG5cdH1cblx0cHVibGljIGlzUmVhZE9ubHkoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cdHB1YmxpYyBzdXBwb3J0c1N5bWxpbmtzKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXHRwdWJsaWMgc3VwcG9ydHNQcm9wcygpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXHRwdWJsaWMgc3VwcG9ydHNTeW5jaCgpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBEZWxldGUgYWxsIGNvbnRlbnRzIHN0b3JlZCBpbiB0aGUgZmlsZSBzeXN0ZW0uXG5cdCAqL1xuXHRwdWJsaWMgZW1wdHkoKTogdm9pZCB7XG5cdFx0dGhpcy5zdG9yZS5jbGVhcigpO1xuXHRcdC8vIElOVkFSSUFOVDogUm9vdCBhbHdheXMgZXhpc3RzLlxuXHRcdHRoaXMubWFrZVJvb3REaXJlY3RvcnkoKTtcblx0fVxuXG5cdHB1YmxpYyBhY2Nlc3NTeW5jKHA6IHN0cmluZywgbW9kZTogbnVtYmVyLCBjcmVkOiBDcmVkKTogdm9pZCB7XG5cdFx0Y29uc3QgdHggPSB0aGlzLnN0b3JlLmJlZ2luVHJhbnNhY3Rpb24oJ3JlYWRvbmx5JyksXG5cdFx0XHRub2RlID0gdGhpcy5maW5kSU5vZGUodHgsIHApO1xuXHRcdGlmICghbm9kZS50b1N0YXRzKCkuaGFzQWNjZXNzKG1vZGUsIGNyZWQpKSB7XG5cdFx0XHR0aHJvdyBBcGlFcnJvci5FQUNDRVMocCk7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIHJlbmFtZVN5bmMob2xkUGF0aDogc3RyaW5nLCBuZXdQYXRoOiBzdHJpbmcsIGNyZWQ6IENyZWQpOiB2b2lkIHtcblx0XHRjb25zdCB0eCA9IHRoaXMuc3RvcmUuYmVnaW5UcmFuc2FjdGlvbigncmVhZHdyaXRlJyksXG5cdFx0XHRvbGRQYXJlbnQgPSBwYXRoLmRpcm5hbWUob2xkUGF0aCksXG5cdFx0XHRvbGROYW1lID0gcGF0aC5iYXNlbmFtZShvbGRQYXRoKSxcblx0XHRcdG5ld1BhcmVudCA9IHBhdGguZGlybmFtZShuZXdQYXRoKSxcblx0XHRcdG5ld05hbWUgPSBwYXRoLmJhc2VuYW1lKG5ld1BhdGgpLFxuXHRcdFx0Ly8gUmVtb3ZlIG9sZFBhdGggZnJvbSBwYXJlbnQncyBkaXJlY3RvcnkgbGlzdGluZy5cblx0XHRcdG9sZERpck5vZGUgPSB0aGlzLmZpbmRJTm9kZSh0eCwgb2xkUGFyZW50KSxcblx0XHRcdG9sZERpckxpc3QgPSB0aGlzLmdldERpckxpc3RpbmcodHgsIG9sZFBhcmVudCwgb2xkRGlyTm9kZSk7XG5cblx0XHRpZiAoIW9sZERpck5vZGUudG9TdGF0cygpLmhhc0FjY2VzcyhGaWxlUGVybS5XUklURSwgY3JlZCkpIHtcblx0XHRcdHRocm93IEFwaUVycm9yLkVBQ0NFUyhvbGRQYXRoKTtcblx0XHR9XG5cblx0XHRpZiAoIW9sZERpckxpc3Rbb2xkTmFtZV0pIHtcblx0XHRcdHRocm93IEFwaUVycm9yLkVOT0VOVChvbGRQYXRoKTtcblx0XHR9XG5cdFx0Y29uc3Qgbm9kZUlkOiBzdHJpbmcgPSBvbGREaXJMaXN0W29sZE5hbWVdO1xuXHRcdGRlbGV0ZSBvbGREaXJMaXN0W29sZE5hbWVdO1xuXG5cdFx0Ly8gSW52YXJpYW50OiBDYW4ndCBtb3ZlIGEgZm9sZGVyIGluc2lkZSBpdHNlbGYuXG5cdFx0Ly8gVGhpcyBmdW5ueSBsaXR0bGUgaGFjayBlbnN1cmVzIHRoYXQgdGhlIGNoZWNrIHBhc3NlcyBvbmx5IGlmIG9sZFBhdGhcblx0XHQvLyBpcyBhIHN1YnBhdGggb2YgbmV3UGFyZW50LiBXZSBhcHBlbmQgJy8nIHRvIGF2b2lkIG1hdGNoaW5nIGZvbGRlcnMgdGhhdFxuXHRcdC8vIGFyZSBhIHN1YnN0cmluZyBvZiB0aGUgYm90dG9tLW1vc3QgZm9sZGVyIGluIHRoZSBwYXRoLlxuXHRcdGlmICgobmV3UGFyZW50ICsgJy8nKS5pbmRleE9mKG9sZFBhdGggKyAnLycpID09PSAwKSB7XG5cdFx0XHR0aHJvdyBuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVCVVNZLCBvbGRQYXJlbnQpO1xuXHRcdH1cblxuXHRcdC8vIEFkZCBuZXdQYXRoIHRvIHBhcmVudCdzIGRpcmVjdG9yeSBsaXN0aW5nLlxuXHRcdGxldCBuZXdEaXJOb2RlOiBJbm9kZSwgbmV3RGlyTGlzdDogdHlwZW9mIG9sZERpckxpc3Q7XG5cdFx0aWYgKG5ld1BhcmVudCA9PT0gb2xkUGFyZW50KSB7XG5cdFx0XHQvLyBQcmV2ZW50IHVzIGZyb20gcmUtZ3JhYmJpbmcgdGhlIHNhbWUgZGlyZWN0b3J5IGxpc3RpbmcsIHdoaWNoIHN0aWxsXG5cdFx0XHQvLyBjb250YWlucyBvbGROYW1lLlxuXHRcdFx0bmV3RGlyTm9kZSA9IG9sZERpck5vZGU7XG5cdFx0XHRuZXdEaXJMaXN0ID0gb2xkRGlyTGlzdDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bmV3RGlyTm9kZSA9IHRoaXMuZmluZElOb2RlKHR4LCBuZXdQYXJlbnQpO1xuXHRcdFx0bmV3RGlyTGlzdCA9IHRoaXMuZ2V0RGlyTGlzdGluZyh0eCwgbmV3UGFyZW50LCBuZXdEaXJOb2RlKTtcblx0XHR9XG5cblx0XHRpZiAobmV3RGlyTGlzdFtuZXdOYW1lXSkge1xuXHRcdFx0Ly8gSWYgaXQncyBhIGZpbGUsIGRlbGV0ZSBpdC5cblx0XHRcdGNvbnN0IG5ld05hbWVOb2RlID0gdGhpcy5nZXRJTm9kZSh0eCwgbmV3UGF0aCwgbmV3RGlyTGlzdFtuZXdOYW1lXSk7XG5cdFx0XHRpZiAobmV3TmFtZU5vZGUuaXNGaWxlKCkpIHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHR0eC5kZWwobmV3TmFtZU5vZGUuaWQpO1xuXHRcdFx0XHRcdHR4LmRlbChuZXdEaXJMaXN0W25ld05hbWVdKTtcblx0XHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRcdHR4LmFib3J0KCk7XG5cdFx0XHRcdFx0dGhyb3cgZTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gSWYgaXQncyBhIGRpcmVjdG9yeSwgdGhyb3cgYSBwZXJtaXNzaW9ucyBlcnJvci5cblx0XHRcdFx0dGhyb3cgQXBpRXJyb3IuRVBFUk0obmV3UGF0aCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdG5ld0Rpckxpc3RbbmV3TmFtZV0gPSBub2RlSWQ7XG5cblx0XHQvLyBDb21taXQgdGhlIHR3byBjaGFuZ2VkIGRpcmVjdG9yeSBsaXN0aW5ncy5cblx0XHR0cnkge1xuXHRcdFx0dHgucHV0KG9sZERpck5vZGUuaWQsIEJ1ZmZlci5mcm9tKEpTT04uc3RyaW5naWZ5KG9sZERpckxpc3QpKSwgdHJ1ZSk7XG5cdFx0XHR0eC5wdXQobmV3RGlyTm9kZS5pZCwgQnVmZmVyLmZyb20oSlNPTi5zdHJpbmdpZnkobmV3RGlyTGlzdCkpLCB0cnVlKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHR0eC5hYm9ydCgpO1xuXHRcdFx0dGhyb3cgZTtcblx0XHR9XG5cblx0XHR0eC5jb21taXQoKTtcblx0fVxuXG5cdHB1YmxpYyBzdGF0U3luYyhwOiBzdHJpbmcsIGlzTHN0YXQ6IGJvb2xlYW4sIGNyZWQ6IENyZWQpOiBTdGF0cyB7XG5cdFx0Ly8gR2V0IHRoZSBpbm9kZSB0byB0aGUgaXRlbSwgY29udmVydCBpdCBpbnRvIGEgU3RhdHMgb2JqZWN0LlxuXHRcdGNvbnN0IHN0YXRzID0gdGhpcy5maW5kSU5vZGUodGhpcy5zdG9yZS5iZWdpblRyYW5zYWN0aW9uKCdyZWFkb25seScpLCBwKS50b1N0YXRzKCk7XG5cdFx0aWYgKCFzdGF0cy5oYXNBY2Nlc3MoRmlsZVBlcm0uUkVBRCwgY3JlZCkpIHtcblx0XHRcdHRocm93IEFwaUVycm9yLkVBQ0NFUyhwKTtcblx0XHR9XG5cdFx0cmV0dXJuIHN0YXRzO1xuXHR9XG5cblx0cHVibGljIGNyZWF0ZUZpbGVTeW5jKHA6IHN0cmluZywgZmxhZzogRmlsZUZsYWcsIG1vZGU6IG51bWJlciwgY3JlZDogQ3JlZCk6IEZpbGUge1xuXHRcdGNvbnN0IHR4ID0gdGhpcy5zdG9yZS5iZWdpblRyYW5zYWN0aW9uKCdyZWFkd3JpdGUnKSxcblx0XHRcdGRhdGEgPSBlbXB0eUJ1ZmZlcigpLFxuXHRcdFx0bmV3RmlsZSA9IHRoaXMuY29tbWl0TmV3RmlsZSh0eCwgcCwgRmlsZVR5cGUuRklMRSwgbW9kZSwgY3JlZCwgZGF0YSk7XG5cdFx0Ly8gT3BlbiB0aGUgZmlsZS5cblx0XHRyZXR1cm4gbmV3IFN5bmNLZXlWYWx1ZUZpbGUodGhpcywgcCwgZmxhZywgbmV3RmlsZS50b1N0YXRzKCksIGRhdGEpO1xuXHR9XG5cblx0cHVibGljIG9wZW5GaWxlU3luYyhwOiBzdHJpbmcsIGZsYWc6IEZpbGVGbGFnLCBjcmVkOiBDcmVkKTogRmlsZSB7XG5cdFx0Y29uc3QgdHggPSB0aGlzLnN0b3JlLmJlZ2luVHJhbnNhY3Rpb24oJ3JlYWRvbmx5JyksXG5cdFx0XHRub2RlID0gdGhpcy5maW5kSU5vZGUodHgsIHApLFxuXHRcdFx0ZGF0YSA9IHR4LmdldChub2RlLmlkKTtcblx0XHRpZiAoIW5vZGUudG9TdGF0cygpLmhhc0FjY2VzcyhmbGFnLmdldE1vZGUoKSwgY3JlZCkpIHtcblx0XHRcdHRocm93IEFwaUVycm9yLkVBQ0NFUyhwKTtcblx0XHR9XG5cdFx0aWYgKGRhdGEgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dGhyb3cgQXBpRXJyb3IuRU5PRU5UKHApO1xuXHRcdH1cblx0XHRyZXR1cm4gbmV3IFN5bmNLZXlWYWx1ZUZpbGUodGhpcywgcCwgZmxhZywgbm9kZS50b1N0YXRzKCksIGRhdGEpO1xuXHR9XG5cblx0cHVibGljIHVubGlua1N5bmMocDogc3RyaW5nLCBjcmVkOiBDcmVkKTogdm9pZCB7XG5cdFx0dGhpcy5yZW1vdmVFbnRyeShwLCBmYWxzZSwgY3JlZCk7XG5cdH1cblxuXHRwdWJsaWMgcm1kaXJTeW5jKHA6IHN0cmluZywgY3JlZDogQ3JlZCk6IHZvaWQge1xuXHRcdC8vIENoZWNrIGZpcnN0IGlmIGRpcmVjdG9yeSBpcyBlbXB0eS5cblx0XHRpZiAodGhpcy5yZWFkZGlyU3luYyhwLCBjcmVkKS5sZW5ndGggPiAwKSB7XG5cdFx0XHR0aHJvdyBBcGlFcnJvci5FTk9URU1QVFkocCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMucmVtb3ZlRW50cnkocCwgdHJ1ZSwgY3JlZCk7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIG1rZGlyU3luYyhwOiBzdHJpbmcsIG1vZGU6IG51bWJlciwgY3JlZDogQ3JlZCk6IHZvaWQge1xuXHRcdGNvbnN0IHR4ID0gdGhpcy5zdG9yZS5iZWdpblRyYW5zYWN0aW9uKCdyZWFkd3JpdGUnKSxcblx0XHRcdGRhdGEgPSBCdWZmZXIuZnJvbSgne30nKTtcblx0XHR0aGlzLmNvbW1pdE5ld0ZpbGUodHgsIHAsIEZpbGVUeXBlLkRJUkVDVE9SWSwgbW9kZSwgY3JlZCwgZGF0YSk7XG5cdH1cblxuXHRwdWJsaWMgcmVhZGRpclN5bmMocDogc3RyaW5nLCBjcmVkOiBDcmVkKTogc3RyaW5nW10ge1xuXHRcdGNvbnN0IHR4ID0gdGhpcy5zdG9yZS5iZWdpblRyYW5zYWN0aW9uKCdyZWFkb25seScpO1xuXHRcdGNvbnN0IG5vZGUgPSB0aGlzLmZpbmRJTm9kZSh0eCwgcCk7XG5cdFx0aWYgKCFub2RlLnRvU3RhdHMoKS5oYXNBY2Nlc3MoRmlsZVBlcm0uUkVBRCwgY3JlZCkpIHtcblx0XHRcdHRocm93IEFwaUVycm9yLkVBQ0NFUyhwKTtcblx0XHR9XG5cdFx0cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuZ2V0RGlyTGlzdGluZyh0eCwgcCwgbm9kZSkpO1xuXHR9XG5cblx0cHVibGljIGNobW9kU3luYyhwOiBzdHJpbmcsIGlzTGNobW9kOiBib29sZWFuLCBtb2RlOiBudW1iZXIsIGNyZWQ6IENyZWQpOiB2b2lkIHtcblx0XHRjb25zdCBwYXRoID0gaXNMY2htb2QgPyBwIDogdGhpcy5yZWFscGF0aFN5bmMocCwge30sIGNyZWQpO1xuXHRcdGNvbnN0IGZkID0gdGhpcy5vcGVuRmlsZVN5bmMocGF0aCwgRmlsZUZsYWcuZ2V0RmlsZUZsYWcoJ3IrJyksIGNyZWQpO1xuXHRcdGZkLmNobW9kU3luYyhtb2RlKTtcblx0fVxuXG5cdHB1YmxpYyBjaG93blN5bmMocDogc3RyaW5nLCBpc0xjaG93bjogYm9vbGVhbiwgbmV3X3VpZDogbnVtYmVyLCBuZXdfZ2lkOiBudW1iZXIsIGNyZWQ6IENyZWQpOiB2b2lkIHtcblx0XHRjb25zdCBwYXRoID0gaXNMY2hvd24gPyBwIDogdGhpcy5yZWFscGF0aFN5bmMocCwge30sIGNyZWQpO1xuXHRcdGNvbnN0IGZkID0gdGhpcy5vcGVuRmlsZVN5bmMocGF0aCwgRmlsZUZsYWcuZ2V0RmlsZUZsYWcoJ3IrJyksIGNyZWQpO1xuXHRcdGZkLmNob3duU3luYyhjcmVkLmV1aWQsIGNyZWQuZWdpZCk7XG5cdH1cblxuXHRwdWJsaWMgX3N5bmNTeW5jKHA6IHN0cmluZywgZGF0YTogQnVmZmVyLCBzdGF0czogU3RhdHMpOiB2b2lkIHtcblx0XHQvLyBAdG9kbyBFbnN1cmUgbXRpbWUgdXBkYXRlcyBwcm9wZXJseSwgYW5kIHVzZSB0aGF0IHRvIGRldGVybWluZSBpZiBhIGRhdGFcblx0XHQvLyAgICAgICB1cGRhdGUgaXMgcmVxdWlyZWQuXG5cdFx0Y29uc3QgdHggPSB0aGlzLnN0b3JlLmJlZ2luVHJhbnNhY3Rpb24oJ3JlYWR3cml0ZScpLFxuXHRcdFx0Ly8gV2UgdXNlIHRoZSBfZmluZElub2RlIGhlbHBlciBiZWNhdXNlIHdlIGFjdHVhbGx5IG5lZWQgdGhlIElOb2RlIGlkLlxuXHRcdFx0ZmlsZUlub2RlSWQgPSB0aGlzLl9maW5kSU5vZGUodHgsIHBhdGguZGlybmFtZShwKSwgcGF0aC5iYXNlbmFtZShwKSksXG5cdFx0XHRmaWxlSW5vZGUgPSB0aGlzLmdldElOb2RlKHR4LCBwLCBmaWxlSW5vZGVJZCksXG5cdFx0XHRpbm9kZUNoYW5nZWQgPSBmaWxlSW5vZGUudXBkYXRlKHN0YXRzKTtcblxuXHRcdHRyeSB7XG5cdFx0XHQvLyBTeW5jIGRhdGEuXG5cdFx0XHR0eC5wdXQoZmlsZUlub2RlLmlkLCBkYXRhLCB0cnVlKTtcblx0XHRcdC8vIFN5bmMgbWV0YWRhdGEuXG5cdFx0XHRpZiAoaW5vZGVDaGFuZ2VkKSB7XG5cdFx0XHRcdHR4LnB1dChmaWxlSW5vZGVJZCwgZmlsZUlub2RlLnRvQnVmZmVyKCksIHRydWUpO1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdHR4LmFib3J0KCk7XG5cdFx0XHR0aHJvdyBlO1xuXHRcdH1cblx0XHR0eC5jb21taXQoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDaGVja3MgaWYgdGhlIHJvb3QgZGlyZWN0b3J5IGV4aXN0cy4gQ3JlYXRlcyBpdCBpZiBpdCBkb2Vzbid0LlxuXHQgKi9cblx0cHJpdmF0ZSBtYWtlUm9vdERpcmVjdG9yeSgpIHtcblx0XHRjb25zdCB0eCA9IHRoaXMuc3RvcmUuYmVnaW5UcmFuc2FjdGlvbigncmVhZHdyaXRlJyk7XG5cdFx0aWYgKHR4LmdldChST09UX05PREVfSUQpID09PSB1bmRlZmluZWQpIHtcblx0XHRcdC8vIENyZWF0ZSBuZXcgaW5vZGUuXG5cdFx0XHRjb25zdCBjdXJyVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpLFxuXHRcdFx0XHQvLyBNb2RlIDA2NjYsIG93bmVkIGJ5IHJvb3Q6cm9vdFxuXHRcdFx0XHRkaXJJbm9kZSA9IG5ldyBJbm9kZShHZW5lcmF0ZVJhbmRvbUlEKCksIDQwOTYsIDUxMSB8IEZpbGVUeXBlLkRJUkVDVE9SWSwgY3VyclRpbWUsIGN1cnJUaW1lLCBjdXJyVGltZSwgMCwgMCk7XG5cdFx0XHQvLyBJZiB0aGUgcm9vdCBkb2Vzbid0IGV4aXN0LCB0aGUgZmlyc3QgcmFuZG9tIElEIHNob3VsZG4ndCBleGlzdCxcblx0XHRcdC8vIGVpdGhlci5cblx0XHRcdHR4LnB1dChkaXJJbm9kZS5pZCwgZ2V0RW1wdHlEaXJOb2RlKCksIGZhbHNlKTtcblx0XHRcdHR4LnB1dChST09UX05PREVfSUQsIGRpcklub2RlLnRvQnVmZmVyKCksIGZhbHNlKTtcblx0XHRcdHR4LmNvbW1pdCgpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBIZWxwZXIgZnVuY3Rpb24gZm9yIGZpbmRJTm9kZS5cblx0ICogQHBhcmFtIHBhcmVudCBUaGUgcGFyZW50IGRpcmVjdG9yeSBvZiB0aGUgZmlsZSB3ZSBhcmUgYXR0ZW1wdGluZyB0byBmaW5kLlxuXHQgKiBAcGFyYW0gZmlsZW5hbWUgVGhlIGZpbGVuYW1lIG9mIHRoZSBpbm9kZSB3ZSBhcmUgYXR0ZW1wdGluZyB0byBmaW5kLCBtaW51c1xuXHQgKiAgIHRoZSBwYXJlbnQuXG5cdCAqIEByZXR1cm4gc3RyaW5nIFRoZSBJRCBvZiB0aGUgZmlsZSdzIGlub2RlIGluIHRoZSBmaWxlIHN5c3RlbS5cblx0ICovXG5cdHByaXZhdGUgX2ZpbmRJTm9kZSh0eDogU3luY0tleVZhbHVlUk9UcmFuc2FjdGlvbiwgcGFyZW50OiBzdHJpbmcsIGZpbGVuYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuXHRcdGNvbnN0IHJlYWREaXJlY3RvcnkgPSAoaW5vZGU6IElub2RlKTogc3RyaW5nID0+IHtcblx0XHRcdC8vIEdldCB0aGUgcm9vdCdzIGRpcmVjdG9yeSBsaXN0aW5nLlxuXHRcdFx0Y29uc3QgZGlyTGlzdCA9IHRoaXMuZ2V0RGlyTGlzdGluZyh0eCwgcGFyZW50LCBpbm9kZSk7XG5cdFx0XHQvLyBHZXQgdGhlIGZpbGUncyBJRC5cblx0XHRcdGlmIChkaXJMaXN0W2ZpbGVuYW1lXSkge1xuXHRcdFx0XHRyZXR1cm4gZGlyTGlzdFtmaWxlbmFtZV07XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aHJvdyBBcGlFcnJvci5FTk9FTlQocGF0aC5yZXNvbHZlKHBhcmVudCwgZmlsZW5hbWUpKTtcblx0XHRcdH1cblx0XHR9O1xuXHRcdGlmIChwYXJlbnQgPT09ICcuJykge1xuXHRcdFx0cGFyZW50ID0gcHJvY2Vzcy5jd2QoKTtcblx0XHR9XG5cdFx0aWYgKHBhcmVudCA9PT0gJy8nKSB7XG5cdFx0XHRpZiAoZmlsZW5hbWUgPT09ICcnKSB7XG5cdFx0XHRcdC8vIEJBU0UgQ0FTRSAjMTogUmV0dXJuIHRoZSByb290J3MgSUQuXG5cdFx0XHRcdHJldHVybiBST09UX05PREVfSUQ7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBCQVNFIENBU0UgIzI6IEZpbmQgdGhlIGl0ZW0gaW4gdGhlIHJvb3Qgbm9kZS5cblx0XHRcdFx0cmV0dXJuIHJlYWREaXJlY3RvcnkodGhpcy5nZXRJTm9kZSh0eCwgcGFyZW50LCBST09UX05PREVfSUQpKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHJlYWREaXJlY3RvcnkodGhpcy5nZXRJTm9kZSh0eCwgcGFyZW50ICsgcGF0aC5zZXAgKyBmaWxlbmFtZSwgdGhpcy5fZmluZElOb2RlKHR4LCBwYXRoLmRpcm5hbWUocGFyZW50KSwgcGF0aC5iYXNlbmFtZShwYXJlbnQpKSkpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBGaW5kcyB0aGUgSW5vZGUgb2YgdGhlIGdpdmVuIHBhdGguXG5cdCAqIEBwYXJhbSBwIFRoZSBwYXRoIHRvIGxvb2sgdXAuXG5cdCAqIEByZXR1cm4gVGhlIElub2RlIG9mIHRoZSBwYXRoIHAuXG5cdCAqIEB0b2RvIG1lbW9pemUvY2FjaGVcblx0ICovXG5cdHByaXZhdGUgZmluZElOb2RlKHR4OiBTeW5jS2V5VmFsdWVST1RyYW5zYWN0aW9uLCBwOiBzdHJpbmcpOiBJbm9kZSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0SU5vZGUodHgsIHAsIHRoaXMuX2ZpbmRJTm9kZSh0eCwgcGF0aC5kaXJuYW1lKHApLCBwYXRoLmJhc2VuYW1lKHApKSk7XG5cdH1cblxuXHQvKipcblx0ICogR2l2ZW4gdGhlIElEIG9mIGEgbm9kZSwgcmV0cmlldmVzIHRoZSBjb3JyZXNwb25kaW5nIElub2RlLlxuXHQgKiBAcGFyYW0gdHggVGhlIHRyYW5zYWN0aW9uIHRvIHVzZS5cblx0ICogQHBhcmFtIHAgVGhlIGNvcnJlc3BvbmRpbmcgcGF0aCB0byB0aGUgZmlsZSAodXNlZCBmb3IgZXJyb3IgbWVzc2FnZXMpLlxuXHQgKiBAcGFyYW0gaWQgVGhlIElEIHRvIGxvb2sgdXAuXG5cdCAqL1xuXHRwcml2YXRlIGdldElOb2RlKHR4OiBTeW5jS2V5VmFsdWVST1RyYW5zYWN0aW9uLCBwOiBzdHJpbmcsIGlkOiBzdHJpbmcpOiBJbm9kZSB7XG5cdFx0Y29uc3QgaW5vZGUgPSB0eC5nZXQoaWQpO1xuXHRcdGlmIChpbm9kZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR0aHJvdyBBcGlFcnJvci5FTk9FTlQocCk7XG5cdFx0fVxuXHRcdHJldHVybiBJbm9kZS5mcm9tQnVmZmVyKGlub2RlKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBHaXZlbiB0aGUgSW5vZGUgb2YgYSBkaXJlY3RvcnksIHJldHJpZXZlcyB0aGUgY29ycmVzcG9uZGluZyBkaXJlY3Rvcnlcblx0ICogbGlzdGluZy5cblx0ICovXG5cdHByaXZhdGUgZ2V0RGlyTGlzdGluZyh0eDogU3luY0tleVZhbHVlUk9UcmFuc2FjdGlvbiwgcDogc3RyaW5nLCBpbm9kZTogSW5vZGUpOiB7IFtmaWxlTmFtZTogc3RyaW5nXTogc3RyaW5nIH0ge1xuXHRcdGlmICghaW5vZGUuaXNEaXJlY3RvcnkoKSkge1xuXHRcdFx0dGhyb3cgQXBpRXJyb3IuRU5PVERJUihwKTtcblx0XHR9XG5cdFx0Y29uc3QgZGF0YSA9IHR4LmdldChpbm9kZS5pZCk7XG5cdFx0aWYgKGRhdGEgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dGhyb3cgQXBpRXJyb3IuRU5PRU5UKHApO1xuXHRcdH1cblx0XHRyZXR1cm4gSlNPTi5wYXJzZShkYXRhLnRvU3RyaW5nKCkpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYSBuZXcgbm9kZSB1bmRlciBhIHJhbmRvbSBJRC4gUmV0cmllcyA1IHRpbWVzIGJlZm9yZSBnaXZpbmcgdXAgaW5cblx0ICogdGhlIGV4Y2VlZGluZ2x5IHVubGlrZWx5IGNoYW5jZSB0aGF0IHdlIHRyeSB0byByZXVzZSBhIHJhbmRvbSBHVUlELlxuXHQgKiBAcmV0dXJuIFRoZSBHVUlEIHRoYXQgdGhlIGRhdGEgd2FzIHN0b3JlZCB1bmRlci5cblx0ICovXG5cdHByaXZhdGUgYWRkTmV3Tm9kZSh0eDogU3luY0tleVZhbHVlUldUcmFuc2FjdGlvbiwgZGF0YTogQnVmZmVyKTogc3RyaW5nIHtcblx0XHRjb25zdCByZXRyaWVzID0gMDtcblx0XHRsZXQgY3VycklkOiBzdHJpbmc7XG5cdFx0d2hpbGUgKHJldHJpZXMgPCA1KSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjdXJySWQgPSBHZW5lcmF0ZVJhbmRvbUlEKCk7XG5cdFx0XHRcdHR4LnB1dChjdXJySWQsIGRhdGEsIGZhbHNlKTtcblx0XHRcdFx0cmV0dXJuIGN1cnJJZDtcblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0Ly8gSWdub3JlIGFuZCByZXJvbGwuXG5cdFx0XHR9XG5cdFx0fVxuXHRcdHRocm93IG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRUlPLCAnVW5hYmxlIHRvIGNvbW1pdCBkYXRhIHRvIGtleS12YWx1ZSBzdG9yZS4nKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb21taXRzIGEgbmV3IGZpbGUgKHdlbGwsIGEgRklMRSBvciBhIERJUkVDVE9SWSkgdG8gdGhlIGZpbGUgc3lzdGVtIHdpdGhcblx0ICogdGhlIGdpdmVuIG1vZGUuXG5cdCAqIE5vdGU6IFRoaXMgd2lsbCBjb21taXQgdGhlIHRyYW5zYWN0aW9uLlxuXHQgKiBAcGFyYW0gcCBUaGUgcGF0aCB0byB0aGUgbmV3IGZpbGUuXG5cdCAqIEBwYXJhbSB0eXBlIFRoZSB0eXBlIG9mIHRoZSBuZXcgZmlsZS5cblx0ICogQHBhcmFtIG1vZGUgVGhlIG1vZGUgdG8gY3JlYXRlIHRoZSBuZXcgZmlsZSB3aXRoLlxuXHQgKiBAcGFyYW0gZGF0YSBUaGUgZGF0YSB0byBzdG9yZSBhdCB0aGUgZmlsZSdzIGRhdGEgbm9kZS5cblx0ICogQHJldHVybiBUaGUgSW5vZGUgZm9yIHRoZSBuZXcgZmlsZS5cblx0ICovXG5cdHByaXZhdGUgY29tbWl0TmV3RmlsZSh0eDogU3luY0tleVZhbHVlUldUcmFuc2FjdGlvbiwgcDogc3RyaW5nLCB0eXBlOiBGaWxlVHlwZSwgbW9kZTogbnVtYmVyLCBjcmVkOiBDcmVkLCBkYXRhOiBCdWZmZXIpOiBJbm9kZSB7XG5cdFx0Y29uc3QgcGFyZW50RGlyID0gcGF0aC5kaXJuYW1lKHApLFxuXHRcdFx0Zm5hbWUgPSBwYXRoLmJhc2VuYW1lKHApLFxuXHRcdFx0cGFyZW50Tm9kZSA9IHRoaXMuZmluZElOb2RlKHR4LCBwYXJlbnREaXIpLFxuXHRcdFx0ZGlyTGlzdGluZyA9IHRoaXMuZ2V0RGlyTGlzdGluZyh0eCwgcGFyZW50RGlyLCBwYXJlbnROb2RlKSxcblx0XHRcdGN1cnJUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cblx0XHQvL0NoZWNrIHRoYXQgdGhlIGNyZWF0ZXIgaGFzIGNvcnJlY3QgYWNjZXNzXG5cdFx0aWYgKCFwYXJlbnROb2RlLnRvU3RhdHMoKS5oYXNBY2Nlc3MoMGIwMTAwIC8qIFdyaXRlICovLCBjcmVkKSkge1xuXHRcdFx0dGhyb3cgQXBpRXJyb3IuRUFDQ0VTKHApO1xuXHRcdH1cblxuXHRcdC8vIEludmFyaWFudDogVGhlIHJvb3QgYWx3YXlzIGV4aXN0cy5cblx0XHQvLyBJZiB3ZSBkb24ndCBjaGVjayB0aGlzIHByaW9yIHRvIHRha2luZyBzdGVwcyBiZWxvdywgd2Ugd2lsbCBjcmVhdGUgYVxuXHRcdC8vIGZpbGUgd2l0aCBuYW1lICcnIGluIHJvb3Qgc2hvdWxkIHAgPT0gJy8nLlxuXHRcdGlmIChwID09PSAnLycpIHtcblx0XHRcdHRocm93IEFwaUVycm9yLkVFWElTVChwKTtcblx0XHR9XG5cblx0XHQvLyBDaGVjayBpZiBmaWxlIGFscmVhZHkgZXhpc3RzLlxuXHRcdGlmIChkaXJMaXN0aW5nW2ZuYW1lXSkge1xuXHRcdFx0dGhyb3cgQXBpRXJyb3IuRUVYSVNUKHApO1xuXHRcdH1cblxuXHRcdGxldCBmaWxlTm9kZTogSW5vZGU7XG5cdFx0dHJ5IHtcblx0XHRcdC8vIENvbW1pdCBkYXRhLlxuXHRcdFx0Y29uc3QgZGF0YUlkID0gdGhpcy5hZGROZXdOb2RlKHR4LCBkYXRhKTtcblx0XHRcdGZpbGVOb2RlID0gbmV3IElub2RlKGRhdGFJZCwgZGF0YS5sZW5ndGgsIG1vZGUgfCB0eXBlLCBjdXJyVGltZSwgY3VyclRpbWUsIGN1cnJUaW1lLCBjcmVkLnVpZCwgY3JlZC5naWQpO1xuXHRcdFx0Ly8gQ29tbWl0IGZpbGUgbm9kZS5cblx0XHRcdGNvbnN0IGZpbGVOb2RlSWQgPSB0aGlzLmFkZE5ld05vZGUodHgsIGZpbGVOb2RlLnRvQnVmZmVyKCkpO1xuXHRcdFx0Ly8gVXBkYXRlIGFuZCBjb21taXQgcGFyZW50IGRpcmVjdG9yeSBsaXN0aW5nLlxuXHRcdFx0ZGlyTGlzdGluZ1tmbmFtZV0gPSBmaWxlTm9kZUlkO1xuXHRcdFx0dHgucHV0KHBhcmVudE5vZGUuaWQsIEJ1ZmZlci5mcm9tKEpTT04uc3RyaW5naWZ5KGRpckxpc3RpbmcpKSwgdHJ1ZSk7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0dHguYWJvcnQoKTtcblx0XHRcdHRocm93IGU7XG5cdFx0fVxuXHRcdHR4LmNvbW1pdCgpO1xuXHRcdHJldHVybiBmaWxlTm9kZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZW1vdmUgYWxsIHRyYWNlcyBvZiB0aGUgZ2l2ZW4gcGF0aCBmcm9tIHRoZSBmaWxlIHN5c3RlbS5cblx0ICogQHBhcmFtIHAgVGhlIHBhdGggdG8gcmVtb3ZlIGZyb20gdGhlIGZpbGUgc3lzdGVtLlxuXHQgKiBAcGFyYW0gaXNEaXIgRG9lcyB0aGUgcGF0aCBiZWxvbmcgdG8gYSBkaXJlY3RvcnksIG9yIGEgZmlsZT9cblx0ICogQHRvZG8gVXBkYXRlIG10aW1lLlxuXHQgKi9cblx0cHJpdmF0ZSByZW1vdmVFbnRyeShwOiBzdHJpbmcsIGlzRGlyOiBib29sZWFuLCBjcmVkOiBDcmVkKTogdm9pZCB7XG5cdFx0Y29uc3QgdHggPSB0aGlzLnN0b3JlLmJlZ2luVHJhbnNhY3Rpb24oJ3JlYWR3cml0ZScpLFxuXHRcdFx0cGFyZW50OiBzdHJpbmcgPSBwYXRoLmRpcm5hbWUocCksXG5cdFx0XHRwYXJlbnROb2RlID0gdGhpcy5maW5kSU5vZGUodHgsIHBhcmVudCksXG5cdFx0XHRwYXJlbnRMaXN0aW5nID0gdGhpcy5nZXREaXJMaXN0aW5nKHR4LCBwYXJlbnQsIHBhcmVudE5vZGUpLFxuXHRcdFx0ZmlsZU5hbWU6IHN0cmluZyA9IHBhdGguYmFzZW5hbWUocCk7XG5cblx0XHRpZiAoIXBhcmVudExpc3RpbmdbZmlsZU5hbWVdKSB7XG5cdFx0XHR0aHJvdyBBcGlFcnJvci5FTk9FTlQocCk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgZmlsZU5vZGVJZCA9IHBhcmVudExpc3RpbmdbZmlsZU5hbWVdO1xuXG5cdFx0Ly8gR2V0IGZpbGUgaW5vZGUuXG5cdFx0Y29uc3QgZmlsZU5vZGUgPSB0aGlzLmdldElOb2RlKHR4LCBwLCBmaWxlTm9kZUlkKTtcblxuXHRcdGlmICghZmlsZU5vZGUudG9TdGF0cygpLmhhc0FjY2VzcyhGaWxlUGVybS5XUklURSwgY3JlZCkpIHtcblx0XHRcdHRocm93IEFwaUVycm9yLkVBQ0NFUyhwKTtcblx0XHR9XG5cblx0XHQvLyBSZW1vdmUgZnJvbSBkaXJlY3RvcnkgbGlzdGluZyBvZiBwYXJlbnQuXG5cdFx0ZGVsZXRlIHBhcmVudExpc3RpbmdbZmlsZU5hbWVdO1xuXG5cdFx0aWYgKCFpc0RpciAmJiBmaWxlTm9kZS5pc0RpcmVjdG9yeSgpKSB7XG5cdFx0XHR0aHJvdyBBcGlFcnJvci5FSVNESVIocCk7XG5cdFx0fSBlbHNlIGlmIChpc0RpciAmJiAhZmlsZU5vZGUuaXNEaXJlY3RvcnkoKSkge1xuXHRcdFx0dGhyb3cgQXBpRXJyb3IuRU5PVERJUihwKTtcblx0XHR9XG5cblx0XHR0cnkge1xuXHRcdFx0Ly8gRGVsZXRlIGRhdGEuXG5cdFx0XHR0eC5kZWwoZmlsZU5vZGUuaWQpO1xuXHRcdFx0Ly8gRGVsZXRlIG5vZGUuXG5cdFx0XHR0eC5kZWwoZmlsZU5vZGVJZCk7XG5cdFx0XHQvLyBVcGRhdGUgZGlyZWN0b3J5IGxpc3RpbmcuXG5cdFx0XHR0eC5wdXQocGFyZW50Tm9kZS5pZCwgQnVmZmVyLmZyb20oSlNPTi5zdHJpbmdpZnkocGFyZW50TGlzdGluZykpLCB0cnVlKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHR0eC5hYm9ydCgpO1xuXHRcdFx0dGhyb3cgZTtcblx0XHR9XG5cdFx0Ly8gU3VjY2Vzcy5cblx0XHR0eC5jb21taXQoKTtcblx0fVxufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgYW4gKmFzeW5jaHJvbm91cyoga2V5LXZhbHVlIHN0b3JlLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEFzeW5jS2V5VmFsdWVTdG9yZSB7XG5cdC8qKlxuXHQgKiBUaGUgbmFtZSBvZiB0aGUga2V5LXZhbHVlIHN0b3JlLlxuXHQgKi9cblx0bmFtZSgpOiBzdHJpbmc7XG5cdC8qKlxuXHQgKiBFbXB0aWVzIHRoZSBrZXktdmFsdWUgc3RvcmUgY29tcGxldGVseS5cblx0ICovXG5cdGNsZWFyKGNiOiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQ7XG5cdC8qKlxuXHQgKiBCZWdpbnMgYSByZWFkLXdyaXRlIHRyYW5zYWN0aW9uLlxuXHQgKi9cblx0YmVnaW5UcmFuc2FjdGlvbih0eXBlOiAncmVhZHdyaXRlJyk6IEFzeW5jS2V5VmFsdWVSV1RyYW5zYWN0aW9uO1xuXHQvKipcblx0ICogQmVnaW5zIGEgcmVhZC1vbmx5IHRyYW5zYWN0aW9uLlxuXHQgKi9cblx0YmVnaW5UcmFuc2FjdGlvbih0eXBlOiAncmVhZG9ubHknKTogQXN5bmNLZXlWYWx1ZVJPVHJhbnNhY3Rpb247XG5cdGJlZ2luVHJhbnNhY3Rpb24odHlwZTogc3RyaW5nKTogQXN5bmNLZXlWYWx1ZVJPVHJhbnNhY3Rpb247XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyBhbiBhc3luY2hyb25vdXMgcmVhZC1vbmx5IHRyYW5zYWN0aW9uLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEFzeW5jS2V5VmFsdWVST1RyYW5zYWN0aW9uIHtcblx0LyoqXG5cdCAqIFJldHJpZXZlcyB0aGUgZGF0YSBhdCB0aGUgZ2l2ZW4ga2V5LlxuXHQgKiBAcGFyYW0ga2V5IFRoZSBrZXkgdG8gbG9vayB1bmRlciBmb3IgZGF0YS5cblx0ICovXG5cdGdldChrZXk6IHN0cmluZywgY2I6IEJGU0NhbGxiYWNrPEJ1ZmZlcj4pOiB2b2lkO1xufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgYW4gYXN5bmNocm9ub3VzIHJlYWQtd3JpdGUgdHJhbnNhY3Rpb24uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQXN5bmNLZXlWYWx1ZVJXVHJhbnNhY3Rpb24gZXh0ZW5kcyBBc3luY0tleVZhbHVlUk9UcmFuc2FjdGlvbiB7XG5cdC8qKlxuXHQgKiBBZGRzIHRoZSBkYXRhIHRvIHRoZSBzdG9yZSB1bmRlciB0aGUgZ2l2ZW4ga2V5LiBPdmVyd3JpdGVzIGFueSBleGlzdGluZ1xuXHQgKiBkYXRhLlxuXHQgKiBAcGFyYW0ga2V5IFRoZSBrZXkgdG8gYWRkIHRoZSBkYXRhIHVuZGVyLlxuXHQgKiBAcGFyYW0gZGF0YSBUaGUgZGF0YSB0byBhZGQgdG8gdGhlIHN0b3JlLlxuXHQgKiBAcGFyYW0gb3ZlcndyaXRlIElmICd0cnVlJywgb3ZlcndyaXRlIGFueSBleGlzdGluZyBkYXRhLiBJZiAnZmFsc2UnLFxuXHQgKiAgIGF2b2lkcyB3cml0aW5nIHRoZSBkYXRhIGlmIHRoZSBrZXkgZXhpc3RzLlxuXHQgKiBAcGFyYW0gY2IgVHJpZ2dlcmVkIHdpdGggYW4gZXJyb3IgYW5kIHdoZXRoZXIgb3Igbm90IHRoZSB2YWx1ZSB3YXNcblx0ICogICBjb21taXR0ZWQuXG5cdCAqL1xuXHRwdXQoa2V5OiBzdHJpbmcsIGRhdGE6IEJ1ZmZlciwgb3ZlcndyaXRlOiBib29sZWFuLCBjYjogQkZTQ2FsbGJhY2s8Ym9vbGVhbj4pOiB2b2lkO1xuXHQvKipcblx0ICogRGVsZXRlcyB0aGUgZGF0YSBhdCB0aGUgZ2l2ZW4ga2V5LlxuXHQgKiBAcGFyYW0ga2V5IFRoZSBrZXkgdG8gZGVsZXRlIGZyb20gdGhlIHN0b3JlLlxuXHQgKi9cblx0ZGVsKGtleTogc3RyaW5nLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkO1xuXHQvKipcblx0ICogQ29tbWl0cyB0aGUgdHJhbnNhY3Rpb24uXG5cdCAqL1xuXHRjb21taXQoY2I6IEJGU09uZUFyZ0NhbGxiYWNrKTogdm9pZDtcblx0LyoqXG5cdCAqIEFib3J0cyBhbmQgcm9sbHMgYmFjayB0aGUgdHJhbnNhY3Rpb24uXG5cdCAqL1xuXHRhYm9ydChjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkO1xufVxuXG5leHBvcnQgY2xhc3MgQXN5bmNLZXlWYWx1ZUZpbGUgZXh0ZW5kcyBQcmVsb2FkRmlsZTxBc3luY0tleVZhbHVlRmlsZVN5c3RlbT4gaW1wbGVtZW50cyBGaWxlIHtcblx0Y29uc3RydWN0b3IoX2ZzOiBBc3luY0tleVZhbHVlRmlsZVN5c3RlbSwgX3BhdGg6IHN0cmluZywgX2ZsYWc6IEZpbGVGbGFnLCBfc3RhdDogU3RhdHMsIGNvbnRlbnRzPzogQnVmZmVyKSB7XG5cdFx0c3VwZXIoX2ZzLCBfcGF0aCwgX2ZsYWcsIF9zdGF0LCBjb250ZW50cyk7XG5cdH1cblxuXHRwdWJsaWMgc3luYyhjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0XHRpZiAodGhpcy5pc0RpcnR5KCkpIHtcblx0XHRcdHRoaXMuX2ZzLl9zeW5jKHRoaXMuZ2V0UGF0aCgpLCB0aGlzLmdldEJ1ZmZlcigpLCB0aGlzLmdldFN0YXRzKCksIChlPzogQXBpRXJyb3IpID0+IHtcblx0XHRcdFx0aWYgKCFlKSB7XG5cdFx0XHRcdFx0dGhpcy5yZXNldERpcnR5KCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y2IoZSk7XG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y2IoKTtcblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgY2xvc2UoY2I6IEJGU09uZUFyZ0NhbGxiYWNrKTogdm9pZCB7XG5cdFx0dGhpcy5zeW5jKGNiKTtcblx0fVxufVxuXG4vKipcbiAqIEFuIFwiQXN5bmNocm9ub3VzIGtleS12YWx1ZSBmaWxlIHN5c3RlbVwiLiBTdG9yZXMgZGF0YSB0by9yZXRyaWV2ZXMgZGF0YSBmcm9tXG4gKiBhbiB1bmRlcmx5aW5nIGFzeW5jaHJvbm91cyBrZXktdmFsdWUgc3RvcmUuXG4gKi9cbmV4cG9ydCBjbGFzcyBBc3luY0tleVZhbHVlRmlsZVN5c3RlbSBleHRlbmRzIEJhc2VGaWxlU3lzdGVtIHtcblx0cHVibGljIHN0YXRpYyBpc0F2YWlsYWJsZSgpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdHByb3RlY3RlZCBzdG9yZTogQXN5bmNLZXlWYWx1ZVN0b3JlO1xuXHRwcml2YXRlIF9jYWNoZTogTFJVQ2FjaGUgfCBudWxsID0gbnVsbDtcblxuXHRjb25zdHJ1Y3RvcihjYWNoZVNpemU6IG51bWJlcikge1xuXHRcdHN1cGVyKCk7XG5cdFx0aWYgKGNhY2hlU2l6ZSA+IDApIHtcblx0XHRcdHRoaXMuX2NhY2hlID0gbmV3IExSVUNhY2hlKGNhY2hlU2l6ZSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEluaXRpYWxpemVzIHRoZSBmaWxlIHN5c3RlbS4gVHlwaWNhbGx5IGNhbGxlZCBieSBzdWJjbGFzc2VzJyBhc3luY1xuXHQgKiBjb25zdHJ1Y3RvcnMuXG5cdCAqL1xuXHRwdWJsaWMgaW5pdChzdG9yZTogQXN5bmNLZXlWYWx1ZVN0b3JlLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spIHtcblx0XHR0aGlzLnN0b3JlID0gc3RvcmU7XG5cdFx0Ly8gSU5WQVJJQU5UOiBFbnN1cmUgdGhhdCB0aGUgcm9vdCBleGlzdHMuXG5cdFx0dGhpcy5tYWtlUm9vdERpcmVjdG9yeShjYik7XG5cdH1cblx0cHVibGljIGdldE5hbWUoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gdGhpcy5zdG9yZS5uYW1lKCk7XG5cdH1cblx0cHVibGljIGlzUmVhZE9ubHkoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cdHB1YmxpYyBzdXBwb3J0c1N5bWxpbmtzKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXHRwdWJsaWMgc3VwcG9ydHNQcm9wcygpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXHRwdWJsaWMgc3VwcG9ydHNTeW5jaCgpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHQvKipcblx0ICogRGVsZXRlIGFsbCBjb250ZW50cyBzdG9yZWQgaW4gdGhlIGZpbGUgc3lzdGVtLlxuXHQgKi9cblx0cHVibGljIGVtcHR5KGNiOiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQge1xuXHRcdGlmICh0aGlzLl9jYWNoZSkge1xuXHRcdFx0dGhpcy5fY2FjaGUucmVtb3ZlQWxsKCk7XG5cdFx0fVxuXHRcdHRoaXMuc3RvcmUuY2xlYXIoKGU/KSA9PiB7XG5cdFx0XHRpZiAobm9FcnJvcihlLCBjYikpIHtcblx0XHRcdFx0Ly8gSU5WQVJJQU5UOiBSb290IGFsd2F5cyBleGlzdHMuXG5cdFx0XHRcdHRoaXMubWFrZVJvb3REaXJlY3RvcnkoY2IpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0cHVibGljIGFjY2VzcyhwOiBzdHJpbmcsIG1vZGU6IG51bWJlciwgY3JlZDogQ3JlZCwgY2I6IEJGU09uZUFyZ0NhbGxiYWNrKTogdm9pZCB7XG5cdFx0Y29uc3QgdHggPSB0aGlzLnN0b3JlLmJlZ2luVHJhbnNhY3Rpb24oJ3JlYWRvbmx5Jyk7XG5cdFx0dGhpcy5maW5kSU5vZGUodHgsIHAsIGlub2RlID0+IHtcblx0XHRcdGlmIChpbm9kZSBpbnN0YW5jZW9mIElub2RlKSB7XG5cdFx0XHRcdGlmICghaW5vZGUhLnRvU3RhdHMoKS5oYXNBY2Nlc3MobW9kZSwgY3JlZCkpIHtcblx0XHRcdFx0XHRjYihBcGlFcnJvci5FQUNDRVMocCkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjYihpbm9kZSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHRwdWJsaWMgcmVuYW1lKG9sZFBhdGg6IHN0cmluZywgbmV3UGF0aDogc3RyaW5nLCBjcmVkOiBDcmVkLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0XHQvLyBUT0RPOiBNYWtlIHJlbmFtZSBjb21wYXRpYmxlIHdpdGggdGhlIGNhY2hlLlxuXHRcdGlmICh0aGlzLl9jYWNoZSkge1xuXHRcdFx0Ly8gQ2xlYXIgYW5kIGRpc2FibGUgY2FjaGUgZHVyaW5nIHJlbmFtaW5nIHByb2Nlc3MuXG5cdFx0XHRjb25zdCBjID0gdGhpcy5fY2FjaGU7XG5cdFx0XHR0aGlzLl9jYWNoZSA9IG51bGw7XG5cdFx0XHRjLnJlbW92ZUFsbCgpO1xuXHRcdFx0Y29uc3Qgb2xkQ2IgPSBjYjtcblx0XHRcdGNiID0gKGU/OiBBcGlFcnJvciB8IG51bGwpID0+IHtcblx0XHRcdFx0Ly8gUmVzdG9yZSBlbXB0eSBjYWNoZS5cblx0XHRcdFx0dGhpcy5fY2FjaGUgPSBjO1xuXHRcdFx0XHRvbGRDYihlKTtcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Y29uc3QgdHggPSB0aGlzLnN0b3JlLmJlZ2luVHJhbnNhY3Rpb24oJ3JlYWR3cml0ZScpO1xuXHRcdGNvbnN0IG9sZFBhcmVudCA9IHBhdGguZGlybmFtZShvbGRQYXRoKSxcblx0XHRcdG9sZE5hbWUgPSBwYXRoLmJhc2VuYW1lKG9sZFBhdGgpO1xuXHRcdGNvbnN0IG5ld1BhcmVudCA9IHBhdGguZGlybmFtZShuZXdQYXRoKSxcblx0XHRcdG5ld05hbWUgPSBwYXRoLmJhc2VuYW1lKG5ld1BhdGgpO1xuXHRcdGNvbnN0IGlub2RlczogeyBbcGF0aDogc3RyaW5nXTogSW5vZGUgfSA9IHt9O1xuXHRcdGNvbnN0IGxpc3RzOiB7XG5cdFx0XHRbcGF0aDogc3RyaW5nXTogeyBbZmlsZTogc3RyaW5nXTogc3RyaW5nIH07XG5cdFx0fSA9IHt9O1xuXHRcdGxldCBlcnJvck9jY3VycmVkOiBib29sZWFuID0gZmFsc2U7XG5cblx0XHQvLyBJbnZhcmlhbnQ6IENhbid0IG1vdmUgYSBmb2xkZXIgaW5zaWRlIGl0c2VsZi5cblx0XHQvLyBUaGlzIGZ1bm55IGxpdHRsZSBoYWNrIGVuc3VyZXMgdGhhdCB0aGUgY2hlY2sgcGFzc2VzIG9ubHkgaWYgb2xkUGF0aFxuXHRcdC8vIGlzIGEgc3VicGF0aCBvZiBuZXdQYXJlbnQuIFdlIGFwcGVuZCAnLycgdG8gYXZvaWQgbWF0Y2hpbmcgZm9sZGVycyB0aGF0XG5cdFx0Ly8gYXJlIGEgc3Vic3RyaW5nIG9mIHRoZSBib3R0b20tbW9zdCBmb2xkZXIgaW4gdGhlIHBhdGguXG5cdFx0aWYgKChuZXdQYXJlbnQgKyAnLycpLmluZGV4T2Yob2xkUGF0aCArICcvJykgPT09IDApIHtcblx0XHRcdHJldHVybiBjYihuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVCVVNZLCBvbGRQYXJlbnQpKTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBSZXNwb25zaWJsZSBmb3IgUGhhc2UgMiBvZiB0aGUgcmVuYW1lIG9wZXJhdGlvbjogTW9kaWZ5aW5nIGFuZFxuXHRcdCAqIGNvbW1pdHRpbmcgdGhlIGRpcmVjdG9yeSBsaXN0aW5ncy4gQ2FsbGVkIG9uY2Ugd2UgaGF2ZSBzdWNjZXNzZnVsbHlcblx0XHQgKiByZXRyaWV2ZWQgYm90aCB0aGUgb2xkIGFuZCBuZXcgcGFyZW50J3MgaW5vZGVzIGFuZCBsaXN0aW5ncy5cblx0XHQgKi9cblx0XHRjb25zdCB0aGVPbGVTd2l0Y2hhcm9vID0gKCk6IHZvaWQgPT4ge1xuXHRcdFx0Ly8gU2FuaXR5IGNoZWNrOiBFbnN1cmUgYm90aCBwYXRocyBhcmUgcHJlc2VudCwgYW5kIG5vIGVycm9yIGhhcyBvY2N1cnJlZC5cblx0XHRcdGlmIChlcnJvck9jY3VycmVkIHx8ICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobGlzdHMsIG9sZFBhcmVudCkgfHwgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChsaXN0cywgbmV3UGFyZW50KSkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRjb25zdCBvbGRQYXJlbnRMaXN0ID0gbGlzdHNbb2xkUGFyZW50XSxcblx0XHRcdFx0b2xkUGFyZW50SU5vZGUgPSBpbm9kZXNbb2xkUGFyZW50XSxcblx0XHRcdFx0bmV3UGFyZW50TGlzdCA9IGxpc3RzW25ld1BhcmVudF0sXG5cdFx0XHRcdG5ld1BhcmVudElOb2RlID0gaW5vZGVzW25ld1BhcmVudF07XG5cblx0XHRcdC8vIERlbGV0ZSBmaWxlIGZyb20gb2xkIHBhcmVudC5cblx0XHRcdGlmICghb2xkUGFyZW50TGlzdFtvbGROYW1lXSkge1xuXHRcdFx0XHRjYihBcGlFcnJvci5FTk9FTlQob2xkUGF0aCkpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29uc3QgZmlsZUlkID0gb2xkUGFyZW50TGlzdFtvbGROYW1lXTtcblx0XHRcdFx0ZGVsZXRlIG9sZFBhcmVudExpc3Rbb2xkTmFtZV07XG5cblx0XHRcdFx0Ly8gRmluaXNoZXMgb2ZmIHRoZSByZW5hbWluZyBwcm9jZXNzIGJ5IGFkZGluZyB0aGUgZmlsZSB0byB0aGUgbmV3XG5cdFx0XHRcdC8vIHBhcmVudC5cblx0XHRcdFx0Y29uc3QgY29tcGxldGVSZW5hbWUgPSAoKSA9PiB7XG5cdFx0XHRcdFx0bmV3UGFyZW50TGlzdFtuZXdOYW1lXSA9IGZpbGVJZDtcblx0XHRcdFx0XHQvLyBDb21taXQgb2xkIHBhcmVudCdzIGxpc3QuXG5cdFx0XHRcdFx0dHgucHV0KG9sZFBhcmVudElOb2RlLmlkLCBCdWZmZXIuZnJvbShKU09OLnN0cmluZ2lmeShvbGRQYXJlbnRMaXN0KSksIHRydWUsIChlOiBBcGlFcnJvcikgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKG5vRXJyb3JUeChlLCB0eCwgY2IpKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChvbGRQYXJlbnQgPT09IG5ld1BhcmVudCkge1xuXHRcdFx0XHRcdFx0XHRcdC8vIERPTkUhXG5cdFx0XHRcdFx0XHRcdFx0dHguY29tbWl0KGNiKTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBDb21taXQgbmV3IHBhcmVudCdzIGxpc3QuXG5cdFx0XHRcdFx0XHRcdFx0dHgucHV0KG5ld1BhcmVudElOb2RlLmlkLCBCdWZmZXIuZnJvbShKU09OLnN0cmluZ2lmeShuZXdQYXJlbnRMaXN0KSksIHRydWUsIChlOiBBcGlFcnJvcikgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKG5vRXJyb3JUeChlLCB0eCwgY2IpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHR4LmNvbW1pdChjYik7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fTtcblxuXHRcdFx0XHRpZiAobmV3UGFyZW50TGlzdFtuZXdOYW1lXSkge1xuXHRcdFx0XHRcdC8vICduZXdQYXRoJyBhbHJlYWR5IGV4aXN0cy4gQ2hlY2sgaWYgaXQncyBhIGZpbGUgb3IgYSBkaXJlY3RvcnksIGFuZFxuXHRcdFx0XHRcdC8vIGFjdCBhY2NvcmRpbmdseS5cblx0XHRcdFx0XHR0aGlzLmdldElOb2RlKHR4LCBuZXdQYXRoLCBuZXdQYXJlbnRMaXN0W25ld05hbWVdLCAoZTogQXBpRXJyb3IsIGlub2RlPzogSW5vZGUpID0+IHtcblx0XHRcdFx0XHRcdGlmIChub0Vycm9yVHgoZSwgdHgsIGNiKSkge1xuXHRcdFx0XHRcdFx0XHRpZiAoaW5vZGUhLmlzRmlsZSgpKSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gRGVsZXRlIHRoZSBmaWxlIGFuZCBjb250aW51ZS5cblx0XHRcdFx0XHRcdFx0XHR0eC5kZWwoaW5vZGUhLmlkLCAoZT86IEFwaUVycm9yKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAobm9FcnJvclR4KGUsIHR4LCBjYikpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dHguZGVsKG5ld1BhcmVudExpc3RbbmV3TmFtZV0sIChlPzogQXBpRXJyb3IpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAobm9FcnJvclR4KGUsIHR4LCBjYikpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbXBsZXRlUmVuYW1lKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBDYW4ndCBvdmVyd3JpdGUgYSBkaXJlY3RvcnkgdXNpbmcgcmVuYW1lLlxuXHRcdFx0XHRcdFx0XHRcdHR4LmFib3J0KChlPykgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y2IoQXBpRXJyb3IuRVBFUk0obmV3UGF0aCkpO1xuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y29tcGxldGVSZW5hbWUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBHcmFicyBhIHBhdGgncyBpbm9kZSBhbmQgZGlyZWN0b3J5IGxpc3RpbmcsIGFuZCBzaG92ZXMgaXQgaW50byB0aGVcblx0XHQgKiBpbm9kZXMgYW5kIGxpc3RzIGhhc2hlcy5cblx0XHQgKi9cblx0XHRjb25zdCBwcm9jZXNzSW5vZGVBbmRMaXN0aW5ncyA9IChwOiBzdHJpbmcpOiB2b2lkID0+IHtcblx0XHRcdHRoaXMuZmluZElOb2RlQW5kRGlyTGlzdGluZyh0eCwgcCwgKGU/OiBBcGlFcnJvciB8IG51bGwsIG5vZGU/OiBJbm9kZSwgZGlyTGlzdD86IHsgW25hbWU6IHN0cmluZ106IHN0cmluZyB9KTogdm9pZCA9PiB7XG5cdFx0XHRcdGlmICghbm9kZSEudG9TdGF0cygpLmhhc0FjY2VzcyhGaWxlUGVybS5XUklURSwgY3JlZCkpIHtcblx0XHRcdFx0XHR0aHJvdyBBcGlFcnJvci5FQUNDRVMocCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKGUpIHtcblx0XHRcdFx0XHRpZiAoIWVycm9yT2NjdXJyZWQpIHtcblx0XHRcdFx0XHRcdGVycm9yT2NjdXJyZWQgPSB0cnVlO1xuXHRcdFx0XHRcdFx0dHguYWJvcnQoKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRjYihlKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQvLyBJZiBlcnJvciBoYXMgb2NjdXJyZWQgYWxyZWFkeSwganVzdCBzdG9wIGhlcmUuXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aW5vZGVzW3BdID0gbm9kZSE7XG5cdFx0XHRcdFx0bGlzdHNbcF0gPSBkaXJMaXN0ITtcblx0XHRcdFx0XHR0aGVPbGVTd2l0Y2hhcm9vKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH07XG5cblx0XHRwcm9jZXNzSW5vZGVBbmRMaXN0aW5ncyhvbGRQYXJlbnQpO1xuXHRcdGlmIChvbGRQYXJlbnQgIT09IG5ld1BhcmVudCkge1xuXHRcdFx0cHJvY2Vzc0lub2RlQW5kTGlzdGluZ3MobmV3UGFyZW50KTtcblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgc3RhdChwOiBzdHJpbmcsIGlzTHN0YXQ6IGJvb2xlYW4sIGNyZWQ6IENyZWQsIGNiOiBCRlNDYWxsYmFjazxTdGF0cz4pOiB2b2lkIHtcblx0XHRjb25zdCB0eCA9IHRoaXMuc3RvcmUuYmVnaW5UcmFuc2FjdGlvbigncmVhZG9ubHknKTtcblx0XHR0aGlzLmZpbmRJTm9kZSh0eCwgcCwgKGU6IEFwaUVycm9yLCBpbm9kZT86IElub2RlKTogdm9pZCA9PiB7XG5cdFx0XHRpZiAobm9FcnJvcihlLCBjYikpIHtcblx0XHRcdFx0Y29uc3Qgc3RhdHMgPSBpbm9kZSEudG9TdGF0cygpO1xuXHRcdFx0XHRpZiAoIXN0YXRzLmhhc0FjY2VzcyhGaWxlUGVybS5SRUFELCBjcmVkKSkge1xuXHRcdFx0XHRcdGNiKEFwaUVycm9yLkVBQ0NFUyhwKSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y2IobnVsbCwgc3RhdHMpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0cHVibGljIGNyZWF0ZUZpbGUocDogc3RyaW5nLCBmbGFnOiBGaWxlRmxhZywgbW9kZTogbnVtYmVyLCBjcmVkOiBDcmVkLCBjYjogQkZTQ2FsbGJhY2s8RmlsZT4pOiB2b2lkIHtcblx0XHRjb25zdCB0eCA9IHRoaXMuc3RvcmUuYmVnaW5UcmFuc2FjdGlvbigncmVhZHdyaXRlJyksXG5cdFx0XHRkYXRhID0gZW1wdHlCdWZmZXIoKTtcblxuXHRcdHRoaXMuY29tbWl0TmV3RmlsZSh0eCwgcCwgRmlsZVR5cGUuRklMRSwgbW9kZSwgY3JlZCwgZGF0YSwgKGU6IEFwaUVycm9yLCBuZXdGaWxlPzogSW5vZGUpOiB2b2lkID0+IHtcblx0XHRcdGlmIChub0Vycm9yKGUsIGNiKSkge1xuXHRcdFx0XHRjYihudWxsLCBuZXcgQXN5bmNLZXlWYWx1ZUZpbGUodGhpcywgcCwgZmxhZywgbmV3RmlsZSEudG9TdGF0cygpLCBkYXRhKSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHRwdWJsaWMgb3BlbkZpbGUocDogc3RyaW5nLCBmbGFnOiBGaWxlRmxhZywgY3JlZDogQ3JlZCwgY2I6IEJGU0NhbGxiYWNrPEZpbGU+KTogdm9pZCB7XG5cdFx0Y29uc3QgdHggPSB0aGlzLnN0b3JlLmJlZ2luVHJhbnNhY3Rpb24oJ3JlYWRvbmx5Jyk7XG5cdFx0Ly8gU3RlcCAxOiBHcmFiIHRoZSBmaWxlJ3MgaW5vZGUuXG5cdFx0dGhpcy5maW5kSU5vZGUodHgsIHAsIChlOiBBcGlFcnJvciwgaW5vZGU/OiBJbm9kZSkgPT4ge1xuXHRcdFx0aWYgKG5vRXJyb3IoZSwgY2IpKSB7XG5cdFx0XHRcdGNvbnN0IHN0YXRzID0gaW5vZGUhLnRvU3RhdHMoKTtcblx0XHRcdFx0aWYgKCFzdGF0cy5oYXNBY2Nlc3MoZmxhZy5nZXRNb2RlKCksIGNyZWQpKSB7XG5cdFx0XHRcdFx0Y2IoQXBpRXJyb3IuRUFDQ0VTKHApKTtcblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBTdGVwIDI6IEdyYWIgdGhlIGZpbGUncyBkYXRhLlxuXHRcdFx0XHR0eC5nZXQoaW5vZGUhLmlkLCAoZTogQXBpRXJyb3IsIGRhdGE/OiBCdWZmZXIpOiB2b2lkID0+IHtcblx0XHRcdFx0XHRpZiAobm9FcnJvcihlLCBjYikpIHtcblx0XHRcdFx0XHRcdGlmIChkYXRhID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdFx0Y2IoQXBpRXJyb3IuRU5PRU5UKHApKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGNiKG51bGwsIG5ldyBBc3luY0tleVZhbHVlRmlsZSh0aGlzLCBwLCBmbGFnLCBzdGF0cywgZGF0YSkpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHRwdWJsaWMgdW5saW5rKHA6IHN0cmluZywgY3JlZDogQ3JlZCwgY2I6IEJGU09uZUFyZ0NhbGxiYWNrKTogdm9pZCB7XG5cdFx0dGhpcy5yZW1vdmVFbnRyeShwLCBmYWxzZSwgY3JlZCwgY2IpO1xuXHR9XG5cblx0cHVibGljIHJtZGlyKHA6IHN0cmluZywgY3JlZDogQ3JlZCwgY2I6IEJGU09uZUFyZ0NhbGxiYWNrKTogdm9pZCB7XG5cdFx0Ly8gQ2hlY2sgZmlyc3QgaWYgZGlyZWN0b3J5IGlzIGVtcHR5LlxuXHRcdHRoaXMucmVhZGRpcihwLCBjcmVkLCAoZXJyLCBmaWxlcz8pID0+IHtcblx0XHRcdGlmIChlcnIpIHtcblx0XHRcdFx0Y2IoZXJyKTtcblx0XHRcdH0gZWxzZSBpZiAoZmlsZXMhLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0Y2IoQXBpRXJyb3IuRU5PVEVNUFRZKHApKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMucmVtb3ZlRW50cnkocCwgdHJ1ZSwgY3JlZCwgY2IpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0cHVibGljIG1rZGlyKHA6IHN0cmluZywgbW9kZTogbnVtYmVyLCBjcmVkOiBDcmVkLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0XHRjb25zdCB0eCA9IHRoaXMuc3RvcmUuYmVnaW5UcmFuc2FjdGlvbigncmVhZHdyaXRlJyksXG5cdFx0XHRkYXRhID0gQnVmZmVyLmZyb20oJ3t9Jyk7XG5cdFx0dGhpcy5jb21taXROZXdGaWxlKHR4LCBwLCBGaWxlVHlwZS5ESVJFQ1RPUlksIG1vZGUsIGNyZWQsIGRhdGEsIGNiKTtcblx0fVxuXG5cdHB1YmxpYyByZWFkZGlyKHA6IHN0cmluZywgY3JlZDogQ3JlZCwgY2I6IEJGU0NhbGxiYWNrPHN0cmluZ1tdPik6IHZvaWQge1xuXHRcdGNvbnN0IHR4ID0gdGhpcy5zdG9yZS5iZWdpblRyYW5zYWN0aW9uKCdyZWFkb25seScpO1xuXHRcdHRoaXMuZmluZElOb2RlKHR4LCBwLCAoZTogQXBpRXJyb3IsIGlub2RlPzogSW5vZGUpID0+IHtcblx0XHRcdGlmIChub0Vycm9yKGUsIGNiKSkge1xuXHRcdFx0XHRpZiAoIWlub2RlIS50b1N0YXRzKCkuaGFzQWNjZXNzKEZpbGVQZXJtLlJFQUQsIGNyZWQpKSB7XG5cdFx0XHRcdFx0Y2IoQXBpRXJyb3IuRUFDQ0VTKHApKTtcblx0XHRcdFx0fVxuXHRcdFx0XHR0aGlzLmdldERpckxpc3RpbmcodHgsIHAsIGlub2RlISwgKGU6IEFwaUVycm9yLCBkaXJMaXN0aW5nPzogeyBbbmFtZTogc3RyaW5nXTogc3RyaW5nIH0pID0+IHtcblx0XHRcdFx0XHRpZiAobm9FcnJvcihlLCBjYikpIHtcblx0XHRcdFx0XHRcdGNiKG51bGwsIE9iamVjdC5rZXlzKGRpckxpc3RpbmchKSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdHB1YmxpYyBfc3luYyhwOiBzdHJpbmcsIGRhdGE6IEJ1ZmZlciwgc3RhdHM6IFN0YXRzLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0XHQvLyBAdG9kbyBFbnN1cmUgbXRpbWUgdXBkYXRlcyBwcm9wZXJseSwgYW5kIHVzZSB0aGF0IHRvIGRldGVybWluZSBpZiBhIGRhdGFcblx0XHQvLyAgICAgICB1cGRhdGUgaXMgcmVxdWlyZWQuXG5cdFx0Y29uc3QgdHggPSB0aGlzLnN0b3JlLmJlZ2luVHJhbnNhY3Rpb24oJ3JlYWR3cml0ZScpO1xuXHRcdC8vIFN0ZXAgMTogR2V0IHRoZSBmaWxlIG5vZGUncyBJRC5cblx0XHR0aGlzLl9maW5kSU5vZGUodHgsIHBhdGguZGlybmFtZShwKSwgcGF0aC5iYXNlbmFtZShwKSwgKGU6IEFwaUVycm9yLCBmaWxlSW5vZGVJZD86IHN0cmluZyk6IHZvaWQgPT4ge1xuXHRcdFx0aWYgKG5vRXJyb3JUeChlLCB0eCwgY2IpKSB7XG5cdFx0XHRcdC8vIFN0ZXAgMjogR2V0IHRoZSBmaWxlIGlub2RlLlxuXHRcdFx0XHR0aGlzLmdldElOb2RlKHR4LCBwLCBmaWxlSW5vZGVJZCEsIChlOiBBcGlFcnJvciwgZmlsZUlub2RlPzogSW5vZGUpOiB2b2lkID0+IHtcblx0XHRcdFx0XHRpZiAobm9FcnJvclR4KGUsIHR4LCBjYikpIHtcblx0XHRcdFx0XHRcdGNvbnN0IGlub2RlQ2hhbmdlZDogYm9vbGVhbiA9IGZpbGVJbm9kZSEudXBkYXRlKHN0YXRzKTtcblx0XHRcdFx0XHRcdC8vIFN0ZXAgMzogU3luYyB0aGUgZGF0YS5cblx0XHRcdFx0XHRcdHR4LnB1dChmaWxlSW5vZGUhLmlkLCBkYXRhLCB0cnVlLCAoZTogQXBpRXJyb3IpOiB2b2lkID0+IHtcblx0XHRcdFx0XHRcdFx0aWYgKG5vRXJyb3JUeChlLCB0eCwgY2IpKSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gU3RlcCA0OiBTeW5jIHRoZSBtZXRhZGF0YSAoaWYgaXQgY2hhbmdlZCkhXG5cdFx0XHRcdFx0XHRcdFx0aWYgKGlub2RlQ2hhbmdlZCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0dHgucHV0KGZpbGVJbm9kZUlkISwgZmlsZUlub2RlIS50b0J1ZmZlcigpLCB0cnVlLCAoZTogQXBpRXJyb3IpOiB2b2lkID0+IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKG5vRXJyb3JUeChlLCB0eCwgY2IpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dHguY29tbWl0KGNiKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdC8vIE5vIG5lZWQgdG8gc3luYyBtZXRhZGF0YTsgcmV0dXJuLlxuXHRcdFx0XHRcdFx0XHRcdFx0dHguY29tbWl0KGNiKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogQ2hlY2tzIGlmIHRoZSByb290IGRpcmVjdG9yeSBleGlzdHMuIENyZWF0ZXMgaXQgaWYgaXQgZG9lc24ndC5cblx0ICovXG5cdHByaXZhdGUgbWFrZVJvb3REaXJlY3RvcnkoY2I6IEJGU09uZUFyZ0NhbGxiYWNrKSB7XG5cdFx0Y29uc3QgdHggPSB0aGlzLnN0b3JlLmJlZ2luVHJhbnNhY3Rpb24oJ3JlYWR3cml0ZScpO1xuXHRcdHR4LmdldChST09UX05PREVfSUQsIChlOiBBcGlFcnJvciwgZGF0YT86IEJ1ZmZlcikgPT4ge1xuXHRcdFx0aWYgKGUgfHwgZGF0YSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdC8vIENyZWF0ZSBuZXcgaW5vZGUuXG5cdFx0XHRcdGNvbnN0IGN1cnJUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCksXG5cdFx0XHRcdFx0Ly8gTW9kZSAwNjY2LCBvd25lZCBieSByb290OnJvb3Rcblx0XHRcdFx0XHRkaXJJbm9kZSA9IG5ldyBJbm9kZShHZW5lcmF0ZVJhbmRvbUlEKCksIDQwOTYsIDUxMSB8IEZpbGVUeXBlLkRJUkVDVE9SWSwgY3VyclRpbWUsIGN1cnJUaW1lLCBjdXJyVGltZSwgMCwgMCk7XG5cdFx0XHRcdC8vIElmIHRoZSByb290IGRvZXNuJ3QgZXhpc3QsIHRoZSBmaXJzdCByYW5kb20gSUQgc2hvdWxkbid0IGV4aXN0LFxuXHRcdFx0XHQvLyBlaXRoZXIuXG5cdFx0XHRcdHR4LnB1dChkaXJJbm9kZS5pZCwgZ2V0RW1wdHlEaXJOb2RlKCksIGZhbHNlLCAoZT86IEFwaUVycm9yKSA9PiB7XG5cdFx0XHRcdFx0aWYgKG5vRXJyb3JUeChlLCB0eCwgY2IpKSB7XG5cdFx0XHRcdFx0XHR0eC5wdXQoUk9PVF9OT0RFX0lELCBkaXJJbm9kZS50b0J1ZmZlcigpLCBmYWxzZSwgKGU/OiBBcGlFcnJvcikgPT4ge1xuXHRcdFx0XHRcdFx0XHRpZiAoZSkge1xuXHRcdFx0XHRcdFx0XHRcdHR4LmFib3J0KCgpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRcdGNiKGUpO1xuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdHR4LmNvbW1pdChjYik7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBXZSdyZSBnb29kLlxuXHRcdFx0XHR0eC5jb21taXQoY2IpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIEhlbHBlciBmdW5jdGlvbiBmb3IgZmluZElOb2RlLlxuXHQgKiBAcGFyYW0gcGFyZW50IFRoZSBwYXJlbnQgZGlyZWN0b3J5IG9mIHRoZSBmaWxlIHdlIGFyZSBhdHRlbXB0aW5nIHRvIGZpbmQuXG5cdCAqIEBwYXJhbSBmaWxlbmFtZSBUaGUgZmlsZW5hbWUgb2YgdGhlIGlub2RlIHdlIGFyZSBhdHRlbXB0aW5nIHRvIGZpbmQsIG1pbnVzXG5cdCAqICAgdGhlIHBhcmVudC5cblx0ICogQHBhcmFtIGNiIFBhc3NlZCBhbiBlcnJvciBvciB0aGUgSUQgb2YgdGhlIGZpbGUncyBpbm9kZSBpbiB0aGUgZmlsZSBzeXN0ZW0uXG5cdCAqL1xuXHRwcml2YXRlIF9maW5kSU5vZGUodHg6IEFzeW5jS2V5VmFsdWVST1RyYW5zYWN0aW9uLCBwYXJlbnQ6IHN0cmluZywgZmlsZW5hbWU6IHN0cmluZywgY2I6IEJGU0NhbGxiYWNrPHN0cmluZz4pOiB2b2lkIHtcblx0XHRpZiAodGhpcy5fY2FjaGUpIHtcblx0XHRcdGNvbnN0IGlkID0gdGhpcy5fY2FjaGUuZ2V0KHBhdGguam9pbihwYXJlbnQsIGZpbGVuYW1lKSk7XG5cdFx0XHRpZiAoaWQpIHtcblx0XHRcdFx0cmV0dXJuIGNiKG51bGwsIGlkKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0Y29uc3QgaGFuZGxlRGlyZWN0b3J5TGlzdGluZ3MgPSAoZT86IEFwaUVycm9yIHwgbnVsbCwgaW5vZGU/OiBJbm9kZSwgZGlyTGlzdD86IHsgW25hbWU6IHN0cmluZ106IHN0cmluZyB9KTogdm9pZCA9PiB7XG5cdFx0XHRpZiAoZSkge1xuXHRcdFx0XHRjYihlKTtcblx0XHRcdH0gZWxzZSBpZiAoZGlyTGlzdCFbZmlsZW5hbWVdKSB7XG5cdFx0XHRcdGNvbnN0IGlkID0gZGlyTGlzdCFbZmlsZW5hbWVdO1xuXHRcdFx0XHRpZiAodGhpcy5fY2FjaGUpIHtcblx0XHRcdFx0XHR0aGlzLl9jYWNoZS5zZXQocGF0aC5qb2luKHBhcmVudCwgZmlsZW5hbWUpLCBpZCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y2IobnVsbCwgaWQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y2IoQXBpRXJyb3IuRU5PRU5UKHBhdGgucmVzb2x2ZShwYXJlbnQsIGZpbGVuYW1lKSkpO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRpZiAocGFyZW50ID09PSAnLycpIHtcblx0XHRcdGlmIChmaWxlbmFtZSA9PT0gJycpIHtcblx0XHRcdFx0Ly8gQkFTRSBDQVNFICMxOiBSZXR1cm4gdGhlIHJvb3QncyBJRC5cblx0XHRcdFx0aWYgKHRoaXMuX2NhY2hlKSB7XG5cdFx0XHRcdFx0dGhpcy5fY2FjaGUuc2V0KHBhdGguam9pbihwYXJlbnQsIGZpbGVuYW1lKSwgUk9PVF9OT0RFX0lEKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRjYihudWxsLCBST09UX05PREVfSUQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gQkFTRSBDQVNFICMyOiBGaW5kIHRoZSBpdGVtIGluIHRoZSByb290IG5vZGUuXG5cdFx0XHRcdHRoaXMuZ2V0SU5vZGUodHgsIHBhcmVudCwgUk9PVF9OT0RFX0lELCAoZTogQXBpRXJyb3IsIGlub2RlPzogSW5vZGUpOiB2b2lkID0+IHtcblx0XHRcdFx0XHRpZiAobm9FcnJvcihlLCBjYikpIHtcblx0XHRcdFx0XHRcdHRoaXMuZ2V0RGlyTGlzdGluZyh0eCwgcGFyZW50LCBpbm9kZSEsIChlOiBBcGlFcnJvciwgZGlyTGlzdD86IHsgW25hbWU6IHN0cmluZ106IHN0cmluZyB9KTogdm9pZCA9PiB7XG5cdFx0XHRcdFx0XHRcdC8vIGhhbmRsZV9kaXJlY3RvcnlfbGlzdGluZ3Mgd2lsbCBoYW5kbGUgZSBmb3IgdXMuXG5cdFx0XHRcdFx0XHRcdGhhbmRsZURpcmVjdG9yeUxpc3RpbmdzKGUsIGlub2RlLCBkaXJMaXN0KTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIEdldCB0aGUgcGFyZW50IGRpcmVjdG9yeSdzIElOb2RlLCBhbmQgZmluZCB0aGUgZmlsZSBpbiBpdHMgZGlyZWN0b3J5XG5cdFx0XHQvLyBsaXN0aW5nLlxuXHRcdFx0dGhpcy5maW5kSU5vZGVBbmREaXJMaXN0aW5nKHR4LCBwYXJlbnQsIGhhbmRsZURpcmVjdG9yeUxpc3RpbmdzKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogRmluZHMgdGhlIElub2RlIG9mIHRoZSBnaXZlbiBwYXRoLlxuXHQgKiBAcGFyYW0gcCBUaGUgcGF0aCB0byBsb29rIHVwLlxuXHQgKiBAcGFyYW0gY2IgUGFzc2VkIGFuIGVycm9yIG9yIHRoZSBJbm9kZSBvZiB0aGUgcGF0aCBwLlxuXHQgKiBAdG9kbyBtZW1vaXplL2NhY2hlXG5cdCAqL1xuXHRwcml2YXRlIGZpbmRJTm9kZSh0eDogQXN5bmNLZXlWYWx1ZVJPVHJhbnNhY3Rpb24sIHA6IHN0cmluZywgY2I6IEJGU0NhbGxiYWNrPElub2RlPik6IHZvaWQge1xuXHRcdHRoaXMuX2ZpbmRJTm9kZSh0eCwgcGF0aC5kaXJuYW1lKHApLCBwYXRoLmJhc2VuYW1lKHApLCAoZTogQXBpRXJyb3IsIGlkPzogc3RyaW5nKTogdm9pZCA9PiB7XG5cdFx0XHRpZiAobm9FcnJvcihlLCBjYikpIHtcblx0XHRcdFx0dGhpcy5nZXRJTm9kZSh0eCwgcCwgaWQhLCBjYik7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogR2l2ZW4gdGhlIElEIG9mIGEgbm9kZSwgcmV0cmlldmVzIHRoZSBjb3JyZXNwb25kaW5nIElub2RlLlxuXHQgKiBAcGFyYW0gdHggVGhlIHRyYW5zYWN0aW9uIHRvIHVzZS5cblx0ICogQHBhcmFtIHAgVGhlIGNvcnJlc3BvbmRpbmcgcGF0aCB0byB0aGUgZmlsZSAodXNlZCBmb3IgZXJyb3IgbWVzc2FnZXMpLlxuXHQgKiBAcGFyYW0gaWQgVGhlIElEIHRvIGxvb2sgdXAuXG5cdCAqIEBwYXJhbSBjYiBQYXNzZWQgYW4gZXJyb3Igb3IgdGhlIGlub2RlIHVuZGVyIHRoZSBnaXZlbiBpZC5cblx0ICovXG5cdHByaXZhdGUgZ2V0SU5vZGUodHg6IEFzeW5jS2V5VmFsdWVST1RyYW5zYWN0aW9uLCBwOiBzdHJpbmcsIGlkOiBzdHJpbmcsIGNiOiBCRlNDYWxsYmFjazxJbm9kZT4pOiB2b2lkIHtcblx0XHR0eC5nZXQoaWQsIChlOiBBcGlFcnJvciwgZGF0YT86IEJ1ZmZlcik6IHZvaWQgPT4ge1xuXHRcdFx0aWYgKG5vRXJyb3IoZSwgY2IpKSB7XG5cdFx0XHRcdGlmIChkYXRhID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRjYihBcGlFcnJvci5FTk9FTlQocCkpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNiKG51bGwsIElub2RlLmZyb21CdWZmZXIoZGF0YSkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogR2l2ZW4gdGhlIElub2RlIG9mIGEgZGlyZWN0b3J5LCByZXRyaWV2ZXMgdGhlIGNvcnJlc3BvbmRpbmcgZGlyZWN0b3J5XG5cdCAqIGxpc3RpbmcuXG5cdCAqL1xuXHRwcml2YXRlIGdldERpckxpc3RpbmcodHg6IEFzeW5jS2V5VmFsdWVST1RyYW5zYWN0aW9uLCBwOiBzdHJpbmcsIGlub2RlOiBJbm9kZSwgY2I6IEJGU0NhbGxiYWNrPHsgW2ZpbGVOYW1lOiBzdHJpbmddOiBzdHJpbmcgfT4pOiB2b2lkIHtcblx0XHRpZiAoIWlub2RlLmlzRGlyZWN0b3J5KCkpIHtcblx0XHRcdGNiKEFwaUVycm9yLkVOT1RESVIocCkpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0eC5nZXQoaW5vZGUuaWQsIChlOiBBcGlFcnJvciwgZGF0YT86IEJ1ZmZlcik6IHZvaWQgPT4ge1xuXHRcdFx0XHRpZiAobm9FcnJvcihlLCBjYikpIHtcblx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0Y2IobnVsbCwgSlNPTi5wYXJzZShkYXRhIS50b1N0cmluZygpKSk7XG5cdFx0XHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRcdFx0Ly8gT2NjdXJzIHdoZW4gZGF0YSBpcyB1bmRlZmluZWQsIG9yIGNvcnJlc3BvbmRzIHRvIHNvbWV0aGluZyBvdGhlclxuXHRcdFx0XHRcdFx0Ly8gdGhhbiBhIGRpcmVjdG9yeSBsaXN0aW5nLiBUaGUgbGF0dGVyIHNob3VsZCBuZXZlciBvY2N1ciB1bmxlc3Ncblx0XHRcdFx0XHRcdC8vIHRoZSBmaWxlIHN5c3RlbSBpcyBjb3JydXB0ZWQuXG5cdFx0XHRcdFx0XHRjYihBcGlFcnJvci5FTk9FTlQocCkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEdpdmVuIGEgcGF0aCB0byBhIGRpcmVjdG9yeSwgcmV0cmlldmVzIHRoZSBjb3JyZXNwb25kaW5nIElOb2RlIGFuZFxuXHQgKiBkaXJlY3RvcnkgbGlzdGluZy5cblx0ICovXG5cdHByaXZhdGUgZmluZElOb2RlQW5kRGlyTGlzdGluZyh0eDogQXN5bmNLZXlWYWx1ZVJPVHJhbnNhY3Rpb24sIHA6IHN0cmluZywgY2I6IEJGU1RocmVlQXJnQ2FsbGJhY2s8SW5vZGUsIHsgW2ZpbGVOYW1lOiBzdHJpbmddOiBzdHJpbmcgfT4pOiB2b2lkIHtcblx0XHR0aGlzLmZpbmRJTm9kZSh0eCwgcCwgKGU6IEFwaUVycm9yLCBpbm9kZT86IElub2RlKTogdm9pZCA9PiB7XG5cdFx0XHRpZiAobm9FcnJvcihlLCBjYikpIHtcblx0XHRcdFx0dGhpcy5nZXREaXJMaXN0aW5nKHR4LCBwLCBpbm9kZSEsIChlLCBsaXN0aW5nPykgPT4ge1xuXHRcdFx0XHRcdGlmIChub0Vycm9yKGUsIGNiKSkge1xuXHRcdFx0XHRcdFx0Y2IobnVsbCwgaW5vZGUhLCBsaXN0aW5nISk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBZGRzIGEgbmV3IG5vZGUgdW5kZXIgYSByYW5kb20gSUQuIFJldHJpZXMgNSB0aW1lcyBiZWZvcmUgZ2l2aW5nIHVwIGluXG5cdCAqIHRoZSBleGNlZWRpbmdseSB1bmxpa2VseSBjaGFuY2UgdGhhdCB3ZSB0cnkgdG8gcmV1c2UgYSByYW5kb20gR1VJRC5cblx0ICogQHBhcmFtIGNiIFBhc3NlZCBhbiBlcnJvciBvciB0aGUgR1VJRCB0aGF0IHRoZSBkYXRhIHdhcyBzdG9yZWQgdW5kZXIuXG5cdCAqL1xuXHRwcml2YXRlIGFkZE5ld05vZGUodHg6IEFzeW5jS2V5VmFsdWVSV1RyYW5zYWN0aW9uLCBkYXRhOiBCdWZmZXIsIGNiOiBCRlNDYWxsYmFjazxzdHJpbmc+KTogdm9pZCB7XG5cdFx0bGV0IHJldHJpZXMgPSAwLFxuXHRcdFx0Y3VycklkOiBzdHJpbmc7XG5cdFx0Y29uc3QgcmVyb2xsID0gKCkgPT4ge1xuXHRcdFx0aWYgKCsrcmV0cmllcyA9PT0gNSkge1xuXHRcdFx0XHQvLyBNYXggcmV0cmllcyBoaXQuIFJldHVybiB3aXRoIGFuIGVycm9yLlxuXHRcdFx0XHRjYihuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVJTywgJ1VuYWJsZSB0byBjb21taXQgZGF0YSB0byBrZXktdmFsdWUgc3RvcmUuJykpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gVHJ5IGFnYWluLlxuXHRcdFx0XHRjdXJySWQgPSBHZW5lcmF0ZVJhbmRvbUlEKCk7XG5cdFx0XHRcdHR4LnB1dChjdXJySWQsIGRhdGEsIGZhbHNlLCAoZTogQXBpRXJyb3IsIGNvbW1pdHRlZD86IGJvb2xlYW4pID0+IHtcblx0XHRcdFx0XHRpZiAoZSB8fCAhY29tbWl0dGVkKSB7XG5cdFx0XHRcdFx0XHRyZXJvbGwoKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Ly8gU3VjY2Vzc2Z1bGx5IHN0b3JlZCB1bmRlciAnY3VycklkJy5cblx0XHRcdFx0XHRcdGNiKG51bGwsIGN1cnJJZCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9O1xuXHRcdHJlcm9sbCgpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbW1pdHMgYSBuZXcgZmlsZSAod2VsbCwgYSBGSUxFIG9yIGEgRElSRUNUT1JZKSB0byB0aGUgZmlsZSBzeXN0ZW0gd2l0aFxuXHQgKiB0aGUgZ2l2ZW4gbW9kZS5cblx0ICogTm90ZTogVGhpcyB3aWxsIGNvbW1pdCB0aGUgdHJhbnNhY3Rpb24uXG5cdCAqIEBwYXJhbSBwIFRoZSBwYXRoIHRvIHRoZSBuZXcgZmlsZS5cblx0ICogQHBhcmFtIHR5cGUgVGhlIHR5cGUgb2YgdGhlIG5ldyBmaWxlLlxuXHQgKiBAcGFyYW0gbW9kZSBUaGUgbW9kZSB0byBjcmVhdGUgdGhlIG5ldyBmaWxlIHdpdGguXG5cdCAqIEBwYXJhbSB1aWQgVGhlIFVJRCB0byBjcmVhdGUgdGhlIGZpbGUgd2l0aFxuXHQgKiBAcGFyYW0gZ2lkIFRoZSBHSUQgdG8gY3JlYXRlIHRoZSBmaWxlIHdpdGhcblx0ICogQHBhcmFtIGRhdGEgVGhlIGRhdGEgdG8gc3RvcmUgYXQgdGhlIGZpbGUncyBkYXRhIG5vZGUuXG5cdCAqIEBwYXJhbSBjYiBQYXNzZWQgYW4gZXJyb3Igb3IgdGhlIElub2RlIGZvciB0aGUgbmV3IGZpbGUuXG5cdCAqL1xuXHRwcml2YXRlIGNvbW1pdE5ld0ZpbGUodHg6IEFzeW5jS2V5VmFsdWVSV1RyYW5zYWN0aW9uLCBwOiBzdHJpbmcsIHR5cGU6IEZpbGVUeXBlLCBtb2RlOiBudW1iZXIsIGNyZWQ6IENyZWQsIGRhdGE6IEJ1ZmZlciwgY2I6IEJGU0NhbGxiYWNrPElub2RlPik6IHZvaWQge1xuXHRcdGNvbnN0IHBhcmVudERpciA9IHBhdGguZGlybmFtZShwKSxcblx0XHRcdGZuYW1lID0gcGF0aC5iYXNlbmFtZShwKSxcblx0XHRcdGN1cnJUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cblx0XHQvLyBJbnZhcmlhbnQ6IFRoZSByb290IGFsd2F5cyBleGlzdHMuXG5cdFx0Ly8gSWYgd2UgZG9uJ3QgY2hlY2sgdGhpcyBwcmlvciB0byB0YWtpbmcgc3RlcHMgYmVsb3csIHdlIHdpbGwgY3JlYXRlIGFcblx0XHQvLyBmaWxlIHdpdGggbmFtZSAnJyBpbiByb290IHNob3VsZCBwID09ICcvJy5cblx0XHRpZiAocCA9PT0gJy8nKSB7XG5cdFx0XHRyZXR1cm4gY2IoQXBpRXJyb3IuRUVYSVNUKHApKTtcblx0XHR9XG5cblx0XHQvLyBMZXQncyBidWlsZCBhIHB5cmFtaWQgb2YgY29kZSFcblxuXHRcdC8vIFN0ZXAgMTogR2V0IHRoZSBwYXJlbnQgZGlyZWN0b3J5J3MgaW5vZGUgYW5kIGRpcmVjdG9yeSBsaXN0aW5nXG5cdFx0dGhpcy5maW5kSU5vZGVBbmREaXJMaXN0aW5nKHR4LCBwYXJlbnREaXIsIChlPzogQXBpRXJyb3IgfCBudWxsLCBwYXJlbnROb2RlPzogSW5vZGUsIGRpckxpc3Rpbmc/OiB7IFtuYW1lOiBzdHJpbmddOiBzdHJpbmcgfSk6IHZvaWQgPT4ge1xuXHRcdFx0aWYgKCFwYXJlbnROb2RlIS50b1N0YXRzKCkuaGFzQWNjZXNzKEZpbGVQZXJtLldSSVRFLCBjcmVkKSkge1xuXHRcdFx0XHRjYihBcGlFcnJvci5FQUNDRVMocCkpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKG5vRXJyb3JUeChlLCB0eCwgY2IpKSB7XG5cdFx0XHRcdGlmIChkaXJMaXN0aW5nIVtmbmFtZV0pIHtcblx0XHRcdFx0XHQvLyBGaWxlIGFscmVhZHkgZXhpc3RzLlxuXHRcdFx0XHRcdHR4LmFib3J0KCgpID0+IHtcblx0XHRcdFx0XHRcdGNiKEFwaUVycm9yLkVFWElTVChwKSk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gU3RlcCAyOiBDb21taXQgZGF0YSB0byBzdG9yZS5cblx0XHRcdFx0XHR0aGlzLmFkZE5ld05vZGUodHgsIGRhdGEsIChlOiBBcGlFcnJvciwgZGF0YUlkPzogc3RyaW5nKTogdm9pZCA9PiB7XG5cdFx0XHRcdFx0XHRpZiAobm9FcnJvclR4KGUsIHR4LCBjYikpIHtcblx0XHRcdFx0XHRcdFx0Ly8gU3RlcCAzOiBDb21taXQgdGhlIGZpbGUncyBpbm9kZSB0byB0aGUgc3RvcmUuXG5cdFx0XHRcdFx0XHRcdGNvbnN0IGZpbGVJbm9kZSA9IG5ldyBJbm9kZShkYXRhSWQhLCBkYXRhLmxlbmd0aCwgbW9kZSB8IHR5cGUsIGN1cnJUaW1lLCBjdXJyVGltZSwgY3VyclRpbWUsIGNyZWQuZXVpZCwgY3JlZC5lZ2lkKTtcblx0XHRcdFx0XHRcdFx0dGhpcy5hZGROZXdOb2RlKHR4LCBmaWxlSW5vZGUudG9CdWZmZXIoKSwgKGU6IEFwaUVycm9yLCBmaWxlSW5vZGVJZD86IHN0cmluZyk6IHZvaWQgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdGlmIChub0Vycm9yVHgoZSwgdHgsIGNiKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3RlcCA0OiBVcGRhdGUgcGFyZW50IGRpcmVjdG9yeSdzIGxpc3RpbmcuXG5cdFx0XHRcdFx0XHRcdFx0XHRkaXJMaXN0aW5nIVtmbmFtZV0gPSBmaWxlSW5vZGVJZCE7XG5cdFx0XHRcdFx0XHRcdFx0XHR0eC5wdXQocGFyZW50Tm9kZSEuaWQsIEJ1ZmZlci5mcm9tKEpTT04uc3RyaW5naWZ5KGRpckxpc3RpbmcpKSwgdHJ1ZSwgKGU6IEFwaUVycm9yKTogdm9pZCA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChub0Vycm9yVHgoZSwgdHgsIGNiKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFN0ZXAgNTogQ29tbWl0IGFuZCByZXR1cm4gdGhlIG5ldyBpbm9kZS5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0eC5jb21taXQoKGU/OiBBcGlFcnJvcik6IHZvaWQgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKG5vRXJyb3JUeChlLCB0eCwgY2IpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNiKG51bGwsIGZpbGVJbm9kZSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZW1vdmUgYWxsIHRyYWNlcyBvZiB0aGUgZ2l2ZW4gcGF0aCBmcm9tIHRoZSBmaWxlIHN5c3RlbS5cblx0ICogQHBhcmFtIHAgVGhlIHBhdGggdG8gcmVtb3ZlIGZyb20gdGhlIGZpbGUgc3lzdGVtLlxuXHQgKiBAcGFyYW0gaXNEaXIgRG9lcyB0aGUgcGF0aCBiZWxvbmcgdG8gYSBkaXJlY3RvcnksIG9yIGEgZmlsZT9cblx0ICogQHRvZG8gVXBkYXRlIG10aW1lLlxuXHQgKi9cblx0cHJpdmF0ZSByZW1vdmVFbnRyeShwOiBzdHJpbmcsIGlzRGlyOiBib29sZWFuLCBjcmVkOiBDcmVkLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0XHQvLyBFYWdlcmx5IGRlbGV0ZSBmcm9tIGNhY2hlIChoYXJtbGVzcyBldmVuIGlmIHJlbW92YWwgZmFpbHMpXG5cdFx0aWYgKHRoaXMuX2NhY2hlKSB7XG5cdFx0XHR0aGlzLl9jYWNoZS5yZW1vdmUocCk7XG5cdFx0fVxuXHRcdGNvbnN0IHR4ID0gdGhpcy5zdG9yZS5iZWdpblRyYW5zYWN0aW9uKCdyZWFkd3JpdGUnKSxcblx0XHRcdHBhcmVudDogc3RyaW5nID0gcGF0aC5kaXJuYW1lKHApLFxuXHRcdFx0ZmlsZU5hbWU6IHN0cmluZyA9IHBhdGguYmFzZW5hbWUocCk7XG5cdFx0Ly8gU3RlcCAxOiBHZXQgcGFyZW50IGRpcmVjdG9yeSdzIG5vZGUgYW5kIGRpcmVjdG9yeSBsaXN0aW5nLlxuXHRcdHRoaXMuZmluZElOb2RlQW5kRGlyTGlzdGluZyh0eCwgcGFyZW50LCAoZT86IEFwaUVycm9yIHwgbnVsbCwgcGFyZW50Tm9kZT86IElub2RlLCBwYXJlbnRMaXN0aW5nPzogeyBbbmFtZTogc3RyaW5nXTogc3RyaW5nIH0pOiB2b2lkID0+IHtcblx0XHRcdGlmICghcGFyZW50Tm9kZSEudG9TdGF0cygpLmhhc0FjY2VzcyhGaWxlUGVybS5XUklURSwgY3JlZCkpIHtcblx0XHRcdFx0Y2IoQXBpRXJyb3IuRUFDQ0VTKHApKTtcblx0XHRcdH1cblx0XHRcdGlmIChub0Vycm9yVHgoZSwgdHgsIGNiKSkge1xuXHRcdFx0XHRpZiAoIXBhcmVudExpc3RpbmchW2ZpbGVOYW1lXSkge1xuXHRcdFx0XHRcdHR4LmFib3J0KCgpID0+IHtcblx0XHRcdFx0XHRcdGNiKEFwaUVycm9yLkVOT0VOVChwKSk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gUmVtb3ZlIGZyb20gZGlyZWN0b3J5IGxpc3Rpbmcgb2YgcGFyZW50LlxuXHRcdFx0XHRcdGNvbnN0IGZpbGVOb2RlSWQgPSBwYXJlbnRMaXN0aW5nIVtmaWxlTmFtZV07XG5cdFx0XHRcdFx0ZGVsZXRlIHBhcmVudExpc3RpbmchW2ZpbGVOYW1lXTtcblx0XHRcdFx0XHQvLyBTdGVwIDI6IEdldCBmaWxlIGlub2RlLlxuXHRcdFx0XHRcdHRoaXMuZ2V0SU5vZGUodHgsIHAsIGZpbGVOb2RlSWQsIChlOiBBcGlFcnJvciwgZmlsZU5vZGU/OiBJbm9kZSk6IHZvaWQgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKG5vRXJyb3JUeChlLCB0eCwgY2IpKSB7XG5cdFx0XHRcdFx0XHRcdGlmICghaXNEaXIgJiYgZmlsZU5vZGUhLmlzRGlyZWN0b3J5KCkpIHtcblx0XHRcdFx0XHRcdFx0XHR0eC5hYm9ydCgoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjYihBcGlFcnJvci5FSVNESVIocCkpO1xuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKGlzRGlyICYmICFmaWxlTm9kZSEuaXNEaXJlY3RvcnkoKSkge1xuXHRcdFx0XHRcdFx0XHRcdHR4LmFib3J0KCgpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRcdGNiKEFwaUVycm9yLkVOT1RESVIocCkpO1xuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdC8vIFN0ZXAgMzogRGVsZXRlIGRhdGEuXG5cdFx0XHRcdFx0XHRcdFx0dHguZGVsKGZpbGVOb2RlIS5pZCwgKGU/OiBBcGlFcnJvcik6IHZvaWQgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKG5vRXJyb3JUeChlLCB0eCwgY2IpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFN0ZXAgNDogRGVsZXRlIG5vZGUuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHR4LmRlbChmaWxlTm9kZUlkLCAoZT86IEFwaUVycm9yKTogdm9pZCA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKG5vRXJyb3JUeChlLCB0eCwgY2IpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBTdGVwIDU6IFVwZGF0ZSBkaXJlY3RvcnkgbGlzdGluZy5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHR4LnB1dChwYXJlbnROb2RlIS5pZCwgQnVmZmVyLmZyb20oSlNPTi5zdHJpbmdpZnkocGFyZW50TGlzdGluZykpLCB0cnVlLCAoZTogQXBpRXJyb3IpOiB2b2lkID0+IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKG5vRXJyb3JUeChlLCB0eCwgY2IpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dHguY29tbWl0KGNiKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cbn1cbiIsICJpbXBvcnQgeyBCRlNDYWxsYmFjaywgRmlsZVN5c3RlbU9wdGlvbnMgfSBmcm9tICcuLi9jb3JlL2ZpbGVfc3lzdGVtJztcbmltcG9ydCB7IFN5bmNLZXlWYWx1ZVN0b3JlLCBTaW1wbGVTeW5jU3RvcmUsIFNpbXBsZVN5bmNSV1RyYW5zYWN0aW9uLCBTeW5jS2V5VmFsdWVSV1RyYW5zYWN0aW9uLCBTeW5jS2V5VmFsdWVGaWxlU3lzdGVtIH0gZnJvbSAnLi4vZ2VuZXJpYy9rZXlfdmFsdWVfZmlsZXN5c3RlbSc7XG5pbXBvcnQgdHlwZSB7IEJ1ZmZlciB9IGZyb20gJ2J1ZmZlcic7XG5cbi8qKlxuICogQSBzaW1wbGUgaW4tbWVtb3J5IGtleS12YWx1ZSBzdG9yZSBiYWNrZWQgYnkgYSBKYXZhU2NyaXB0IG9iamVjdC5cbiAqL1xuZXhwb3J0IGNsYXNzIEluTWVtb3J5U3RvcmUgaW1wbGVtZW50cyBTeW5jS2V5VmFsdWVTdG9yZSwgU2ltcGxlU3luY1N0b3JlIHtcblx0cHJpdmF0ZSBzdG9yZTogTWFwPHN0cmluZywgQnVmZmVyPiA9IG5ldyBNYXA8c3RyaW5nLCBCdWZmZXI+KCk7XG5cblx0cHVibGljIG5hbWUoKSB7XG5cdFx0cmV0dXJuIEluTWVtb3J5RmlsZVN5c3RlbS5OYW1lO1xuXHR9XG5cdHB1YmxpYyBjbGVhcigpIHtcblx0XHR0aGlzLnN0b3JlLmNsZWFyKCk7XG5cdH1cblxuXHRwdWJsaWMgYmVnaW5UcmFuc2FjdGlvbih0eXBlOiBzdHJpbmcpOiBTeW5jS2V5VmFsdWVSV1RyYW5zYWN0aW9uIHtcblx0XHRyZXR1cm4gbmV3IFNpbXBsZVN5bmNSV1RyYW5zYWN0aW9uKHRoaXMpO1xuXHR9XG5cblx0cHVibGljIGdldChrZXk6IHN0cmluZyk6IEJ1ZmZlciB7XG5cdFx0cmV0dXJuIHRoaXMuc3RvcmUuZ2V0KGtleSk7XG5cdH1cblxuXHRwdWJsaWMgcHV0KGtleTogc3RyaW5nLCBkYXRhOiBCdWZmZXIsIG92ZXJ3cml0ZTogYm9vbGVhbik6IGJvb2xlYW4ge1xuXHRcdGlmICghb3ZlcndyaXRlICYmIHRoaXMuc3RvcmUuaGFzKGtleSkpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0dGhpcy5zdG9yZS5zZXQoa2V5LCBkYXRhKTtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdHB1YmxpYyBkZWwoa2V5OiBzdHJpbmcpOiB2b2lkIHtcblx0XHR0aGlzLnN0b3JlLmRlbGV0ZShrZXkpO1xuXHR9XG59XG5cbi8qKlxuICogQSBzaW1wbGUgaW4tbWVtb3J5IGZpbGUgc3lzdGVtIGJhY2tlZCBieSBhbiBJbk1lbW9yeVN0b3JlLlxuICogRmlsZXMgYXJlIG5vdCBwZXJzaXN0ZWQgYWNyb3NzIHBhZ2UgbG9hZHMuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEluTWVtb3J5RmlsZVN5c3RlbSBleHRlbmRzIFN5bmNLZXlWYWx1ZUZpbGVTeXN0ZW0ge1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE5hbWUgPSAnSW5NZW1vcnknO1xuXG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgT3B0aW9uczogRmlsZVN5c3RlbU9wdGlvbnMgPSB7fTtcblxuXHQvKipcblx0ICogQ3JlYXRlcyBhbiBJbk1lbW9yeUZpbGVTeXN0ZW0gaW5zdGFuY2UuXG5cdCAqL1xuXHRwdWJsaWMgc3RhdGljIENyZWF0ZShvcHRpb25zOiBhbnksIGNiOiBCRlNDYWxsYmFjazxJbk1lbW9yeUZpbGVTeXN0ZW0+KTogdm9pZCB7XG5cdFx0Y2IobnVsbCwgbmV3IEluTWVtb3J5RmlsZVN5c3RlbSgpKTtcblx0fVxuXG5cdHB1YmxpYyBzdGF0aWMgQ3JlYXRlQXN5bmMob3B0czogYW55KTogUHJvbWlzZTxJbk1lbW9yeUZpbGVTeXN0ZW0+IHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0dGhpcy5DcmVhdGUob3B0cywgKGVycm9yLCBmcykgPT4ge1xuXHRcdFx0XHRpZiAoZXJyb3IgfHwgIWZzKSB7XG5cdFx0XHRcdFx0cmVqZWN0KGVycm9yKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyZXNvbHZlKGZzKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXHRwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xuXHRcdHN1cGVyKHsgc3RvcmU6IG5ldyBJbk1lbW9yeVN0b3JlKCkgfSk7XG5cdH1cbn1cbiIsICJpbXBvcnQgeyBCRlNPbmVBcmdDYWxsYmFjaywgQkZTQ2FsbGJhY2ssIEZpbGVTeXN0ZW1PcHRpb25zIH0gZnJvbSAnLi4vY29yZS9maWxlX3N5c3RlbSc7XG5pbXBvcnQgeyBBc3luY0tleVZhbHVlUk9UcmFuc2FjdGlvbiwgQXN5bmNLZXlWYWx1ZVJXVHJhbnNhY3Rpb24sIEFzeW5jS2V5VmFsdWVTdG9yZSwgQXN5bmNLZXlWYWx1ZUZpbGVTeXN0ZW0gfSBmcm9tICcuLi9nZW5lcmljL2tleV92YWx1ZV9maWxlc3lzdGVtJztcbmltcG9ydCB7IEFwaUVycm9yLCBFcnJvckNvZGUgfSBmcm9tICcuLi9jb3JlL2FwaV9lcnJvcic7XG5pbXBvcnQgeyBhcnJheUJ1ZmZlcjJCdWZmZXIsIGJ1ZmZlcjJBcnJheUJ1ZmZlciB9IGZyb20gJy4uL2NvcmUvdXRpbCc7XG5pbXBvcnQgdHlwZSB7IEJ1ZmZlciB9IGZyb20gJ2J1ZmZlcic7XG4vKipcbiAqIEdldCB0aGUgaW5kZXhlZERCIGNvbnN0cnVjdG9yIGZvciB0aGUgY3VycmVudCBicm93c2VyLlxuICogQGhpZGRlblxuICovXG5jb25zdCBpbmRleGVkREI6IElEQkZhY3RvcnkgPSAoKCkgPT4ge1xuXHR0cnkge1xuXHRcdHJldHVybiBnbG9iYWxUaGlzLmluZGV4ZWREQiB8fCAoPGFueT5nbG9iYWxUaGlzKS5tb3pJbmRleGVkREIgfHwgKDxhbnk+Z2xvYmFsVGhpcykud2Via2l0SW5kZXhlZERCIHx8IGdsb2JhbFRoaXMubXNJbmRleGVkREI7XG5cdH0gY2F0Y2gge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG59KSgpO1xuXG4vKipcbiAqIENvbnZlcnRzIGEgRE9NRXhjZXB0aW9uIG9yIGEgRE9NRXJyb3IgZnJvbSBhbiBJbmRleGVkREIgZXZlbnQgaW50byBhXG4gKiBzdGFuZGFyZGl6ZWQgQnJvd3NlckZTIEFQSSBlcnJvci5cbiAqIEBoaWRkZW5cbiAqL1xuZnVuY3Rpb24gY29udmVydEVycm9yKGU6IHsgbmFtZTogc3RyaW5nIH0sIG1lc3NhZ2U6IHN0cmluZyA9IGUudG9TdHJpbmcoKSk6IEFwaUVycm9yIHtcblx0c3dpdGNoIChlLm5hbWUpIHtcblx0XHRjYXNlICdOb3RGb3VuZEVycm9yJzpcblx0XHRcdHJldHVybiBuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVOT0VOVCwgbWVzc2FnZSk7XG5cdFx0Y2FzZSAnUXVvdGFFeGNlZWRlZEVycm9yJzpcblx0XHRcdHJldHVybiBuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVOT1NQQywgbWVzc2FnZSk7XG5cdFx0ZGVmYXVsdDpcblx0XHRcdC8vIFRoZSByZXN0IGRvIG5vdCBzZWVtIHRvIG1hcCBjbGVhbmx5IHRvIHN0YW5kYXJkIGVycm9yIGNvZGVzLlxuXHRcdFx0cmV0dXJuIG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRUlPLCBtZXNzYWdlKTtcblx0fVxufVxuXG4vKipcbiAqIFByb2R1Y2VzIGEgbmV3IG9uZXJyb3IgaGFuZGxlciBmb3IgSURCLiBPdXIgZXJyb3JzIGFyZSBhbHdheXMgZmF0YWwsIHNvIHdlXG4gKiBoYW5kbGUgdGhlbSBnZW5lcmljYWxseTogQ2FsbCB0aGUgdXNlci1zdXBwbGllZCBjYWxsYmFjayB3aXRoIGEgdHJhbnNsYXRlZFxuICogdmVyc2lvbiBvZiB0aGUgZXJyb3IsIGFuZCBsZXQgdGhlIGVycm9yIGJ1YmJsZSB1cC5cbiAqIEBoaWRkZW5cbiAqL1xuZnVuY3Rpb24gb25FcnJvckhhbmRsZXIoY2I6IChlOiBBcGlFcnJvcikgPT4gdm9pZCwgY29kZTogRXJyb3JDb2RlID0gRXJyb3JDb2RlLkVJTywgbWVzc2FnZTogc3RyaW5nIHwgbnVsbCA9IG51bGwpOiAoZT86IGFueSkgPT4gdm9pZCB7XG5cdHJldHVybiBmdW5jdGlvbiAoZT86IGFueSk6IHZvaWQge1xuXHRcdC8vIFByZXZlbnQgdGhlIGVycm9yIGZyb20gY2FuY2VsaW5nIHRoZSB0cmFuc2FjdGlvbi5cblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0Y2IobmV3IEFwaUVycm9yKGNvZGUsIG1lc3NhZ2UgIT09IG51bGwgPyBtZXNzYWdlIDogdW5kZWZpbmVkKSk7XG5cdH07XG59XG5cbi8qKlxuICogQGhpZGRlblxuICovXG5leHBvcnQgY2xhc3MgSW5kZXhlZERCUk9UcmFuc2FjdGlvbiBpbXBsZW1lbnRzIEFzeW5jS2V5VmFsdWVST1RyYW5zYWN0aW9uIHtcblx0Y29uc3RydWN0b3IocHVibGljIHR4OiBJREJUcmFuc2FjdGlvbiwgcHVibGljIHN0b3JlOiBJREJPYmplY3RTdG9yZSkge31cblxuXHRwdWJsaWMgZ2V0KGtleTogc3RyaW5nLCBjYjogQkZTQ2FsbGJhY2s8QnVmZmVyPik6IHZvaWQge1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCByOiBJREJSZXF1ZXN0ID0gdGhpcy5zdG9yZS5nZXQoa2V5KTtcblx0XHRcdHIub25lcnJvciA9IG9uRXJyb3JIYW5kbGVyKGNiKTtcblx0XHRcdHIub25zdWNjZXNzID0gZXZlbnQgPT4ge1xuXHRcdFx0XHQvLyBJREIgcmV0dXJucyB0aGUgdmFsdWUgJ3VuZGVmaW5lZCcgd2hlbiB5b3UgdHJ5IHRvIGdldCBrZXlzIHRoYXRcblx0XHRcdFx0Ly8gZG9uJ3QgZXhpc3QuIFRoZSBjYWxsZXIgZXhwZWN0cyB0aGlzIGJlaGF2aW9yLlxuXHRcdFx0XHRjb25zdCByZXN1bHQ6IGFueSA9ICg8YW55PmV2ZW50LnRhcmdldCkucmVzdWx0O1xuXHRcdFx0XHRpZiAocmVzdWx0ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRjYihudWxsLCByZXN1bHQpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIElEQiBkYXRhIGlzIHN0b3JlZCBhcyBhbiBBcnJheUJ1ZmZlclxuXHRcdFx0XHRcdGNiKG51bGwsIGFycmF5QnVmZmVyMkJ1ZmZlcihyZXN1bHQpKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRjYihjb252ZXJ0RXJyb3IoZSkpO1xuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuZXhwb3J0IGNsYXNzIEluZGV4ZWREQlJXVHJhbnNhY3Rpb24gZXh0ZW5kcyBJbmRleGVkREJST1RyYW5zYWN0aW9uIGltcGxlbWVudHMgQXN5bmNLZXlWYWx1ZVJXVHJhbnNhY3Rpb24sIEFzeW5jS2V5VmFsdWVST1RyYW5zYWN0aW9uIHtcblx0Y29uc3RydWN0b3IodHg6IElEQlRyYW5zYWN0aW9uLCBzdG9yZTogSURCT2JqZWN0U3RvcmUpIHtcblx0XHRzdXBlcih0eCwgc3RvcmUpO1xuXHR9XG5cblx0cHVibGljIHB1dChrZXk6IHN0cmluZywgZGF0YTogQnVmZmVyLCBvdmVyd3JpdGU6IGJvb2xlYW4sIGNiOiBCRlNDYWxsYmFjazxib29sZWFuPik6IHZvaWQge1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBhcnJheWJ1ZmZlciA9IGJ1ZmZlcjJBcnJheUJ1ZmZlcihkYXRhKTtcblx0XHRcdGxldCByOiBJREJSZXF1ZXN0O1xuXHRcdFx0Ly8gTm90ZTogJ2FkZCcgd2lsbCBuZXZlciBvdmVyd3JpdGUgYW4gZXhpc3Rpbmcga2V5LlxuXHRcdFx0ciA9IG92ZXJ3cml0ZSA/IHRoaXMuc3RvcmUucHV0KGFycmF5YnVmZmVyLCBrZXkpIDogdGhpcy5zdG9yZS5hZGQoYXJyYXlidWZmZXIsIGtleSk7XG5cdFx0XHQvLyBYWFg6IE5FRUQgVE8gUkVUVVJOIEZBTFNFIFdIRU4gQUREIEhBUyBBIEtFWSBDT05GTElDVC4gTk8gRVJST1IuXG5cdFx0XHRyLm9uZXJyb3IgPSBvbkVycm9ySGFuZGxlcihjYik7XG5cdFx0XHRyLm9uc3VjY2VzcyA9IGV2ZW50ID0+IHtcblx0XHRcdFx0Y2IobnVsbCwgdHJ1ZSk7XG5cdFx0XHR9O1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGNiKGNvbnZlcnRFcnJvcihlKSk7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIGRlbChrZXk6IHN0cmluZywgY2I6IEJGU09uZUFyZ0NhbGxiYWNrKTogdm9pZCB7XG5cdFx0dHJ5IHtcblx0XHRcdC8vIE5PVEU6IElFOCBoYXMgYSBidWcgd2l0aCBpZGVudGlmaWVycyBuYW1lZCAnZGVsZXRlJyB1bmxlc3MgdXNlZCBhcyBhIHN0cmluZ1xuXHRcdFx0Ly8gbGlrZSB0aGlzLlxuXHRcdFx0Ly8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjY0NzkxNTJcblx0XHRcdGNvbnN0IHI6IElEQlJlcXVlc3QgPSB0aGlzLnN0b3JlWydkZWxldGUnXShrZXkpO1xuXHRcdFx0ci5vbmVycm9yID0gb25FcnJvckhhbmRsZXIoY2IpO1xuXHRcdFx0ci5vbnN1Y2Nlc3MgPSBldmVudCA9PiB7XG5cdFx0XHRcdGNiKCk7XG5cdFx0XHR9O1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGNiKGNvbnZlcnRFcnJvcihlKSk7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIGNvbW1pdChjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0XHQvLyBSZXR1cm4gdG8gdGhlIGV2ZW50IGxvb3AgdG8gY29tbWl0IHRoZSB0cmFuc2FjdGlvbi5cblx0XHRzZXRUaW1lb3V0KGNiLCAwKTtcblx0fVxuXG5cdHB1YmxpYyBhYm9ydChjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0XHRsZXQgX2U6IEFwaUVycm9yIHwgbnVsbCA9IG51bGw7XG5cdFx0dHJ5IHtcblx0XHRcdHRoaXMudHguYWJvcnQoKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRfZSA9IGNvbnZlcnRFcnJvcihlKTtcblx0XHR9IGZpbmFsbHkge1xuXHRcdFx0Y2IoX2UpO1xuXHRcdH1cblx0fVxufVxuXG5leHBvcnQgY2xhc3MgSW5kZXhlZERCU3RvcmUgaW1wbGVtZW50cyBBc3luY0tleVZhbHVlU3RvcmUge1xuXHRwdWJsaWMgc3RhdGljIENyZWF0ZShzdG9yZU5hbWU6IHN0cmluZywgY2I6IEJGU0NhbGxiYWNrPEluZGV4ZWREQlN0b3JlPik6IHZvaWQge1xuXHRcdGNvbnN0IG9wZW5SZXE6IElEQk9wZW5EQlJlcXVlc3QgPSBpbmRleGVkREIub3BlbihzdG9yZU5hbWUsIDEpO1xuXG5cdFx0b3BlblJlcS5vbnVwZ3JhZGVuZWVkZWQgPSBldmVudCA9PiB7XG5cdFx0XHRjb25zdCBkYjogSURCRGF0YWJhc2UgPSAoPGFueT5ldmVudC50YXJnZXQpLnJlc3VsdDtcblx0XHRcdC8vIEh1aC4gVGhpcyBzaG91bGQgbmV2ZXIgaGFwcGVuOyB3ZSdyZSBhdCB2ZXJzaW9uIDEuIFdoeSBkb2VzIGFub3RoZXJcblx0XHRcdC8vIGRhdGFiYXNlIGV4aXN0P1xuXHRcdFx0aWYgKGRiLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnMoc3RvcmVOYW1lKSkge1xuXHRcdFx0XHRkYi5kZWxldGVPYmplY3RTdG9yZShzdG9yZU5hbWUpO1xuXHRcdFx0fVxuXHRcdFx0ZGIuY3JlYXRlT2JqZWN0U3RvcmUoc3RvcmVOYW1lKTtcblx0XHR9O1xuXG5cdFx0b3BlblJlcS5vbnN1Y2Nlc3MgPSBldmVudCA9PiB7XG5cdFx0XHRjYihudWxsLCBuZXcgSW5kZXhlZERCU3RvcmUoKDxhbnk+ZXZlbnQudGFyZ2V0KS5yZXN1bHQsIHN0b3JlTmFtZSkpO1xuXHRcdH07XG5cblx0XHRvcGVuUmVxLm9uZXJyb3IgPSBvbkVycm9ySGFuZGxlcihjYiwgRXJyb3JDb2RlLkVBQ0NFUyk7XG5cdH1cblxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIGRiOiBJREJEYXRhYmFzZSwgcHJpdmF0ZSBzdG9yZU5hbWU6IHN0cmluZykge31cblxuXHRwdWJsaWMgbmFtZSgpOiBzdHJpbmcge1xuXHRcdHJldHVybiBJbmRleGVkREJGaWxlU3lzdGVtLk5hbWUgKyAnIC0gJyArIHRoaXMuc3RvcmVOYW1lO1xuXHR9XG5cblx0cHVibGljIGNsZWFyKGNiOiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQge1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCB0eCA9IHRoaXMuZGIudHJhbnNhY3Rpb24odGhpcy5zdG9yZU5hbWUsICdyZWFkd3JpdGUnKSxcblx0XHRcdFx0b2JqZWN0U3RvcmUgPSB0eC5vYmplY3RTdG9yZSh0aGlzLnN0b3JlTmFtZSksXG5cdFx0XHRcdHI6IElEQlJlcXVlc3QgPSBvYmplY3RTdG9yZS5jbGVhcigpO1xuXHRcdFx0ci5vbnN1Y2Nlc3MgPSBldmVudCA9PiB7XG5cdFx0XHRcdC8vIFVzZSBzZXRUaW1lb3V0IHRvIGNvbW1pdCB0cmFuc2FjdGlvbi5cblx0XHRcdFx0c2V0VGltZW91dChjYiwgMCk7XG5cdFx0XHR9O1xuXHRcdFx0ci5vbmVycm9yID0gb25FcnJvckhhbmRsZXIoY2IpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGNiKGNvbnZlcnRFcnJvcihlKSk7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIGJlZ2luVHJhbnNhY3Rpb24odHlwZTogJ3JlYWRvbmx5Jyk6IEFzeW5jS2V5VmFsdWVST1RyYW5zYWN0aW9uO1xuXHRwdWJsaWMgYmVnaW5UcmFuc2FjdGlvbih0eXBlOiAncmVhZHdyaXRlJyk6IEFzeW5jS2V5VmFsdWVSV1RyYW5zYWN0aW9uO1xuXHRwdWJsaWMgYmVnaW5UcmFuc2FjdGlvbih0eXBlOiAncmVhZG9ubHknIHwgJ3JlYWR3cml0ZScgPSAncmVhZG9ubHknKTogQXN5bmNLZXlWYWx1ZVJPVHJhbnNhY3Rpb24ge1xuXHRcdGNvbnN0IHR4ID0gdGhpcy5kYi50cmFuc2FjdGlvbih0aGlzLnN0b3JlTmFtZSwgdHlwZSksXG5cdFx0XHRvYmplY3RTdG9yZSA9IHR4Lm9iamVjdFN0b3JlKHRoaXMuc3RvcmVOYW1lKTtcblx0XHRpZiAodHlwZSA9PT0gJ3JlYWR3cml0ZScpIHtcblx0XHRcdHJldHVybiBuZXcgSW5kZXhlZERCUldUcmFuc2FjdGlvbih0eCwgb2JqZWN0U3RvcmUpO1xuXHRcdH0gZWxzZSBpZiAodHlwZSA9PT0gJ3JlYWRvbmx5Jykge1xuXHRcdFx0cmV0dXJuIG5ldyBJbmRleGVkREJST1RyYW5zYWN0aW9uKHR4LCBvYmplY3RTdG9yZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRocm93IG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRUlOVkFMLCAnSW52YWxpZCB0cmFuc2FjdGlvbiB0eXBlLicpO1xuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdGhlIEluZGV4ZWREQiBmaWxlIHN5c3RlbS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJbmRleGVkREJGaWxlU3lzdGVtT3B0aW9ucyB7XG5cdC8vIFRoZSBuYW1lIG9mIHRoaXMgZmlsZSBzeXN0ZW0uIFlvdSBjYW4gaGF2ZSBtdWx0aXBsZSBJbmRleGVkREIgZmlsZSBzeXN0ZW1zIG9wZXJhdGluZ1xuXHQvLyBhdCBvbmNlLCBidXQgZWFjaCBtdXN0IGhhdmUgYSBkaWZmZXJlbnQgbmFtZS5cblx0c3RvcmVOYW1lPzogc3RyaW5nO1xuXHQvLyBUaGUgc2l6ZSBvZiB0aGUgaW5vZGUgY2FjaGUuIERlZmF1bHRzIHRvIDEwMC4gQSBzaXplIG9mIDAgb3IgYmVsb3cgZGlzYWJsZXMgY2FjaGluZy5cblx0Y2FjaGVTaXplPzogbnVtYmVyO1xufVxuXG4vKipcbiAqIEEgZmlsZSBzeXN0ZW0gdGhhdCB1c2VzIHRoZSBJbmRleGVkREIga2V5IHZhbHVlIGZpbGUgc3lzdGVtLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbmRleGVkREJGaWxlU3lzdGVtIGV4dGVuZHMgQXN5bmNLZXlWYWx1ZUZpbGVTeXN0ZW0ge1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE5hbWUgPSAnSW5kZXhlZERCJztcblxuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE9wdGlvbnM6IEZpbGVTeXN0ZW1PcHRpb25zID0ge1xuXHRcdHN0b3JlTmFtZToge1xuXHRcdFx0dHlwZTogJ3N0cmluZycsXG5cdFx0XHRvcHRpb25hbDogdHJ1ZSxcblx0XHRcdGRlc2NyaXB0aW9uOiAnVGhlIG5hbWUgb2YgdGhpcyBmaWxlIHN5c3RlbS4gWW91IGNhbiBoYXZlIG11bHRpcGxlIEluZGV4ZWREQiBmaWxlIHN5c3RlbXMgb3BlcmF0aW5nIGF0IG9uY2UsIGJ1dCBlYWNoIG11c3QgaGF2ZSBhIGRpZmZlcmVudCBuYW1lLicsXG5cdFx0fSxcblx0XHRjYWNoZVNpemU6IHtcblx0XHRcdHR5cGU6ICdudW1iZXInLFxuXHRcdFx0b3B0aW9uYWw6IHRydWUsXG5cdFx0XHRkZXNjcmlwdGlvbjogJ1RoZSBzaXplIG9mIHRoZSBpbm9kZSBjYWNoZS4gRGVmYXVsdHMgdG8gMTAwLiBBIHNpemUgb2YgMCBvciBiZWxvdyBkaXNhYmxlcyBjYWNoaW5nLicsXG5cdFx0fSxcblx0fTtcblxuXHQvKipcblx0ICogQ29uc3RydWN0cyBhbiBJbmRleGVkREIgZmlsZSBzeXN0ZW0gd2l0aCB0aGUgZ2l2ZW4gb3B0aW9ucy5cblx0ICovXG5cdHB1YmxpYyBzdGF0aWMgQ3JlYXRlKG9wdGlvbnM6IEluZGV4ZWREQkZpbGVTeXN0ZW1PcHRpb25zLCBjYjogQkZTQ2FsbGJhY2s8SW5kZXhlZERCRmlsZVN5c3RlbT4pOiB2b2lkIHtcblx0XHRpZiAoIW9wdGlvbnMpIHtcblx0XHRcdG9wdGlvbnMgPSB7XG5cdFx0XHRcdHN0b3JlTmFtZTogJ2Jyb3dzZXJmcycsXG5cdFx0XHRcdGNhY2hlU2l6ZTogMTAwLFxuXHRcdFx0fTtcblx0XHR9XG5cdFx0SW5kZXhlZERCU3RvcmUuQ3JlYXRlKG9wdGlvbnMuc3RvcmVOYW1lIHx8ICdicm93c2VyZnMnLCAoZSwgc3RvcmU/KSA9PiB7XG5cdFx0XHRpZiAoc3RvcmUpIHtcblx0XHRcdFx0Y29uc3QgaWRiZnMgPSBuZXcgSW5kZXhlZERCRmlsZVN5c3RlbShvcHRpb25zLmNhY2hlU2l6ZSB8fCAxMDApO1xuXHRcdFx0XHRpZGJmcy5pbml0KHN0b3JlLCBlID0+IHtcblx0XHRcdFx0XHRpZiAoZSkge1xuXHRcdFx0XHRcdFx0Y2IoZSk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGNiKG51bGwsIGlkYmZzKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y2IoZSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHRwdWJsaWMgc3RhdGljIENyZWF0ZUFzeW5jKG9wdHM6IEluZGV4ZWREQkZpbGVTeXN0ZW1PcHRpb25zKTogUHJvbWlzZTxJbmRleGVkREJGaWxlU3lzdGVtPiB7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdHRoaXMuQ3JlYXRlKG9wdHMsIChlcnJvciwgZnMpID0+IHtcblx0XHRcdFx0aWYgKGVycm9yIHx8ICFmcykge1xuXHRcdFx0XHRcdHJlamVjdChlcnJvcik7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmVzb2x2ZShmcyk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0cHVibGljIHN0YXRpYyBpc0F2YWlsYWJsZSgpOiBib29sZWFuIHtcblx0XHQvLyBJbiBTYWZhcmkncyBwcml2YXRlIGJyb3dzaW5nIG1vZGUsIGluZGV4ZWREQi5vcGVuIHJldHVybnMgTlVMTC5cblx0XHQvLyBJbiBGaXJlZm94LCBpdCB0aHJvd3MgYW4gZXhjZXB0aW9uLlxuXHRcdC8vIEluIENocm9tZSwgaXQgXCJqdXN0IHdvcmtzXCIsIGFuZCBjbGVhcnMgdGhlIGRhdGFiYXNlIHdoZW4geW91IGxlYXZlIHRoZSBwYWdlLlxuXHRcdC8vIFVudGVzdGVkOiBPcGVyYSwgSUUuXG5cdFx0dHJ5IHtcblx0XHRcdHJldHVybiB0eXBlb2YgaW5kZXhlZERCICE9PSAndW5kZWZpbmVkJyAmJiBudWxsICE9PSBpbmRleGVkREIub3BlbignX19icm93c2VyZnNfdGVzdF9fJyk7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0fVxuXHRwcml2YXRlIGNvbnN0cnVjdG9yKGNhY2hlU2l6ZTogbnVtYmVyKSB7XG5cdFx0c3VwZXIoY2FjaGVTaXplKTtcblx0fVxufVxuIiwgImltcG9ydCB7IEJGU0NhbGxiYWNrLCBGaWxlU3lzdGVtT3B0aW9ucyB9IGZyb20gJy4uL2NvcmUvZmlsZV9zeXN0ZW0nO1xuaW1wb3J0IHsgU3luY0tleVZhbHVlU3RvcmUsIFNpbXBsZVN5bmNTdG9yZSwgU3luY0tleVZhbHVlRmlsZVN5c3RlbSwgU2ltcGxlU3luY1JXVHJhbnNhY3Rpb24sIFN5bmNLZXlWYWx1ZVJXVHJhbnNhY3Rpb24gfSBmcm9tICcuLi9nZW5lcmljL2tleV92YWx1ZV9maWxlc3lzdGVtJztcbmltcG9ydCB7IEFwaUVycm9yLCBFcnJvckNvZGUgfSBmcm9tICcuLi9jb3JlL2FwaV9lcnJvcic7XG5pbXBvcnQgeyBCdWZmZXIgfSBmcm9tICdidWZmZXInO1xuXG4vKipcbiAqIFNvbWUgdmVyc2lvbnMgb2YgRkYgYW5kIGFsbCB2ZXJzaW9ucyBvZiBJRSBkbyBub3Qgc3VwcG9ydCB0aGUgZnVsbCByYW5nZSBvZlxuICogMTYtYml0IG51bWJlcnMgZW5jb2RlZCBhcyBjaGFyYWN0ZXJzLCBhcyB0aGV5IGVuZm9yY2UgVVRGLTE2IHJlc3RyaWN0aW9ucy5cbiAqIEB1cmwgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMTE3MDcxNi9hcmUtdGhlcmUtYW55LWNoYXJhY3RlcnMtdGhhdC1hcmUtbm90LWFsbG93ZWQtaW4tbG9jYWxzdG9yYWdlLzExMTczNjczIzExMTczNjczXG4gKiBAaGlkZGVuXG4gKi9cbmxldCBzdXBwb3J0c0JpbmFyeVN0cmluZzogYm9vbGVhbiA9IGZhbHNlLFxuXHRiaW5hcnlFbmNvZGluZzogQnVmZmVyRW5jb2Rpbmc7XG50cnkge1xuXHRnbG9iYWxUaGlzLmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdfX3Rlc3RfXycsIFN0cmluZy5mcm9tQ2hhckNvZGUoMHhkODAwKSk7XG5cdHN1cHBvcnRzQmluYXJ5U3RyaW5nID0gZ2xvYmFsVGhpcy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnX190ZXN0X18nKSA9PT0gU3RyaW5nLmZyb21DaGFyQ29kZSgweGQ4MDApO1xufSBjYXRjaCAoZSkge1xuXHQvLyBJRSB0aHJvd3MgYW4gZXhjZXB0aW9uLlxuXHRzdXBwb3J0c0JpbmFyeVN0cmluZyA9IGZhbHNlO1xufVxuYmluYXJ5RW5jb2RpbmcgPSAoc3VwcG9ydHNCaW5hcnlTdHJpbmcgPyAnYmluYXJ5X3N0cmluZycgOiAnYmluYXJ5X3N0cmluZ19pZScpIGFzIEJ1ZmZlckVuY29kaW5nO1xuaWYgKCFCdWZmZXIuaXNFbmNvZGluZyhiaW5hcnlFbmNvZGluZykpIHtcblx0Ly8gRmFsbGJhY2sgZm9yIG5vbiBCcm93c2VyRlMgaW1wbGVtZW50YXRpb25zIG9mIGJ1ZmZlciB0aGF0IGxhY2sgYVxuXHQvLyBiaW5hcnlfc3RyaW5nIGZvcm1hdC5cblx0YmluYXJ5RW5jb2RpbmcgPSAnYmFzZTY0Jztcbn1cblxuLyoqXG4gKiBBIHN5bmNocm9ub3VzIGtleS12YWx1ZSBzdG9yZSBiYWNrZWQgYnkgbG9jYWxTdG9yYWdlLlxuICovXG5leHBvcnQgY2xhc3MgTG9jYWxTdG9yYWdlU3RvcmUgaW1wbGVtZW50cyBTeW5jS2V5VmFsdWVTdG9yZSwgU2ltcGxlU3luY1N0b3JlIHtcblx0cHVibGljIG5hbWUoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gTG9jYWxTdG9yYWdlRmlsZVN5c3RlbS5OYW1lO1xuXHR9XG5cblx0cHVibGljIGNsZWFyKCk6IHZvaWQge1xuXHRcdGdsb2JhbFRoaXMubG9jYWxTdG9yYWdlLmNsZWFyKCk7XG5cdH1cblxuXHRwdWJsaWMgYmVnaW5UcmFuc2FjdGlvbih0eXBlOiBzdHJpbmcpOiBTeW5jS2V5VmFsdWVSV1RyYW5zYWN0aW9uIHtcblx0XHQvLyBObyBuZWVkIHRvIGRpZmZlcmVudGlhdGUuXG5cdFx0cmV0dXJuIG5ldyBTaW1wbGVTeW5jUldUcmFuc2FjdGlvbih0aGlzKTtcblx0fVxuXG5cdHB1YmxpYyBnZXQoa2V5OiBzdHJpbmcpOiBCdWZmZXIgfCB1bmRlZmluZWQge1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBkYXRhID0gZ2xvYmFsVGhpcy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuXHRcdFx0aWYgKGRhdGEgIT09IG51bGwpIHtcblx0XHRcdFx0cmV0dXJuIEJ1ZmZlci5mcm9tKGRhdGEsIGJpbmFyeUVuY29kaW5nKTtcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHQvLyBEbyBub3RoaW5nLlxuXHRcdH1cblx0XHQvLyBLZXkgZG9lc24ndCBleGlzdCwgb3IgYSBmYWlsdXJlIG9jY3VycmVkLlxuXHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdH1cblxuXHRwdWJsaWMgcHV0KGtleTogc3RyaW5nLCBkYXRhOiBCdWZmZXIsIG92ZXJ3cml0ZTogYm9vbGVhbik6IGJvb2xlYW4ge1xuXHRcdHRyeSB7XG5cdFx0XHRpZiAoIW92ZXJ3cml0ZSAmJiBnbG9iYWxUaGlzLmxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSkgIT09IG51bGwpIHtcblx0XHRcdFx0Ly8gRG9uJ3Qgd2FudCB0byBvdmVyd3JpdGUgdGhlIGtleSFcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0Z2xvYmFsVGhpcy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIGRhdGEudG9TdHJpbmcoYmluYXJ5RW5jb2RpbmcpKTtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdHRocm93IG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRU5PU1BDLCAnTG9jYWxTdG9yYWdlIGlzIGZ1bGwuJyk7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIGRlbChrZXk6IHN0cmluZyk6IHZvaWQge1xuXHRcdHRyeSB7XG5cdFx0XHRnbG9iYWxUaGlzLmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0dGhyb3cgbmV3IEFwaUVycm9yKEVycm9yQ29kZS5FSU8sICdVbmFibGUgdG8gZGVsZXRlIGtleSAnICsga2V5ICsgJzogJyArIGUpO1xuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIEEgc3luY2hyb25vdXMgZmlsZSBzeXN0ZW0gYmFja2VkIGJ5IGxvY2FsU3RvcmFnZS4gQ29ubmVjdHMgb3VyXG4gKiBMb2NhbFN0b3JhZ2VTdG9yZSB0byBvdXIgU3luY0tleVZhbHVlRmlsZVN5c3RlbS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9jYWxTdG9yYWdlRmlsZVN5c3RlbSBleHRlbmRzIFN5bmNLZXlWYWx1ZUZpbGVTeXN0ZW0ge1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE5hbWUgPSAnTG9jYWxTdG9yYWdlJztcblxuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE9wdGlvbnM6IEZpbGVTeXN0ZW1PcHRpb25zID0ge307XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYSBMb2NhbFN0b3JhZ2VGaWxlU3lzdGVtIGluc3RhbmNlLlxuXHQgKi9cblx0cHVibGljIHN0YXRpYyBDcmVhdGUob3B0aW9uczogYW55LCBjYjogQkZTQ2FsbGJhY2s8TG9jYWxTdG9yYWdlRmlsZVN5c3RlbT4pOiB2b2lkIHtcblx0XHRjYihudWxsLCBuZXcgTG9jYWxTdG9yYWdlRmlsZVN5c3RlbSgpKTtcblx0fVxuXG5cdHB1YmxpYyBzdGF0aWMgQ3JlYXRlQXN5bmMob3B0czogYW55KTogUHJvbWlzZTxMb2NhbFN0b3JhZ2VGaWxlU3lzdGVtPiB7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdHRoaXMuQ3JlYXRlKG9wdHMsIChlcnJvciwgZnMpID0+IHtcblx0XHRcdFx0aWYgKGVycm9yIHx8ICFmcykge1xuXHRcdFx0XHRcdHJlamVjdChlcnJvcik7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmVzb2x2ZShmcyk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0cHVibGljIHN0YXRpYyBpc0F2YWlsYWJsZSgpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdHlwZW9mIGdsb2JhbFRoaXMubG9jYWxTdG9yYWdlICE9PSAndW5kZWZpbmVkJztcblx0fVxuXHQvKipcblx0ICogQ3JlYXRlcyBhIG5ldyBMb2NhbFN0b3JhZ2UgZmlsZSBzeXN0ZW0gdXNpbmcgdGhlIGNvbnRlbnRzIG9mIGBsb2NhbFN0b3JhZ2VgLlxuXHQgKi9cblx0cHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcblx0XHRzdXBlcih7IHN0b3JlOiBuZXcgTG9jYWxTdG9yYWdlU3RvcmUoKSB9KTtcblx0fVxufVxuIiwgImltcG9ydCB7IEZpbGVTeXN0ZW0sIEJhc2VGaWxlU3lzdGVtLCBCRlNPbmVBcmdDYWxsYmFjaywgQkZTQ2FsbGJhY2ssIEZpbGVTeXN0ZW1PcHRpb25zIH0gZnJvbSAnLi4vY29yZS9maWxlX3N5c3RlbSc7XG5pbXBvcnQgSW5NZW1vcnlGaWxlU3lzdGVtIGZyb20gJy4vSW5NZW1vcnknO1xuaW1wb3J0IHsgQXBpRXJyb3IsIEVycm9yQ29kZSB9IGZyb20gJy4uL2NvcmUvYXBpX2Vycm9yJztcbmltcG9ydCBmcyBmcm9tICcuLi9jb3JlL25vZGVfZnMnO1xuaW1wb3J0ICogYXMgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCB7IG1rZGlycFN5bmMgfSBmcm9tICcuLi9jb3JlL3V0aWwnO1xuaW1wb3J0IENyZWQgZnJvbSAnLi4vY29yZS9jcmVkJztcbi8qKlxuICogQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0aGUgTW91bnRhYmxlRmlsZVN5c3RlbSBiYWNrZW5kLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIE1vdW50YWJsZUZpbGVTeXN0ZW1PcHRpb25zIHtcblx0Ly8gTG9jYXRpb25zIG9mIG1vdW50IHBvaW50cy4gQ2FuIGJlIGVtcHR5LlxuXHRbbW91bnRQb2ludDogc3RyaW5nXTogRmlsZVN5c3RlbTtcbn1cblxuLyoqXG4gKiBUaGUgTW91bnRhYmxlRmlsZVN5c3RlbSBhbGxvd3MgeW91IHRvIG1vdW50IG11bHRpcGxlIGJhY2tlbmQgdHlwZXMgb3JcbiAqIG11bHRpcGxlIGluc3RhbnRpYXRpb25zIG9mIHRoZSBzYW1lIGJhY2tlbmQgaW50byBhIHNpbmdsZSBmaWxlIHN5c3RlbSB0cmVlLlxuICogVGhlIGZpbGUgc3lzdGVtcyBkbyBub3QgbmVlZCB0byBrbm93IGFib3V0IGVhY2ggb3RoZXI7IGFsbCBpbnRlcmFjdGlvbnMgYXJlXG4gKiBhdXRvbWF0aWNhbGx5IGZhY2lsaXRhdGVkIHRocm91Z2ggdGhpcyBpbnRlcmZhY2UuXG4gKlxuICogRm9yIGV4YW1wbGUsIGlmIGEgZmlsZSBzeXN0ZW0gaXMgbW91bnRlZCBhdCAvbW50L2JsYWgsIGFuZCBhIHJlcXVlc3QgY2FtZSBpblxuICogZm9yIC9tbnQvYmxhaC9mb28udHh0LCB0aGUgZmlsZSBzeXN0ZW0gd291bGQgc2VlIGEgcmVxdWVzdCBmb3IgL2Zvby50eHQuXG4gKlxuICogWW91IGNhbiBtb3VudCBmaWxlIHN5c3RlbXMgd2hlbiB5b3UgY29uZmlndXJlIHRoZSBmaWxlIHN5c3RlbTpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIEJyb3dzZXJGUy5jb25maWd1cmUoe1xuICogICBmczogXCJNb3VudGFibGVGaWxlU3lzdGVtXCIsXG4gKiAgIG9wdGlvbnM6IHtcbiAqICAgICAnL2RhdGEnOiB7IGZzOiAnSFRUUFJlcXVlc3QnLCBvcHRpb25zOiB7IGluZGV4OiBcImh0dHA6Ly9teXNpdGUuY29tL2ZpbGVzL2luZGV4Lmpzb25cIiB9IH0sXG4gKiAgICAgJy9ob21lJzogeyBmczogJ0xvY2FsU3RvcmFnZScgfVxuICogICB9XG4gKiB9LCBmdW5jdGlvbihlKSB7XG4gKlxuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBGb3IgYWR2YW5jZWQgdXNlcnMsIHlvdSBjYW4gYWxzbyBtb3VudCBmaWxlIHN5c3RlbXMgKmFmdGVyKiBNRlMgaXMgY29uc3RydWN0ZWQ6XG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBCcm93c2VyRlMuRmlsZVN5c3RlbS5IVFRQUmVxdWVzdC5DcmVhdGUoe1xuICogICBpbmRleDogXCJodHRwOi8vbXlzaXRlLmNvbS9maWxlcy9pbmRleC5qc29uXCJcbiAqIH0sIGZ1bmN0aW9uKGUsIHhocmZzKSB7XG4gKiAgIEJyb3dzZXJGUy5GaWxlU3lzdGVtLk1vdW50YWJsZUZpbGVTeXN0ZW0uQ3JlYXRlKHtcbiAqICAgICAnL2RhdGEnOiB4aHJmc1xuICogICB9LCBmdW5jdGlvbihlLCBtZnMpIHtcbiAqICAgICBCcm93c2VyRlMuaW5pdGlhbGl6ZShtZnMpO1xuICpcbiAqICAgICAvLyBBZGRlZCBhZnRlci10aGUtZmFjdC4uLlxuICogICAgIEJyb3dzZXJGUy5GaWxlU3lzdGVtLkxvY2FsU3RvcmFnZS5DcmVhdGUoZnVuY3Rpb24oZSwgbHNmcykge1xuICogICAgICAgbWZzLm1vdW50KCcvaG9tZScsIGxzZnMpO1xuICogICAgIH0pO1xuICogICB9KTtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogU2luY2UgTW91bnRhYmxlRmlsZVN5c3RlbSBzaW1wbHkgcHJveGllcyByZXF1ZXN0cyB0byBtb3VudGVkIGZpbGUgc3lzdGVtcywgaXQgc3VwcG9ydHMgYWxsIG9mIHRoZSBvcGVyYXRpb25zIHRoYXQgdGhlIG1vdW50ZWQgZmlsZSBzeXN0ZW1zIHN1cHBvcnQuXG4gKlxuICogV2l0aCBubyBtb3VudGVkIGZpbGUgc3lzdGVtcywgYE1vdW50YWJsZUZpbGVTeXN0ZW1gIGFjdHMgYXMgYSBzaW1wbGUgYEluTWVtb3J5YCBmaWxlc3lzdGVtLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb3VudGFibGVGaWxlU3lzdGVtIGV4dGVuZHMgQmFzZUZpbGVTeXN0ZW0gaW1wbGVtZW50cyBGaWxlU3lzdGVtIHtcblx0cHVibGljIHN0YXRpYyByZWFkb25seSBOYW1lID0gJ01vdW50YWJsZUZpbGVTeXN0ZW0nO1xuXG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgT3B0aW9uczogRmlsZVN5c3RlbU9wdGlvbnMgPSB7fTtcblxuXHQvKipcblx0ICogQ3JlYXRlcyBhIE1vdW50YWJsZUZpbGVTeXN0ZW0gaW5zdGFuY2Ugd2l0aCB0aGUgZ2l2ZW4gb3B0aW9ucy5cblx0ICovXG5cdHB1YmxpYyBzdGF0aWMgQ3JlYXRlKG9wdHM6IE1vdW50YWJsZUZpbGVTeXN0ZW1PcHRpb25zLCBjYjogQkZTQ2FsbGJhY2s8TW91bnRhYmxlRmlsZVN5c3RlbT4pOiB2b2lkIHtcblx0XHRJbk1lbW9yeUZpbGVTeXN0ZW0uQ3JlYXRlKHt9LCAoZSwgaW1mcz8pID0+IHtcblx0XHRcdGlmIChpbWZzKSB7XG5cdFx0XHRcdGNvbnN0IGZzID0gbmV3IE1vdW50YWJsZUZpbGVTeXN0ZW0oaW1mcyk7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Zm9yIChjb25zdCBtb3VudFBvaW50IG9mIE9iamVjdC5rZXlzKG9wdHMpKSB7XG5cdFx0XHRcdFx0XHRmcy5tb3VudChtb3VudFBvaW50LCBvcHRzW21vdW50UG9pbnRdLCBDcmVkLlJvb3QpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRcdHJldHVybiBjYihlKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRjYihudWxsLCBmcyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjYihlKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdHB1YmxpYyBzdGF0aWMgQ3JlYXRlQXN5bmMob3B0czogTW91bnRhYmxlRmlsZVN5c3RlbU9wdGlvbnMpOiBQcm9taXNlPE1vdW50YWJsZUZpbGVTeXN0ZW0+IHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0dGhpcy5DcmVhdGUob3B0cywgKGVycm9yLCBmcykgPT4ge1xuXHRcdFx0XHRpZiAoZXJyb3IgfHwgIWZzKSB7XG5cdFx0XHRcdFx0cmVqZWN0KGVycm9yKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyZXNvbHZlKGZzKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXHRwdWJsaWMgc3RhdGljIGlzQXZhaWxhYmxlKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0cHJpdmF0ZSBtbnRNYXA6IHsgW3BhdGg6IHN0cmluZ106IEZpbGVTeXN0ZW0gfTtcblx0Ly8gQ29udGFpbnMgdGhlIGxpc3Qgb2YgbW91bnQgcG9pbnRzIGluIG1udE1hcCwgc29ydGVkIGJ5IHN0cmluZyBsZW5ndGggaW4gZGVjcmVhc2luZyBvcmRlci5cblx0Ly8gRW5zdXJlcyB0aGF0IHdlIHNjYW4gdGhlIG1vc3Qgc3BlY2lmaWMgbW91bnQgcG9pbnRzIGZvciBhIG1hdGNoIGZpcnN0LCB3aGljaCBsZXRzIHVzXG5cdC8vIG5lc3QgbW91bnQgcG9pbnRzLlxuXHRwcml2YXRlIG1vdW50TGlzdDogc3RyaW5nW10gPSBbXTtcblx0cHJpdmF0ZSByb290RnM6IEZpbGVTeXN0ZW07XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYSBuZXcsIGVtcHR5IE1vdW50YWJsZUZpbGVTeXN0ZW0uXG5cdCAqL1xuXHRwcml2YXRlIGNvbnN0cnVjdG9yKHJvb3RGczogRmlsZVN5c3RlbSkge1xuXHRcdHN1cGVyKCk7XG5cdFx0dGhpcy5tbnRNYXAgPSB7fTtcblx0XHR0aGlzLnJvb3RGcyA9IHJvb3RGcztcblx0fVxuXG5cdC8qKlxuXHQgKiBNb3VudHMgdGhlIGZpbGUgc3lzdGVtIGF0IHRoZSBnaXZlbiBtb3VudCBwb2ludC5cblx0ICovXG5cdHB1YmxpYyBtb3VudChtb3VudFBvaW50OiBzdHJpbmcsIGZzOiBGaWxlU3lzdGVtLCBjcmVkOiBDcmVkKTogdm9pZCB7XG5cdFx0aWYgKG1vdW50UG9pbnRbMF0gIT09ICcvJykge1xuXHRcdFx0bW91bnRQb2ludCA9IGAvJHttb3VudFBvaW50fWA7XG5cdFx0fVxuXHRcdG1vdW50UG9pbnQgPSBwYXRoLnJlc29sdmUobW91bnRQb2ludCk7XG5cdFx0aWYgKHRoaXMubW50TWFwW21vdW50UG9pbnRdKSB7XG5cdFx0XHR0aHJvdyBuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVJTlZBTCwgJ01vdW50IHBvaW50ICcgKyBtb3VudFBvaW50ICsgJyBpcyBhbHJlYWR5IGluIHVzZS4nKTtcblx0XHR9XG5cdFx0bWtkaXJwU3luYyhtb3VudFBvaW50LCAweDFmZiwgY3JlZCwgdGhpcy5yb290RnMpO1xuXHRcdHRoaXMubW50TWFwW21vdW50UG9pbnRdID0gZnM7XG5cdFx0dGhpcy5tb3VudExpc3QucHVzaChtb3VudFBvaW50KTtcblx0XHR0aGlzLm1vdW50TGlzdCA9IHRoaXMubW91bnRMaXN0LnNvcnQoKGEsIGIpID0+IGIubGVuZ3RoIC0gYS5sZW5ndGgpO1xuXHR9XG5cblx0cHVibGljIHVtb3VudChtb3VudFBvaW50OiBzdHJpbmcsIGNyZWQ6IENyZWQpOiB2b2lkIHtcblx0XHRpZiAobW91bnRQb2ludFswXSAhPT0gJy8nKSB7XG5cdFx0XHRtb3VudFBvaW50ID0gYC8ke21vdW50UG9pbnR9YDtcblx0XHR9XG5cdFx0bW91bnRQb2ludCA9IHBhdGgucmVzb2x2ZShtb3VudFBvaW50KTtcblx0XHRpZiAoIXRoaXMubW50TWFwW21vdW50UG9pbnRdKSB7XG5cdFx0XHR0aHJvdyBuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVJTlZBTCwgJ01vdW50IHBvaW50ICcgKyBtb3VudFBvaW50ICsgJyBpcyBhbHJlYWR5IHVubW91bnRlZC4nKTtcblx0XHR9XG5cdFx0ZGVsZXRlIHRoaXMubW50TWFwW21vdW50UG9pbnRdO1xuXHRcdHRoaXMubW91bnRMaXN0LnNwbGljZSh0aGlzLm1vdW50TGlzdC5pbmRleE9mKG1vdW50UG9pbnQpLCAxKTtcblxuXHRcdHdoaWxlIChtb3VudFBvaW50ICE9PSAnLycpIHtcblx0XHRcdGlmICh0aGlzLnJvb3RGcy5yZWFkZGlyU3luYyhtb3VudFBvaW50LCBjcmVkKS5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0dGhpcy5yb290RnMucm1kaXJTeW5jKG1vdW50UG9pbnQsIGNyZWQpO1xuXHRcdFx0XHRtb3VudFBvaW50ID0gcGF0aC5kaXJuYW1lKG1vdW50UG9pbnQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgdGhlIGZpbGUgc3lzdGVtIHRoYXQgdGhlIHBhdGggcG9pbnRzIHRvLlxuXHQgKi9cblx0cHVibGljIF9nZXRGcyhwYXRoOiBzdHJpbmcpOiB7IGZzOiBGaWxlU3lzdGVtOyBwYXRoOiBzdHJpbmc7IG1vdW50UG9pbnQ6IHN0cmluZyB9IHtcblx0XHRjb25zdCBtb3VudExpc3QgPSB0aGlzLm1vdW50TGlzdCxcblx0XHRcdGxlbiA9IG1vdW50TGlzdC5sZW5ndGg7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0Y29uc3QgbW91bnRQb2ludCA9IG1vdW50TGlzdFtpXTtcblx0XHRcdC8vIFdlIGtub3cgcGF0aCBpcyBub3JtYWxpemVkLCBzbyBpdCBpcyBhIHN1YnN0cmluZyBvZiB0aGUgbW91bnQgcG9pbnQuXG5cdFx0XHRpZiAobW91bnRQb2ludC5sZW5ndGggPD0gcGF0aC5sZW5ndGggJiYgcGF0aC5pbmRleE9mKG1vdW50UG9pbnQpID09PSAwKSB7XG5cdFx0XHRcdHBhdGggPSBwYXRoLnN1YnN0cihtb3VudFBvaW50Lmxlbmd0aCA+IDEgPyBtb3VudFBvaW50Lmxlbmd0aCA6IDApO1xuXHRcdFx0XHRpZiAocGF0aCA9PT0gJycpIHtcblx0XHRcdFx0XHRwYXRoID0gJy8nO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB7IGZzOiB0aGlzLm1udE1hcFttb3VudFBvaW50XSwgcGF0aDogcGF0aCwgbW91bnRQb2ludDogbW91bnRQb2ludCB9O1xuXHRcdFx0fVxuXHRcdH1cblx0XHQvLyBRdWVyeSBvdXIgcm9vdCBmaWxlIHN5c3RlbS5cblx0XHRyZXR1cm4geyBmczogdGhpcy5yb290RnMsIHBhdGg6IHBhdGgsIG1vdW50UG9pbnQ6ICcvJyB9O1xuXHR9XG5cblx0Ly8gR2xvYmFsIGluZm9ybWF0aW9uIG1ldGhvZHNcblxuXHRwdWJsaWMgZ2V0TmFtZSgpOiBzdHJpbmcge1xuXHRcdHJldHVybiBNb3VudGFibGVGaWxlU3lzdGVtLk5hbWU7XG5cdH1cblxuXHRwdWJsaWMgZGlza1NwYWNlKHBhdGg6IHN0cmluZywgY2I6ICh0b3RhbDogbnVtYmVyLCBmcmVlOiBudW1iZXIpID0+IHZvaWQpOiB2b2lkIHtcblx0XHRjYigwLCAwKTtcblx0fVxuXG5cdHB1YmxpYyBpc1JlYWRPbmx5KCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdHB1YmxpYyBzdXBwb3J0c0xpbmtzKCk6IGJvb2xlYW4ge1xuXHRcdC8vIEknbSBub3QgcmVhZHkgZm9yIGNyb3NzLUZTIGxpbmtzIHlldC5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRwdWJsaWMgc3VwcG9ydHNQcm9wcygpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRwdWJsaWMgc3VwcG9ydHNTeW5jaCgpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBGaXhlcyB1cCBlcnJvciBtZXNzYWdlcyBzbyB0aGV5IG1lbnRpb24gdGhlIG1vdW50ZWQgZmlsZSBsb2NhdGlvbiByZWxhdGl2ZVxuXHQgKiB0byB0aGUgTUZTIHJvb3QsIG5vdCB0byB0aGUgcGFydGljdWxhciBGUydzIHJvb3QuXG5cdCAqIE11dGF0ZXMgdGhlIGlucHV0IGVycm9yLCBhbmQgcmV0dXJucyBpdC5cblx0ICovXG5cdHB1YmxpYyBzdGFuZGFyZGl6ZUVycm9yKGVycjogQXBpRXJyb3IsIHBhdGg6IHN0cmluZywgcmVhbFBhdGg6IHN0cmluZyk6IEFwaUVycm9yIHtcblx0XHRjb25zdCBpbmRleCA9IGVyci5tZXNzYWdlLmluZGV4T2YocGF0aCk7XG5cdFx0aWYgKGluZGV4ICE9PSAtMSkge1xuXHRcdFx0ZXJyLm1lc3NhZ2UgPSBlcnIubWVzc2FnZS5zdWJzdHIoMCwgaW5kZXgpICsgcmVhbFBhdGggKyBlcnIubWVzc2FnZS5zdWJzdHIoaW5kZXggKyBwYXRoLmxlbmd0aCk7XG5cdFx0XHRlcnIucGF0aCA9IHJlYWxQYXRoO1xuXHRcdH1cblx0XHRyZXR1cm4gZXJyO1xuXHR9XG5cblx0Ly8gVGhlIGZvbGxvd2luZyBtZXRob2RzIGludm9sdmUgbXVsdGlwbGUgZmlsZSBzeXN0ZW1zLCBhbmQgdGh1cyBoYXZlIGN1c3RvbVxuXHQvLyBsb2dpYy5cblx0Ly8gTm90ZSB0aGF0IHdlIGdvIHRocm91Z2ggdGhlIE5vZGUgQVBJIHRvIHVzZSBpdHMgcm9idXN0IGRlZmF1bHQgYXJndW1lbnRcblx0Ly8gcHJvY2Vzc2luZy5cblxuXHRwdWJsaWMgcmVuYW1lKG9sZFBhdGg6IHN0cmluZywgbmV3UGF0aDogc3RyaW5nLCBjcmVkOiBDcmVkLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0XHQvLyBTY2VuYXJpbyAxOiBvbGQgYW5kIG5ldyBhcmUgb24gc2FtZSBGUy5cblx0XHRjb25zdCBmczFydiA9IHRoaXMuX2dldEZzKG9sZFBhdGgpO1xuXHRcdGNvbnN0IGZzMnJ2ID0gdGhpcy5fZ2V0RnMobmV3UGF0aCk7XG5cdFx0aWYgKGZzMXJ2LmZzID09PSBmczJydi5mcykge1xuXHRcdFx0cmV0dXJuIGZzMXJ2LmZzLnJlbmFtZShmczFydi5wYXRoLCBmczJydi5wYXRoLCBjcmVkLCAoZT86IEFwaUVycm9yKSA9PiB7XG5cdFx0XHRcdGlmIChlKSB7XG5cdFx0XHRcdFx0dGhpcy5zdGFuZGFyZGl6ZUVycm9yKHRoaXMuc3RhbmRhcmRpemVFcnJvcihlLCBmczFydi5wYXRoLCBvbGRQYXRoKSwgZnMycnYucGF0aCwgbmV3UGF0aCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y2IoZSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHQvLyBTY2VuYXJpbyAyOiBEaWZmZXJlbnQgZmlsZSBzeXN0ZW1zLlxuXHRcdC8vIFJlYWQgb2xkIGZpbGUsIHdyaXRlIG5ldyBmaWxlLCBkZWxldGUgb2xkIGZpbGUuXG5cdFx0cmV0dXJuIGZzLnJlYWRGaWxlKG9sZFBhdGgsIGZ1bmN0aW9uIChlcnI6IEFwaUVycm9yLCBkYXRhPzogYW55KSB7XG5cdFx0XHRpZiAoZXJyKSB7XG5cdFx0XHRcdHJldHVybiBjYihlcnIpO1xuXHRcdFx0fVxuXHRcdFx0ZnMud3JpdGVGaWxlKG5ld1BhdGgsIGRhdGEsIGZ1bmN0aW9uIChlcnI6IEFwaUVycm9yKSB7XG5cdFx0XHRcdGlmIChlcnIpIHtcblx0XHRcdFx0XHRyZXR1cm4gY2IoZXJyKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRmcy51bmxpbmsob2xkUGF0aCwgY2IpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXHRwdWJsaWMgcmVuYW1lU3luYyhvbGRQYXRoOiBzdHJpbmcsIG5ld1BhdGg6IHN0cmluZywgY3JlZDogQ3JlZCk6IHZvaWQge1xuXHRcdC8vIFNjZW5hcmlvIDE6IG9sZCBhbmQgbmV3IGFyZSBvbiBzYW1lIEZTLlxuXHRcdGNvbnN0IGZzMXJ2ID0gdGhpcy5fZ2V0RnMob2xkUGF0aCk7XG5cdFx0Y29uc3QgZnMycnYgPSB0aGlzLl9nZXRGcyhuZXdQYXRoKTtcblx0XHRpZiAoZnMxcnYuZnMgPT09IGZzMnJ2LmZzKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRyZXR1cm4gZnMxcnYuZnMucmVuYW1lU3luYyhmczFydi5wYXRoLCBmczJydi5wYXRoLCBjcmVkKTtcblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0dGhpcy5zdGFuZGFyZGl6ZUVycm9yKHRoaXMuc3RhbmRhcmRpemVFcnJvcihlLCBmczFydi5wYXRoLCBvbGRQYXRoKSwgZnMycnYucGF0aCwgbmV3UGF0aCk7XG5cdFx0XHRcdHRocm93IGU7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdC8vIFNjZW5hcmlvIDI6IERpZmZlcmVudCBmaWxlIHN5c3RlbXMuXG5cdFx0Y29uc3QgZGF0YSA9IGZzLnJlYWRGaWxlU3luYyhvbGRQYXRoKTtcblx0XHRmcy53cml0ZUZpbGVTeW5jKG5ld1BhdGgsIGRhdGEpO1xuXHRcdHJldHVybiBmcy51bmxpbmtTeW5jKG9sZFBhdGgpO1xuXHR9XG5cblx0cHVibGljIHJlYWRkaXJTeW5jKHA6IHN0cmluZywgY3JlZDogQ3JlZCk6IHN0cmluZ1tdIHtcblx0XHRjb25zdCBmc0luZm8gPSB0aGlzLl9nZXRGcyhwKTtcblxuXHRcdC8vIElmIG51bGwsIHJvb3RmcyBkaWQgbm90IGhhdmUgdGhlIGRpcmVjdG9yeVxuXHRcdC8vIChvciB0aGUgdGFyZ2V0IEZTIGlzIHRoZSByb290IGZzKS5cblx0XHRsZXQgcnY6IHN0cmluZ1tdIHwgbnVsbCA9IG51bGw7XG5cdFx0Ly8gTW91bnQgcG9pbnRzIGFyZSBhbGwgZGVmaW5lZCBpbiB0aGUgcm9vdCBGUy5cblx0XHQvLyBFbnN1cmUgdGhhdCB3ZSBsaXN0IHRob3NlLCB0b28uXG5cdFx0aWYgKGZzSW5mby5mcyAhPT0gdGhpcy5yb290RnMpIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdHJ2ID0gdGhpcy5yb290RnMucmVhZGRpclN5bmMocCwgY3JlZCk7XG5cdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdC8vIElnbm9yZS5cblx0XHRcdH1cblx0XHR9XG5cblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgcnYyID0gZnNJbmZvLmZzLnJlYWRkaXJTeW5jKGZzSW5mby5wYXRoLCBjcmVkKTtcblx0XHRcdGlmIChydiA9PT0gbnVsbCkge1xuXHRcdFx0XHRyZXR1cm4gcnYyO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gRmlsdGVyIG91dCBkdXBsaWNhdGVzLlxuXHRcdFx0XHRyZXR1cm4gcnYyLmNvbmNhdChydi5maWx0ZXIodmFsID0+IHJ2Mi5pbmRleE9mKHZhbCkgPT09IC0xKSk7XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0aWYgKHJ2ID09PSBudWxsKSB7XG5cdFx0XHRcdHRocm93IHRoaXMuc3RhbmRhcmRpemVFcnJvcihlLCBmc0luZm8ucGF0aCwgcCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBUaGUgcm9vdCBGUyBoYWQgc29tZXRoaW5nLlxuXHRcdFx0XHRyZXR1cm4gcnY7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIHJlYWRkaXIocDogc3RyaW5nLCBjcmVkOiBDcmVkLCBjYjogQkZTQ2FsbGJhY2s8c3RyaW5nW10+KTogdm9pZCB7XG5cdFx0Y29uc3QgZnNJbmZvID0gdGhpcy5fZ2V0RnMocCk7XG5cdFx0ZnNJbmZvLmZzLnJlYWRkaXIoZnNJbmZvLnBhdGgsIGNyZWQsIChlcnIsIGZpbGVzKSA9PiB7XG5cdFx0XHRpZiAoZnNJbmZvLmZzICE9PSB0aGlzLnJvb3RGcykge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGNvbnN0IHJ2ID0gdGhpcy5yb290RnMucmVhZGRpclN5bmMocCwgY3JlZCk7XG5cdFx0XHRcdFx0aWYgKGZpbGVzKSB7XG5cdFx0XHRcdFx0XHQvLyBGaWx0ZXIgb3V0IGR1cGxpY2F0ZXMuXG5cdFx0XHRcdFx0XHRmaWxlcyA9IGZpbGVzLmNvbmNhdChydi5maWx0ZXIodmFsID0+IGZpbGVzIS5pbmRleE9mKHZhbCkgPT09IC0xKSk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGZpbGVzID0gcnY7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdFx0Ly8gUm9vdCBGUyBhbmQgdGFyZ2V0IEZTIGRpZCBub3QgaGF2ZSBkaXJlY3RvcnkuXG5cdFx0XHRcdFx0aWYgKGVycikge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGNiKHRoaXMuc3RhbmRhcmRpemVFcnJvcihlcnIsIGZzSW5mby5wYXRoLCBwKSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKGVycikge1xuXHRcdFx0XHQvLyBSb290IEZTIGFuZCB0YXJnZXQgRlMgYXJlIHRoZSBzYW1lLCBhbmQgZGlkIG5vdCBoYXZlIGRpcmVjdG9yeS5cblx0XHRcdFx0cmV0dXJuIGNiKHRoaXMuc3RhbmRhcmRpemVFcnJvcihlcnIsIGZzSW5mby5wYXRoLCBwKSk7XG5cdFx0XHR9XG5cblx0XHRcdGNiKG51bGwsIGZpbGVzKTtcblx0XHR9KTtcblx0fVxuXG5cdHB1YmxpYyByZWFscGF0aFN5bmMocDogc3RyaW5nLCBjYWNoZTogeyBbcGF0aDogc3RyaW5nXTogc3RyaW5nIH0sIGNyZWQ6IENyZWQpOiBzdHJpbmcge1xuXHRcdGNvbnN0IGZzSW5mbyA9IHRoaXMuX2dldEZzKHApO1xuXG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IG1vdW50ZWRQYXRoID0gZnNJbmZvLmZzLnJlYWxwYXRoU3luYyhmc0luZm8ucGF0aCwge30sIGNyZWQpO1xuXHRcdFx0Ly8gcmVzb2x2ZSBpcyB0aGVyZSB0byByZW1vdmUgYW55IHRyYWlsaW5nIHNsYXNoIHRoYXQgbWF5IGJlIHByZXNlbnRcblx0XHRcdHJldHVybiBwYXRoLnJlc29sdmUocGF0aC5qb2luKGZzSW5mby5tb3VudFBvaW50LCBtb3VudGVkUGF0aCkpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdHRocm93IHRoaXMuc3RhbmRhcmRpemVFcnJvcihlLCBmc0luZm8ucGF0aCwgcCk7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIHJlYWxwYXRoKHA6IHN0cmluZywgY2FjaGU6IHsgW3BhdGg6IHN0cmluZ106IHN0cmluZyB9LCBjcmVkOiBDcmVkLCBjYjogQkZTQ2FsbGJhY2s8c3RyaW5nPik6IHZvaWQge1xuXHRcdGNvbnN0IGZzSW5mbyA9IHRoaXMuX2dldEZzKHApO1xuXG5cdFx0ZnNJbmZvLmZzLnJlYWxwYXRoKGZzSW5mby5wYXRoLCB7fSwgY3JlZCwgKGVyciwgcnYpID0+IHtcblx0XHRcdGlmIChlcnIpIHtcblx0XHRcdFx0Y2IodGhpcy5zdGFuZGFyZGl6ZUVycm9yKGVyciwgZnNJbmZvLnBhdGgsIHApKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIHJlc29sdmUgaXMgdGhlcmUgdG8gcmVtb3ZlIGFueSB0cmFpbGluZyBzbGFzaCB0aGF0IG1heSBiZSBwcmVzZW50XG5cdFx0XHRcdGNiKG51bGwsIHBhdGgucmVzb2x2ZShwYXRoLmpvaW4oZnNJbmZvLm1vdW50UG9pbnQsIHJ2ISkpKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdHB1YmxpYyBybWRpclN5bmMocDogc3RyaW5nLCBjcmVkOiBDcmVkKTogdm9pZCB7XG5cdFx0Y29uc3QgZnNJbmZvID0gdGhpcy5fZ2V0RnMocCk7XG5cdFx0aWYgKHRoaXMuX2NvbnRhaW5zTW91bnRQdChwKSkge1xuXHRcdFx0dGhyb3cgQXBpRXJyb3IuRU5PVEVNUFRZKHApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRmc0luZm8uZnMucm1kaXJTeW5jKGZzSW5mby5wYXRoLCBjcmVkKTtcblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0dGhyb3cgdGhpcy5zdGFuZGFyZGl6ZUVycm9yKGUsIGZzSW5mby5wYXRoLCBwKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgcm1kaXIocDogc3RyaW5nLCBjcmVkOiBDcmVkLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0XHRjb25zdCBmc0luZm8gPSB0aGlzLl9nZXRGcyhwKTtcblx0XHRpZiAodGhpcy5fY29udGFpbnNNb3VudFB0KHApKSB7XG5cdFx0XHRjYihBcGlFcnJvci5FTk9URU1QVFkocCkpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRmc0luZm8uZnMucm1kaXIoZnNJbmZvLnBhdGgsIGNyZWQsIChlcnI/KSA9PiB7XG5cdFx0XHRcdGNiKGVyciA/IHRoaXMuc3RhbmRhcmRpemVFcnJvcihlcnIsIGZzSW5mby5wYXRoLCBwKSA6IG51bGwpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gcGF0aCBjb250YWlucyBhIG1vdW50IHBvaW50LlxuXHQgKi9cblx0cHJpdmF0ZSBfY29udGFpbnNNb3VudFB0KHA6IHN0cmluZyk6IGJvb2xlYW4ge1xuXHRcdGNvbnN0IG1vdW50UG9pbnRzID0gdGhpcy5tb3VudExpc3QsXG5cdFx0XHRsZW4gPSBtb3VudFBvaW50cy5sZW5ndGg7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0Y29uc3QgcHQgPSBtb3VudFBvaW50c1tpXTtcblx0XHRcdGlmIChwdC5sZW5ndGggPj0gcC5sZW5ndGggJiYgcHQuc2xpY2UoMCwgcC5sZW5ndGgpID09PSBwKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn1cblxuLyoqXG4gKiBUcmlja3k6IERlZmluZSBhbGwgb2YgdGhlIGZ1bmN0aW9ucyB0aGF0IG1lcmVseSBmb3J3YXJkIGFyZ3VtZW50cyB0byB0aGVcbiAqIHJlbGV2YW50IGZpbGUgc3lzdGVtLCBvciByZXR1cm4vdGhyb3cgYW4gZXJyb3IuXG4gKiBUYWtlIGFkdmFudGFnZSBvZiB0aGUgZmFjdCB0aGF0IHRoZSAqZmlyc3QqIGFyZ3VtZW50IGlzIGFsd2F5cyB0aGUgcGF0aCwgYW5kXG4gKiB0aGUgKmxhc3QqIGlzIHRoZSBjYWxsYmFjayBmdW5jdGlvbiAoaWYgYXN5bmMpLlxuICogQHRvZG8gQ2FuIHVzZSBudW1BcmdzIHRvIG1ha2UgcHJveHlpbmcgbW9yZSBlZmZpY2llbnQuXG4gKiBAaGlkZGVuXG4gKi9cbmZ1bmN0aW9uIGRlZmluZUZjbihuYW1lOiBzdHJpbmcsIGlzU3luYzogYm9vbGVhbiwgbnVtQXJnczogbnVtYmVyKTogKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnkge1xuXHRpZiAoaXNTeW5jKSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uICh0aGlzOiBNb3VudGFibGVGaWxlU3lzdGVtLCAuLi5hcmdzOiBhbnlbXSkge1xuXHRcdFx0Y29uc3QgcGF0aCA9IGFyZ3NbMF07XG5cdFx0XHRjb25zdCBydiA9IHRoaXMuX2dldEZzKHBhdGgpO1xuXHRcdFx0YXJnc1swXSA9IHJ2LnBhdGg7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRyZXR1cm4gKDxhbnk+cnYuZnMpW25hbWVdLmFwcGx5KHJ2LmZzLCBhcmdzKTtcblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0dGhpcy5zdGFuZGFyZGl6ZUVycm9yKGUsIHJ2LnBhdGgsIHBhdGgpO1xuXHRcdFx0XHR0aHJvdyBlO1xuXHRcdFx0fVxuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uICh0aGlzOiBNb3VudGFibGVGaWxlU3lzdGVtLCAuLi5hcmdzOiBhbnlbXSkge1xuXHRcdFx0Y29uc3QgcGF0aCA9IGFyZ3NbMF07XG5cdFx0XHRjb25zdCBydiA9IHRoaXMuX2dldEZzKHBhdGgpO1xuXHRcdFx0YXJnc1swXSA9IHJ2LnBhdGg7XG5cdFx0XHRpZiAodHlwZW9mIGFyZ3NbYXJncy5sZW5ndGggLSAxXSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRjb25zdCBjYiA9IGFyZ3NbYXJncy5sZW5ndGggLSAxXTtcblx0XHRcdFx0YXJnc1thcmdzLmxlbmd0aCAtIDFdID0gKC4uLmFyZ3M6IGFueVtdKSA9PiB7XG5cdFx0XHRcdFx0aWYgKGFyZ3MubGVuZ3RoID4gMCAmJiBhcmdzWzBdIGluc3RhbmNlb2YgQXBpRXJyb3IpIHtcblx0XHRcdFx0XHRcdHRoaXMuc3RhbmRhcmRpemVFcnJvcihhcmdzWzBdLCBydi5wYXRoLCBwYXRoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y2IuYXBwbHkobnVsbCwgYXJncyk7XG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gKDxhbnk+cnYuZnMpW25hbWVdLmFwcGx5KHJ2LmZzLCBhcmdzKTtcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogQGhpZGRlblxuICovXG5jb25zdCBmc0NtZE1hcCA9IFtcblx0Ly8gMSBhcmcgZnVuY3Rpb25zXG5cdFsnZXhpc3RzJywgJ3VubGluaycsICdyZWFkbGluayddLFxuXHQvLyAyIGFyZyBmdW5jdGlvbnNcblx0WydzdGF0JywgJ21rZGlyJywgJ3RydW5jYXRlJ10sXG5cdC8vIDMgYXJnIGZ1bmN0aW9uc1xuXHRbJ29wZW4nLCAncmVhZEZpbGUnLCAnY2htb2QnLCAndXRpbWVzJ10sXG5cdC8vIDQgYXJnIGZ1bmN0aW9uc1xuXHRbJ2Nob3duJ10sXG5cdC8vIDUgYXJnIGZ1bmN0aW9uc1xuXHRbJ3dyaXRlRmlsZScsICdhcHBlbmRGaWxlJ10sXG5dO1xuXG5mb3IgKGxldCBpID0gMDsgaSA8IGZzQ21kTWFwLmxlbmd0aDsgaSsrKSB7XG5cdGNvbnN0IGNtZHMgPSBmc0NtZE1hcFtpXTtcblx0Zm9yIChjb25zdCBmbk5hbWUgb2YgY21kcykge1xuXHRcdCg8YW55Pk1vdW50YWJsZUZpbGVTeXN0ZW0ucHJvdG90eXBlKVtmbk5hbWVdID0gZGVmaW5lRmNuKGZuTmFtZSwgZmFsc2UsIGkgKyAxKTtcblx0XHQoPGFueT5Nb3VudGFibGVGaWxlU3lzdGVtLnByb3RvdHlwZSlbZm5OYW1lICsgJ1N5bmMnXSA9IGRlZmluZUZjbihmbk5hbWUgKyAnU3luYycsIHRydWUsIGkgKyAxKTtcblx0fVxufVxuIiwgImltcG9ydCBzZXRJbW1lZGlhdGUgZnJvbSAnLi4vZ2VuZXJpYy9zZXRJbW1lZGlhdGUnO1xuXG5leHBvcnQgdHlwZSBNdXRleENhbGxiYWNrID0gKCkgPT4gdm9pZDtcbi8qKlxuICogTm9uLXJlY3Vyc2l2ZSBtdXRleFxuICogQGhpZGRlblxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNdXRleCB7XG5cdHByaXZhdGUgX2xvY2tlZDogYm9vbGVhbiA9IGZhbHNlO1xuXHRwcml2YXRlIF93YWl0ZXJzOiBNdXRleENhbGxiYWNrW10gPSBbXTtcblxuXHRwdWJsaWMgbG9jayhjYjogTXV0ZXhDYWxsYmFjayk6IHZvaWQge1xuXHRcdGlmICh0aGlzLl9sb2NrZWQpIHtcblx0XHRcdHRoaXMuX3dhaXRlcnMucHVzaChjYik7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdHRoaXMuX2xvY2tlZCA9IHRydWU7XG5cdFx0Y2IoKTtcblx0fVxuXG5cdHB1YmxpYyB1bmxvY2soKTogdm9pZCB7XG5cdFx0aWYgKCF0aGlzLl9sb2NrZWQpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcigndW5sb2NrIG9mIGEgbm9uLWxvY2tlZCBtdXRleCcpO1xuXHRcdH1cblxuXHRcdGNvbnN0IG5leHQgPSB0aGlzLl93YWl0ZXJzLnNoaWZ0KCk7XG5cdFx0Ly8gZG9uJ3QgdW5sb2NrIC0gd2Ugd2FudCB0byBxdWV1ZSB1cCBuZXh0IGZvciB0aGVcblx0XHQvLyBfZW5kXyBvZiB0aGUgY3VycmVudCB0YXNrIGV4ZWN1dGlvbiwgYnV0IHdlIGRvbid0XG5cdFx0Ly8gd2FudCBpdCB0byBiZSBjYWxsZWQgaW5saW5lIHdpdGggd2hhdGV2ZXIgdGhlXG5cdFx0Ly8gY3VycmVudCBzdGFjayBpcy4gIFRoaXMgd2F5IHdlIHN0aWxsIGdldCB0aGUgbmljZVxuXHRcdC8vIGJlaGF2aW9yIHRoYXQgYW4gdW5sb2NrIGltbWVkaWF0ZWx5IGZvbGxvd2VkIGJ5IGFcblx0XHQvLyBsb2NrIHdvbid0IGNhdXNlIHN0YXJ2YXRpb24uXG5cdFx0aWYgKG5leHQpIHtcblx0XHRcdHNldEltbWVkaWF0ZShuZXh0KTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLl9sb2NrZWQgPSBmYWxzZTtcblx0fVxuXG5cdHB1YmxpYyB0cnlMb2NrKCk6IGJvb2xlYW4ge1xuXHRcdGlmICh0aGlzLl9sb2NrZWQpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHR0aGlzLl9sb2NrZWQgPSB0cnVlO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0cHVibGljIGlzTG9ja2VkKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0aGlzLl9sb2NrZWQ7XG5cdH1cbn1cbiIsICJpbXBvcnQgTXV0ZXggZnJvbSAnLi9tdXRleCc7XG5pbXBvcnQgeyBGaWxlU3lzdGVtLCBCRlNPbmVBcmdDYWxsYmFjaywgQkZTQ2FsbGJhY2sgfSBmcm9tICcuLi9jb3JlL2ZpbGVfc3lzdGVtJztcbmltcG9ydCB7IEFwaUVycm9yIH0gZnJvbSAnLi4vY29yZS9hcGlfZXJyb3InO1xuaW1wb3J0IHsgRmlsZUZsYWcgfSBmcm9tICcuLi9jb3JlL2ZpbGVfZmxhZyc7XG5pbXBvcnQgeyBkZWZhdWx0IGFzIFN0YXRzIH0gZnJvbSAnLi4vY29yZS9zdGF0cyc7XG5pbXBvcnQgeyBGaWxlIH0gZnJvbSAnLi4vY29yZS9maWxlJztcbmltcG9ydCBDcmVkIGZyb20gJy4uL2NvcmUvY3JlZCc7XG5pbXBvcnQgdHlwZSB7IEJ1ZmZlciB9IGZyb20gJ2J1ZmZlcic7XG5cbi8qKlxuICogVGhpcyBjbGFzcyBzZXJpYWxpemVzIGFjY2VzcyB0byBhbiB1bmRlcmx5aW5nIGFzeW5jIGZpbGVzeXN0ZW0uXG4gKiBGb3IgZXhhbXBsZSwgb24gYW4gT3ZlcmxheUZTIGluc3RhbmNlIHdpdGggYW4gYXN5bmMgbG93ZXJcbiAqIGRpcmVjdG9yeSBvcGVyYXRpb25zIGxpa2UgcmVuYW1lIGFuZCBybWRpciBtYXkgaW52b2x2ZSBtdWx0aXBsZVxuICogcmVxdWVzdHMgaW52b2x2aW5nIGJvdGggdGhlIHVwcGVyIGFuZCBsb3dlciBmaWxlc3lzdGVtcyAtLSB0aGV5XG4gKiBhcmUgbm90IGV4ZWN1dGVkIGluIGEgc2luZ2xlIGF0b21pYyBzdGVwLiAgT3ZlcmxheUZTIHVzZXMgdGhpc1xuICogTG9ja2VkRlMgdG8gYXZvaWQgaGF2aW5nIHRvIHJlYXNvbiBhYm91dCB0aGUgY29ycmVjdG5lc3Mgb2ZcbiAqIG11bHRpcGxlIHJlcXVlc3RzIGludGVybGVhdmluZy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9ja2VkRlM8VCBleHRlbmRzIEZpbGVTeXN0ZW0+IGltcGxlbWVudHMgRmlsZVN5c3RlbSB7XG5cdHByaXZhdGUgX2ZzOiBUO1xuXHRwcml2YXRlIF9tdTogTXV0ZXg7XG5cblx0Y29uc3RydWN0b3IoZnM6IFQpIHtcblx0XHR0aGlzLl9mcyA9IGZzO1xuXHRcdHRoaXMuX211ID0gbmV3IE11dGV4KCk7XG5cdH1cblxuXHRwdWJsaWMgZ2V0TmFtZSgpOiBzdHJpbmcge1xuXHRcdHJldHVybiAnTG9ja2VkRlM8JyArIHRoaXMuX2ZzLmdldE5hbWUoKSArICc+Jztcblx0fVxuXG5cdHB1YmxpYyBnZXRGU1VubG9ja2VkKCk6IFQge1xuXHRcdHJldHVybiB0aGlzLl9mcztcblx0fVxuXG5cdHB1YmxpYyBkaXNrU3BhY2UocDogc3RyaW5nLCBjYjogKHRvdGFsOiBudW1iZXIsIGZyZWU6IG51bWJlcikgPT4gYW55KTogdm9pZCB7XG5cdFx0Ly8gRklYTUU6IHNob3VsZCB0aGlzIGxvY2s/XG5cdFx0dGhpcy5fZnMuZGlza1NwYWNlKHAsIGNiKTtcblx0fVxuXG5cdHB1YmxpYyBpc1JlYWRPbmx5KCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0aGlzLl9mcy5pc1JlYWRPbmx5KCk7XG5cdH1cblxuXHRwdWJsaWMgc3VwcG9ydHNMaW5rcygpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdGhpcy5fZnMuc3VwcG9ydHNMaW5rcygpO1xuXHR9XG5cblx0cHVibGljIHN1cHBvcnRzUHJvcHMoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMuX2ZzLnN1cHBvcnRzUHJvcHMoKTtcblx0fVxuXG5cdHB1YmxpYyBzdXBwb3J0c1N5bmNoKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0aGlzLl9mcy5zdXBwb3J0c1N5bmNoKCk7XG5cdH1cblxuXHRwdWJsaWMgcmVuYW1lKG9sZFBhdGg6IHN0cmluZywgbmV3UGF0aDogc3RyaW5nLCBjcmVkOiBDcmVkLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0XHR0aGlzLl9tdS5sb2NrKCgpID0+IHtcblx0XHRcdHRoaXMuX2ZzLnJlbmFtZShvbGRQYXRoLCBuZXdQYXRoLCBjcmVkLCAoZXJyPzogQXBpRXJyb3IpID0+IHtcblx0XHRcdFx0dGhpcy5fbXUudW5sb2NrKCk7XG5cdFx0XHRcdGNiKGVycik7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXG5cdHB1YmxpYyByZW5hbWVTeW5jKG9sZFBhdGg6IHN0cmluZywgbmV3UGF0aDogc3RyaW5nLCBjcmVkOiBDcmVkKTogdm9pZCB7XG5cdFx0aWYgKHRoaXMuX211LmlzTG9ja2VkKCkpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignaW52YWxpZCBzeW5jIGNhbGwnKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuX2ZzLnJlbmFtZVN5bmMob2xkUGF0aCwgbmV3UGF0aCwgY3JlZCk7XG5cdH1cblxuXHRwdWJsaWMgc3RhdChwOiBzdHJpbmcsIGlzTHN0YXQ6IGJvb2xlYW4sIGNyZWQ6IENyZWQsIGNiOiBCRlNDYWxsYmFjazxTdGF0cz4pOiB2b2lkIHtcblx0XHR0aGlzLl9tdS5sb2NrKCgpID0+IHtcblx0XHRcdHRoaXMuX2ZzLnN0YXQocCwgaXNMc3RhdCwgY3JlZCwgKGVycj86IEFwaUVycm9yLCBzdGF0PzogU3RhdHMpID0+IHtcblx0XHRcdFx0dGhpcy5fbXUudW5sb2NrKCk7XG5cdFx0XHRcdGNiKGVyciwgc3RhdCk7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXG5cdHB1YmxpYyBzdGF0U3luYyhwOiBzdHJpbmcsIGlzTHN0YXQ6IGJvb2xlYW4sIGNyZWQ6IENyZWQpOiBTdGF0cyB7XG5cdFx0aWYgKHRoaXMuX211LmlzTG9ja2VkKCkpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignaW52YWxpZCBzeW5jIGNhbGwnKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuX2ZzLnN0YXRTeW5jKHAsIGlzTHN0YXQsIGNyZWQpO1xuXHR9XG5cblx0cHVibGljIGFjY2VzcyhwOiBzdHJpbmcsIG1vZGU6IG51bWJlciwgY3JlZDogQ3JlZCwgY2I6IEJGU09uZUFyZ0NhbGxiYWNrKTogdm9pZCB7XG5cdFx0dGhpcy5fbXUubG9jaygoKSA9PiB7XG5cdFx0XHR0aGlzLl9mcy5hY2Nlc3MocCwgbW9kZSwgY3JlZCwgKGVycj86IEFwaUVycm9yKSA9PiB7XG5cdFx0XHRcdHRoaXMuX211LnVubG9jaygpO1xuXHRcdFx0XHRjYihlcnIpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXHRwdWJsaWMgYWNjZXNzU3luYyhwOiBzdHJpbmcsIG1vZGU6IG51bWJlciwgY3JlZDogQ3JlZCk6IHZvaWQge1xuXHRcdGlmICh0aGlzLl9tdS5pc0xvY2tlZCgpKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgc3luYyBjYWxsJyk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLl9mcy5hY2Nlc3NTeW5jKHAsIG1vZGUsIGNyZWQpO1xuXHR9XG5cblx0cHVibGljIG9wZW4ocDogc3RyaW5nLCBmbGFnOiBGaWxlRmxhZywgbW9kZTogbnVtYmVyLCBjcmVkOiBDcmVkLCBjYjogQkZTQ2FsbGJhY2s8RmlsZT4pOiB2b2lkIHtcblx0XHR0aGlzLl9tdS5sb2NrKCgpID0+IHtcblx0XHRcdHRoaXMuX2ZzLm9wZW4ocCwgZmxhZywgbW9kZSwgY3JlZCwgKGVycj86IEFwaUVycm9yLCBmZD86IEZpbGUpID0+IHtcblx0XHRcdFx0dGhpcy5fbXUudW5sb2NrKCk7XG5cdFx0XHRcdGNiKGVyciwgZmQpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXHRwdWJsaWMgb3BlblN5bmMocDogc3RyaW5nLCBmbGFnOiBGaWxlRmxhZywgbW9kZTogbnVtYmVyLCBjcmVkOiBDcmVkKTogRmlsZSB7XG5cdFx0aWYgKHRoaXMuX211LmlzTG9ja2VkKCkpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignaW52YWxpZCBzeW5jIGNhbGwnKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuX2ZzLm9wZW5TeW5jKHAsIGZsYWcsIG1vZGUsIGNyZWQpO1xuXHR9XG5cblx0cHVibGljIHVubGluayhwOiBzdHJpbmcsIGNyZWQ6IENyZWQsIGNiOiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQge1xuXHRcdHRoaXMuX211LmxvY2soKCkgPT4ge1xuXHRcdFx0dGhpcy5fZnMudW5saW5rKHAsIGNyZWQsIChlcnI/OiBBcGlFcnJvcikgPT4ge1xuXHRcdFx0XHR0aGlzLl9tdS51bmxvY2soKTtcblx0XHRcdFx0Y2IoZXJyKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0cHVibGljIHVubGlua1N5bmMocDogc3RyaW5nLCBjcmVkOiBDcmVkKTogdm9pZCB7XG5cdFx0aWYgKHRoaXMuX211LmlzTG9ja2VkKCkpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignaW52YWxpZCBzeW5jIGNhbGwnKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuX2ZzLnVubGlua1N5bmMocCwgY3JlZCk7XG5cdH1cblxuXHRwdWJsaWMgcm1kaXIocDogc3RyaW5nLCBjcmVkOiBDcmVkLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0XHR0aGlzLl9tdS5sb2NrKCgpID0+IHtcblx0XHRcdHRoaXMuX2ZzLnJtZGlyKHAsIGNyZWQsIChlcnI/OiBBcGlFcnJvcikgPT4ge1xuXHRcdFx0XHR0aGlzLl9tdS51bmxvY2soKTtcblx0XHRcdFx0Y2IoZXJyKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0cHVibGljIHJtZGlyU3luYyhwOiBzdHJpbmcsIGNyZWQ6IENyZWQpOiB2b2lkIHtcblx0XHRpZiAodGhpcy5fbXUuaXNMb2NrZWQoKSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHN5bmMgY2FsbCcpO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5fZnMucm1kaXJTeW5jKHAsIGNyZWQpO1xuXHR9XG5cblx0cHVibGljIG1rZGlyKHA6IHN0cmluZywgbW9kZTogbnVtYmVyLCBjcmVkOiBDcmVkLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0XHR0aGlzLl9tdS5sb2NrKCgpID0+IHtcblx0XHRcdHRoaXMuX2ZzLm1rZGlyKHAsIG1vZGUsIGNyZWQsIChlcnI/OiBBcGlFcnJvcikgPT4ge1xuXHRcdFx0XHR0aGlzLl9tdS51bmxvY2soKTtcblx0XHRcdFx0Y2IoZXJyKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0cHVibGljIG1rZGlyU3luYyhwOiBzdHJpbmcsIG1vZGU6IG51bWJlciwgY3JlZDogQ3JlZCk6IHZvaWQge1xuXHRcdGlmICh0aGlzLl9tdS5pc0xvY2tlZCgpKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgc3luYyBjYWxsJyk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLl9mcy5ta2RpclN5bmMocCwgbW9kZSwgY3JlZCk7XG5cdH1cblxuXHRwdWJsaWMgcmVhZGRpcihwOiBzdHJpbmcsIGNyZWQ6IENyZWQsIGNiOiBCRlNDYWxsYmFjazxzdHJpbmdbXT4pOiB2b2lkIHtcblx0XHR0aGlzLl9tdS5sb2NrKCgpID0+IHtcblx0XHRcdHRoaXMuX2ZzLnJlYWRkaXIocCwgY3JlZCwgKGVycj86IEFwaUVycm9yLCBmaWxlcz86IHN0cmluZ1tdKSA9PiB7XG5cdFx0XHRcdHRoaXMuX211LnVubG9jaygpO1xuXHRcdFx0XHRjYihlcnIsIGZpbGVzKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0cHVibGljIHJlYWRkaXJTeW5jKHA6IHN0cmluZywgY3JlZDogQ3JlZCk6IHN0cmluZ1tdIHtcblx0XHRpZiAodGhpcy5fbXUuaXNMb2NrZWQoKSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHN5bmMgY2FsbCcpO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5fZnMucmVhZGRpclN5bmMocCwgY3JlZCk7XG5cdH1cblxuXHRwdWJsaWMgZXhpc3RzKHA6IHN0cmluZywgY3JlZDogQ3JlZCwgY2I6IChleGlzdHM6IGJvb2xlYW4pID0+IHZvaWQpOiB2b2lkIHtcblx0XHR0aGlzLl9tdS5sb2NrKCgpID0+IHtcblx0XHRcdHRoaXMuX2ZzLmV4aXN0cyhwLCBjcmVkLCAoZXhpc3RzOiBib29sZWFuKSA9PiB7XG5cdFx0XHRcdHRoaXMuX211LnVubG9jaygpO1xuXHRcdFx0XHRjYihleGlzdHMpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXHRwdWJsaWMgZXhpc3RzU3luYyhwOiBzdHJpbmcsIGNyZWQ6IENyZWQpOiBib29sZWFuIHtcblx0XHRpZiAodGhpcy5fbXUuaXNMb2NrZWQoKSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHN5bmMgY2FsbCcpO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5fZnMuZXhpc3RzU3luYyhwLCBjcmVkKTtcblx0fVxuXG5cdHB1YmxpYyByZWFscGF0aChwOiBzdHJpbmcsIGNhY2hlOiB7IFtwYXRoOiBzdHJpbmddOiBzdHJpbmcgfSwgY3JlZDogQ3JlZCwgY2I6IEJGU0NhbGxiYWNrPHN0cmluZz4pOiB2b2lkIHtcblx0XHR0aGlzLl9tdS5sb2NrKCgpID0+IHtcblx0XHRcdHRoaXMuX2ZzLnJlYWxwYXRoKHAsIGNhY2hlLCBjcmVkLCAoZXJyPzogQXBpRXJyb3IsIHJlc29sdmVkUGF0aD86IHN0cmluZykgPT4ge1xuXHRcdFx0XHR0aGlzLl9tdS51bmxvY2soKTtcblx0XHRcdFx0Y2IoZXJyLCByZXNvbHZlZFBhdGgpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXHRwdWJsaWMgcmVhbHBhdGhTeW5jKHA6IHN0cmluZywgY2FjaGU6IHsgW3BhdGg6IHN0cmluZ106IHN0cmluZyB9LCBjcmVkOiBDcmVkKTogc3RyaW5nIHtcblx0XHRpZiAodGhpcy5fbXUuaXNMb2NrZWQoKSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHN5bmMgY2FsbCcpO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5fZnMucmVhbHBhdGhTeW5jKHAsIGNhY2hlLCBjcmVkKTtcblx0fVxuXG5cdHB1YmxpYyB0cnVuY2F0ZShwOiBzdHJpbmcsIGxlbjogbnVtYmVyLCBjcmVkOiBDcmVkLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0XHR0aGlzLl9tdS5sb2NrKCgpID0+IHtcblx0XHRcdHRoaXMuX2ZzLnRydW5jYXRlKHAsIGxlbiwgY3JlZCwgKGVycj86IEFwaUVycm9yKSA9PiB7XG5cdFx0XHRcdHRoaXMuX211LnVubG9jaygpO1xuXHRcdFx0XHRjYihlcnIpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXHRwdWJsaWMgdHJ1bmNhdGVTeW5jKHA6IHN0cmluZywgbGVuOiBudW1iZXIsIGNyZWQ6IENyZWQpOiB2b2lkIHtcblx0XHRpZiAodGhpcy5fbXUuaXNMb2NrZWQoKSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHN5bmMgY2FsbCcpO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5fZnMudHJ1bmNhdGVTeW5jKHAsIGxlbiwgY3JlZCk7XG5cdH1cblxuXHRwdWJsaWMgcmVhZEZpbGUoZm5hbWU6IHN0cmluZywgZW5jb2Rpbmc6IHN0cmluZywgZmxhZzogRmlsZUZsYWcsIGNyZWQ6IENyZWQsIGNiOiBCRlNDYWxsYmFjazxzdHJpbmcgfCBCdWZmZXI+KTogdm9pZCB7XG5cdFx0dGhpcy5fbXUubG9jaygoKSA9PiB7XG5cdFx0XHR0aGlzLl9mcy5yZWFkRmlsZShmbmFtZSwgZW5jb2RpbmcsIGZsYWcsIGNyZWQsIChlcnI/OiBBcGlFcnJvciwgZGF0YT86IGFueSkgPT4ge1xuXHRcdFx0XHR0aGlzLl9tdS51bmxvY2soKTtcblx0XHRcdFx0Y2IoZXJyLCBkYXRhKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0cHVibGljIHJlYWRGaWxlU3luYyhmbmFtZTogc3RyaW5nLCBlbmNvZGluZzogc3RyaW5nLCBmbGFnOiBGaWxlRmxhZywgY3JlZDogQ3JlZCk6IGFueSB7XG5cdFx0aWYgKHRoaXMuX211LmlzTG9ja2VkKCkpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignaW52YWxpZCBzeW5jIGNhbGwnKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuX2ZzLnJlYWRGaWxlU3luYyhmbmFtZSwgZW5jb2RpbmcsIGZsYWcsIGNyZWQpO1xuXHR9XG5cblx0cHVibGljIHdyaXRlRmlsZShmbmFtZTogc3RyaW5nLCBkYXRhOiBhbnksIGVuY29kaW5nOiBzdHJpbmcsIGZsYWc6IEZpbGVGbGFnLCBtb2RlOiBudW1iZXIsIGNyZWQ6IENyZWQsIGNiOiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQge1xuXHRcdHRoaXMuX211LmxvY2soKCkgPT4ge1xuXHRcdFx0dGhpcy5fZnMud3JpdGVGaWxlKGZuYW1lLCBkYXRhLCBlbmNvZGluZywgZmxhZywgbW9kZSwgY3JlZCwgKGVycj86IEFwaUVycm9yKSA9PiB7XG5cdFx0XHRcdHRoaXMuX211LnVubG9jaygpO1xuXHRcdFx0XHRjYihlcnIpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXHRwdWJsaWMgd3JpdGVGaWxlU3luYyhmbmFtZTogc3RyaW5nLCBkYXRhOiBhbnksIGVuY29kaW5nOiBzdHJpbmcsIGZsYWc6IEZpbGVGbGFnLCBtb2RlOiBudW1iZXIsIGNyZWQ6IENyZWQpOiB2b2lkIHtcblx0XHRpZiAodGhpcy5fbXUuaXNMb2NrZWQoKSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHN5bmMgY2FsbCcpO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5fZnMud3JpdGVGaWxlU3luYyhmbmFtZSwgZGF0YSwgZW5jb2RpbmcsIGZsYWcsIG1vZGUsIGNyZWQpO1xuXHR9XG5cblx0cHVibGljIGFwcGVuZEZpbGUoZm5hbWU6IHN0cmluZywgZGF0YTogYW55LCBlbmNvZGluZzogc3RyaW5nLCBmbGFnOiBGaWxlRmxhZywgbW9kZTogbnVtYmVyLCBjcmVkOiBDcmVkLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0XHR0aGlzLl9tdS5sb2NrKCgpID0+IHtcblx0XHRcdHRoaXMuX2ZzLmFwcGVuZEZpbGUoZm5hbWUsIGRhdGEsIGVuY29kaW5nLCBmbGFnLCBtb2RlLCBjcmVkLCAoZXJyPzogQXBpRXJyb3IpID0+IHtcblx0XHRcdFx0dGhpcy5fbXUudW5sb2NrKCk7XG5cdFx0XHRcdGNiKGVycik7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXG5cdHB1YmxpYyBhcHBlbmRGaWxlU3luYyhmbmFtZTogc3RyaW5nLCBkYXRhOiBhbnksIGVuY29kaW5nOiBzdHJpbmcsIGZsYWc6IEZpbGVGbGFnLCBtb2RlOiBudW1iZXIsIGNyZWQ6IENyZWQpOiB2b2lkIHtcblx0XHRpZiAodGhpcy5fbXUuaXNMb2NrZWQoKSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHN5bmMgY2FsbCcpO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5fZnMuYXBwZW5kRmlsZVN5bmMoZm5hbWUsIGRhdGEsIGVuY29kaW5nLCBmbGFnLCBtb2RlLCBjcmVkKTtcblx0fVxuXG5cdHB1YmxpYyBjaG1vZChwOiBzdHJpbmcsIGlzTGNobW9kOiBib29sZWFuLCBtb2RlOiBudW1iZXIsIGNyZWQ6IENyZWQsIGNiOiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQge1xuXHRcdHRoaXMuX211LmxvY2soKCkgPT4ge1xuXHRcdFx0dGhpcy5fZnMuY2htb2QocCwgaXNMY2htb2QsIG1vZGUsIGNyZWQsIChlcnI/OiBBcGlFcnJvcikgPT4ge1xuXHRcdFx0XHR0aGlzLl9tdS51bmxvY2soKTtcblx0XHRcdFx0Y2IoZXJyKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0cHVibGljIGNobW9kU3luYyhwOiBzdHJpbmcsIGlzTGNobW9kOiBib29sZWFuLCBtb2RlOiBudW1iZXIsIGNyZWQ6IENyZWQpOiB2b2lkIHtcblx0XHRpZiAodGhpcy5fbXUuaXNMb2NrZWQoKSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHN5bmMgY2FsbCcpO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5fZnMuY2htb2RTeW5jKHAsIGlzTGNobW9kLCBtb2RlLCBjcmVkKTtcblx0fVxuXG5cdHB1YmxpYyBjaG93bihwOiBzdHJpbmcsIGlzTGNob3duOiBib29sZWFuLCBuZXdfdWlkOiBudW1iZXIsIG5ld19naWQ6IG51bWJlciwgY3JlZDogQ3JlZCwgY2I6IEJGU09uZUFyZ0NhbGxiYWNrKTogdm9pZCB7XG5cdFx0dGhpcy5fbXUubG9jaygoKSA9PiB7XG5cdFx0XHR0aGlzLl9mcy5jaG93bihwLCBpc0xjaG93biwgbmV3X3VpZCwgbmV3X2dpZCwgY3JlZCwgKGVycj86IEFwaUVycm9yKSA9PiB7XG5cdFx0XHRcdHRoaXMuX211LnVubG9jaygpO1xuXHRcdFx0XHRjYihlcnIpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXHRwdWJsaWMgY2hvd25TeW5jKHA6IHN0cmluZywgaXNMY2hvd246IGJvb2xlYW4sIG5ld191aWQ6IG51bWJlciwgbmV3X2dpZDogbnVtYmVyLCBjcmVkOiBDcmVkKTogdm9pZCB7XG5cdFx0aWYgKHRoaXMuX211LmlzTG9ja2VkKCkpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignaW52YWxpZCBzeW5jIGNhbGwnKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuX2ZzLmNob3duU3luYyhwLCBpc0xjaG93biwgbmV3X3VpZCwgbmV3X2dpZCwgY3JlZCk7XG5cdH1cblxuXHRwdWJsaWMgdXRpbWVzKHA6IHN0cmluZywgYXRpbWU6IERhdGUsIG10aW1lOiBEYXRlLCBjcmVkOiBDcmVkLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0XHR0aGlzLl9tdS5sb2NrKCgpID0+IHtcblx0XHRcdHRoaXMuX2ZzLnV0aW1lcyhwLCBhdGltZSwgbXRpbWUsIGNyZWQsIChlcnI/OiBBcGlFcnJvcikgPT4ge1xuXHRcdFx0XHR0aGlzLl9tdS51bmxvY2soKTtcblx0XHRcdFx0Y2IoZXJyKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0cHVibGljIHV0aW1lc1N5bmMocDogc3RyaW5nLCBhdGltZTogRGF0ZSwgbXRpbWU6IERhdGUsIGNyZWQ6IENyZWQpOiB2b2lkIHtcblx0XHRpZiAodGhpcy5fbXUuaXNMb2NrZWQoKSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHN5bmMgY2FsbCcpO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5fZnMudXRpbWVzU3luYyhwLCBhdGltZSwgbXRpbWUsIGNyZWQpO1xuXHR9XG5cblx0cHVibGljIGxpbmsoc3JjcGF0aDogc3RyaW5nLCBkc3RwYXRoOiBzdHJpbmcsIGNyZWQ6IENyZWQsIGNiOiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQge1xuXHRcdHRoaXMuX211LmxvY2soKCkgPT4ge1xuXHRcdFx0dGhpcy5fZnMubGluayhzcmNwYXRoLCBkc3RwYXRoLCBjcmVkLCAoZXJyPzogQXBpRXJyb3IpID0+IHtcblx0XHRcdFx0dGhpcy5fbXUudW5sb2NrKCk7XG5cdFx0XHRcdGNiKGVycik7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXG5cdHB1YmxpYyBsaW5rU3luYyhzcmNwYXRoOiBzdHJpbmcsIGRzdHBhdGg6IHN0cmluZywgY3JlZDogQ3JlZCk6IHZvaWQge1xuXHRcdGlmICh0aGlzLl9tdS5pc0xvY2tlZCgpKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgc3luYyBjYWxsJyk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLl9mcy5saW5rU3luYyhzcmNwYXRoLCBkc3RwYXRoLCBjcmVkKTtcblx0fVxuXG5cdHB1YmxpYyBzeW1saW5rKHNyY3BhdGg6IHN0cmluZywgZHN0cGF0aDogc3RyaW5nLCB0eXBlOiBzdHJpbmcsIGNyZWQ6IENyZWQsIGNiOiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQge1xuXHRcdHRoaXMuX211LmxvY2soKCkgPT4ge1xuXHRcdFx0dGhpcy5fZnMuc3ltbGluayhzcmNwYXRoLCBkc3RwYXRoLCB0eXBlLCBjcmVkLCAoZXJyPzogQXBpRXJyb3IpID0+IHtcblx0XHRcdFx0dGhpcy5fbXUudW5sb2NrKCk7XG5cdFx0XHRcdGNiKGVycik7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXG5cdHB1YmxpYyBzeW1saW5rU3luYyhzcmNwYXRoOiBzdHJpbmcsIGRzdHBhdGg6IHN0cmluZywgdHlwZTogc3RyaW5nLCBjcmVkOiBDcmVkKTogdm9pZCB7XG5cdFx0aWYgKHRoaXMuX211LmlzTG9ja2VkKCkpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignaW52YWxpZCBzeW5jIGNhbGwnKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuX2ZzLnN5bWxpbmtTeW5jKHNyY3BhdGgsIGRzdHBhdGgsIHR5cGUsIGNyZWQpO1xuXHR9XG5cblx0cHVibGljIHJlYWRsaW5rKHA6IHN0cmluZywgY3JlZDogQ3JlZCwgY2I6IEJGU0NhbGxiYWNrPHN0cmluZz4pOiB2b2lkIHtcblx0XHR0aGlzLl9tdS5sb2NrKCgpID0+IHtcblx0XHRcdHRoaXMuX2ZzLnJlYWRsaW5rKHAsIGNyZWQsIChlcnI/OiBBcGlFcnJvciwgbGlua1N0cmluZz86IHN0cmluZykgPT4ge1xuXHRcdFx0XHR0aGlzLl9tdS51bmxvY2soKTtcblx0XHRcdFx0Y2IoZXJyLCBsaW5rU3RyaW5nKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0cHVibGljIHJlYWRsaW5rU3luYyhwOiBzdHJpbmcsIGNyZWQ6IENyZWQpOiBzdHJpbmcge1xuXHRcdGlmICh0aGlzLl9tdS5pc0xvY2tlZCgpKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgc3luYyBjYWxsJyk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLl9mcy5yZWFkbGlua1N5bmMocCwgY3JlZCk7XG5cdH1cbn1cbiIsICJpbXBvcnQgeyBGaWxlU3lzdGVtLCBCYXNlRmlsZVN5c3RlbSwgQkZTT25lQXJnQ2FsbGJhY2ssIEJGU0NhbGxiYWNrLCBGaWxlU3lzdGVtT3B0aW9ucyB9IGZyb20gJy4uL2NvcmUvZmlsZV9zeXN0ZW0nO1xuaW1wb3J0IHsgQXBpRXJyb3IsIEVycm9yQ29kZSB9IGZyb20gJy4uL2NvcmUvYXBpX2Vycm9yJztcbmltcG9ydCB7IEZpbGVGbGFnLCBBY3Rpb25UeXBlIH0gZnJvbSAnLi4vY29yZS9maWxlX2ZsYWcnO1xuaW1wb3J0IHsgRmlsZSB9IGZyb20gJy4uL2NvcmUvZmlsZSc7XG5pbXBvcnQgeyBkZWZhdWx0IGFzIFN0YXRzIH0gZnJvbSAnLi4vY29yZS9zdGF0cyc7XG5pbXBvcnQgUHJlbG9hZEZpbGUgZnJvbSAnLi4vZ2VuZXJpYy9wcmVsb2FkX2ZpbGUnO1xuaW1wb3J0IExvY2tlZEZTIGZyb20gJy4uL2dlbmVyaWMvbG9ja2VkX2ZzJztcbmltcG9ydCAqIGFzIHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgQ3JlZCBmcm9tICcuLi9jb3JlL2NyZWQnO1xuaW1wb3J0IHR5cGUgeyBCdWZmZXIgfSBmcm9tICdidWZmZXInO1xuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmNvbnN0IGRlbGV0aW9uTG9nUGF0aCA9ICcvLmRlbGV0ZWRGaWxlcy5sb2cnO1xuXG4vKipcbiAqIEdpdmVuIGEgcmVhZC1vbmx5IG1vZGUsIG1ha2VzIGl0IHdyaXRhYmxlLlxuICogQGhpZGRlblxuICovXG5mdW5jdGlvbiBtYWtlTW9kZVdyaXRhYmxlKG1vZGU6IG51bWJlcik6IG51bWJlciB7XG5cdHJldHVybiAwbzIyMiB8IG1vZGU7XG59XG5cbi8qKlxuICogQGhpZGRlblxuICovXG5mdW5jdGlvbiBnZXRGbGFnKGY6IHN0cmluZyk6IEZpbGVGbGFnIHtcblx0cmV0dXJuIEZpbGVGbGFnLmdldEZpbGVGbGFnKGYpO1xufVxuXG4vKipcbiAqIE92ZXJsYXlzIGEgUk8gZmlsZSB0byBtYWtlIGl0IHdyaXRhYmxlLlxuICovXG5jbGFzcyBPdmVybGF5RmlsZSBleHRlbmRzIFByZWxvYWRGaWxlPFVubG9ja2VkT3ZlcmxheUZTPiBpbXBsZW1lbnRzIEZpbGUge1xuXHRjb25zdHJ1Y3RvcihmczogVW5sb2NrZWRPdmVybGF5RlMsIHBhdGg6IHN0cmluZywgZmxhZzogRmlsZUZsYWcsIHN0YXRzOiBTdGF0cywgZGF0YTogQnVmZmVyKSB7XG5cdFx0c3VwZXIoZnMsIHBhdGgsIGZsYWcsIHN0YXRzLCBkYXRhKTtcblx0fVxuXG5cdHB1YmxpYyBzeW5jKGNiOiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQge1xuXHRcdGlmICghdGhpcy5pc0RpcnR5KCkpIHtcblx0XHRcdGNiKG51bGwpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRoaXMuX2ZzLl9zeW5jQXN5bmModGhpcywgKGVycjogQXBpRXJyb3IpID0+IHtcblx0XHRcdHRoaXMucmVzZXREaXJ0eSgpO1xuXHRcdFx0Y2IoZXJyKTtcblx0XHR9KTtcblx0fVxuXG5cdHB1YmxpYyBzeW5jU3luYygpOiB2b2lkIHtcblx0XHRpZiAodGhpcy5pc0RpcnR5KCkpIHtcblx0XHRcdHRoaXMuX2ZzLl9zeW5jU3luYyh0aGlzKTtcblx0XHRcdHRoaXMucmVzZXREaXJ0eSgpO1xuXHRcdH1cblx0fVxuXG5cdHB1YmxpYyBjbG9zZShjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0XHR0aGlzLnN5bmMoY2IpO1xuXHR9XG5cblx0cHVibGljIGNsb3NlU3luYygpOiB2b2lkIHtcblx0XHR0aGlzLnN5bmNTeW5jKCk7XG5cdH1cbn1cblxuLyoqXG4gKiAqSU5URVJOQUwsIERPIE5PVCBVU0UgRElSRUNUTFkhKlxuICpcbiAqIENvcmUgT3ZlcmxheUZTIGNsYXNzIHRoYXQgY29udGFpbnMgbm8gbG9ja2luZyB3aGF0c29ldmVyLiBXZSB3cmFwIHRoZXNlIG9iamVjdHNcbiAqIGluIGEgTG9ja2VkRlMgdG8gcHJldmVudCByYWNlcy5cbiAqL1xuZXhwb3J0IGNsYXNzIFVubG9ja2VkT3ZlcmxheUZTIGV4dGVuZHMgQmFzZUZpbGVTeXN0ZW0gaW1wbGVtZW50cyBGaWxlU3lzdGVtIHtcblx0cHVibGljIHN0YXRpYyBpc0F2YWlsYWJsZSgpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdHByaXZhdGUgX3dyaXRhYmxlOiBGaWxlU3lzdGVtO1xuXHRwcml2YXRlIF9yZWFkYWJsZTogRmlsZVN5c3RlbTtcblx0cHJpdmF0ZSBfaXNJbml0aWFsaXplZDogYm9vbGVhbiA9IGZhbHNlO1xuXHRwcml2YXRlIF9pbml0aWFsaXplQ2FsbGJhY2tzOiBCRlNPbmVBcmdDYWxsYmFja1tdID0gW107XG5cdHByaXZhdGUgX2RlbGV0ZWRGaWxlczogeyBbcGF0aDogc3RyaW5nXTogYm9vbGVhbiB9ID0ge307XG5cdHByaXZhdGUgX2RlbGV0ZUxvZzogc3RyaW5nID0gJyc7XG5cdC8vIElmICd0cnVlJywgd2UgaGF2ZSBzY2hlZHVsZWQgYSBkZWxldGUgbG9nIHVwZGF0ZS5cblx0cHJpdmF0ZSBfZGVsZXRlTG9nVXBkYXRlUGVuZGluZzogYm9vbGVhbiA9IGZhbHNlO1xuXHQvLyBJZiAndHJ1ZScsIGEgZGVsZXRlIGxvZyB1cGRhdGUgaXMgbmVlZGVkIGFmdGVyIHRoZSBzY2hlZHVsZWQgZGVsZXRlIGxvZ1xuXHQvLyB1cGRhdGUgZmluaXNoZXMuXG5cdHByaXZhdGUgX2RlbGV0ZUxvZ1VwZGF0ZU5lZWRlZDogYm9vbGVhbiA9IGZhbHNlO1xuXHQvLyBJZiB0aGVyZSB3YXMgYW4gZXJyb3IgdXBkYXRpbmcgdGhlIGRlbGV0ZSBsb2cuLi5cblx0cHJpdmF0ZSBfZGVsZXRlTG9nRXJyb3I6IEFwaUVycm9yIHwgbnVsbCA9IG51bGw7XG5cblx0Y29uc3RydWN0b3Iod3JpdGFibGU6IEZpbGVTeXN0ZW0sIHJlYWRhYmxlOiBGaWxlU3lzdGVtKSB7XG5cdFx0c3VwZXIoKTtcblx0XHR0aGlzLl93cml0YWJsZSA9IHdyaXRhYmxlO1xuXHRcdHRoaXMuX3JlYWRhYmxlID0gcmVhZGFibGU7XG5cdFx0aWYgKHRoaXMuX3dyaXRhYmxlLmlzUmVhZE9ubHkoKSkge1xuXHRcdFx0dGhyb3cgbmV3IEFwaUVycm9yKEVycm9yQ29kZS5FSU5WQUwsICdXcml0YWJsZSBmaWxlIHN5c3RlbSBtdXN0IGJlIHdyaXRhYmxlLicpO1xuXHRcdH1cblx0fVxuXG5cdHB1YmxpYyBnZXRPdmVybGF5ZWRGaWxlU3lzdGVtcygpOiB7IHJlYWRhYmxlOiBGaWxlU3lzdGVtOyB3cml0YWJsZTogRmlsZVN5c3RlbSB9IHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0cmVhZGFibGU6IHRoaXMuX3JlYWRhYmxlLFxuXHRcdFx0d3JpdGFibGU6IHRoaXMuX3dyaXRhYmxlLFxuXHRcdH07XG5cdH1cblxuXHRwdWJsaWMgX3N5bmNBc3luYyhmaWxlOiBQcmVsb2FkRmlsZTxVbmxvY2tlZE92ZXJsYXlGUz4sIGNiOiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQge1xuXHRcdGNvbnN0IHN0YXRzID0gZmlsZS5nZXRTdGF0cygpO1xuXHRcdHRoaXMuY3JlYXRlUGFyZW50RGlyZWN0b3JpZXNBc3luYyhmaWxlLmdldFBhdGgoKSwgc3RhdHMuZ2V0Q3JlZCgwLCAwKSwgKGVycj86IEFwaUVycm9yKSA9PiB7XG5cdFx0XHRpZiAoZXJyKSB7XG5cdFx0XHRcdHJldHVybiBjYihlcnIpO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5fd3JpdGFibGUud3JpdGVGaWxlKGZpbGUuZ2V0UGF0aCgpLCBmaWxlLmdldEJ1ZmZlcigpLCBudWxsLCBnZXRGbGFnKCd3JyksIHN0YXRzLm1vZGUsIHN0YXRzLmdldENyZWQoMCwgMCksIGNiKTtcblx0XHR9KTtcblx0fVxuXG5cdHB1YmxpYyBfc3luY1N5bmMoZmlsZTogUHJlbG9hZEZpbGU8VW5sb2NrZWRPdmVybGF5RlM+KTogdm9pZCB7XG5cdFx0Y29uc3Qgc3RhdHMgPSBmaWxlLmdldFN0YXRzKCk7XG5cdFx0dGhpcy5jcmVhdGVQYXJlbnREaXJlY3RvcmllcyhmaWxlLmdldFBhdGgoKSwgc3RhdHMuZ2V0Q3JlZCgwLCAwKSk7XG5cdFx0dGhpcy5fd3JpdGFibGUud3JpdGVGaWxlU3luYyhmaWxlLmdldFBhdGgoKSwgZmlsZS5nZXRCdWZmZXIoKSwgbnVsbCwgZ2V0RmxhZygndycpLCBzdGF0cy5tb2RlLCBzdGF0cy5nZXRDcmVkKDAsIDApKTtcblx0fVxuXG5cdHB1YmxpYyBnZXROYW1lKCkge1xuXHRcdHJldHVybiBPdmVybGF5RlMuTmFtZTtcblx0fVxuXG5cdC8qKlxuXHQgKiAqKklOVEVSTkFMIE1FVEhPRCoqXG5cdCAqXG5cdCAqIENhbGxlZCBvbmNlIHRvIGxvYWQgdXAgbWV0YWRhdGEgc3RvcmVkIG9uIHRoZSB3cml0YWJsZSBmaWxlIHN5c3RlbS5cblx0ICovXG5cdHB1YmxpYyBfaW5pdGlhbGl6ZShjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0XHRjb25zdCBjYWxsYmFja0FycmF5ID0gdGhpcy5faW5pdGlhbGl6ZUNhbGxiYWNrcztcblxuXHRcdGNvbnN0IGVuZCA9IChlPzogQXBpRXJyb3IpOiB2b2lkID0+IHtcblx0XHRcdHRoaXMuX2lzSW5pdGlhbGl6ZWQgPSAhZTtcblx0XHRcdHRoaXMuX2luaXRpYWxpemVDYWxsYmFja3MgPSBbXTtcblx0XHRcdGNhbGxiYWNrQXJyYXkuZm9yRWFjaChjYiA9PiBjYihlKSk7XG5cdFx0fTtcblxuXHRcdC8vIGlmIHdlJ3JlIGFscmVhZHkgaW5pdGlhbGl6ZWQsIGltbWVkaWF0ZWx5IGludm9rZSB0aGUgY2FsbGJhY2tcblx0XHRpZiAodGhpcy5faXNJbml0aWFsaXplZCkge1xuXHRcdFx0cmV0dXJuIGNiKCk7XG5cdFx0fVxuXG5cdFx0Y2FsbGJhY2tBcnJheS5wdXNoKGNiKTtcblx0XHQvLyBUaGUgZmlyc3QgY2FsbCB0byBpbml0aWFsaXplIGluaXRpYWxpemVzLCB0aGUgcmVzdCB3YWl0IGZvciBpdCB0byBjb21wbGV0ZS5cblx0XHRpZiAoY2FsbGJhY2tBcnJheS5sZW5ndGggIT09IDEpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBSZWFkIGRlbGV0aW9uIGxvZywgcHJvY2VzcyBpbnRvIG1ldGFkYXRhLlxuXHRcdHRoaXMuX3dyaXRhYmxlLnJlYWRGaWxlKGRlbGV0aW9uTG9nUGF0aCwgJ3V0ZjgnLCBnZXRGbGFnKCdyJyksIENyZWQuUm9vdCwgKGVycjogQXBpRXJyb3IsIGRhdGE/OiBzdHJpbmcpID0+IHtcblx0XHRcdGlmIChlcnIpIHtcblx0XHRcdFx0Ly8gRU5PRU5UID09PSBOZXdseS1pbnN0YW50aWF0ZWQgZmlsZSBzeXN0ZW0sIGFuZCB0aHVzIGVtcHR5IGxvZy5cblx0XHRcdFx0aWYgKGVyci5lcnJubyAhPT0gRXJyb3JDb2RlLkVOT0VOVCkge1xuXHRcdFx0XHRcdHJldHVybiBlbmQoZXJyKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5fZGVsZXRlTG9nID0gZGF0YSE7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLl9yZXBhcnNlRGVsZXRpb25Mb2coKTtcblx0XHRcdGVuZCgpO1xuXHRcdH0pO1xuXHR9XG5cblx0cHVibGljIGlzUmVhZE9ubHkoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cdHB1YmxpYyBzdXBwb3J0c1N5bmNoKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0aGlzLl9yZWFkYWJsZS5zdXBwb3J0c1N5bmNoKCkgJiYgdGhpcy5fd3JpdGFibGUuc3VwcG9ydHNTeW5jaCgpO1xuXHR9XG5cdHB1YmxpYyBzdXBwb3J0c0xpbmtzKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXHRwdWJsaWMgc3VwcG9ydHNQcm9wcygpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdGhpcy5fcmVhZGFibGUuc3VwcG9ydHNQcm9wcygpICYmIHRoaXMuX3dyaXRhYmxlLnN1cHBvcnRzUHJvcHMoKTtcblx0fVxuXG5cdHB1YmxpYyBnZXREZWxldGlvbkxvZygpOiBzdHJpbmcge1xuXHRcdHJldHVybiB0aGlzLl9kZWxldGVMb2c7XG5cdH1cblxuXHRwdWJsaWMgcmVzdG9yZURlbGV0aW9uTG9nKGxvZzogc3RyaW5nLCBjcmVkOiBDcmVkKTogdm9pZCB7XG5cdFx0dGhpcy5fZGVsZXRlTG9nID0gbG9nO1xuXHRcdHRoaXMuX3JlcGFyc2VEZWxldGlvbkxvZygpO1xuXHRcdHRoaXMudXBkYXRlTG9nKCcnLCBjcmVkKTtcblx0fVxuXG5cdHB1YmxpYyByZW5hbWUob2xkUGF0aDogc3RyaW5nLCBuZXdQYXRoOiBzdHJpbmcsIGNyZWQ6IENyZWQsIGNiOiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQge1xuXHRcdGlmICghdGhpcy5jaGVja0luaXRBc3luYyhjYikgfHwgdGhpcy5jaGVja1BhdGhBc3luYyhvbGRQYXRoLCBjYikgfHwgdGhpcy5jaGVja1BhdGhBc3luYyhuZXdQYXRoLCBjYikpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAob2xkUGF0aCA9PT0gZGVsZXRpb25Mb2dQYXRoIHx8IG5ld1BhdGggPT09IGRlbGV0aW9uTG9nUGF0aCkge1xuXHRcdFx0cmV0dXJuIGNiKEFwaUVycm9yLkVQRVJNKCdDYW5ub3QgcmVuYW1lIGRlbGV0aW9uIGxvZy4nKSk7XG5cdFx0fVxuXG5cdFx0Ly8gbm90aGluZyB0byBkbyBpZiBwYXRocyBtYXRjaFxuXHRcdGlmIChvbGRQYXRoID09PSBuZXdQYXRoKSB7XG5cdFx0XHRyZXR1cm4gY2IoKTtcblx0XHR9XG5cblx0XHR0aGlzLnN0YXQob2xkUGF0aCwgZmFsc2UsIGNyZWQsIChvbGRFcnI6IEFwaUVycm9yLCBvbGRTdGF0cz86IFN0YXRzKSA9PiB7XG5cdFx0XHRpZiAob2xkRXJyKSB7XG5cdFx0XHRcdHJldHVybiBjYihvbGRFcnIpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdGhpcy5zdGF0KG5ld1BhdGgsIGZhbHNlLCBjcmVkLCAobmV3RXJyOiBBcGlFcnJvciwgbmV3U3RhdHM/OiBTdGF0cykgPT4ge1xuXHRcdFx0XHRjb25zdCBzZWxmID0gdGhpcztcblx0XHRcdFx0Ly8gcHJlY29uZGl0aW9uOiBib3RoIG9sZFBhdGggYW5kIG5ld1BhdGggZXhpc3QgYW5kIGFyZSBkaXJzLlxuXHRcdFx0XHQvLyBkZWNyZWFzZXM6IHxmaWxlc3xcblx0XHRcdFx0Ly8gTmVlZCB0byBtb3ZlICpldmVyeSBmaWxlL2ZvbGRlciogY3VycmVudGx5IHN0b3JlZCBvblxuXHRcdFx0XHQvLyByZWFkYWJsZSB0byBpdHMgbmV3IGxvY2F0aW9uIG9uIHdyaXRhYmxlLlxuXHRcdFx0XHRmdW5jdGlvbiBjb3B5RGlyQ29udGVudHMoZmlsZXM6IHN0cmluZ1tdKTogdm9pZCB7XG5cdFx0XHRcdFx0Y29uc3QgZmlsZSA9IGZpbGVzLnNoaWZ0KCk7XG5cdFx0XHRcdFx0aWYgKCFmaWxlKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gY2IoKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb25zdCBvbGRGaWxlID0gcGF0aC5yZXNvbHZlKG9sZFBhdGgsIGZpbGUpO1xuXHRcdFx0XHRcdGNvbnN0IG5ld0ZpbGUgPSBwYXRoLnJlc29sdmUobmV3UGF0aCwgZmlsZSk7XG5cblx0XHRcdFx0XHQvLyBSZWN1cnNpb24hIFNob3VsZCB3b3JrIGZvciBhbnkgbmVzdGVkIGZpbGVzIC8gZm9sZGVycy5cblx0XHRcdFx0XHRzZWxmLnJlbmFtZShvbGRGaWxlLCBuZXdGaWxlLCBjcmVkLCAoZXJyPzogQXBpRXJyb3IpID0+IHtcblx0XHRcdFx0XHRcdGlmIChlcnIpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGNiKGVycik7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRjb3B5RGlyQ29udGVudHMoZmlsZXMpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0bGV0IG1vZGUgPSAwbzc3NztcblxuXHRcdFx0XHQvLyBmcm9tIGxpbnV4J3MgcmVuYW1lKDIpIG1hbnBhZ2U6IG9sZHBhdGggY2FuIHNwZWNpZnkgYVxuXHRcdFx0XHQvLyBkaXJlY3RvcnkuICBJbiB0aGlzIGNhc2UsIG5ld3BhdGggbXVzdCBlaXRoZXIgbm90IGV4aXN0LCBvclxuXHRcdFx0XHQvLyBpdCBtdXN0IHNwZWNpZnkgYW4gZW1wdHkgZGlyZWN0b3J5LlxuXHRcdFx0XHRpZiAob2xkU3RhdHMhLmlzRGlyZWN0b3J5KCkpIHtcblx0XHRcdFx0XHRpZiAobmV3RXJyKSB7XG5cdFx0XHRcdFx0XHRpZiAobmV3RXJyLmVycm5vICE9PSBFcnJvckNvZGUuRU5PRU5UKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBjYihuZXdFcnIpO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRyZXR1cm4gdGhpcy5fd3JpdGFibGUuZXhpc3RzKG9sZFBhdGgsIGNyZWQsIChleGlzdHM6IGJvb2xlYW4pID0+IHtcblx0XHRcdFx0XHRcdFx0Ly8gc2ltcGxlIGNhc2UgLSBib3RoIG9sZCBhbmQgbmV3IGFyZSBvbiB0aGUgd3JpdGFibGUgbGF5ZXJcblx0XHRcdFx0XHRcdFx0aWYgKGV4aXN0cykge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiB0aGlzLl93cml0YWJsZS5yZW5hbWUob2xkUGF0aCwgbmV3UGF0aCwgY3JlZCwgY2IpO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0dGhpcy5fd3JpdGFibGUubWtkaXIobmV3UGF0aCwgbW9kZSwgY3JlZCwgKG1rZGlyRXJyPzogQXBpRXJyb3IpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRpZiAobWtkaXJFcnIpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjYihta2RpckVycik7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5fcmVhZGFibGUucmVhZGRpcihvbGRQYXRoLCBjcmVkLCAoZXJyOiBBcGlFcnJvciwgZmlsZXM/OiBzdHJpbmdbXSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKGVycikge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gY2IoKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdGNvcHlEaXJDb250ZW50cyhmaWxlcyEpO1xuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdG1vZGUgPSBuZXdTdGF0cyEubW9kZTtcblx0XHRcdFx0XHRpZiAoIW5ld1N0YXRzIS5pc0RpcmVjdG9yeSgpKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gY2IoQXBpRXJyb3IuRU5PVERJUihuZXdQYXRoKSk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dGhpcy5yZWFkZGlyKG5ld1BhdGgsIGNyZWQsIChyZWFkZGlyRXJyOiBBcGlFcnJvciwgZmlsZXM/OiBzdHJpbmdbXSkgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKGZpbGVzICYmIGZpbGVzLmxlbmd0aCkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gY2IoQXBpRXJyb3IuRU5PVEVNUFRZKG5ld1BhdGgpKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0dGhpcy5fcmVhZGFibGUucmVhZGRpcihvbGRQYXRoLCBjcmVkLCAoZXJyOiBBcGlFcnJvciwgZmlsZXM/OiBzdHJpbmdbXSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRpZiAoZXJyKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNiKCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0Y29weURpckNvbnRlbnRzKGZpbGVzISk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChuZXdTdGF0cyAmJiBuZXdTdGF0cy5pc0RpcmVjdG9yeSgpKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGNiKEFwaUVycm9yLkVJU0RJUihuZXdQYXRoKSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aGlzLnJlYWRGaWxlKG9sZFBhdGgsIG51bGwsIGdldEZsYWcoJ3InKSwgY3JlZCwgKGVycjogQXBpRXJyb3IsIGRhdGE/OiBhbnkpID0+IHtcblx0XHRcdFx0XHRpZiAoZXJyKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gY2IoZXJyKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gdGhpcy53cml0ZUZpbGUobmV3UGF0aCwgZGF0YSwgbnVsbCwgZ2V0RmxhZygndycpLCBvbGRTdGF0cyEubW9kZSwgY3JlZCwgKGVycjogQXBpRXJyb3IpID0+IHtcblx0XHRcdFx0XHRcdGlmIChlcnIpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGNiKGVycik7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRyZXR1cm4gdGhpcy51bmxpbmsob2xkUGF0aCwgY3JlZCwgY2IpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0cHVibGljIHJlbmFtZVN5bmMob2xkUGF0aDogc3RyaW5nLCBuZXdQYXRoOiBzdHJpbmcsIGNyZWQ6IENyZWQpOiB2b2lkIHtcblx0XHR0aGlzLmNoZWNrSW5pdGlhbGl6ZWQoKTtcblx0XHR0aGlzLmNoZWNrUGF0aChvbGRQYXRoKTtcblx0XHR0aGlzLmNoZWNrUGF0aChuZXdQYXRoKTtcblx0XHRpZiAob2xkUGF0aCA9PT0gZGVsZXRpb25Mb2dQYXRoIHx8IG5ld1BhdGggPT09IGRlbGV0aW9uTG9nUGF0aCkge1xuXHRcdFx0dGhyb3cgQXBpRXJyb3IuRVBFUk0oJ0Nhbm5vdCByZW5hbWUgZGVsZXRpb24gbG9nLicpO1xuXHRcdH1cblx0XHQvLyBXcml0ZSBuZXdQYXRoIHVzaW5nIG9sZFBhdGgncyBjb250ZW50cywgZGVsZXRlIG9sZFBhdGguXG5cdFx0Y29uc3Qgb2xkU3RhdHMgPSB0aGlzLnN0YXRTeW5jKG9sZFBhdGgsIGZhbHNlLCBjcmVkKTtcblx0XHRpZiAob2xkU3RhdHMuaXNEaXJlY3RvcnkoKSkge1xuXHRcdFx0Ly8gT3B0aW1pemF0aW9uOiBEb24ndCBib3RoZXIgbW92aW5nIGlmIG9sZCA9PT0gbmV3LlxuXHRcdFx0aWYgKG9sZFBhdGggPT09IG5ld1BhdGgpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRsZXQgbW9kZSA9IDBvNzc3O1xuXHRcdFx0aWYgKHRoaXMuZXhpc3RzU3luYyhuZXdQYXRoLCBjcmVkKSkge1xuXHRcdFx0XHRjb25zdCBzdGF0cyA9IHRoaXMuc3RhdFN5bmMobmV3UGF0aCwgZmFsc2UsIGNyZWQpO1xuXHRcdFx0XHRtb2RlID0gc3RhdHMubW9kZTtcblx0XHRcdFx0aWYgKHN0YXRzLmlzRGlyZWN0b3J5KCkpIHtcblx0XHRcdFx0XHRpZiAodGhpcy5yZWFkZGlyU3luYyhuZXdQYXRoLCBjcmVkKS5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0XHR0aHJvdyBBcGlFcnJvci5FTk9URU1QVFkobmV3UGF0aCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRocm93IEFwaUVycm9yLkVOT1RESVIobmV3UGF0aCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gVGFrZSBjYXJlIG9mIHdyaXRhYmxlIGZpcnN0LiBNb3ZlIGFueSBmaWxlcyB0aGVyZSwgb3IgY3JlYXRlIGFuIGVtcHR5IGRpcmVjdG9yeVxuXHRcdFx0Ly8gaWYgaXQgZG9lc24ndCBleGlzdC5cblx0XHRcdGlmICh0aGlzLl93cml0YWJsZS5leGlzdHNTeW5jKG9sZFBhdGgsIGNyZWQpKSB7XG5cdFx0XHRcdHRoaXMuX3dyaXRhYmxlLnJlbmFtZVN5bmMob2xkUGF0aCwgbmV3UGF0aCwgY3JlZCk7XG5cdFx0XHR9IGVsc2UgaWYgKCF0aGlzLl93cml0YWJsZS5leGlzdHNTeW5jKG5ld1BhdGgsIGNyZWQpKSB7XG5cdFx0XHRcdHRoaXMuX3dyaXRhYmxlLm1rZGlyU3luYyhuZXdQYXRoLCBtb2RlLCBjcmVkKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gTmVlZCB0byBtb3ZlICpldmVyeSBmaWxlL2ZvbGRlciogY3VycmVudGx5IHN0b3JlZCBvbiByZWFkYWJsZSB0byBpdHMgbmV3IGxvY2F0aW9uXG5cdFx0XHQvLyBvbiB3cml0YWJsZS5cblx0XHRcdGlmICh0aGlzLl9yZWFkYWJsZS5leGlzdHNTeW5jKG9sZFBhdGgsIGNyZWQpKSB7XG5cdFx0XHRcdHRoaXMuX3JlYWRhYmxlLnJlYWRkaXJTeW5jKG9sZFBhdGgsIGNyZWQpLmZvckVhY2gobmFtZSA9PiB7XG5cdFx0XHRcdFx0Ly8gUmVjdXJzaW9uISBTaG91bGQgd29yayBmb3IgYW55IG5lc3RlZCBmaWxlcyAvIGZvbGRlcnMuXG5cdFx0XHRcdFx0dGhpcy5yZW5hbWVTeW5jKHBhdGgucmVzb2x2ZShvbGRQYXRoLCBuYW1lKSwgcGF0aC5yZXNvbHZlKG5ld1BhdGgsIG5hbWUpLCBjcmVkKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmICh0aGlzLmV4aXN0c1N5bmMobmV3UGF0aCwgY3JlZCkgJiYgdGhpcy5zdGF0U3luYyhuZXdQYXRoLCBmYWxzZSwgY3JlZCkuaXNEaXJlY3RvcnkoKSkge1xuXHRcdFx0XHR0aHJvdyBBcGlFcnJvci5FSVNESVIobmV3UGF0aCk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMud3JpdGVGaWxlU3luYyhuZXdQYXRoLCB0aGlzLnJlYWRGaWxlU3luYyhvbGRQYXRoLCBudWxsLCBnZXRGbGFnKCdyJyksIGNyZWQpLCBudWxsLCBnZXRGbGFnKCd3JyksIG9sZFN0YXRzLm1vZGUsIGNyZWQpO1xuXHRcdH1cblxuXHRcdGlmIChvbGRQYXRoICE9PSBuZXdQYXRoICYmIHRoaXMuZXhpc3RzU3luYyhvbGRQYXRoLCBjcmVkKSkge1xuXHRcdFx0dGhpcy51bmxpbmtTeW5jKG9sZFBhdGgsIGNyZWQpO1xuXHRcdH1cblx0fVxuXG5cdHB1YmxpYyBzdGF0KHA6IHN0cmluZywgaXNMc3RhdDogYm9vbGVhbiwgY3JlZDogQ3JlZCwgY2I6IEJGU0NhbGxiYWNrPFN0YXRzPik6IHZvaWQge1xuXHRcdGlmICghdGhpcy5jaGVja0luaXRBc3luYyhjYikpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0dGhpcy5fd3JpdGFibGUuc3RhdChwLCBpc0xzdGF0LCBjcmVkLCAoZXJyOiBBcGlFcnJvciwgc3RhdD86IFN0YXRzKSA9PiB7XG5cdFx0XHRpZiAoZXJyICYmIGVyci5lcnJubyA9PT0gRXJyb3JDb2RlLkVOT0VOVCkge1xuXHRcdFx0XHRpZiAodGhpcy5fZGVsZXRlZEZpbGVzW3BdKSB7XG5cdFx0XHRcdFx0Y2IoQXBpRXJyb3IuRU5PRU5UKHApKTtcblx0XHRcdFx0fVxuXHRcdFx0XHR0aGlzLl9yZWFkYWJsZS5zdGF0KHAsIGlzTHN0YXQsIGNyZWQsIChlcnI6IEFwaUVycm9yLCBzdGF0PzogU3RhdHMpID0+IHtcblx0XHRcdFx0XHRpZiAoc3RhdCkge1xuXHRcdFx0XHRcdFx0Ly8gTWFrZSB0aGUgb2xkU3RhdCdzIG1vZGUgd3JpdGFibGUuIFByZXNlcnZlIHRoZSB0b3Btb3N0XG5cdFx0XHRcdFx0XHQvLyBwYXJ0IG9mIHRoZSBtb2RlLCB3aGljaCBzcGVjaWZpZXMgaWYgaXQgaXMgYSBmaWxlIG9yIGFcblx0XHRcdFx0XHRcdC8vIGRpcmVjdG9yeS5cblx0XHRcdFx0XHRcdHN0YXQgPSBTdGF0cy5jbG9uZShzdGF0KTtcblx0XHRcdFx0XHRcdHN0YXQubW9kZSA9IG1ha2VNb2RlV3JpdGFibGUoc3RhdC5tb2RlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y2IoZXJyLCBzdGF0KTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjYihlcnIsIHN0YXQpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0cHVibGljIHN0YXRTeW5jKHA6IHN0cmluZywgaXNMc3RhdDogYm9vbGVhbiwgY3JlZDogQ3JlZCk6IFN0YXRzIHtcblx0XHR0aGlzLmNoZWNrSW5pdGlhbGl6ZWQoKTtcblx0XHR0cnkge1xuXHRcdFx0cmV0dXJuIHRoaXMuX3dyaXRhYmxlLnN0YXRTeW5jKHAsIGlzTHN0YXQsIGNyZWQpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGlmICh0aGlzLl9kZWxldGVkRmlsZXNbcF0pIHtcblx0XHRcdFx0dGhyb3cgQXBpRXJyb3IuRU5PRU5UKHApO1xuXHRcdFx0fVxuXHRcdFx0Y29uc3Qgb2xkU3RhdCA9IFN0YXRzLmNsb25lKHRoaXMuX3JlYWRhYmxlLnN0YXRTeW5jKHAsIGlzTHN0YXQsIGNyZWQpKTtcblx0XHRcdC8vIE1ha2UgdGhlIG9sZFN0YXQncyBtb2RlIHdyaXRhYmxlLiBQcmVzZXJ2ZSB0aGUgdG9wbW9zdCBwYXJ0IG9mIHRoZVxuXHRcdFx0Ly8gbW9kZSwgd2hpY2ggc3BlY2lmaWVzIGlmIGl0IGlzIGEgZmlsZSBvciBhIGRpcmVjdG9yeS5cblx0XHRcdG9sZFN0YXQubW9kZSA9IG1ha2VNb2RlV3JpdGFibGUob2xkU3RhdC5tb2RlKTtcblx0XHRcdHJldHVybiBvbGRTdGF0O1xuXHRcdH1cblx0fVxuXG5cdHB1YmxpYyBvcGVuKHA6IHN0cmluZywgZmxhZzogRmlsZUZsYWcsIG1vZGU6IG51bWJlciwgY3JlZDogQ3JlZCwgY2I6IEJGU0NhbGxiYWNrPEZpbGU+KTogdm9pZCB7XG5cdFx0aWYgKCF0aGlzLmNoZWNrSW5pdEFzeW5jKGNiKSB8fCB0aGlzLmNoZWNrUGF0aEFzeW5jKHAsIGNiKSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHR0aGlzLnN0YXQocCwgZmFsc2UsIGNyZWQsIChlcnI6IEFwaUVycm9yLCBzdGF0cz86IFN0YXRzKSA9PiB7XG5cdFx0XHRpZiAoc3RhdHMpIHtcblx0XHRcdFx0c3dpdGNoIChmbGFnLnBhdGhFeGlzdHNBY3Rpb24oKSkge1xuXHRcdFx0XHRcdGNhc2UgQWN0aW9uVHlwZS5UUlVOQ0FURV9GSUxFOlxuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXMuY3JlYXRlUGFyZW50RGlyZWN0b3JpZXNBc3luYyhwLCBjcmVkLCAoZXJyPzogQXBpRXJyb3IpID0+IHtcblx0XHRcdFx0XHRcdFx0aWYgKGVycikge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjYihlcnIpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdHRoaXMuX3dyaXRhYmxlLm9wZW4ocCwgZmxhZywgbW9kZSwgY3JlZCwgY2IpO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0Y2FzZSBBY3Rpb25UeXBlLk5PUDpcblx0XHRcdFx0XHRcdHJldHVybiB0aGlzLl93cml0YWJsZS5leGlzdHMocCwgY3JlZCwgKGV4aXN0czogYm9vbGVhbikgPT4ge1xuXHRcdFx0XHRcdFx0XHRpZiAoZXhpc3RzKSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5fd3JpdGFibGUub3BlbihwLCBmbGFnLCBtb2RlLCBjcmVkLCBjYik7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gYXQgdGhpcyBwb2ludCB3ZSBrbm93IHRoZSBzdGF0cyBvYmplY3Qgd2UgZ290IGlzIGZyb21cblx0XHRcdFx0XHRcdFx0XHQvLyB0aGUgcmVhZGFibGUgRlMuXG5cdFx0XHRcdFx0XHRcdFx0c3RhdHMgPSBTdGF0cy5jbG9uZShzdGF0cyEpO1xuXHRcdFx0XHRcdFx0XHRcdHN0YXRzLm1vZGUgPSBtb2RlO1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMuX3JlYWRhYmxlLnJlYWRGaWxlKHAsIG51bGwsIGdldEZsYWcoJ3InKSwgY3JlZCwgKHJlYWRGaWxlRXJyOiBBcGlFcnJvciwgZGF0YT86IGFueSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKHJlYWRGaWxlRXJyKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjYihyZWFkRmlsZUVycik7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoc3RhdHMhLnNpemUgPT09IC0xKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHN0YXRzIS5zaXplID0gZGF0YS5sZW5ndGg7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRjb25zdCBmID0gbmV3IE92ZXJsYXlGaWxlKHRoaXMsIHAsIGZsYWcsIHN0YXRzISwgZGF0YSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRjYihudWxsLCBmKTtcblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRcdHJldHVybiBjYihBcGlFcnJvci5FRVhJU1QocCkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzd2l0Y2ggKGZsYWcucGF0aE5vdEV4aXN0c0FjdGlvbigpKSB7XG5cdFx0XHRcdFx0Y2FzZSBBY3Rpb25UeXBlLkNSRUFURV9GSUxFOlxuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXMuY3JlYXRlUGFyZW50RGlyZWN0b3JpZXNBc3luYyhwLCBjcmVkLCAoZXJyPzogQXBpRXJyb3IpID0+IHtcblx0XHRcdFx0XHRcdFx0aWYgKGVycikge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjYihlcnIpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdHJldHVybiB0aGlzLl93cml0YWJsZS5vcGVuKHAsIGZsYWcsIG1vZGUsIGNyZWQsIGNiKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHRyZXR1cm4gY2IoQXBpRXJyb3IuRU5PRU5UKHApKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0cHVibGljIG9wZW5TeW5jKHA6IHN0cmluZywgZmxhZzogRmlsZUZsYWcsIG1vZGU6IG51bWJlciwgY3JlZDogQ3JlZCk6IEZpbGUge1xuXHRcdHRoaXMuY2hlY2tJbml0aWFsaXplZCgpO1xuXHRcdHRoaXMuY2hlY2tQYXRoKHApO1xuXHRcdGlmIChwID09PSBkZWxldGlvbkxvZ1BhdGgpIHtcblx0XHRcdHRocm93IEFwaUVycm9yLkVQRVJNKCdDYW5ub3Qgb3BlbiBkZWxldGlvbiBsb2cuJyk7XG5cdFx0fVxuXHRcdGlmICh0aGlzLmV4aXN0c1N5bmMocCwgY3JlZCkpIHtcblx0XHRcdHN3aXRjaCAoZmxhZy5wYXRoRXhpc3RzQWN0aW9uKCkpIHtcblx0XHRcdFx0Y2FzZSBBY3Rpb25UeXBlLlRSVU5DQVRFX0ZJTEU6XG5cdFx0XHRcdFx0dGhpcy5jcmVhdGVQYXJlbnREaXJlY3RvcmllcyhwLCBjcmVkKTtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcy5fd3JpdGFibGUub3BlblN5bmMocCwgZmxhZywgbW9kZSwgY3JlZCk7XG5cdFx0XHRcdGNhc2UgQWN0aW9uVHlwZS5OT1A6XG5cdFx0XHRcdFx0aWYgKHRoaXMuX3dyaXRhYmxlLmV4aXN0c1N5bmMocCwgY3JlZCkpIHtcblx0XHRcdFx0XHRcdHJldHVybiB0aGlzLl93cml0YWJsZS5vcGVuU3luYyhwLCBmbGFnLCBtb2RlLCBjcmVkKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Ly8gQ3JlYXRlIGFuIE92ZXJsYXlGaWxlLlxuXHRcdFx0XHRcdFx0Y29uc3QgYnVmID0gdGhpcy5fcmVhZGFibGUucmVhZEZpbGVTeW5jKHAsIG51bGwsIGdldEZsYWcoJ3InKSwgY3JlZCk7XG5cdFx0XHRcdFx0XHRjb25zdCBzdGF0cyA9IFN0YXRzLmNsb25lKHRoaXMuX3JlYWRhYmxlLnN0YXRTeW5jKHAsIGZhbHNlLCBjcmVkKSk7XG5cdFx0XHRcdFx0XHRzdGF0cy5tb2RlID0gbW9kZTtcblx0XHRcdFx0XHRcdHJldHVybiBuZXcgT3ZlcmxheUZpbGUodGhpcywgcCwgZmxhZywgc3RhdHMsIGJ1Zik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdHRocm93IEFwaUVycm9yLkVFWElTVChwKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0c3dpdGNoIChmbGFnLnBhdGhOb3RFeGlzdHNBY3Rpb24oKSkge1xuXHRcdFx0XHRjYXNlIEFjdGlvblR5cGUuQ1JFQVRFX0ZJTEU6XG5cdFx0XHRcdFx0dGhpcy5jcmVhdGVQYXJlbnREaXJlY3RvcmllcyhwLCBjcmVkKTtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcy5fd3JpdGFibGUub3BlblN5bmMocCwgZmxhZywgbW9kZSwgY3JlZCk7XG5cdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0dGhyb3cgQXBpRXJyb3IuRU5PRU5UKHApO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHB1YmxpYyB1bmxpbmsocDogc3RyaW5nLCBjcmVkOiBDcmVkLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0XHRpZiAoIXRoaXMuY2hlY2tJbml0QXN5bmMoY2IpIHx8IHRoaXMuY2hlY2tQYXRoQXN5bmMocCwgY2IpKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdHRoaXMuZXhpc3RzKHAsIGNyZWQsIChleGlzdHM6IGJvb2xlYW4pID0+IHtcblx0XHRcdGlmICghZXhpc3RzKSB7XG5cdFx0XHRcdHJldHVybiBjYihBcGlFcnJvci5FTk9FTlQocCkpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl93cml0YWJsZS5leGlzdHMocCwgY3JlZCwgKHdyaXRhYmxlRXhpc3RzOiBib29sZWFuKSA9PiB7XG5cdFx0XHRcdGlmICh3cml0YWJsZUV4aXN0cykge1xuXHRcdFx0XHRcdHJldHVybiB0aGlzLl93cml0YWJsZS51bmxpbmsocCwgY3JlZCwgKGVycjogQXBpRXJyb3IpID0+IHtcblx0XHRcdFx0XHRcdGlmIChlcnIpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGNiKGVycik7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHRoaXMuZXhpc3RzKHAsIGNyZWQsIChyZWFkYWJsZUV4aXN0czogYm9vbGVhbikgPT4ge1xuXHRcdFx0XHRcdFx0XHRpZiAocmVhZGFibGVFeGlzdHMpIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLmRlbGV0ZVBhdGgocCwgY3JlZCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0Y2IobnVsbCk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyBpZiB0aGlzIG9ubHkgZXhpc3RzIG9uIHRoZSByZWFkYWJsZSBGUywgYWRkIGl0IHRvIHRoZVxuXHRcdFx0XHRcdC8vIGRlbGV0ZSBtYXAuXG5cdFx0XHRcdFx0dGhpcy5kZWxldGVQYXRoKHAsIGNyZWQpO1xuXHRcdFx0XHRcdGNiKG51bGwpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXG5cdHB1YmxpYyB1bmxpbmtTeW5jKHA6IHN0cmluZywgY3JlZDogQ3JlZCk6IHZvaWQge1xuXHRcdHRoaXMuY2hlY2tJbml0aWFsaXplZCgpO1xuXHRcdHRoaXMuY2hlY2tQYXRoKHApO1xuXHRcdGlmICh0aGlzLmV4aXN0c1N5bmMocCwgY3JlZCkpIHtcblx0XHRcdGlmICh0aGlzLl93cml0YWJsZS5leGlzdHNTeW5jKHAsIGNyZWQpKSB7XG5cdFx0XHRcdHRoaXMuX3dyaXRhYmxlLnVubGlua1N5bmMocCwgY3JlZCk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGlmIGl0IHN0aWxsIGV4aXN0cyBhZGQgdG8gdGhlIGRlbGV0ZSBsb2dcblx0XHRcdGlmICh0aGlzLmV4aXN0c1N5bmMocCwgY3JlZCkpIHtcblx0XHRcdFx0dGhpcy5kZWxldGVQYXRoKHAsIGNyZWQpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aHJvdyBBcGlFcnJvci5FTk9FTlQocCk7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIHJtZGlyKHA6IHN0cmluZywgY3JlZDogQ3JlZCwgY2I6IEJGU09uZUFyZ0NhbGxiYWNrKTogdm9pZCB7XG5cdFx0aWYgKCF0aGlzLmNoZWNrSW5pdEFzeW5jKGNiKSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGNvbnN0IHJtZGlyTG93ZXIgPSAoKTogdm9pZCA9PiB7XG5cdFx0XHR0aGlzLnJlYWRkaXIocCwgY3JlZCwgKGVycjogQXBpRXJyb3IsIGZpbGVzOiBzdHJpbmdbXSk6IHZvaWQgPT4ge1xuXHRcdFx0XHRpZiAoZXJyKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGNiKGVycik7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoZmlsZXMubGVuZ3RoKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGNiKEFwaUVycm9yLkVOT1RFTVBUWShwKSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aGlzLmRlbGV0ZVBhdGgocCwgY3JlZCk7XG5cdFx0XHRcdGNiKG51bGwpO1xuXHRcdFx0fSk7XG5cdFx0fTtcblxuXHRcdHRoaXMuZXhpc3RzKHAsIGNyZWQsIChleGlzdHM6IGJvb2xlYW4pID0+IHtcblx0XHRcdGlmICghZXhpc3RzKSB7XG5cdFx0XHRcdHJldHVybiBjYihBcGlFcnJvci5FTk9FTlQocCkpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl93cml0YWJsZS5leGlzdHMocCwgY3JlZCwgKHdyaXRhYmxlRXhpc3RzOiBib29sZWFuKSA9PiB7XG5cdFx0XHRcdGlmICh3cml0YWJsZUV4aXN0cykge1xuXHRcdFx0XHRcdHRoaXMuX3dyaXRhYmxlLnJtZGlyKHAsIGNyZWQsIChlcnI6IEFwaUVycm9yKSA9PiB7XG5cdFx0XHRcdFx0XHRpZiAoZXJyKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBjYihlcnIpO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHR0aGlzLl9yZWFkYWJsZS5leGlzdHMocCwgY3JlZCwgKHJlYWRhYmxlRXhpc3RzOiBib29sZWFuKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGlmIChyZWFkYWJsZUV4aXN0cykge1xuXHRcdFx0XHRcdFx0XHRcdHJtZGlyTG93ZXIoKTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRjYigpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRybWRpckxvd2VyKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0cHVibGljIHJtZGlyU3luYyhwOiBzdHJpbmcsIGNyZWQ6IENyZWQpOiB2b2lkIHtcblx0XHR0aGlzLmNoZWNrSW5pdGlhbGl6ZWQoKTtcblx0XHRpZiAodGhpcy5leGlzdHNTeW5jKHAsIGNyZWQpKSB7XG5cdFx0XHRpZiAodGhpcy5fd3JpdGFibGUuZXhpc3RzU3luYyhwLCBjcmVkKSkge1xuXHRcdFx0XHR0aGlzLl93cml0YWJsZS5ybWRpclN5bmMocCwgY3JlZCk7XG5cdFx0XHR9XG5cdFx0XHRpZiAodGhpcy5leGlzdHNTeW5jKHAsIGNyZWQpKSB7XG5cdFx0XHRcdC8vIENoZWNrIGlmIGRpcmVjdG9yeSBpcyBlbXB0eS5cblx0XHRcdFx0aWYgKHRoaXMucmVhZGRpclN5bmMocCwgY3JlZCkubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdHRocm93IEFwaUVycm9yLkVOT1RFTVBUWShwKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0aGlzLmRlbGV0ZVBhdGgocCwgY3JlZCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhyb3cgQXBpRXJyb3IuRU5PRU5UKHApO1xuXHRcdH1cblx0fVxuXG5cdHB1YmxpYyBta2RpcihwOiBzdHJpbmcsIG1vZGU6IG51bWJlciwgY3JlZDogQ3JlZCwgY2I6IEJGU0NhbGxiYWNrPFN0YXRzPik6IHZvaWQge1xuXHRcdGlmICghdGhpcy5jaGVja0luaXRBc3luYyhjYikpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0dGhpcy5leGlzdHMocCwgY3JlZCwgKGV4aXN0czogYm9vbGVhbikgPT4ge1xuXHRcdFx0aWYgKGV4aXN0cykge1xuXHRcdFx0XHRyZXR1cm4gY2IoQXBpRXJyb3IuRUVYSVNUKHApKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gVGhlIGJlbG93IHdpbGwgdGhyb3cgc2hvdWxkIGFueSBvZiB0aGUgcGFyZW50IGRpcmVjdG9yaWVzXG5cdFx0XHQvLyBmYWlsIHRvIGV4aXN0IG9uIF93cml0YWJsZS5cblx0XHRcdHRoaXMuY3JlYXRlUGFyZW50RGlyZWN0b3JpZXNBc3luYyhwLCBjcmVkLCAoZXJyOiBBcGlFcnJvcikgPT4ge1xuXHRcdFx0XHRpZiAoZXJyKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGNiKGVycik7XG5cdFx0XHRcdH1cblx0XHRcdFx0dGhpcy5fd3JpdGFibGUubWtkaXIocCwgbW9kZSwgY3JlZCwgY2IpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXHRwdWJsaWMgbWtkaXJTeW5jKHA6IHN0cmluZywgbW9kZTogbnVtYmVyLCBjcmVkOiBDcmVkKTogdm9pZCB7XG5cdFx0dGhpcy5jaGVja0luaXRpYWxpemVkKCk7XG5cdFx0aWYgKHRoaXMuZXhpc3RzU3luYyhwLCBjcmVkKSkge1xuXHRcdFx0dGhyb3cgQXBpRXJyb3IuRUVYSVNUKHApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBUaGUgYmVsb3cgd2lsbCB0aHJvdyBzaG91bGQgYW55IG9mIHRoZSBwYXJlbnQgZGlyZWN0b3JpZXMgZmFpbCB0byBleGlzdFxuXHRcdFx0Ly8gb24gX3dyaXRhYmxlLlxuXHRcdFx0dGhpcy5jcmVhdGVQYXJlbnREaXJlY3RvcmllcyhwLCBjcmVkKTtcblx0XHRcdHRoaXMuX3dyaXRhYmxlLm1rZGlyU3luYyhwLCBtb2RlLCBjcmVkKTtcblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgcmVhZGRpcihwOiBzdHJpbmcsIGNyZWQ6IENyZWQsIGNiOiBCRlNDYWxsYmFjazxzdHJpbmdbXT4pOiB2b2lkIHtcblx0XHRpZiAoIXRoaXMuY2hlY2tJbml0QXN5bmMoY2IpKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdHRoaXMuc3RhdChwLCBmYWxzZSwgY3JlZCwgKGVycjogQXBpRXJyb3IsIGRpclN0YXRzPzogU3RhdHMpID0+IHtcblx0XHRcdGlmIChlcnIpIHtcblx0XHRcdFx0cmV0dXJuIGNiKGVycik7XG5cdFx0XHR9XG5cblx0XHRcdGlmICghZGlyU3RhdHMhLmlzRGlyZWN0b3J5KCkpIHtcblx0XHRcdFx0cmV0dXJuIGNiKEFwaUVycm9yLkVOT1RESVIocCkpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl93cml0YWJsZS5yZWFkZGlyKHAsIGNyZWQsIChlcnI6IEFwaUVycm9yLCB3RmlsZXM6IHN0cmluZ1tdKSA9PiB7XG5cdFx0XHRcdGlmIChlcnIgJiYgZXJyLmNvZGUgIT09ICdFTk9FTlQnKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGNiKGVycik7XG5cdFx0XHRcdH0gZWxzZSBpZiAoZXJyIHx8ICF3RmlsZXMpIHtcblx0XHRcdFx0XHR3RmlsZXMgPSBbXTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRoaXMuX3JlYWRhYmxlLnJlYWRkaXIocCwgY3JlZCwgKGVycjogQXBpRXJyb3IsIHJGaWxlczogc3RyaW5nW10pID0+IHtcblx0XHRcdFx0XHQvLyBpZiB0aGUgZGlyZWN0b3J5IGRvZXNuJ3QgZXhpc3Qgb24gdGhlIGxvd2VyIEZTIHNldCByRmlsZXNcblx0XHRcdFx0XHQvLyBoZXJlIHRvIHNpbXBsaWZ5IHRoZSBmb2xsb3dpbmcgY29kZS5cblx0XHRcdFx0XHRpZiAoZXJyIHx8ICFyRmlsZXMpIHtcblx0XHRcdFx0XHRcdHJGaWxlcyA9IFtdO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIFJlYWRkaXIgaW4gYm90aCwgY2hlY2sgZGVsZXRlIGxvZyBvbiByZWFkLW9ubHkgZmlsZSBzeXN0ZW0ncyBmaWxlcywgbWVyZ2UsIHJldHVybi5cblx0XHRcdFx0XHRjb25zdCBzZWVuTWFwOiB7IFtuYW1lOiBzdHJpbmddOiBib29sZWFuIH0gPSB7fTtcblx0XHRcdFx0XHRjb25zdCBmaWx0ZXJlZDogc3RyaW5nW10gPSB3RmlsZXMuY29uY2F0KHJGaWxlcy5maWx0ZXIoKGZQYXRoOiBzdHJpbmcpID0+ICF0aGlzLl9kZWxldGVkRmlsZXNbYCR7cH0vJHtmUGF0aH1gXSkpLmZpbHRlcigoZlBhdGg6IHN0cmluZykgPT4ge1xuXHRcdFx0XHRcdFx0Ly8gUmVtb3ZlIGR1cGxpY2F0ZXMuXG5cdFx0XHRcdFx0XHRjb25zdCByZXN1bHQgPSAhc2Vlbk1hcFtmUGF0aF07XG5cdFx0XHRcdFx0XHRzZWVuTWFwW2ZQYXRoXSA9IHRydWU7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdGNiKG51bGwsIGZpbHRlcmVkKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXG5cdHB1YmxpYyByZWFkZGlyU3luYyhwOiBzdHJpbmcsIGNyZWQ6IENyZWQpOiBzdHJpbmdbXSB7XG5cdFx0dGhpcy5jaGVja0luaXRpYWxpemVkKCk7XG5cdFx0Y29uc3QgZGlyU3RhdHMgPSB0aGlzLnN0YXRTeW5jKHAsIGZhbHNlLCBjcmVkKTtcblx0XHRpZiAoIWRpclN0YXRzLmlzRGlyZWN0b3J5KCkpIHtcblx0XHRcdHRocm93IEFwaUVycm9yLkVOT1RESVIocCk7XG5cdFx0fVxuXG5cdFx0Ly8gUmVhZGRpciBpbiBib3RoLCBjaGVjayBkZWxldGUgbG9nIG9uIFJPIGZpbGUgc3lzdGVtJ3MgbGlzdGluZywgbWVyZ2UsIHJldHVybi5cblx0XHRsZXQgY29udGVudHM6IHN0cmluZ1tdID0gW107XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnRlbnRzID0gY29udGVudHMuY29uY2F0KHRoaXMuX3dyaXRhYmxlLnJlYWRkaXJTeW5jKHAsIGNyZWQpKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHQvLyBOT1AuXG5cdFx0fVxuXHRcdHRyeSB7XG5cdFx0XHRjb250ZW50cyA9IGNvbnRlbnRzLmNvbmNhdCh0aGlzLl9yZWFkYWJsZS5yZWFkZGlyU3luYyhwLCBjcmVkKS5maWx0ZXIoKGZQYXRoOiBzdHJpbmcpID0+ICF0aGlzLl9kZWxldGVkRmlsZXNbYCR7cH0vJHtmUGF0aH1gXSkpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdC8vIE5PUC5cblx0XHR9XG5cdFx0Y29uc3Qgc2Vlbk1hcDogeyBbbmFtZTogc3RyaW5nXTogYm9vbGVhbiB9ID0ge307XG5cdFx0cmV0dXJuIGNvbnRlbnRzLmZpbHRlcigoZmlsZVA6IHN0cmluZykgPT4ge1xuXHRcdFx0Y29uc3QgcmVzdWx0ID0gIXNlZW5NYXBbZmlsZVBdO1xuXHRcdFx0c2Vlbk1hcFtmaWxlUF0gPSB0cnVlO1xuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9KTtcblx0fVxuXG5cdHB1YmxpYyBleGlzdHMocDogc3RyaW5nLCBjcmVkOiBDcmVkLCBjYjogKGV4aXN0czogYm9vbGVhbikgPT4gdm9pZCk6IHZvaWQge1xuXHRcdC8vIENhbm5vdCBwYXNzIGFuIGVycm9yIGJhY2sgdG8gY2FsbGJhY2ssIHNvIHRocm93IGFuIGV4Y2VwdGlvbiBpbnN0ZWFkXG5cdFx0Ly8gaWYgbm90IGluaXRpYWxpemVkLlxuXHRcdHRoaXMuY2hlY2tJbml0aWFsaXplZCgpO1xuXHRcdHRoaXMuX3dyaXRhYmxlLmV4aXN0cyhwLCBjcmVkLCAoZXhpc3RzV3JpdGFibGU6IGJvb2xlYW4pID0+IHtcblx0XHRcdGlmIChleGlzdHNXcml0YWJsZSkge1xuXHRcdFx0XHRyZXR1cm4gY2IodHJ1ZSk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuX3JlYWRhYmxlLmV4aXN0cyhwLCBjcmVkLCAoZXhpc3RzUmVhZGFibGU6IGJvb2xlYW4pID0+IHtcblx0XHRcdFx0Y2IoZXhpc3RzUmVhZGFibGUgJiYgdGhpcy5fZGVsZXRlZEZpbGVzW3BdICE9PSB0cnVlKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0cHVibGljIGV4aXN0c1N5bmMocDogc3RyaW5nLCBjcmVkOiBDcmVkKTogYm9vbGVhbiB7XG5cdFx0dGhpcy5jaGVja0luaXRpYWxpemVkKCk7XG5cdFx0cmV0dXJuIHRoaXMuX3dyaXRhYmxlLmV4aXN0c1N5bmMocCwgY3JlZCkgfHwgKHRoaXMuX3JlYWRhYmxlLmV4aXN0c1N5bmMocCwgY3JlZCkgJiYgdGhpcy5fZGVsZXRlZEZpbGVzW3BdICE9PSB0cnVlKTtcblx0fVxuXG5cdHB1YmxpYyBjaG1vZChwOiBzdHJpbmcsIGlzTGNobW9kOiBib29sZWFuLCBtb2RlOiBudW1iZXIsIGNyZWQ6IENyZWQsIGNiOiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQge1xuXHRcdGlmICghdGhpcy5jaGVja0luaXRBc3luYyhjYikpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0dGhpcy5vcGVyYXRlT25Xcml0YWJsZUFzeW5jKHAsIGNyZWQsIChlcnI/OiBBcGlFcnJvcikgPT4ge1xuXHRcdFx0aWYgKGVycikge1xuXHRcdFx0XHRyZXR1cm4gY2IoZXJyKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuX3dyaXRhYmxlLmNobW9kKHAsIGlzTGNobW9kLCBtb2RlLCBjcmVkLCBjYik7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHRwdWJsaWMgY2htb2RTeW5jKHA6IHN0cmluZywgaXNMY2htb2Q6IGJvb2xlYW4sIG1vZGU6IG51bWJlciwgY3JlZDogQ3JlZCk6IHZvaWQge1xuXHRcdHRoaXMuY2hlY2tJbml0aWFsaXplZCgpO1xuXHRcdHRoaXMub3BlcmF0ZU9uV3JpdGFibGUocCwgY3JlZCwgKCkgPT4ge1xuXHRcdFx0dGhpcy5fd3JpdGFibGUuY2htb2RTeW5jKHAsIGlzTGNobW9kLCBtb2RlLCBjcmVkKTtcblx0XHR9KTtcblx0fVxuXG5cdHB1YmxpYyBjaG93bihwOiBzdHJpbmcsIGlzTGNobW9kOiBib29sZWFuLCBuZXdfdWlkOiBudW1iZXIsIG5ld19naWQ6IG51bWJlciwgY3JlZDogQ3JlZCwgY2I6IEJGU09uZUFyZ0NhbGxiYWNrKTogdm9pZCB7XG5cdFx0aWYgKCF0aGlzLmNoZWNrSW5pdEFzeW5jKGNiKSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHR0aGlzLm9wZXJhdGVPbldyaXRhYmxlQXN5bmMocCwgY3JlZCwgKGVycj86IEFwaUVycm9yKSA9PiB7XG5cdFx0XHRpZiAoZXJyKSB7XG5cdFx0XHRcdHJldHVybiBjYihlcnIpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5fd3JpdGFibGUuY2hvd24ocCwgaXNMY2htb2QsIG5ld191aWQsIG5ld19naWQsIGNyZWQsIGNiKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdHB1YmxpYyBjaG93blN5bmMocDogc3RyaW5nLCBpc0xjaG93bjogYm9vbGVhbiwgbmV3X3VpZDogbnVtYmVyLCBuZXdfZ2lkOiBudW1iZXIsIGNyZWQ6IENyZWQpOiB2b2lkIHtcblx0XHR0aGlzLmNoZWNrSW5pdGlhbGl6ZWQoKTtcblx0XHR0aGlzLm9wZXJhdGVPbldyaXRhYmxlKHAsIGNyZWQsICgpID0+IHtcblx0XHRcdHRoaXMuX3dyaXRhYmxlLmNob3duU3luYyhwLCBpc0xjaG93biwgbmV3X3VpZCwgbmV3X2dpZCwgY3JlZCk7XG5cdFx0fSk7XG5cdH1cblxuXHRwdWJsaWMgdXRpbWVzKHA6IHN0cmluZywgYXRpbWU6IERhdGUsIG10aW1lOiBEYXRlLCBjcmVkOiBDcmVkLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0XHRpZiAoIXRoaXMuY2hlY2tJbml0QXN5bmMoY2IpKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdHRoaXMub3BlcmF0ZU9uV3JpdGFibGVBc3luYyhwLCBjcmVkLCAoZXJyPzogQXBpRXJyb3IpID0+IHtcblx0XHRcdGlmIChlcnIpIHtcblx0XHRcdFx0cmV0dXJuIGNiKGVycik7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLl93cml0YWJsZS51dGltZXMocCwgYXRpbWUsIG10aW1lLCBjcmVkLCBjYik7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHRwdWJsaWMgdXRpbWVzU3luYyhwOiBzdHJpbmcsIGF0aW1lOiBEYXRlLCBtdGltZTogRGF0ZSwgY3JlZDogQ3JlZCk6IHZvaWQge1xuXHRcdHRoaXMuY2hlY2tJbml0aWFsaXplZCgpO1xuXHRcdHRoaXMub3BlcmF0ZU9uV3JpdGFibGUocCwgY3JlZCwgKCkgPT4ge1xuXHRcdFx0dGhpcy5fd3JpdGFibGUudXRpbWVzU3luYyhwLCBhdGltZSwgbXRpbWUsIGNyZWQpO1xuXHRcdH0pO1xuXHR9XG5cblx0cHJpdmF0ZSBkZWxldGVQYXRoKHA6IHN0cmluZywgY3JlZDogQ3JlZCk6IHZvaWQge1xuXHRcdHRoaXMuX2RlbGV0ZWRGaWxlc1twXSA9IHRydWU7XG5cdFx0dGhpcy51cGRhdGVMb2coYGQke3B9XFxuYCwgY3JlZCk7XG5cdH1cblxuXHRwcml2YXRlIHVwZGF0ZUxvZyhhZGRpdGlvbjogc3RyaW5nLCBjcmVkOiBDcmVkKSB7XG5cdFx0dGhpcy5fZGVsZXRlTG9nICs9IGFkZGl0aW9uO1xuXHRcdGlmICh0aGlzLl9kZWxldGVMb2dVcGRhdGVQZW5kaW5nKSB7XG5cdFx0XHR0aGlzLl9kZWxldGVMb2dVcGRhdGVOZWVkZWQgPSB0cnVlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLl9kZWxldGVMb2dVcGRhdGVQZW5kaW5nID0gdHJ1ZTtcblx0XHRcdHRoaXMuX3dyaXRhYmxlLndyaXRlRmlsZShkZWxldGlvbkxvZ1BhdGgsIHRoaXMuX2RlbGV0ZUxvZywgJ3V0ZjgnLCBGaWxlRmxhZy5nZXRGaWxlRmxhZygndycpLCAwbzY0NCwgY3JlZCwgZSA9PiB7XG5cdFx0XHRcdHRoaXMuX2RlbGV0ZUxvZ1VwZGF0ZVBlbmRpbmcgPSBmYWxzZTtcblx0XHRcdFx0aWYgKGUpIHtcblx0XHRcdFx0XHR0aGlzLl9kZWxldGVMb2dFcnJvciA9IGU7XG5cdFx0XHRcdH0gZWxzZSBpZiAodGhpcy5fZGVsZXRlTG9nVXBkYXRlTmVlZGVkKSB7XG5cdFx0XHRcdFx0dGhpcy5fZGVsZXRlTG9nVXBkYXRlTmVlZGVkID0gZmFsc2U7XG5cdFx0XHRcdFx0dGhpcy51cGRhdGVMb2coJycsIGNyZWQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIF9yZXBhcnNlRGVsZXRpb25Mb2coKTogdm9pZCB7XG5cdFx0dGhpcy5fZGVsZXRlZEZpbGVzID0ge307XG5cdFx0dGhpcy5fZGVsZXRlTG9nLnNwbGl0KCdcXG4nKS5mb3JFYWNoKChwYXRoOiBzdHJpbmcpID0+IHtcblx0XHRcdC8vIElmIHRoZSBsb2cgZW50cnkgYmVnaW5zIHcvICdkJywgaXQncyBhIGRlbGV0aW9uLlxuXHRcdFx0dGhpcy5fZGVsZXRlZEZpbGVzW3BhdGguc2xpY2UoMSldID0gcGF0aC5zbGljZSgwLCAxKSA9PT0gJ2QnO1xuXHRcdH0pO1xuXHR9XG5cblx0cHJpdmF0ZSBjaGVja0luaXRpYWxpemVkKCk6IHZvaWQge1xuXHRcdGlmICghdGhpcy5faXNJbml0aWFsaXplZCkge1xuXHRcdFx0dGhyb3cgbmV3IEFwaUVycm9yKEVycm9yQ29kZS5FUEVSTSwgJ092ZXJsYXlGUyBpcyBub3QgaW5pdGlhbGl6ZWQuIFBsZWFzZSBpbml0aWFsaXplIE92ZXJsYXlGUyB1c2luZyBpdHMgaW5pdGlhbGl6ZSgpIG1ldGhvZCBiZWZvcmUgdXNpbmcgaXQuJyk7XG5cdFx0fSBlbHNlIGlmICh0aGlzLl9kZWxldGVMb2dFcnJvciAhPT0gbnVsbCkge1xuXHRcdFx0Y29uc3QgZSA9IHRoaXMuX2RlbGV0ZUxvZ0Vycm9yO1xuXHRcdFx0dGhpcy5fZGVsZXRlTG9nRXJyb3IgPSBudWxsO1xuXHRcdFx0dGhyb3cgZTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGNoZWNrSW5pdEFzeW5jKGNiOiBCRlNPbmVBcmdDYWxsYmFjayk6IGJvb2xlYW4ge1xuXHRcdGlmICghdGhpcy5faXNJbml0aWFsaXplZCkge1xuXHRcdFx0Y2IobmV3IEFwaUVycm9yKEVycm9yQ29kZS5FUEVSTSwgJ092ZXJsYXlGUyBpcyBub3QgaW5pdGlhbGl6ZWQuIFBsZWFzZSBpbml0aWFsaXplIE92ZXJsYXlGUyB1c2luZyBpdHMgaW5pdGlhbGl6ZSgpIG1ldGhvZCBiZWZvcmUgdXNpbmcgaXQuJykpO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0gZWxzZSBpZiAodGhpcy5fZGVsZXRlTG9nRXJyb3IgIT09IG51bGwpIHtcblx0XHRcdGNvbnN0IGUgPSB0aGlzLl9kZWxldGVMb2dFcnJvcjtcblx0XHRcdHRoaXMuX2RlbGV0ZUxvZ0Vycm9yID0gbnVsbDtcblx0XHRcdGNiKGUpO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdHByaXZhdGUgY2hlY2tQYXRoKHA6IHN0cmluZyk6IHZvaWQge1xuXHRcdGlmIChwID09PSBkZWxldGlvbkxvZ1BhdGgpIHtcblx0XHRcdHRocm93IEFwaUVycm9yLkVQRVJNKHApO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgY2hlY2tQYXRoQXN5bmMocDogc3RyaW5nLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiBib29sZWFuIHtcblx0XHRpZiAocCA9PT0gZGVsZXRpb25Mb2dQYXRoKSB7XG5cdFx0XHRjYihBcGlFcnJvci5FUEVSTShwKSk7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0cHJpdmF0ZSBjcmVhdGVQYXJlbnREaXJlY3Rvcmllc0FzeW5jKHA6IHN0cmluZywgY3JlZDogQ3JlZCwgY2I6IEJGU09uZUFyZ0NhbGxiYWNrKTogdm9pZCB7XG5cdFx0bGV0IHBhcmVudCA9IHBhdGguZGlybmFtZShwKTtcblx0XHRjb25zdCB0b0NyZWF0ZTogc3RyaW5nW10gPSBbXTtcblx0XHRjb25zdCBzZWxmID0gdGhpcztcblxuXHRcdHRoaXMuX3dyaXRhYmxlLnN0YXQocGFyZW50LCBmYWxzZSwgY3JlZCwgc3RhdERvbmUpO1xuXHRcdGZ1bmN0aW9uIHN0YXREb25lKGVycjogQXBpRXJyb3IsIHN0YXQ/OiBTdGF0cyk6IHZvaWQge1xuXHRcdFx0aWYgKGVycikge1xuXHRcdFx0XHRpZiAocGFyZW50ID09PSAnLycpIHtcblx0XHRcdFx0XHRjYihuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVCVVNZLCAnSW52YXJpYW50IGZhaWxlZDogcm9vdCBkb2VzIG5vdCBleGlzdCEnKSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dG9DcmVhdGUucHVzaChwYXJlbnQpO1xuXHRcdFx0XHRcdHBhcmVudCA9IHBhdGguZGlybmFtZShwYXJlbnQpO1xuXHRcdFx0XHRcdHNlbGYuX3dyaXRhYmxlLnN0YXQocGFyZW50LCBmYWxzZSwgY3JlZCwgc3RhdERvbmUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjcmVhdGVQYXJlbnRzKCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gY3JlYXRlUGFyZW50cygpOiB2b2lkIHtcblx0XHRcdGlmICghdG9DcmVhdGUubGVuZ3RoKSB7XG5cdFx0XHRcdHJldHVybiBjYigpO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBkaXIgPSB0b0NyZWF0ZS5wb3AoKTtcblx0XHRcdHNlbGYuX3JlYWRhYmxlLnN0YXQoZGlyISwgZmFsc2UsIGNyZWQsIChlcnI6IEFwaUVycm9yLCBzdGF0cz86IFN0YXRzKSA9PiB7XG5cdFx0XHRcdC8vIHN0b3AgaWYgd2UgY291bGRuJ3QgcmVhZCB0aGUgZGlyXG5cdFx0XHRcdGlmICghc3RhdHMpIHtcblx0XHRcdFx0XHRyZXR1cm4gY2IoKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHNlbGYuX3dyaXRhYmxlLm1rZGlyKGRpciEsIHN0YXRzLm1vZGUsIGNyZWQsIChlcnI/OiBBcGlFcnJvcikgPT4ge1xuXHRcdFx0XHRcdGlmIChlcnIpIHtcblx0XHRcdFx0XHRcdHJldHVybiBjYihlcnIpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjcmVhdGVQYXJlbnRzKCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFdpdGggdGhlIGdpdmVuIHBhdGgsIGNyZWF0ZSB0aGUgbmVlZGVkIHBhcmVudCBkaXJlY3RvcmllcyBvbiB0aGUgd3JpdGFibGUgc3RvcmFnZVxuXHQgKiBzaG91bGQgdGhleSBub3QgZXhpc3QuIFVzZSBtb2RlcyBmcm9tIHRoZSByZWFkLW9ubHkgc3RvcmFnZS5cblx0ICovXG5cdHByaXZhdGUgY3JlYXRlUGFyZW50RGlyZWN0b3JpZXMocDogc3RyaW5nLCBjcmVkOiBDcmVkKTogdm9pZCB7XG5cdFx0bGV0IHBhcmVudCA9IHBhdGguZGlybmFtZShwKSxcblx0XHRcdHRvQ3JlYXRlOiBzdHJpbmdbXSA9IFtdO1xuXHRcdHdoaWxlICghdGhpcy5fd3JpdGFibGUuZXhpc3RzU3luYyhwYXJlbnQsIGNyZWQpKSB7XG5cdFx0XHR0b0NyZWF0ZS5wdXNoKHBhcmVudCk7XG5cdFx0XHRwYXJlbnQgPSBwYXRoLmRpcm5hbWUocGFyZW50KTtcblx0XHR9XG5cdFx0dG9DcmVhdGUgPSB0b0NyZWF0ZS5yZXZlcnNlKCk7XG5cblx0XHR0b0NyZWF0ZS5mb3JFYWNoKChwOiBzdHJpbmcpID0+IHtcblx0XHRcdHRoaXMuX3dyaXRhYmxlLm1rZGlyU3luYyhwLCB0aGlzLnN0YXRTeW5jKHAsIGZhbHNlLCBjcmVkKS5tb2RlLCBjcmVkKTtcblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBIZWxwZXIgZnVuY3Rpb246XG5cdCAqIC0gRW5zdXJlcyBwIGlzIG9uIHdyaXRhYmxlIGJlZm9yZSBwcm9jZWVkaW5nLiBUaHJvd3MgYW4gZXJyb3IgaWYgaXQgZG9lc24ndCBleGlzdC5cblx0ICogLSBDYWxscyBmIHRvIHBlcmZvcm0gb3BlcmF0aW9uIG9uIHdyaXRhYmxlLlxuXHQgKi9cblx0cHJpdmF0ZSBvcGVyYXRlT25Xcml0YWJsZShwOiBzdHJpbmcsIGNyZWQ6IENyZWQsIGY6ICgpID0+IHZvaWQpOiB2b2lkIHtcblx0XHRpZiAodGhpcy5leGlzdHNTeW5jKHAsIGNyZWQpKSB7XG5cdFx0XHRpZiAoIXRoaXMuX3dyaXRhYmxlLmV4aXN0c1N5bmMocCwgY3JlZCkpIHtcblx0XHRcdFx0Ly8gRmlsZSBpcyBvbiByZWFkYWJsZSBzdG9yYWdlLiBDb3B5IHRvIHdyaXRhYmxlIHN0b3JhZ2UgYmVmb3JlXG5cdFx0XHRcdC8vIGNoYW5naW5nIGl0cyBtb2RlLlxuXHRcdFx0XHR0aGlzLmNvcHlUb1dyaXRhYmxlKHAsIGNyZWQpO1xuXHRcdFx0fVxuXHRcdFx0ZigpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aHJvdyBBcGlFcnJvci5FTk9FTlQocCk7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBvcGVyYXRlT25Xcml0YWJsZUFzeW5jKHA6IHN0cmluZywgY3JlZDogQ3JlZCwgY2I6IEJGU09uZUFyZ0NhbGxiYWNrKTogdm9pZCB7XG5cdFx0dGhpcy5leGlzdHMocCwgY3JlZCwgKGV4aXN0czogYm9vbGVhbikgPT4ge1xuXHRcdFx0aWYgKCFleGlzdHMpIHtcblx0XHRcdFx0cmV0dXJuIGNiKEFwaUVycm9yLkVOT0VOVChwKSk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuX3dyaXRhYmxlLmV4aXN0cyhwLCBjcmVkLCAoZXhpc3RzV3JpdGFibGU6IGJvb2xlYW4pID0+IHtcblx0XHRcdFx0aWYgKGV4aXN0c1dyaXRhYmxlKSB7XG5cdFx0XHRcdFx0Y2IoKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcy5jb3B5VG9Xcml0YWJsZUFzeW5jKHAsIGNyZWQsIGNiKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogQ29weSBmcm9tIHJlYWRhYmxlIHRvIHdyaXRhYmxlIHN0b3JhZ2UuXG5cdCAqIFBSRUNPTkRJVElPTjogRmlsZSBkb2VzIG5vdCBleGlzdCBvbiB3cml0YWJsZSBzdG9yYWdlLlxuXHQgKi9cblx0cHJpdmF0ZSBjb3B5VG9Xcml0YWJsZShwOiBzdHJpbmcsIGNyZWQ6IENyZWQpOiB2b2lkIHtcblx0XHRjb25zdCBwU3RhdHMgPSB0aGlzLnN0YXRTeW5jKHAsIGZhbHNlLCBjcmVkKTtcblx0XHRpZiAocFN0YXRzLmlzRGlyZWN0b3J5KCkpIHtcblx0XHRcdHRoaXMuX3dyaXRhYmxlLm1rZGlyU3luYyhwLCBwU3RhdHMubW9kZSwgY3JlZCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMud3JpdGVGaWxlU3luYyhwLCB0aGlzLl9yZWFkYWJsZS5yZWFkRmlsZVN5bmMocCwgbnVsbCwgZ2V0RmxhZygncicpLCBjcmVkKSwgbnVsbCwgZ2V0RmxhZygndycpLCB0aGlzLnN0YXRTeW5jKHAsIGZhbHNlLCBjcmVkKS5tb2RlLCBjcmVkKTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGNvcHlUb1dyaXRhYmxlQXN5bmMocDogc3RyaW5nLCBjcmVkOiBDcmVkLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0XHR0aGlzLnN0YXQocCwgZmFsc2UsIGNyZWQsIChlcnI6IEFwaUVycm9yLCBwU3RhdHM/OiBTdGF0cykgPT4ge1xuXHRcdFx0aWYgKGVycikge1xuXHRcdFx0XHRyZXR1cm4gY2IoZXJyKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHBTdGF0cyEuaXNEaXJlY3RvcnkoKSkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5fd3JpdGFibGUubWtkaXIocCwgcFN0YXRzIS5tb2RlLCBjcmVkLCBjYik7XG5cdFx0XHR9XG5cblx0XHRcdC8vIG5lZWQgdG8gY29weSBmaWxlLlxuXHRcdFx0dGhpcy5fcmVhZGFibGUucmVhZEZpbGUocCwgbnVsbCwgZ2V0RmxhZygncicpLCBjcmVkLCAoZXJyOiBBcGlFcnJvciwgZGF0YT86IEJ1ZmZlcikgPT4ge1xuXHRcdFx0XHRpZiAoZXJyKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGNiKGVycik7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aGlzLndyaXRlRmlsZShwLCBkYXRhLCBudWxsLCBnZXRGbGFnKCd3JyksIHBTdGF0cyEubW9kZSwgY3JlZCwgY2IpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cbn1cblxuLyoqXG4gKiBDb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIE92ZXJsYXlGUyBpbnN0YW5jZXMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgT3ZlcmxheUZTT3B0aW9ucyB7XG5cdC8vIFRoZSBmaWxlIHN5c3RlbSB0byB3cml0ZSBtb2RpZmllZCBmaWxlcyB0by5cblx0d3JpdGFibGU6IEZpbGVTeXN0ZW07XG5cdC8vIFRoZSBmaWxlIHN5c3RlbSB0aGF0IGluaXRpYWxseSBwb3B1bGF0ZXMgdGhpcyBmaWxlIHN5c3RlbS5cblx0cmVhZGFibGU6IEZpbGVTeXN0ZW07XG59XG5cbi8qKlxuICogT3ZlcmxheUZTIG1ha2VzIGEgcmVhZC1vbmx5IGZpbGVzeXN0ZW0gd3JpdGFibGUgYnkgc3RvcmluZyB3cml0ZXMgb24gYSBzZWNvbmQsXG4gKiB3cml0YWJsZSBmaWxlIHN5c3RlbS4gRGVsZXRlcyBhcmUgcGVyc2lzdGVkIHZpYSBtZXRhZGF0YSBzdG9yZWQgb24gdGhlIHdyaXRhYmxlXG4gKiBmaWxlIHN5c3RlbS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT3ZlcmxheUZTIGV4dGVuZHMgTG9ja2VkRlM8VW5sb2NrZWRPdmVybGF5RlM+IHtcblx0cHVibGljIHN0YXRpYyByZWFkb25seSBOYW1lID0gJ092ZXJsYXlGUyc7XG5cblx0cHVibGljIHN0YXRpYyByZWFkb25seSBPcHRpb25zOiBGaWxlU3lzdGVtT3B0aW9ucyA9IHtcblx0XHR3cml0YWJsZToge1xuXHRcdFx0dHlwZTogJ29iamVjdCcsXG5cdFx0XHRkZXNjcmlwdGlvbjogJ1RoZSBmaWxlIHN5c3RlbSB0byB3cml0ZSBtb2RpZmllZCBmaWxlcyB0by4nLFxuXHRcdH0sXG5cdFx0cmVhZGFibGU6IHtcblx0XHRcdHR5cGU6ICdvYmplY3QnLFxuXHRcdFx0ZGVzY3JpcHRpb246ICdUaGUgZmlsZSBzeXN0ZW0gdGhhdCBpbml0aWFsbHkgcG9wdWxhdGVzIHRoaXMgZmlsZSBzeXN0ZW0uJyxcblx0XHR9LFxuXHR9O1xuXG5cdC8qKlxuXHQgKiBDb25zdHJ1Y3RzIGFuZCBpbml0aWFsaXplcyBhbiBPdmVybGF5RlMgaW5zdGFuY2Ugd2l0aCB0aGUgZ2l2ZW4gb3B0aW9ucy5cblx0ICovXG5cdHB1YmxpYyBzdGF0aWMgQ3JlYXRlKG9wdHM6IE92ZXJsYXlGU09wdGlvbnMsIGNiOiBCRlNDYWxsYmFjazxPdmVybGF5RlM+KTogdm9pZCB7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IGZzID0gbmV3IE92ZXJsYXlGUyhvcHRzLndyaXRhYmxlLCBvcHRzLnJlYWRhYmxlKTtcblx0XHRcdGZzLl9pbml0aWFsaXplKChlPykgPT4ge1xuXHRcdFx0XHRjYihlLCBmcyk7XG5cdFx0XHR9KTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRjYihlKTtcblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgc3RhdGljIENyZWF0ZUFzeW5jKG9wdHM6IE92ZXJsYXlGU09wdGlvbnMpOiBQcm9taXNlPE92ZXJsYXlGUz4ge1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHR0aGlzLkNyZWF0ZShvcHRzLCAoZXJyb3IsIGZzKSA9PiB7XG5cdFx0XHRcdGlmIChlcnJvciB8fCAhZnMpIHtcblx0XHRcdFx0XHRyZWplY3QoZXJyb3IpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJlc29sdmUoZnMpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXG5cdHB1YmxpYyBzdGF0aWMgaXNBdmFpbGFibGUoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIFVubG9ja2VkT3ZlcmxheUZTLmlzQXZhaWxhYmxlKCk7XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHdyaXRhYmxlIFRoZSBmaWxlIHN5c3RlbSB0byB3cml0ZSBtb2RpZmllZCBmaWxlcyB0by5cblx0ICogQHBhcmFtIHJlYWRhYmxlIFRoZSBmaWxlIHN5c3RlbSB0aGF0IGluaXRpYWxseSBwb3B1bGF0ZXMgdGhpcyBmaWxlIHN5c3RlbS5cblx0ICovXG5cdGNvbnN0cnVjdG9yKHdyaXRhYmxlOiBGaWxlU3lzdGVtLCByZWFkYWJsZTogRmlsZVN5c3RlbSkge1xuXHRcdHN1cGVyKG5ldyBVbmxvY2tlZE92ZXJsYXlGUyh3cml0YWJsZSwgcmVhZGFibGUpKTtcblx0fVxuXG5cdHB1YmxpYyBnZXRPdmVybGF5ZWRGaWxlU3lzdGVtcygpOiB7IHJlYWRhYmxlOiBGaWxlU3lzdGVtOyB3cml0YWJsZTogRmlsZVN5c3RlbSB9IHtcblx0XHRyZXR1cm4gc3VwZXIuZ2V0RlNVbmxvY2tlZCgpLmdldE92ZXJsYXllZEZpbGVTeXN0ZW1zKCk7XG5cdH1cblxuXHRwdWJsaWMgdW53cmFwKCk6IFVubG9ja2VkT3ZlcmxheUZTIHtcblx0XHRyZXR1cm4gc3VwZXIuZ2V0RlNVbmxvY2tlZCgpO1xuXHR9XG5cblx0cHJpdmF0ZSBfaW5pdGlhbGl6ZShjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0XHRzdXBlci5nZXRGU1VubG9ja2VkKCkuX2luaXRpYWxpemUoY2IpO1xuXHR9XG59XG4iLCAiaW1wb3J0IHsgQmFzZUZpbGVTeXN0ZW0sIEZpbGVTeXN0ZW0sIEJGU09uZUFyZ0NhbGxiYWNrLCBCRlNDYWxsYmFjaywgRmlsZVN5c3RlbU9wdGlvbnMgfSBmcm9tICcuLi9jb3JlL2ZpbGVfc3lzdGVtJztcbmltcG9ydCB7IEFwaUVycm9yLCBFcnJvckNvZGUgfSBmcm9tICcuLi9jb3JlL2FwaV9lcnJvcic7XG5pbXBvcnQgeyBGaWxlRmxhZyB9IGZyb20gJy4uL2NvcmUvZmlsZV9mbGFnJztcbmltcG9ydCB7IGJ1ZmZlcjJBcnJheUJ1ZmZlciwgYXJyYXlCdWZmZXIyQnVmZmVyLCBlbXB0eUJ1ZmZlciB9IGZyb20gJy4uL2NvcmUvdXRpbCc7XG5pbXBvcnQgeyBGaWxlLCBCYXNlRmlsZSB9IGZyb20gJy4uL2NvcmUvZmlsZSc7XG5pbXBvcnQgeyBkZWZhdWx0IGFzIFN0YXRzIH0gZnJvbSAnLi4vY29yZS9zdGF0cyc7XG5pbXBvcnQgUHJlbG9hZEZpbGUgZnJvbSAnLi4vZ2VuZXJpYy9wcmVsb2FkX2ZpbGUnO1xuaW1wb3J0IGZzIGZyb20gJy4uL2NvcmUvbm9kZV9mcyc7XG5pbXBvcnQgQ3JlZCBmcm9tICcuLi9jb3JlL2NyZWQnO1xuaW1wb3J0IHsgQnVmZmVyIH0gZnJvbSAnYnVmZmVyJztcblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmRlY2xhcmUgY29uc3QgaW1wb3J0U2NyaXB0czogRnVuY3Rpb247XG5cbi8qKlxuICogQGhpZGRlblxuICovXG5pbnRlcmZhY2UgSUJyb3dzZXJGU01lc3NhZ2Uge1xuXHRicm93c2VyZnNNZXNzYWdlOiBib29sZWFuO1xufVxuXG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuZW51bSBTcGVjaWFsQXJnVHlwZSB7XG5cdC8vIENhbGxiYWNrXG5cdENCLFxuXHQvLyBGaWxlIGRlc2NyaXB0b3Jcblx0RkQsXG5cdC8vIEFQSSBlcnJvclxuXHRBUElfRVJST1IsXG5cdC8vIFN0YXRzIG9iamVjdFxuXHRTVEFUUyxcblx0Ly8gSW5pdGlhbCBwcm9iZSBmb3IgZmlsZSBzeXN0ZW0gaW5mb3JtYXRpb24uXG5cdFBST0JFLFxuXHQvLyBGaWxlRmxhZyBvYmplY3QuXG5cdEZJTEVGTEFHLFxuXHQvLyBCdWZmZXIgb2JqZWN0LlxuXHRCVUZGRVIsXG5cdC8vIEdlbmVyaWMgRXJyb3Igb2JqZWN0LlxuXHRFUlJPUixcbn1cblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmludGVyZmFjZSBJU3BlY2lhbEFyZ3VtZW50IHtcblx0dHlwZTogU3BlY2lhbEFyZ1R5cGU7XG59XG5cbi8qKlxuICogQGhpZGRlblxuICovXG5pbnRlcmZhY2UgSVByb2JlUmVzcG9uc2UgZXh0ZW5kcyBJU3BlY2lhbEFyZ3VtZW50IHtcblx0aXNSZWFkT25seTogYm9vbGVhbjtcblx0c3VwcG9ydHNMaW5rczogYm9vbGVhbjtcblx0c3VwcG9ydHNQcm9wczogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmludGVyZmFjZSBJQ2FsbGJhY2tBcmd1bWVudCBleHRlbmRzIElTcGVjaWFsQXJndW1lbnQge1xuXHQvLyBUaGUgY2FsbGJhY2sgSUQuXG5cdGlkOiBudW1iZXI7XG59XG5cbi8qKlxuICogQ29udmVydHMgY2FsbGJhY2sgYXJndW1lbnRzIGludG8gSUNhbGxiYWNrQXJndW1lbnQgb2JqZWN0cywgYW5kIGJhY2tcbiAqIGFnYWluLlxuICogQGhpZGRlblxuICovXG5jbGFzcyBDYWxsYmFja0FyZ3VtZW50Q29udmVydGVyIHtcblx0cHJpdmF0ZSBfY2FsbGJhY2tzOiB7IFtpZDogbnVtYmVyXTogRnVuY3Rpb24gfSA9IHt9O1xuXHRwcml2YXRlIF9uZXh0SWQ6IG51bWJlciA9IDA7XG5cblx0cHVibGljIHRvUmVtb3RlQXJnKGNiOiBGdW5jdGlvbik6IElDYWxsYmFja0FyZ3VtZW50IHtcblx0XHRjb25zdCBpZCA9IHRoaXMuX25leHRJZCsrO1xuXHRcdHRoaXMuX2NhbGxiYWNrc1tpZF0gPSBjYjtcblx0XHRyZXR1cm4ge1xuXHRcdFx0dHlwZTogU3BlY2lhbEFyZ1R5cGUuQ0IsXG5cdFx0XHRpZDogaWQsXG5cdFx0fTtcblx0fVxuXG5cdHB1YmxpYyB0b0xvY2FsQXJnKGlkOiBudW1iZXIpOiBGdW5jdGlvbiB7XG5cdFx0Y29uc3QgY2IgPSB0aGlzLl9jYWxsYmFja3NbaWRdO1xuXHRcdGRlbGV0ZSB0aGlzLl9jYWxsYmFja3NbaWRdO1xuXHRcdHJldHVybiBjYjtcblx0fVxufVxuXG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuaW50ZXJmYWNlIElGaWxlRGVzY3JpcHRvckFyZ3VtZW50IGV4dGVuZHMgSVNwZWNpYWxBcmd1bWVudCB7XG5cdC8vIFRoZSBmaWxlIGRlc2NyaXB0b3IncyBpZCBvbiB0aGUgcmVtb3RlIHNpZGUuXG5cdGlkOiBudW1iZXI7XG5cdC8vIFRoZSBlbnRpcmUgZmlsZSdzIGRhdGEsIGFzIGFuIGFycmF5IGJ1ZmZlci5cblx0ZGF0YTogQXJyYXlCdWZmZXIgfCBTaGFyZWRBcnJheUJ1ZmZlcjtcblx0Ly8gVGhlIGZpbGUncyBzdGF0IG9iamVjdCwgYXMgYW4gYXJyYXkgYnVmZmVyLlxuXHRzdGF0OiBBcnJheUJ1ZmZlciB8IFNoYXJlZEFycmF5QnVmZmVyO1xuXHQvLyBUaGUgcGF0aCB0byB0aGUgZmlsZS5cblx0cGF0aDogc3RyaW5nO1xuXHQvLyBUaGUgZmxhZyBvZiB0aGUgb3BlbiBmaWxlIGRlc2NyaXB0b3IuXG5cdGZsYWc6IHN0cmluZztcbn1cblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmNsYXNzIEZpbGVEZXNjcmlwdG9yQXJndW1lbnRDb252ZXJ0ZXIge1xuXHRwcml2YXRlIF9maWxlRGVzY3JpcHRvcnM6IHsgW2lkOiBudW1iZXJdOiBGaWxlIH0gPSB7fTtcblx0cHJpdmF0ZSBfbmV4dElkOiBudW1iZXIgPSAwO1xuXG5cdHB1YmxpYyB0b1JlbW90ZUFyZyhmZDogRmlsZSwgcDogc3RyaW5nLCBmbGFnOiBGaWxlRmxhZywgY2I6IEJGU0NhbGxiYWNrPElGaWxlRGVzY3JpcHRvckFyZ3VtZW50Pik6IHZvaWQge1xuXHRcdGNvbnN0IGlkID0gdGhpcy5fbmV4dElkKys7XG5cdFx0bGV0IGRhdGE6IEFycmF5QnVmZmVyIHwgU2hhcmVkQXJyYXlCdWZmZXI7XG5cdFx0bGV0IHN0YXQ6IEFycmF5QnVmZmVyIHwgU2hhcmVkQXJyYXlCdWZmZXI7XG5cdFx0dGhpcy5fZmlsZURlc2NyaXB0b3JzW2lkXSA9IGZkO1xuXG5cdFx0Ly8gRXh0cmFjdCBuZWVkZWQgaW5mb3JtYXRpb24gYXN5bmNocm9ub3VzbHkuXG5cdFx0ZmQuc3RhdCgoZXJyLCBzdGF0cykgPT4ge1xuXHRcdFx0aWYgKGVycikge1xuXHRcdFx0XHRjYihlcnIpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c3RhdCA9IGJ1ZmZlclRvVHJhbnNmZXJyYWJsZU9iamVjdChzdGF0cyEudG9CdWZmZXIoKSk7XG5cdFx0XHRcdC8vIElmIGl0J3MgYSByZWFkYWJsZSBmbGFnLCB3ZSBuZWVkIHRvIGdyYWIgY29udGVudHMuXG5cdFx0XHRcdGlmIChmbGFnLmlzUmVhZGFibGUoKSkge1xuXHRcdFx0XHRcdGZkLnJlYWQoQnVmZmVyLmFsbG9jKHN0YXRzIS5zaXplKSwgMCwgc3RhdHMhLnNpemUsIDAsIChlcnI/OiBBcGlFcnJvciB8IG51bGwsIGJ5dGVzUmVhZD86IG51bWJlciwgYnVmZj86IEJ1ZmZlcikgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKGVycikge1xuXHRcdFx0XHRcdFx0XHRjYihlcnIpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0ZGF0YSA9IGJ1ZmZlclRvVHJhbnNmZXJyYWJsZU9iamVjdChidWZmISk7XG5cdFx0XHRcdFx0XHRcdGNiKG51bGwsIHtcblx0XHRcdFx0XHRcdFx0XHR0eXBlOiBTcGVjaWFsQXJnVHlwZS5GRCxcblx0XHRcdFx0XHRcdFx0XHRpZDogaWQsXG5cdFx0XHRcdFx0XHRcdFx0ZGF0YTogZGF0YSxcblx0XHRcdFx0XHRcdFx0XHRzdGF0OiBzdGF0LFxuXHRcdFx0XHRcdFx0XHRcdHBhdGg6IHAsXG5cdFx0XHRcdFx0XHRcdFx0ZmxhZzogZmxhZy5nZXRGbGFnU3RyaW5nKCksXG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIEZpbGUgaXMgbm90IHJlYWRhYmxlLCB3aGljaCBtZWFucyB3cml0aW5nIHRvIGl0IHdpbGwgYXBwZW5kIG9yXG5cdFx0XHRcdFx0Ly8gdHJ1bmNhdGUvcmVwbGFjZSBleGlzdGluZyBjb250ZW50cy4gUmV0dXJuIGFuIGVtcHR5IGFycmF5YnVmZmVyLlxuXHRcdFx0XHRcdGNiKG51bGwsIHtcblx0XHRcdFx0XHRcdHR5cGU6IFNwZWNpYWxBcmdUeXBlLkZELFxuXHRcdFx0XHRcdFx0aWQ6IGlkLFxuXHRcdFx0XHRcdFx0ZGF0YTogbmV3IEFycmF5QnVmZmVyKDApLFxuXHRcdFx0XHRcdFx0c3RhdDogc3RhdCxcblx0XHRcdFx0XHRcdHBhdGg6IHAsXG5cdFx0XHRcdFx0XHRmbGFnOiBmbGFnLmdldEZsYWdTdHJpbmcoKSxcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0cHVibGljIGFwcGx5RmRBUElSZXF1ZXN0KHJlcXVlc3Q6IElBUElSZXF1ZXN0LCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0XHRjb25zdCBmZEFyZyA9IDxJRmlsZURlc2NyaXB0b3JBcmd1bWVudD5yZXF1ZXN0LmFyZ3NbMF07XG5cdFx0dGhpcy5fYXBwbHlGZENoYW5nZXMoZmRBcmcsIChlcnIsIGZkPykgPT4ge1xuXHRcdFx0aWYgKGVycikge1xuXHRcdFx0XHRjYihlcnIpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gQXBwbHkgbWV0aG9kIG9uIG5vdy1jaGFuZ2VkIGZpbGUgZGVzY3JpcHRvci5cblx0XHRcdFx0KDxhbnk+ZmQpW3JlcXVlc3QubWV0aG9kXSgoZT86IEFwaUVycm9yKSA9PiB7XG5cdFx0XHRcdFx0aWYgKHJlcXVlc3QubWV0aG9kID09PSAnY2xvc2UnKSB7XG5cdFx0XHRcdFx0XHRkZWxldGUgdGhpcy5fZmlsZURlc2NyaXB0b3JzW2ZkQXJnLmlkXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y2IoZSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0cHJpdmF0ZSBfYXBwbHlGZENoYW5nZXMocmVtb3RlRmQ6IElGaWxlRGVzY3JpcHRvckFyZ3VtZW50LCBjYjogQkZTQ2FsbGJhY2s8RmlsZT4pOiB2b2lkIHtcblx0XHRjb25zdCBmZCA9IHRoaXMuX2ZpbGVEZXNjcmlwdG9yc1tyZW1vdGVGZC5pZF0sXG5cdFx0XHRkYXRhID0gdHJhbnNmZXJyYWJsZU9iamVjdFRvQnVmZmVyKHJlbW90ZUZkLmRhdGEpLFxuXHRcdFx0cmVtb3RlU3RhdHMgPSBTdGF0cy5mcm9tQnVmZmVyKHRyYW5zZmVycmFibGVPYmplY3RUb0J1ZmZlcihyZW1vdGVGZC5zdGF0KSk7XG5cblx0XHQvLyBXcml0ZSBkYXRhIGlmIHRoZSBmaWxlIGlzIHdyaXRhYmxlLlxuXHRcdGNvbnN0IGZsYWcgPSBGaWxlRmxhZy5nZXRGaWxlRmxhZyhyZW1vdGVGZC5mbGFnKTtcblx0XHRpZiAoZmxhZy5pc1dyaXRlYWJsZSgpKSB7XG5cdFx0XHQvLyBBcHBlbmRhYmxlOiBXcml0ZSB0byBlbmQgb2YgZmlsZS5cblx0XHRcdC8vIFdyaXRlYWJsZTogUmVwbGFjZSBlbnRpcmUgY29udGVudHMgb2YgZmlsZS5cblx0XHRcdGZkLndyaXRlKGRhdGEsIDAsIGRhdGEubGVuZ3RoLCBmbGFnLmlzQXBwZW5kYWJsZSgpID8gZmQuZ2V0UG9zKCkhIDogMCwgKGU/OiBBcGlFcnJvciB8IG51bGwpID0+IHtcblx0XHRcdFx0ZnVuY3Rpb24gYXBwbHlTdGF0Q2hhbmdlcygpIHtcblx0XHRcdFx0XHQvLyBDaGVjayBpZiBtb2RlIGNoYW5nZWQuXG5cdFx0XHRcdFx0ZmQuc3RhdCgoZSwgc3RhdHM/KSA9PiB7XG5cdFx0XHRcdFx0XHRpZiAoZSkge1xuXHRcdFx0XHRcdFx0XHRjYihlKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGlmIChzdGF0cyEubW9kZSAhPT0gcmVtb3RlU3RhdHMubW9kZSkge1xuXHRcdFx0XHRcdFx0XHRcdGZkLmNobW9kKHJlbW90ZVN0YXRzLm1vZGUsIChlOiBhbnkpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRcdGNiKGUsIGZkKTtcblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRjYihlLCBmZCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoZSkge1xuXHRcdFx0XHRcdGNiKGUpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIElmIHdyaXRlYWJsZSAmIG5vdCBhcHBlbmRhYmxlLCB3ZSBuZWVkIHRvIGVuc3VyZSBmaWxlIGNvbnRlbnRzIGFyZVxuXHRcdFx0XHRcdC8vIGlkZW50aWNhbCB0byB0aG9zZSBmcm9tIHRoZSByZW1vdGUgRkQuIFRodXMsIHdlIHRydW5jYXRlIHRvIHRoZVxuXHRcdFx0XHRcdC8vIGxlbmd0aCBvZiB0aGUgcmVtb3RlIGZpbGUuXG5cdFx0XHRcdFx0aWYgKCFmbGFnLmlzQXBwZW5kYWJsZSgpKSB7XG5cdFx0XHRcdFx0XHRmZC50cnVuY2F0ZShkYXRhLmxlbmd0aCwgKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRhcHBseVN0YXRDaGFuZ2VzKCk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0YXBwbHlTdGF0Q2hhbmdlcygpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNiKG51bGwsIGZkKTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmludGVyZmFjZSBJQVBJRXJyb3JBcmd1bWVudCBleHRlbmRzIElTcGVjaWFsQXJndW1lbnQge1xuXHQvLyBUaGUgZXJyb3Igb2JqZWN0LCBhcyBhbiBhcnJheSBidWZmZXIuXG5cdGVycm9yRGF0YTogQXJyYXlCdWZmZXIgfCBTaGFyZWRBcnJheUJ1ZmZlcjtcbn1cblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmZ1bmN0aW9uIGFwaUVycm9yTG9jYWwyUmVtb3RlKGU6IEFwaUVycm9yKTogSUFQSUVycm9yQXJndW1lbnQge1xuXHRyZXR1cm4ge1xuXHRcdHR5cGU6IFNwZWNpYWxBcmdUeXBlLkFQSV9FUlJPUixcblx0XHRlcnJvckRhdGE6IGJ1ZmZlclRvVHJhbnNmZXJyYWJsZU9iamVjdChlLndyaXRlVG9CdWZmZXIoKSksXG5cdH07XG59XG5cbi8qKlxuICogQGhpZGRlblxuICovXG5mdW5jdGlvbiBhcGlFcnJvclJlbW90ZTJMb2NhbChlOiBJQVBJRXJyb3JBcmd1bWVudCk6IEFwaUVycm9yIHtcblx0cmV0dXJuIEFwaUVycm9yLmZyb21CdWZmZXIodHJhbnNmZXJyYWJsZU9iamVjdFRvQnVmZmVyKGUuZXJyb3JEYXRhKSk7XG59XG5cbi8qKlxuICogQGhpZGRlblxuICovXG5pbnRlcmZhY2UgSUVycm9yQXJndW1lbnQgZXh0ZW5kcyBJU3BlY2lhbEFyZ3VtZW50IHtcblx0Ly8gVGhlIG5hbWUgb2YgdGhlIGVycm9yIChlLmcuICdUeXBlRXJyb3InKS5cblx0bmFtZTogc3RyaW5nO1xuXHQvLyBUaGUgbWVzc2FnZSBhc3NvY2lhdGVkIHdpdGggdGhlIGVycm9yLlxuXHRtZXNzYWdlOiBzdHJpbmc7XG5cdC8vIFRoZSBzdGFjayBhc3NvY2lhdGVkIHdpdGggdGhlIGVycm9yLlxuXHRzdGFjazogc3RyaW5nO1xufVxuXG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuZnVuY3Rpb24gZXJyb3JMb2NhbDJSZW1vdGUoZTogRXJyb3IpOiBJRXJyb3JBcmd1bWVudCB7XG5cdHJldHVybiB7XG5cdFx0dHlwZTogU3BlY2lhbEFyZ1R5cGUuRVJST1IsXG5cdFx0bmFtZTogZS5uYW1lLFxuXHRcdG1lc3NhZ2U6IGUubWVzc2FnZSxcblx0XHRzdGFjazogZS5zdGFjayEsXG5cdH07XG59XG5cbi8qKlxuICogQGhpZGRlblxuICovXG5mdW5jdGlvbiBlcnJvclJlbW90ZTJMb2NhbChlOiBJRXJyb3JBcmd1bWVudCk6IEVycm9yIHtcblx0bGV0IGNuc3RyOiB7XG5cdFx0bmV3IChtc2c6IHN0cmluZyk6IEVycm9yO1xuXHR9ID0gZ2xvYmFsVGhpc1tlLm5hbWVdO1xuXHRpZiAodHlwZW9mIGNuc3RyICE9PSAnZnVuY3Rpb24nKSB7XG5cdFx0Y25zdHIgPSBFcnJvcjtcblx0fVxuXHRjb25zdCBlcnIgPSBuZXcgY25zdHIoZS5tZXNzYWdlKTtcblx0ZXJyLnN0YWNrID0gZS5zdGFjaztcblx0cmV0dXJuIGVycjtcbn1cblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmludGVyZmFjZSBJU3RhdHNBcmd1bWVudCBleHRlbmRzIElTcGVjaWFsQXJndW1lbnQge1xuXHQvLyBUaGUgc3RhdHMgb2JqZWN0IGFzIGFuIGFycmF5IGJ1ZmZlci5cblx0c3RhdHNEYXRhOiBBcnJheUJ1ZmZlciB8IFNoYXJlZEFycmF5QnVmZmVyO1xufVxuXG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuZnVuY3Rpb24gc3RhdHNMb2NhbDJSZW1vdGUoc3RhdHM6IFN0YXRzKTogSVN0YXRzQXJndW1lbnQge1xuXHRyZXR1cm4ge1xuXHRcdHR5cGU6IFNwZWNpYWxBcmdUeXBlLlNUQVRTLFxuXHRcdHN0YXRzRGF0YTogYnVmZmVyVG9UcmFuc2ZlcnJhYmxlT2JqZWN0KHN0YXRzLnRvQnVmZmVyKCkpLFxuXHR9O1xufVxuXG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuZnVuY3Rpb24gc3RhdHNSZW1vdGUyTG9jYWwoc3RhdHM6IElTdGF0c0FyZ3VtZW50KTogU3RhdHMge1xuXHRyZXR1cm4gU3RhdHMuZnJvbUJ1ZmZlcih0cmFuc2ZlcnJhYmxlT2JqZWN0VG9CdWZmZXIoc3RhdHMuc3RhdHNEYXRhKSk7XG59XG5cbi8qKlxuICogQGhpZGRlblxuICovXG5pbnRlcmZhY2UgSUZpbGVGbGFnQXJndW1lbnQgZXh0ZW5kcyBJU3BlY2lhbEFyZ3VtZW50IHtcblx0ZmxhZ1N0cjogc3RyaW5nO1xufVxuXG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuZnVuY3Rpb24gZmlsZUZsYWdMb2NhbDJSZW1vdGUoZmxhZzogRmlsZUZsYWcpOiBJRmlsZUZsYWdBcmd1bWVudCB7XG5cdHJldHVybiB7XG5cdFx0dHlwZTogU3BlY2lhbEFyZ1R5cGUuRklMRUZMQUcsXG5cdFx0ZmxhZ1N0cjogZmxhZy5nZXRGbGFnU3RyaW5nKCksXG5cdH07XG59XG5cbi8qKlxuICogQGhpZGRlblxuICovXG5mdW5jdGlvbiBmaWxlRmxhZ1JlbW90ZTJMb2NhbChyZW1vdGVGbGFnOiBJRmlsZUZsYWdBcmd1bWVudCk6IEZpbGVGbGFnIHtcblx0cmV0dXJuIEZpbGVGbGFnLmdldEZpbGVGbGFnKHJlbW90ZUZsYWcuZmxhZ1N0cik7XG59XG5cbi8qKlxuICogQGhpZGRlblxuICovXG5pbnRlcmZhY2UgSUJ1ZmZlckFyZ3VtZW50IGV4dGVuZHMgSVNwZWNpYWxBcmd1bWVudCB7XG5cdGRhdGE6IEFycmF5QnVmZmVyIHwgU2hhcmVkQXJyYXlCdWZmZXI7XG59XG5cbi8qKlxuICogQGhpZGRlblxuICovXG5mdW5jdGlvbiBidWZmZXJUb1RyYW5zZmVycmFibGVPYmplY3QoYnVmZjogQnVmZmVyKTogQXJyYXlCdWZmZXIgfCBTaGFyZWRBcnJheUJ1ZmZlciB7XG5cdHJldHVybiBidWZmZXIyQXJyYXlCdWZmZXIoYnVmZik7XG59XG5cbi8qKlxuICogQGhpZGRlblxuICovXG5mdW5jdGlvbiB0cmFuc2ZlcnJhYmxlT2JqZWN0VG9CdWZmZXIoYnVmZjogQXJyYXlCdWZmZXIgfCBTaGFyZWRBcnJheUJ1ZmZlcik6IEJ1ZmZlciB7XG5cdHJldHVybiBhcnJheUJ1ZmZlcjJCdWZmZXIoYnVmZik7XG59XG5cbi8qKlxuICogQGhpZGRlblxuICovXG5mdW5jdGlvbiBidWZmZXJMb2NhbDJSZW1vdGUoYnVmZjogQnVmZmVyKTogSUJ1ZmZlckFyZ3VtZW50IHtcblx0cmV0dXJuIHtcblx0XHR0eXBlOiBTcGVjaWFsQXJnVHlwZS5CVUZGRVIsXG5cdFx0ZGF0YTogYnVmZmVyVG9UcmFuc2ZlcnJhYmxlT2JqZWN0KGJ1ZmYpLFxuXHR9O1xufVxuXG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuZnVuY3Rpb24gYnVmZmVyUmVtb3RlMkxvY2FsKGJ1ZmZBcmc6IElCdWZmZXJBcmd1bWVudCk6IEJ1ZmZlciB7XG5cdHJldHVybiB0cmFuc2ZlcnJhYmxlT2JqZWN0VG9CdWZmZXIoYnVmZkFyZy5kYXRhKTtcbn1cblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmludGVyZmFjZSBJQVBJUmVxdWVzdCBleHRlbmRzIElCcm93c2VyRlNNZXNzYWdlIHtcblx0bWV0aG9kOiBzdHJpbmc7XG5cdGFyZ3M6IEFycmF5PG51bWJlciB8IHN0cmluZyB8IElTcGVjaWFsQXJndW1lbnQ+O1xufVxuXG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuZnVuY3Rpb24gaXNBUElSZXF1ZXN0KGRhdGE6IGFueSk6IGRhdGEgaXMgSUFQSVJlcXVlc3Qge1xuXHRyZXR1cm4gZGF0YSAmJiB0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsICdicm93c2VyZnNNZXNzYWdlJykgJiYgZGF0YVsnYnJvd3NlcmZzTWVzc2FnZSddO1xufVxuXG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuaW50ZXJmYWNlIElBUElSZXNwb25zZSBleHRlbmRzIElCcm93c2VyRlNNZXNzYWdlIHtcblx0Y2JJZDogbnVtYmVyO1xuXHRhcmdzOiBBcnJheTxudW1iZXIgfCBzdHJpbmcgfCBJU3BlY2lhbEFyZ3VtZW50Pjtcbn1cblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmZ1bmN0aW9uIGlzQVBJUmVzcG9uc2UoZGF0YTogYW55KTogZGF0YSBpcyBJQVBJUmVzcG9uc2Uge1xuXHRyZXR1cm4gZGF0YSAmJiB0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsICdicm93c2VyZnNNZXNzYWdlJykgJiYgZGF0YVsnYnJvd3NlcmZzTWVzc2FnZSddO1xufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgYSByZW1vdGUgZmlsZSBpbiBhIGRpZmZlcmVudCB3b3JrZXIvdGhyZWFkLlxuICovXG5jbGFzcyBXb3JrZXJGaWxlIGV4dGVuZHMgUHJlbG9hZEZpbGU8V29ya2VyRlM+IHtcblx0cHJpdmF0ZSBfcmVtb3RlRmRJZDogbnVtYmVyO1xuXG5cdGNvbnN0cnVjdG9yKF9mczogV29ya2VyRlMsIF9wYXRoOiBzdHJpbmcsIF9mbGFnOiBGaWxlRmxhZywgX3N0YXQ6IFN0YXRzLCByZW1vdGVGZElkOiBudW1iZXIsIGNvbnRlbnRzPzogQnVmZmVyKSB7XG5cdFx0c3VwZXIoX2ZzLCBfcGF0aCwgX2ZsYWcsIF9zdGF0LCBjb250ZW50cyk7XG5cdFx0dGhpcy5fcmVtb3RlRmRJZCA9IHJlbW90ZUZkSWQ7XG5cdH1cblxuXHRwdWJsaWMgZ2V0UmVtb3RlRmRJZCgpIHtcblx0XHRyZXR1cm4gdGhpcy5fcmVtb3RlRmRJZDtcblx0fVxuXG5cdC8qKlxuXHQgKiBAaGlkZGVuXG5cdCAqL1xuXHRwdWJsaWMgdG9SZW1vdGVBcmcoKTogSUZpbGVEZXNjcmlwdG9yQXJndW1lbnQge1xuXHRcdHJldHVybiB7XG5cdFx0XHR0eXBlOiBTcGVjaWFsQXJnVHlwZS5GRCxcblx0XHRcdGlkOiB0aGlzLl9yZW1vdGVGZElkLFxuXHRcdFx0ZGF0YTogYnVmZmVyVG9UcmFuc2ZlcnJhYmxlT2JqZWN0KHRoaXMuZ2V0QnVmZmVyKCkpLFxuXHRcdFx0c3RhdDogYnVmZmVyVG9UcmFuc2ZlcnJhYmxlT2JqZWN0KHRoaXMuZ2V0U3RhdHMoKS50b0J1ZmZlcigpKSxcblx0XHRcdHBhdGg6IHRoaXMuZ2V0UGF0aCgpLFxuXHRcdFx0ZmxhZzogdGhpcy5nZXRGbGFnKCkuZ2V0RmxhZ1N0cmluZygpLFxuXHRcdH07XG5cdH1cblxuXHRwdWJsaWMgc3luYyhjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0XHR0aGlzLl9zeW5jQ2xvc2UoJ3N5bmMnLCBjYik7XG5cdH1cblxuXHRwdWJsaWMgY2xvc2UoY2I6IEJGU09uZUFyZ0NhbGxiYWNrKTogdm9pZCB7XG5cdFx0dGhpcy5fc3luY0Nsb3NlKCdjbG9zZScsIGNiKTtcblx0fVxuXG5cdHByaXZhdGUgX3N5bmNDbG9zZSh0eXBlOiBzdHJpbmcsIGNiOiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQge1xuXHRcdGlmICh0aGlzLmlzRGlydHkoKSkge1xuXHRcdFx0KDxXb3JrZXJGUz50aGlzLl9mcykuc3luY0Nsb3NlKHR5cGUsIHRoaXMsIChlPzogQXBpRXJyb3IpID0+IHtcblx0XHRcdFx0aWYgKCFlKSB7XG5cdFx0XHRcdFx0dGhpcy5yZXNldERpcnR5KCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y2IoZSk7XG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y2IoKTtcblx0XHR9XG5cdH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBXb3JrZXJGU09wdGlvbnMge1xuXHQvLyBUaGUgdGFyZ2V0IHdvcmtlciB0aGF0IHlvdSB3YW50IHRvIGNvbm5lY3QgdG8sIG9yIHRoZSBjdXJyZW50IHdvcmtlciBpZiBpbiBhIHdvcmtlciBjb250ZXh0LlxuXHR3b3JrZXI6IFdvcmtlcjtcbn1cblxuLyoqXG4gKiBXb3JrZXJGUyBsZXRzIHlvdSBhY2Nlc3MgYSBCcm93c2VyRlMgaW5zdGFuY2UgdGhhdCBpcyBydW5uaW5nIGluIGEgZGlmZmVyZW50XG4gKiBKYXZhU2NyaXB0IGNvbnRleHQgKGUuZy4gYWNjZXNzIEJyb3dzZXJGUyBpbiBvbmUgb2YgeW91ciBXZWJXb3JrZXJzLCBvclxuICogYWNjZXNzIEJyb3dzZXJGUyBydW5uaW5nIG9uIHRoZSBtYWluIHBhZ2UgZnJvbSBhIFdlYldvcmtlcikuXG4gKlxuICogRm9yIGV4YW1wbGUsIHRvIGhhdmUgYSBXZWJXb3JrZXIgYWNjZXNzIGZpbGVzIGluIHRoZSBtYWluIGJyb3dzZXIgdGhyZWFkLFxuICogZG8gdGhlIGZvbGxvd2luZzpcbiAqXG4gKiBNQUlOIEJST1dTRVIgVEhSRUFEOlxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqICAgLy8gTGlzdGVuIGZvciByZW1vdGUgZmlsZSBzeXN0ZW0gcmVxdWVzdHMuXG4gKiAgIEJyb3dzZXJGUy5GaWxlU3lzdGVtLldvcmtlckZTLmF0dGFjaFJlbW90ZUxpc3RlbmVyKHdlYldvcmtlck9iamVjdCk7XG4gKiBgYGBcbiAqXG4gKiBXRUJXT1JLRVIgVEhSRUFEOlxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqICAgLy8gU2V0IHRoZSByZW1vdGUgZmlsZSBzeXN0ZW0gYXMgdGhlIHJvb3QgZmlsZSBzeXN0ZW0uXG4gKiAgIEJyb3dzZXJGUy5jb25maWd1cmUoeyBmczogXCJXb3JrZXJGU1wiLCBvcHRpb25zOiB7IHdvcmtlcjogc2VsZiB9fSwgZnVuY3Rpb24oZSkge1xuICogICAgIC8vIFJlYWR5IVxuICogICB9KTtcbiAqIGBgYFxuICpcbiAqIE5vdGUgdGhhdCBzeW5jaHJvbm91cyBvcGVyYXRpb25zIGFyZSBub3QgcGVybWl0dGVkIG9uIHRoZSBXb3JrZXJGUywgcmVnYXJkbGVzc1xuICogb2YgdGhlIGNvbmZpZ3VyYXRpb24gb3B0aW9uIG9mIHRoZSByZW1vdGUgRlMuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdvcmtlckZTIGV4dGVuZHMgQmFzZUZpbGVTeXN0ZW0gaW1wbGVtZW50cyBGaWxlU3lzdGVtIHtcblx0cHVibGljIHN0YXRpYyByZWFkb25seSBOYW1lID0gJ1dvcmtlckZTJztcblxuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE9wdGlvbnM6IEZpbGVTeXN0ZW1PcHRpb25zID0ge1xuXHRcdHdvcmtlcjoge1xuXHRcdFx0dHlwZTogJ29iamVjdCcsXG5cdFx0XHRkZXNjcmlwdGlvbjogJ1RoZSB0YXJnZXQgd29ya2VyIHRoYXQgeW91IHdhbnQgdG8gY29ubmVjdCB0bywgb3IgdGhlIGN1cnJlbnQgd29ya2VyIGlmIGluIGEgd29ya2VyIGNvbnRleHQuJyxcblx0XHRcdHZhbGlkYXRvcjogZnVuY3Rpb24gKHY6IG9iamVjdCwgY2I6IEJGU09uZUFyZ0NhbGxiYWNrKTogdm9pZCB7XG5cdFx0XHRcdC8vIENoZWNrIGZvciBhIGBwb3N0TWVzc2FnZWAgZnVuY3Rpb24uXG5cdFx0XHRcdGlmICgoPGFueT52KVsncG9zdE1lc3NhZ2UnXSkge1xuXHRcdFx0XHRcdGNiKCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y2IobmV3IEFwaUVycm9yKEVycm9yQ29kZS5FSU5WQUwsIGBvcHRpb24gbXVzdCBiZSBhIFdlYiBXb3JrZXIgaW5zdGFuY2UuYCkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdH0sXG5cdH07XG5cblx0cHVibGljIHN0YXRpYyBDcmVhdGUob3B0czogV29ya2VyRlNPcHRpb25zLCBjYjogQkZTQ2FsbGJhY2s8V29ya2VyRlM+KTogdm9pZCB7XG5cdFx0Y29uc3QgZnMgPSBuZXcgV29ya2VyRlMob3B0cy53b3JrZXIpO1xuXHRcdGZzLl9pbml0aWFsaXplKCgpID0+IHtcblx0XHRcdGNiKG51bGwsIGZzKTtcblx0XHR9KTtcblx0fVxuXG5cdHB1YmxpYyBzdGF0aWMgQ3JlYXRlQXN5bmMob3B0czogV29ya2VyRlNPcHRpb25zKTogUHJvbWlzZTxXb3JrZXJGUz4ge1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHR0aGlzLkNyZWF0ZShvcHRzLCAoZXJyb3IsIGZzKSA9PiB7XG5cdFx0XHRcdGlmIChlcnJvciB8fCAhZnMpIHtcblx0XHRcdFx0XHRyZWplY3QoZXJyb3IpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJlc29sdmUoZnMpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXG5cdHB1YmxpYyBzdGF0aWMgaXNBdmFpbGFibGUoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHR5cGVvZiBpbXBvcnRTY3JpcHRzICE9PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgV29ya2VyICE9PSAndW5kZWZpbmVkJztcblx0fVxuXG5cdC8qKlxuXHQgKiBBdHRhY2hlcyBhIGxpc3RlbmVyIHRvIHRoZSByZW1vdGUgd29ya2VyIGZvciBmaWxlIHN5c3RlbSByZXF1ZXN0cy5cblx0ICovXG5cdHB1YmxpYyBzdGF0aWMgYXR0YWNoUmVtb3RlTGlzdGVuZXIod29ya2VyOiBXb3JrZXIpIHtcblx0XHRjb25zdCBmZENvbnZlcnRlciA9IG5ldyBGaWxlRGVzY3JpcHRvckFyZ3VtZW50Q29udmVydGVyKCk7XG5cblx0XHRmdW5jdGlvbiBhcmdMb2NhbDJSZW1vdGUoYXJnOiBhbnksIHJlcXVlc3RBcmdzOiBhbnlbXSwgY2I6IEJGU0NhbGxiYWNrPGFueT4pOiB2b2lkIHtcblx0XHRcdHN3aXRjaCAodHlwZW9mIGFyZykge1xuXHRcdFx0XHRjYXNlICdvYmplY3QnOlxuXHRcdFx0XHRcdGlmIChhcmcgaW5zdGFuY2VvZiBTdGF0cykge1xuXHRcdFx0XHRcdFx0Y2IobnVsbCwgc3RhdHNMb2NhbDJSZW1vdGUoYXJnKSk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChhcmcgaW5zdGFuY2VvZiBBcGlFcnJvcikge1xuXHRcdFx0XHRcdFx0Y2IobnVsbCwgYXBpRXJyb3JMb2NhbDJSZW1vdGUoYXJnKSk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChhcmcgaW5zdGFuY2VvZiBCYXNlRmlsZSkge1xuXHRcdFx0XHRcdFx0Ly8gUGFzcyBpbiBwIGFuZCBmbGFncyBmcm9tIG9yaWdpbmFsIHJlcXVlc3QuXG5cdFx0XHRcdFx0XHRjYihudWxsLCBmZENvbnZlcnRlci50b1JlbW90ZUFyZyg8RmlsZT5hcmcsIHJlcXVlc3RBcmdzWzBdLCByZXF1ZXN0QXJnc1sxXSwgY2IpKTtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGFyZyBpbnN0YW5jZW9mIEZpbGVGbGFnKSB7XG5cdFx0XHRcdFx0XHRjYihudWxsLCBmaWxlRmxhZ0xvY2FsMlJlbW90ZShhcmcpKTtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGFyZyBpbnN0YW5jZW9mIEJ1ZmZlcikge1xuXHRcdFx0XHRcdFx0Y2IobnVsbCwgYnVmZmVyTG9jYWwyUmVtb3RlKGFyZykpO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoYXJnIGluc3RhbmNlb2YgRXJyb3IpIHtcblx0XHRcdFx0XHRcdGNiKG51bGwsIGVycm9yTG9jYWwyUmVtb3RlKGFyZykpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRjYihudWxsLCBhcmcpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRjYihudWxsLCBhcmcpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGFyZ1JlbW90ZTJMb2NhbChhcmc6IGFueSwgZml4ZWRSZXF1ZXN0QXJnczogYW55W10pOiBhbnkge1xuXHRcdFx0aWYgKCFhcmcpIHtcblx0XHRcdFx0cmV0dXJuIGFyZztcblx0XHRcdH1cblx0XHRcdHN3aXRjaCAodHlwZW9mIGFyZykge1xuXHRcdFx0XHRjYXNlICdvYmplY3QnOlxuXHRcdFx0XHRcdGlmICh0eXBlb2YgYXJnWyd0eXBlJ10gPT09ICdudW1iZXInKSB7XG5cdFx0XHRcdFx0XHRjb25zdCBzcGVjaWFsQXJnID0gPElTcGVjaWFsQXJndW1lbnQ+YXJnO1xuXHRcdFx0XHRcdFx0c3dpdGNoIChzcGVjaWFsQXJnLnR5cGUpIHtcblx0XHRcdFx0XHRcdFx0Y2FzZSBTcGVjaWFsQXJnVHlwZS5DQjpcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBjYklkID0gKDxJQ2FsbGJhY2tBcmd1bWVudD5hcmcpLmlkO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRsZXQgaTogbnVtYmVyO1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgZml4ZWRBcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0bGV0IG1lc3NhZ2U6IElBUElSZXNwb25zZSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y291bnRkb3duID0gYXJndW1lbnRzLmxlbmd0aDtcblxuXHRcdFx0XHRcdFx0XHRcdFx0ZnVuY3Rpb24gYWJvcnRBbmRTZW5kRXJyb3IoZXJyOiBBcGlFcnJvcikge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoY291bnRkb3duID4gMCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvdW50ZG93biA9IC0xO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG1lc3NhZ2UgPSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRicm93c2VyZnNNZXNzYWdlOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2JJZDogY2JJZCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGFyZ3M6IFthcGlFcnJvckxvY2FsMlJlbW90ZShlcnIpXSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHdvcmtlci5wb3N0TWVzc2FnZShtZXNzYWdlKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIENhcHR1cmUgaSBhbmQgYXJndW1lbnQuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCgoaTogbnVtYmVyLCBhcmc6IGFueSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGFyZ0xvY2FsMlJlbW90ZShhcmcsIGZpeGVkUmVxdWVzdEFyZ3MsIChlcnIsIGZpeGVkQXJnPykgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Zml4ZWRBcmdzW2ldID0gZml4ZWRBcmc7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoZXJyKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGFib3J0QW5kU2VuZEVycm9yKGVycik7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKC0tY291bnRkb3duID09PSAwKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG1lc3NhZ2UgPSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YnJvd3NlcmZzTWVzc2FnZTogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYklkOiBjYklkLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGFyZ3M6IGZpeGVkQXJncyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0d29ya2VyLnBvc3RNZXNzYWdlKG1lc3NhZ2UpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KShpLCBhcmd1bWVudHNbaV0pO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRtZXNzYWdlID0ge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJyb3dzZXJmc01lc3NhZ2U6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2JJZDogY2JJZCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhcmdzOiBmaXhlZEFyZ3MsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHdvcmtlci5wb3N0TWVzc2FnZShtZXNzYWdlKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0XHRjYXNlIFNwZWNpYWxBcmdUeXBlLkFQSV9FUlJPUjpcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gYXBpRXJyb3JSZW1vdGUyTG9jYWwoPElBUElFcnJvckFyZ3VtZW50PnNwZWNpYWxBcmcpO1xuXHRcdFx0XHRcdFx0XHRjYXNlIFNwZWNpYWxBcmdUeXBlLlNUQVRTOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBzdGF0c1JlbW90ZTJMb2NhbCg8SVN0YXRzQXJndW1lbnQ+c3BlY2lhbEFyZyk7XG5cdFx0XHRcdFx0XHRcdGNhc2UgU3BlY2lhbEFyZ1R5cGUuRklMRUZMQUc6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGZpbGVGbGFnUmVtb3RlMkxvY2FsKDxJRmlsZUZsYWdBcmd1bWVudD5zcGVjaWFsQXJnKTtcblx0XHRcdFx0XHRcdFx0Y2FzZSBTcGVjaWFsQXJnVHlwZS5CVUZGRVI6XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGJ1ZmZlclJlbW90ZTJMb2NhbCg8SUJ1ZmZlckFyZ3VtZW50PnNwZWNpYWxBcmcpO1xuXHRcdFx0XHRcdFx0XHRjYXNlIFNwZWNpYWxBcmdUeXBlLkVSUk9SOlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBlcnJvclJlbW90ZTJMb2NhbCg8SUVycm9yQXJndW1lbnQ+c3BlY2lhbEFyZyk7XG5cdFx0XHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHRcdFx0Ly8gTm8gaWRlYSB3aGF0IHRoaXMgaXMuXG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGFyZztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGFyZztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0cmV0dXJuIGFyZztcblx0XHRcdH1cblx0XHR9XG5cblx0XHR3b3JrZXIuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIChlOiBNZXNzYWdlRXZlbnQpID0+IHtcblx0XHRcdGNvbnN0IHJlcXVlc3Q6IG9iamVjdCA9IGUuZGF0YTtcblx0XHRcdGlmIChpc0FQSVJlcXVlc3QocmVxdWVzdCkpIHtcblx0XHRcdFx0Y29uc3QgYXJncyA9IHJlcXVlc3QuYXJncyxcblx0XHRcdFx0XHRmaXhlZEFyZ3MgPSBuZXcgQXJyYXk8YW55PihhcmdzLmxlbmd0aCk7XG5cblx0XHRcdFx0c3dpdGNoIChyZXF1ZXN0Lm1ldGhvZCkge1xuXHRcdFx0XHRcdGNhc2UgJ2Nsb3NlJzpcblx0XHRcdFx0XHRjYXNlICdzeW5jJzpcblx0XHRcdFx0XHRcdCgoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdC8vIEZpbGUgZGVzY3JpcHRvci1yZWxhdGl2ZSBtZXRob2RzLlxuXHRcdFx0XHRcdFx0XHRjb25zdCByZW1vdGVDYiA9IDxJQ2FsbGJhY2tBcmd1bWVudD5hcmdzWzFdO1xuXHRcdFx0XHRcdFx0XHRmZENvbnZlcnRlci5hcHBseUZkQVBJUmVxdWVzdChyZXF1ZXN0LCAoZXJyPzogQXBpRXJyb3IpID0+IHtcblx0XHRcdFx0XHRcdFx0XHQvLyBTZW5kIHJlc3BvbnNlLlxuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IHJlc3BvbnNlOiBJQVBJUmVzcG9uc2UgPSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRicm93c2VyZnNNZXNzYWdlOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdFx0Y2JJZDogcmVtb3RlQ2IuaWQsXG5cdFx0XHRcdFx0XHRcdFx0XHRhcmdzOiBlcnIgPyBbYXBpRXJyb3JMb2NhbDJSZW1vdGUoZXJyKV0gOiBbXSxcblx0XHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0XHRcdHdvcmtlci5wb3N0TWVzc2FnZShyZXNwb25zZSk7XG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fSkoKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3Byb2JlJzpcblx0XHRcdFx0XHRcdCgoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IHJvb3RGcyA9IDxGaWxlU3lzdGVtPmZzLmdldFJvb3RGUygpLFxuXHRcdFx0XHRcdFx0XHRcdHJlbW90ZUNiID0gPElDYWxsYmFja0FyZ3VtZW50PmFyZ3NbMV0sXG5cdFx0XHRcdFx0XHRcdFx0cHJvYmVSZXNwb25zZTogSVByb2JlUmVzcG9uc2UgPSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBTcGVjaWFsQXJnVHlwZS5QUk9CRSxcblx0XHRcdFx0XHRcdFx0XHRcdGlzUmVhZE9ubHk6IHJvb3RGcy5pc1JlYWRPbmx5KCksXG5cdFx0XHRcdFx0XHRcdFx0XHRzdXBwb3J0c0xpbmtzOiByb290RnMuc3VwcG9ydHNMaW5rcygpLFxuXHRcdFx0XHRcdFx0XHRcdFx0c3VwcG9ydHNQcm9wczogcm9vdEZzLnN1cHBvcnRzUHJvcHMoKSxcblx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdHJlc3BvbnNlOiBJQVBJUmVzcG9uc2UgPSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRicm93c2VyZnNNZXNzYWdlOiB0cnVlLFxuXHRcdFx0XHRcdFx0XHRcdFx0Y2JJZDogcmVtb3RlQ2IuaWQsXG5cdFx0XHRcdFx0XHRcdFx0XHRhcmdzOiBbcHJvYmVSZXNwb25zZV0sXG5cdFx0XHRcdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRcdFx0XHR3b3JrZXIucG9zdE1lc3NhZ2UocmVzcG9uc2UpO1xuXHRcdFx0XHRcdFx0fSkoKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHQvLyBGaWxlIHN5c3RlbSBtZXRob2RzLlxuXHRcdFx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0XHRcdGZpeGVkQXJnc1tpXSA9IGFyZ1JlbW90ZTJMb2NhbChhcmdzW2ldLCBmaXhlZEFyZ3MpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0Y29uc3Qgcm9vdEZTID0gZnMuZ2V0Um9vdEZTKCk7XG5cdFx0XHRcdFx0XHQoPEZ1bmN0aW9uPig8YW55PnJvb3RGUylbcmVxdWVzdC5tZXRob2RdKS5hcHBseShyb290RlMsIGZpeGVkQXJncyk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0cHJpdmF0ZSBfd29ya2VyOiBXb3JrZXI7XG5cdHByaXZhdGUgX2NhbGxiYWNrQ29udmVydGVyID0gbmV3IENhbGxiYWNrQXJndW1lbnRDb252ZXJ0ZXIoKTtcblxuXHRwcml2YXRlIF9pc0luaXRpYWxpemVkOiBib29sZWFuID0gZmFsc2U7XG5cdHByaXZhdGUgX2lzUmVhZE9ubHk6IGJvb2xlYW4gPSBmYWxzZTtcblx0cHJpdmF0ZSBfc3VwcG9ydExpbmtzOiBib29sZWFuID0gZmFsc2U7XG5cdHByaXZhdGUgX3N1cHBvcnRQcm9wczogYm9vbGVhbiA9IGZhbHNlO1xuXG5cdC8qKlxuXHQgKiBDb25zdHJ1Y3RzIGEgbmV3IFdvcmtlckZTIGluc3RhbmNlIHRoYXQgY29ubmVjdHMgd2l0aCBCcm93c2VyRlMgcnVubmluZyBvblxuXHQgKiB0aGUgc3BlY2lmaWVkIHdvcmtlci5cblx0ICovXG5cdHByaXZhdGUgY29uc3RydWN0b3Iod29ya2VyOiBXb3JrZXIpIHtcblx0XHRzdXBlcigpO1xuXHRcdHRoaXMuX3dvcmtlciA9IHdvcmtlcjtcblx0XHR0aGlzLl93b3JrZXIuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIChlOiBNZXNzYWdlRXZlbnQpID0+IHtcblx0XHRcdGNvbnN0IHJlc3A6IG9iamVjdCA9IGUuZGF0YTtcblx0XHRcdGlmIChpc0FQSVJlc3BvbnNlKHJlc3ApKSB7XG5cdFx0XHRcdGxldCBpOiBudW1iZXI7XG5cdFx0XHRcdGNvbnN0IGFyZ3MgPSByZXNwLmFyZ3M7XG5cdFx0XHRcdGNvbnN0IGZpeGVkQXJncyA9IG5ldyBBcnJheShhcmdzLmxlbmd0aCk7XG5cdFx0XHRcdC8vIERpc3BhdGNoIGV2ZW50IHRvIGNvcnJlY3QgaWQuXG5cdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBmaXhlZEFyZ3MubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRmaXhlZEFyZ3NbaV0gPSB0aGlzLl9hcmdSZW1vdGUyTG9jYWwoYXJnc1tpXSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0dGhpcy5fY2FsbGJhY2tDb252ZXJ0ZXIudG9Mb2NhbEFyZyhyZXNwLmNiSWQpLmFwcGx5KG51bGwsIGZpeGVkQXJncyk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHRwdWJsaWMgZ2V0TmFtZSgpOiBzdHJpbmcge1xuXHRcdHJldHVybiBXb3JrZXJGUy5OYW1lO1xuXHR9XG5cblx0cHVibGljIGlzUmVhZE9ubHkoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMuX2lzUmVhZE9ubHk7XG5cdH1cblx0cHVibGljIHN1cHBvcnRzU3luY2goKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cdHB1YmxpYyBzdXBwb3J0c0xpbmtzKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0aGlzLl9zdXBwb3J0TGlua3M7XG5cdH1cblx0cHVibGljIHN1cHBvcnRzUHJvcHMoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMuX3N1cHBvcnRQcm9wcztcblx0fVxuXG5cdHB1YmxpYyByZW5hbWUob2xkUGF0aDogc3RyaW5nLCBuZXdQYXRoOiBzdHJpbmcsIGNyZWQ6IENyZWQsIGNiOiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQge1xuXHRcdHRoaXMuX3JwYygncmVuYW1lJywgYXJndW1lbnRzKTtcblx0fVxuXHRwdWJsaWMgc3RhdChwOiBzdHJpbmcsIGlzTHN0YXQ6IGJvb2xlYW4sIGNyZWQ6IENyZWQsIGNiOiBCRlNDYWxsYmFjazxTdGF0cz4pOiB2b2lkIHtcblx0XHR0aGlzLl9ycGMoJ3N0YXQnLCBhcmd1bWVudHMpO1xuXHR9XG5cdHB1YmxpYyBvcGVuKHA6IHN0cmluZywgZmxhZzogRmlsZUZsYWcsIG1vZGU6IG51bWJlciwgY3JlZDogQ3JlZCwgY2I6IEJGU0NhbGxiYWNrPEZpbGU+KTogdm9pZCB7XG5cdFx0dGhpcy5fcnBjKCdvcGVuJywgYXJndW1lbnRzKTtcblx0fVxuXHRwdWJsaWMgdW5saW5rKHA6IHN0cmluZywgY3JlZDogQ3JlZCwgY2I6IEZ1bmN0aW9uKTogdm9pZCB7XG5cdFx0dGhpcy5fcnBjKCd1bmxpbmsnLCBhcmd1bWVudHMpO1xuXHR9XG5cdHB1YmxpYyBybWRpcihwOiBzdHJpbmcsIGNyZWQ6IENyZWQsIGNiOiBGdW5jdGlvbik6IHZvaWQge1xuXHRcdHRoaXMuX3JwYygncm1kaXInLCBhcmd1bWVudHMpO1xuXHR9XG5cdHB1YmxpYyBta2RpcihwOiBzdHJpbmcsIG1vZGU6IG51bWJlciwgY3JlZDogQ3JlZCwgY2I6IEZ1bmN0aW9uKTogdm9pZCB7XG5cdFx0dGhpcy5fcnBjKCdta2RpcicsIGFyZ3VtZW50cyk7XG5cdH1cblx0cHVibGljIHJlYWRkaXIocDogc3RyaW5nLCBjcmVkOiBDcmVkLCBjYjogQkZTQ2FsbGJhY2s8c3RyaW5nW10+KTogdm9pZCB7XG5cdFx0dGhpcy5fcnBjKCdyZWFkZGlyJywgYXJndW1lbnRzKTtcblx0fVxuXHRwdWJsaWMgZXhpc3RzKHA6IHN0cmluZywgY3JlZDogQ3JlZCwgY2I6IChleGlzdHM6IGJvb2xlYW4pID0+IHZvaWQpOiB2b2lkIHtcblx0XHR0aGlzLl9ycGMoJ2V4aXN0cycsIGFyZ3VtZW50cyk7XG5cdH1cblx0cHVibGljIHJlYWxwYXRoKHA6IHN0cmluZywgY2FjaGU6IHsgW3BhdGg6IHN0cmluZ106IHN0cmluZyB9LCBjcmVkOiBDcmVkLCBjYjogQkZTQ2FsbGJhY2s8c3RyaW5nPik6IHZvaWQge1xuXHRcdHRoaXMuX3JwYygncmVhbHBhdGgnLCBhcmd1bWVudHMpO1xuXHR9XG5cdHB1YmxpYyB0cnVuY2F0ZShwOiBzdHJpbmcsIGxlbjogbnVtYmVyLCBjcmVkOiBDcmVkLCBjYjogRnVuY3Rpb24pOiB2b2lkIHtcblx0XHR0aGlzLl9ycGMoJ3RydW5jYXRlJywgYXJndW1lbnRzKTtcblx0fVxuXHRwdWJsaWMgcmVhZEZpbGUoZm5hbWU6IHN0cmluZywgZW5jb2Rpbmc6IHN0cmluZywgZmxhZzogRmlsZUZsYWcsIGNyZWQ6IENyZWQsIGNiOiBCRlNDYWxsYmFjazxhbnk+KTogdm9pZCB7XG5cdFx0dGhpcy5fcnBjKCdyZWFkRmlsZScsIGFyZ3VtZW50cyk7XG5cdH1cblx0cHVibGljIHdyaXRlRmlsZShmbmFtZTogc3RyaW5nLCBkYXRhOiBhbnksIGVuY29kaW5nOiBzdHJpbmcsIGZsYWc6IEZpbGVGbGFnLCBtb2RlOiBudW1iZXIsIGNyZWQ6IENyZWQsIGNiOiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQge1xuXHRcdHRoaXMuX3JwYygnd3JpdGVGaWxlJywgYXJndW1lbnRzKTtcblx0fVxuXHRwdWJsaWMgYXBwZW5kRmlsZShmbmFtZTogc3RyaW5nLCBkYXRhOiBhbnksIGVuY29kaW5nOiBzdHJpbmcsIGZsYWc6IEZpbGVGbGFnLCBtb2RlOiBudW1iZXIsIGNyZWQ6IENyZWQsIGNiOiBCRlNPbmVBcmdDYWxsYmFjayk6IHZvaWQge1xuXHRcdHRoaXMuX3JwYygnYXBwZW5kRmlsZScsIGFyZ3VtZW50cyk7XG5cdH1cblx0cHVibGljIGNobW9kKHA6IHN0cmluZywgaXNMY2htb2Q6IGJvb2xlYW4sIG1vZGU6IG51bWJlciwgY3JlZDogQ3JlZCwgY2I6IEZ1bmN0aW9uKTogdm9pZCB7XG5cdFx0dGhpcy5fcnBjKCdjaG1vZCcsIGFyZ3VtZW50cyk7XG5cdH1cblx0cHVibGljIGNob3duKHA6IHN0cmluZywgaXNMY2hvd246IGJvb2xlYW4sIG5ld191aWQ6IG51bWJlciwgbmV3X2dpZDogbnVtYmVyLCBjcmVkOiBDcmVkLCBjYjogRnVuY3Rpb24pOiB2b2lkIHtcblx0XHR0aGlzLl9ycGMoJ2Nob3duJywgYXJndW1lbnRzKTtcblx0fVxuXHRwdWJsaWMgdXRpbWVzKHA6IHN0cmluZywgYXRpbWU6IERhdGUsIG10aW1lOiBEYXRlLCBjcmVkOiBDcmVkLCBjYjogRnVuY3Rpb24pOiB2b2lkIHtcblx0XHR0aGlzLl9ycGMoJ3V0aW1lcycsIGFyZ3VtZW50cyk7XG5cdH1cblx0cHVibGljIGxpbmsoc3JjcGF0aDogc3RyaW5nLCBkc3RwYXRoOiBzdHJpbmcsIGNyZWQ6IENyZWQsIGNiOiBGdW5jdGlvbik6IHZvaWQge1xuXHRcdHRoaXMuX3JwYygnbGluaycsIGFyZ3VtZW50cyk7XG5cdH1cblx0cHVibGljIHN5bWxpbmsoc3JjcGF0aDogc3RyaW5nLCBkc3RwYXRoOiBzdHJpbmcsIHR5cGU6IHN0cmluZywgY3JlZDogQ3JlZCwgY2I6IEZ1bmN0aW9uKTogdm9pZCB7XG5cdFx0dGhpcy5fcnBjKCdzeW1saW5rJywgYXJndW1lbnRzKTtcblx0fVxuXHRwdWJsaWMgcmVhZGxpbmsocDogc3RyaW5nLCBjcmVkOiBDcmVkLCBjYjogRnVuY3Rpb24pOiB2b2lkIHtcblx0XHR0aGlzLl9ycGMoJ3JlYWRsaW5rJywgYXJndW1lbnRzKTtcblx0fVxuXG5cdHB1YmxpYyBzeW5jQ2xvc2UobWV0aG9kOiBzdHJpbmcsIGZkOiBGaWxlLCBjYjogQkZTT25lQXJnQ2FsbGJhY2spOiB2b2lkIHtcblx0XHR0aGlzLl93b3JrZXIucG9zdE1lc3NhZ2Uoe1xuXHRcdFx0YnJvd3NlcmZzTWVzc2FnZTogdHJ1ZSxcblx0XHRcdG1ldGhvZDogbWV0aG9kLFxuXHRcdFx0YXJnczogWyg8V29ya2VyRmlsZT5mZCkudG9SZW1vdGVBcmcoKSwgdGhpcy5fY2FsbGJhY2tDb252ZXJ0ZXIudG9SZW1vdGVBcmcoY2IpXSxcblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDYWxsZWQgb25jZSBib3RoIGxvY2FsIGFuZCByZW1vdGUgc2lkZXMgYXJlIHNldCB1cC5cblx0ICovXG5cdHByaXZhdGUgX2luaXRpYWxpemUoY2I6ICgpID0+IHZvaWQpOiB2b2lkIHtcblx0XHRpZiAoIXRoaXMuX2lzSW5pdGlhbGl6ZWQpIHtcblx0XHRcdGNvbnN0IG1lc3NhZ2U6IElBUElSZXF1ZXN0ID0ge1xuXHRcdFx0XHRicm93c2VyZnNNZXNzYWdlOiB0cnVlLFxuXHRcdFx0XHRtZXRob2Q6ICdwcm9iZScsXG5cdFx0XHRcdGFyZ3M6IFtcblx0XHRcdFx0XHR0aGlzLl9hcmdMb2NhbDJSZW1vdGUoZW1wdHlCdWZmZXIoKSksXG5cdFx0XHRcdFx0dGhpcy5fY2FsbGJhY2tDb252ZXJ0ZXIudG9SZW1vdGVBcmcoKHByb2JlUmVzcG9uc2U6IElQcm9iZVJlc3BvbnNlKSA9PiB7XG5cdFx0XHRcdFx0XHR0aGlzLl9pc0luaXRpYWxpemVkID0gdHJ1ZTtcblx0XHRcdFx0XHRcdHRoaXMuX2lzUmVhZE9ubHkgPSBwcm9iZVJlc3BvbnNlLmlzUmVhZE9ubHk7XG5cdFx0XHRcdFx0XHR0aGlzLl9zdXBwb3J0TGlua3MgPSBwcm9iZVJlc3BvbnNlLnN1cHBvcnRzTGlua3M7XG5cdFx0XHRcdFx0XHR0aGlzLl9zdXBwb3J0UHJvcHMgPSBwcm9iZVJlc3BvbnNlLnN1cHBvcnRzUHJvcHM7XG5cdFx0XHRcdFx0XHRjYigpO1xuXHRcdFx0XHRcdH0pLFxuXHRcdFx0XHRdLFxuXHRcdFx0fTtcblx0XHRcdHRoaXMuX3dvcmtlci5wb3N0TWVzc2FnZShtZXNzYWdlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y2IoKTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIF9hcmdSZW1vdGUyTG9jYWwoYXJnOiBhbnkpOiBhbnkge1xuXHRcdGlmICghYXJnKSB7XG5cdFx0XHRyZXR1cm4gYXJnO1xuXHRcdH1cblx0XHRzd2l0Y2ggKHR5cGVvZiBhcmcpIHtcblx0XHRcdGNhc2UgJ29iamVjdCc6XG5cdFx0XHRcdGlmICh0eXBlb2YgYXJnWyd0eXBlJ10gPT09ICdudW1iZXInKSB7XG5cdFx0XHRcdFx0Y29uc3Qgc3BlY2lhbEFyZyA9IDxJU3BlY2lhbEFyZ3VtZW50PmFyZztcblx0XHRcdFx0XHRzd2l0Y2ggKHNwZWNpYWxBcmcudHlwZSkge1xuXHRcdFx0XHRcdFx0Y2FzZSBTcGVjaWFsQXJnVHlwZS5BUElfRVJST1I6XG5cdFx0XHRcdFx0XHRcdHJldHVybiBhcGlFcnJvclJlbW90ZTJMb2NhbCg8SUFQSUVycm9yQXJndW1lbnQ+c3BlY2lhbEFyZyk7XG5cdFx0XHRcdFx0XHRjYXNlIFNwZWNpYWxBcmdUeXBlLkZEOlxuXHRcdFx0XHRcdFx0XHRjb25zdCBmZEFyZyA9IDxJRmlsZURlc2NyaXB0b3JBcmd1bWVudD5zcGVjaWFsQXJnO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gbmV3IFdvcmtlckZpbGUoXG5cdFx0XHRcdFx0XHRcdFx0dGhpcyxcblx0XHRcdFx0XHRcdFx0XHRmZEFyZy5wYXRoLFxuXHRcdFx0XHRcdFx0XHRcdEZpbGVGbGFnLmdldEZpbGVGbGFnKGZkQXJnLmZsYWcpLFxuXHRcdFx0XHRcdFx0XHRcdFN0YXRzLmZyb21CdWZmZXIodHJhbnNmZXJyYWJsZU9iamVjdFRvQnVmZmVyKGZkQXJnLnN0YXQpKSxcblx0XHRcdFx0XHRcdFx0XHRmZEFyZy5pZCxcblx0XHRcdFx0XHRcdFx0XHR0cmFuc2ZlcnJhYmxlT2JqZWN0VG9CdWZmZXIoZmRBcmcuZGF0YSlcblx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdGNhc2UgU3BlY2lhbEFyZ1R5cGUuU1RBVFM6XG5cdFx0XHRcdFx0XHRcdHJldHVybiBzdGF0c1JlbW90ZTJMb2NhbCg8SVN0YXRzQXJndW1lbnQ+c3BlY2lhbEFyZyk7XG5cdFx0XHRcdFx0XHRjYXNlIFNwZWNpYWxBcmdUeXBlLkZJTEVGTEFHOlxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZmlsZUZsYWdSZW1vdGUyTG9jYWwoPElGaWxlRmxhZ0FyZ3VtZW50PnNwZWNpYWxBcmcpO1xuXHRcdFx0XHRcdFx0Y2FzZSBTcGVjaWFsQXJnVHlwZS5CVUZGRVI6XG5cdFx0XHRcdFx0XHRcdHJldHVybiBidWZmZXJSZW1vdGUyTG9jYWwoPElCdWZmZXJBcmd1bWVudD5zcGVjaWFsQXJnKTtcblx0XHRcdFx0XHRcdGNhc2UgU3BlY2lhbEFyZ1R5cGUuRVJST1I6XG5cdFx0XHRcdFx0XHRcdHJldHVybiBlcnJvclJlbW90ZTJMb2NhbCg8SUVycm9yQXJndW1lbnQ+c3BlY2lhbEFyZyk7XG5cdFx0XHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gYXJnO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyZXR1cm4gYXJnO1xuXHRcdFx0XHR9XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRyZXR1cm4gYXJnO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgX3JwYyhtZXRob2ROYW1lOiBzdHJpbmcsIGFyZ3M6IElBcmd1bWVudHMpIHtcblx0XHRjb25zdCBmaXhlZEFyZ3MgPSBuZXcgQXJyYXkoYXJncy5sZW5ndGgpO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuXHRcdFx0Zml4ZWRBcmdzW2ldID0gdGhpcy5fYXJnTG9jYWwyUmVtb3RlKGFyZ3NbaV0pO1xuXHRcdH1cblx0XHRjb25zdCBtZXNzYWdlOiBJQVBJUmVxdWVzdCA9IHtcblx0XHRcdGJyb3dzZXJmc01lc3NhZ2U6IHRydWUsXG5cdFx0XHRtZXRob2Q6IG1ldGhvZE5hbWUsXG5cdFx0XHRhcmdzOiBmaXhlZEFyZ3MsXG5cdFx0fTtcblx0XHR0aGlzLl93b3JrZXIucG9zdE1lc3NhZ2UobWVzc2FnZSk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBsb2NhbCBhcmd1bWVudCBpbnRvIGEgcmVtb3RlIGFyZ3VtZW50LiBQdWJsaWMgc28gV29ya2VyRmlsZSBvYmplY3RzIGNhbiBjYWxsIGl0LlxuXHQgKi9cblx0cHJpdmF0ZSBfYXJnTG9jYWwyUmVtb3RlKGFyZzogYW55KTogYW55IHtcblx0XHRpZiAoIWFyZykge1xuXHRcdFx0cmV0dXJuIGFyZztcblx0XHR9XG5cdFx0c3dpdGNoICh0eXBlb2YgYXJnKSB7XG5cdFx0XHRjYXNlICdvYmplY3QnOlxuXHRcdFx0XHRpZiAoYXJnIGluc3RhbmNlb2YgU3RhdHMpIHtcblx0XHRcdFx0XHRyZXR1cm4gc3RhdHNMb2NhbDJSZW1vdGUoYXJnKTtcblx0XHRcdFx0fSBlbHNlIGlmIChhcmcgaW5zdGFuY2VvZiBBcGlFcnJvcikge1xuXHRcdFx0XHRcdHJldHVybiBhcGlFcnJvckxvY2FsMlJlbW90ZShhcmcpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGFyZyBpbnN0YW5jZW9mIFdvcmtlckZpbGUpIHtcblx0XHRcdFx0XHRyZXR1cm4gKDxXb3JrZXJGaWxlPmFyZykudG9SZW1vdGVBcmcoKTtcblx0XHRcdFx0fSBlbHNlIGlmIChhcmcgaW5zdGFuY2VvZiBGaWxlRmxhZykge1xuXHRcdFx0XHRcdHJldHVybiBmaWxlRmxhZ0xvY2FsMlJlbW90ZShhcmcpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGFyZyBpbnN0YW5jZW9mIEJ1ZmZlcikge1xuXHRcdFx0XHRcdHJldHVybiBidWZmZXJMb2NhbDJSZW1vdGUoYXJnKTtcblx0XHRcdFx0fSBlbHNlIGlmIChhcmcgaW5zdGFuY2VvZiBFcnJvcikge1xuXHRcdFx0XHRcdHJldHVybiBlcnJvckxvY2FsMlJlbW90ZShhcmcpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJldHVybiAnVW5rbm93biBhcmd1bWVudCc7XG5cdFx0XHRcdH1cblx0XHRcdGNhc2UgJ2Z1bmN0aW9uJzpcblx0XHRcdFx0cmV0dXJuIHRoaXMuX2NhbGxiYWNrQ29udmVydGVyLnRvUmVtb3RlQXJnKGFyZyk7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRyZXR1cm4gYXJnO1xuXHRcdH1cblx0fVxufVxuIiwgIi8qKlxuICogQ29udGFpbnMgdXRpbGl0eSBtZXRob2RzIGZvciBwZXJmb3JtaW5nIGEgdmFyaWV0eSBvZiB0YXNrcyB3aXRoXG4gKiBYbWxIdHRwUmVxdWVzdCBhY3Jvc3MgYnJvd3NlcnMuXG4gKi9cblxuaW1wb3J0IHsgaXNJRSwgZW1wdHlCdWZmZXIgfSBmcm9tICcuLi9jb3JlL3V0aWwnO1xuaW1wb3J0IHsgQXBpRXJyb3IsIEVycm9yQ29kZSB9IGZyb20gJy4uL2NvcmUvYXBpX2Vycm9yJztcbmltcG9ydCB7IEJGU0NhbGxiYWNrIH0gZnJvbSAnLi4vY29yZS9maWxlX3N5c3RlbSc7XG5pbXBvcnQgeyBCdWZmZXIgfSBmcm9tICdidWZmZXInO1xuXG5leHBvcnQgY29uc3QgeGhySXNBdmFpbGFibGUgPSB0eXBlb2YgWE1MSHR0cFJlcXVlc3QgIT09ICd1bmRlZmluZWQnICYmIFhNTEh0dHBSZXF1ZXN0ICE9PSBudWxsO1xuXG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuZnVuY3Rpb24gYXN5bmNEb3dubG9hZEZpbGVNb2Rlcm4ocDogc3RyaW5nLCB0eXBlOiAnYnVmZmVyJywgY2I6IEJGU0NhbGxiYWNrPEJ1ZmZlcj4pOiB2b2lkO1xuZnVuY3Rpb24gYXN5bmNEb3dubG9hZEZpbGVNb2Rlcm4ocDogc3RyaW5nLCB0eXBlOiAnanNvbicsIGNiOiBCRlNDYWxsYmFjazxhbnk+KTogdm9pZDtcbmZ1bmN0aW9uIGFzeW5jRG93bmxvYWRGaWxlTW9kZXJuKHA6IHN0cmluZywgdHlwZTogc3RyaW5nLCBjYjogQkZTQ2FsbGJhY2s8YW55Pik6IHZvaWQ7XG5mdW5jdGlvbiBhc3luY0Rvd25sb2FkRmlsZU1vZGVybihwOiBzdHJpbmcsIHR5cGU6IHN0cmluZywgY2I6IEJGU0NhbGxiYWNrPGFueT4pOiB2b2lkIHtcblx0Y29uc3QgcmVxID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cdHJlcS5vcGVuKCdHRVQnLCBwLCB0cnVlKTtcblx0bGV0IGpzb25TdXBwb3J0ZWQgPSB0cnVlO1xuXHRzd2l0Y2ggKHR5cGUpIHtcblx0XHRjYXNlICdidWZmZXInOlxuXHRcdFx0cmVxLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcic7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlICdqc29uJzpcblx0XHRcdC8vIFNvbWUgYnJvd3NlcnMgZG9uJ3Qgc3VwcG9ydCB0aGUgSlNPTiByZXNwb25zZSB0eXBlLlxuXHRcdFx0Ly8gVGhleSBlaXRoZXIgcmVzZXQgcmVzcG9uc2VUeXBlLCBvciB0aHJvdyBhbiBleGNlcHRpb24uXG5cdFx0XHQvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9Nb2Rlcm5penIvTW9kZXJuaXpyL2Jsb2IvbWFzdGVyL3NyYy90ZXN0WGhyVHlwZS5qc1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0cmVxLnJlc3BvbnNlVHlwZSA9ICdqc29uJztcblx0XHRcdFx0anNvblN1cHBvcnRlZCA9IHJlcS5yZXNwb25zZVR5cGUgPT09ICdqc29uJztcblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0anNvblN1cHBvcnRlZCA9IGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0YnJlYWs7XG5cdFx0ZGVmYXVsdDpcblx0XHRcdHJldHVybiBjYihuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVJTlZBTCwgJ0ludmFsaWQgZG93bmxvYWQgdHlwZTogJyArIHR5cGUpKTtcblx0fVxuXHRyZXEub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKGUpIHtcblx0XHRpZiAocmVxLnJlYWR5U3RhdGUgPT09IDQpIHtcblx0XHRcdGlmIChyZXEuc3RhdHVzID09PSAyMDApIHtcblx0XHRcdFx0c3dpdGNoICh0eXBlKSB7XG5cdFx0XHRcdFx0Y2FzZSAnYnVmZmVyJzpcblx0XHRcdFx0XHRcdC8vIFhYWDogV2ViS2l0LWJhc2VkIGJyb3dzZXJzIHJldHVybiAqbnVsbCogd2hlbiBYSFJpbmcgYW4gZW1wdHkgZmlsZS5cblx0XHRcdFx0XHRcdHJldHVybiBjYihudWxsLCByZXEucmVzcG9uc2UgPyBCdWZmZXIuZnJvbShyZXEucmVzcG9uc2UpIDogZW1wdHlCdWZmZXIoKSk7XG5cdFx0XHRcdFx0Y2FzZSAnanNvbic6XG5cdFx0XHRcdFx0XHRpZiAoanNvblN1cHBvcnRlZCkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gY2IobnVsbCwgcmVxLnJlc3BvbnNlKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBjYihudWxsLCBKU09OLnBhcnNlKHJlcS5yZXNwb25zZVRleHQpKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIGNiKG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRUlPLCBgWEhSIGVycm9yOiByZXNwb25zZSByZXR1cm5lZCBjb2RlICR7cmVxLnN0YXR1c31gKSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHRyZXEuc2VuZCgpO1xufVxuXG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuZnVuY3Rpb24gc3luY0Rvd25sb2FkRmlsZU1vZGVybihwOiBzdHJpbmcsIHR5cGU6ICdidWZmZXInKTogQnVmZmVyO1xuZnVuY3Rpb24gc3luY0Rvd25sb2FkRmlsZU1vZGVybihwOiBzdHJpbmcsIHR5cGU6ICdqc29uJyk6IGFueTtcbmZ1bmN0aW9uIHN5bmNEb3dubG9hZEZpbGVNb2Rlcm4ocDogc3RyaW5nLCB0eXBlOiBzdHJpbmcpOiBhbnk7XG5mdW5jdGlvbiBzeW5jRG93bmxvYWRGaWxlTW9kZXJuKHA6IHN0cmluZywgdHlwZTogc3RyaW5nKTogYW55IHtcblx0Y29uc3QgcmVxID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cdHJlcS5vcGVuKCdHRVQnLCBwLCBmYWxzZSk7XG5cblx0Ly8gT24gbW9zdCBwbGF0Zm9ybXMsIHdlIGNhbm5vdCBzZXQgdGhlIHJlc3BvbnNlVHlwZSBvZiBzeW5jaHJvbm91cyBkb3dubG9hZHMuXG5cdC8vIEB0b2RvIFRlc3QgZm9yIHRoaXM7IElFMTAgYWxsb3dzIHRoaXMsIGFzIGRvIG9sZGVyIHZlcnNpb25zIG9mIENocm9tZS9GRi5cblx0bGV0IGRhdGE6IGFueSA9IG51bGw7XG5cdGxldCBlcnI6IGFueSA9IG51bGw7XG5cdC8vIENsYXNzaWMgaGFjayB0byBkb3dubG9hZCBiaW5hcnkgZGF0YSBhcyBhIHN0cmluZy5cblx0cmVxLm92ZXJyaWRlTWltZVR5cGUoJ3RleHQvcGxhaW47IGNoYXJzZXQ9eC11c2VyLWRlZmluZWQnKTtcblx0cmVxLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uIChlKSB7XG5cdFx0aWYgKHJlcS5yZWFkeVN0YXRlID09PSA0KSB7XG5cdFx0XHRpZiAocmVxLnN0YXR1cyA9PT0gMjAwKSB7XG5cdFx0XHRcdHN3aXRjaCAodHlwZSkge1xuXHRcdFx0XHRcdGNhc2UgJ2J1ZmZlcic6XG5cdFx0XHRcdFx0XHQvLyBDb252ZXJ0IHRoZSB0ZXh0IGludG8gYSBidWZmZXIuXG5cdFx0XHRcdFx0XHRjb25zdCB0ZXh0ID0gcmVxLnJlc3BvbnNlVGV4dDtcblx0XHRcdFx0XHRcdGRhdGEgPSBCdWZmZXIuYWxsb2ModGV4dC5sZW5ndGgpO1xuXHRcdFx0XHRcdFx0Ly8gVGhyb3cgYXdheSB0aGUgdXBwZXIgYml0cyBvZiBlYWNoIGNoYXJhY3Rlci5cblx0XHRcdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGV4dC5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdFx0XHQvLyBUaGlzIHdpbGwgYXV0b21hdGljYWxseSB0aHJvdyBhd2F5IHRoZSB1cHBlciBiaXQgb2YgZWFjaFxuXHRcdFx0XHRcdFx0XHQvLyBjaGFyYWN0ZXIgZm9yIHVzLlxuXHRcdFx0XHRcdFx0XHRkYXRhW2ldID0gdGV4dC5jaGFyQ29kZUF0KGkpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdGNhc2UgJ2pzb24nOlxuXHRcdFx0XHRcdFx0ZGF0YSA9IEpTT04ucGFyc2UocmVxLnJlc3BvbnNlVGV4dCk7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGVyciA9IG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRUlPLCBgWEhSIGVycm9yOiByZXNwb25zZSByZXR1cm5lZCBjb2RlICR7cmVxLnN0YXR1c31gKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0cmVxLnNlbmQoKTtcblx0aWYgKGVycikge1xuXHRcdHRocm93IGVycjtcblx0fVxuXHRyZXR1cm4gZGF0YTtcbn1cblxuLyoqXG4gKiBJRTEwIGFsbG93cyB1cyB0byBwZXJmb3JtIHN5bmNocm9ub3VzIGJpbmFyeSBmaWxlIGRvd25sb2Fkcy5cbiAqIEB0b2RvIEZlYXR1cmUgZGV0ZWN0IHRoaXMsIGFzIG9sZGVyIHZlcnNpb25zIG9mIEZGL0Nocm9tZSBkbyB0b28hXG4gKiBAaGlkZGVuXG4gKi9cbmZ1bmN0aW9uIHN5bmNEb3dubG9hZEZpbGVJRTEwKHA6IHN0cmluZywgdHlwZTogJ2J1ZmZlcicpOiBCdWZmZXI7XG5mdW5jdGlvbiBzeW5jRG93bmxvYWRGaWxlSUUxMChwOiBzdHJpbmcsIHR5cGU6ICdqc29uJyk6IGFueTtcbmZ1bmN0aW9uIHN5bmNEb3dubG9hZEZpbGVJRTEwKHA6IHN0cmluZywgdHlwZTogc3RyaW5nKTogYW55O1xuZnVuY3Rpb24gc3luY0Rvd25sb2FkRmlsZUlFMTAocDogc3RyaW5nLCB0eXBlOiBzdHJpbmcpOiBhbnkge1xuXHRjb25zdCByZXEgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblx0cmVxLm9wZW4oJ0dFVCcsIHAsIGZhbHNlKTtcblx0c3dpdGNoICh0eXBlKSB7XG5cdFx0Y2FzZSAnYnVmZmVyJzpcblx0XHRcdHJlcS5yZXNwb25zZVR5cGUgPSAnYXJyYXlidWZmZXInO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAnanNvbic6XG5cdFx0XHQvLyBJRTEwIGRvZXMgbm90IHN1cHBvcnQgdGhlIEpTT04gdHlwZS5cblx0XHRcdGJyZWFrO1xuXHRcdGRlZmF1bHQ6XG5cdFx0XHR0aHJvdyBuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVJTlZBTCwgJ0ludmFsaWQgZG93bmxvYWQgdHlwZTogJyArIHR5cGUpO1xuXHR9XG5cdGxldCBkYXRhOiBhbnk7XG5cdGxldCBlcnI6IGFueTtcblx0cmVxLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uIChlKSB7XG5cdFx0aWYgKHJlcS5yZWFkeVN0YXRlID09PSA0KSB7XG5cdFx0XHRpZiAocmVxLnN0YXR1cyA9PT0gMjAwKSB7XG5cdFx0XHRcdHN3aXRjaCAodHlwZSkge1xuXHRcdFx0XHRcdGNhc2UgJ2J1ZmZlcic6XG5cdFx0XHRcdFx0XHRkYXRhID0gQnVmZmVyLmZyb20ocmVxLnJlc3BvbnNlKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ2pzb24nOlxuXHRcdFx0XHRcdFx0ZGF0YSA9IEpTT04ucGFyc2UocmVxLnJlc3BvbnNlKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRlcnIgPSBuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVJTywgYFhIUiBlcnJvcjogcmVzcG9uc2UgcmV0dXJuZWQgY29kZSAke3JlcS5zdGF0dXN9YCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHRyZXEuc2VuZCgpO1xuXHRpZiAoZXJyKSB7XG5cdFx0dGhyb3cgZXJyO1xuXHR9XG5cdHJldHVybiBkYXRhO1xufVxuXG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuZnVuY3Rpb24gZ2V0RmlsZVNpemUoYXN5bmM6IGJvb2xlYW4sIHA6IHN0cmluZywgY2I6IEJGU0NhbGxiYWNrPG51bWJlcj4pOiB2b2lkIHtcblx0Y29uc3QgcmVxID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cdHJlcS5vcGVuKCdIRUFEJywgcCwgYXN5bmMpO1xuXHRyZXEub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKGUpIHtcblx0XHRpZiAocmVxLnJlYWR5U3RhdGUgPT09IDQpIHtcblx0XHRcdGlmIChyZXEuc3RhdHVzID09PSAyMDApIHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRyZXR1cm4gY2IobnVsbCwgcGFyc2VJbnQocmVxLmdldFJlc3BvbnNlSGVhZGVyKCdDb250ZW50LUxlbmd0aCcpIHx8ICctMScsIDEwKSk7XG5cdFx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0XHQvLyBJbiB0aGUgZXZlbnQgdGhhdCB0aGUgaGVhZGVyIGlzbid0IHByZXNlbnQgb3IgdGhlcmUgaXMgYW4gZXJyb3IuLi5cblx0XHRcdFx0XHRyZXR1cm4gY2IobmV3IEFwaUVycm9yKEVycm9yQ29kZS5FSU8sICdYSFIgSEVBRCBlcnJvcjogQ291bGQgbm90IHJlYWQgY29udGVudC1sZW5ndGguJykpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gY2IobmV3IEFwaUVycm9yKEVycm9yQ29kZS5FSU8sIGBYSFIgSEVBRCBlcnJvcjogcmVzcG9uc2UgcmV0dXJuZWQgY29kZSAke3JlcS5zdGF0dXN9YCkpO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0cmVxLnNlbmQoKTtcbn1cblxuLyoqXG4gKiBBc3luY2hyb25vdXNseSBkb3dubG9hZCBhIGZpbGUgYXMgYSBidWZmZXIgb3IgYSBKU09OIG9iamVjdC5cbiAqIE5vdGUgdGhhdCB0aGUgdGhpcmQgZnVuY3Rpb24gc2lnbmF0dXJlIHdpdGggYSBub24tc3BlY2lhbGl6ZWQgdHlwZSBpc1xuICogaW52YWxpZCwgYnV0IFR5cGVTY3JpcHQgcmVxdWlyZXMgaXQgd2hlbiB5b3Ugc3BlY2lhbGl6ZSBzdHJpbmcgYXJndW1lbnRzIHRvXG4gKiBjb25zdGFudHMuXG4gKiBAaGlkZGVuXG4gKi9cbmV4cG9ydCBsZXQgYXN5bmNEb3dubG9hZEZpbGU6IHtcblx0KHA6IHN0cmluZywgdHlwZTogJ2J1ZmZlcicsIGNiOiBCRlNDYWxsYmFjazxCdWZmZXI+KTogdm9pZDtcblx0KHA6IHN0cmluZywgdHlwZTogJ2pzb24nLCBjYjogQkZTQ2FsbGJhY2s8YW55Pik6IHZvaWQ7XG5cdChwOiBzdHJpbmcsIHR5cGU6IHN0cmluZywgY2I6IEJGU0NhbGxiYWNrPGFueT4pOiB2b2lkO1xufSA9IGFzeW5jRG93bmxvYWRGaWxlTW9kZXJuO1xuXG4vKipcbiAqIFN5bmNocm9ub3VzbHkgZG93bmxvYWQgYSBmaWxlIGFzIGEgYnVmZmVyIG9yIGEgSlNPTiBvYmplY3QuXG4gKiBOb3RlIHRoYXQgdGhlIHRoaXJkIGZ1bmN0aW9uIHNpZ25hdHVyZSB3aXRoIGEgbm9uLXNwZWNpYWxpemVkIHR5cGUgaXNcbiAqIGludmFsaWQsIGJ1dCBUeXBlU2NyaXB0IHJlcXVpcmVzIGl0IHdoZW4geW91IHNwZWNpYWxpemUgc3RyaW5nIGFyZ3VtZW50cyB0b1xuICogY29uc3RhbnRzLlxuICogQGhpZGRlblxuICovXG5leHBvcnQgbGV0IHN5bmNEb3dubG9hZEZpbGU6IHtcblx0KHA6IHN0cmluZywgdHlwZTogJ2J1ZmZlcicpOiBCdWZmZXI7XG5cdChwOiBzdHJpbmcsIHR5cGU6ICdqc29uJyk6IGFueTtcblx0KHA6IHN0cmluZywgdHlwZTogc3RyaW5nKTogYW55O1xufSA9IGlzSUUgJiYgdHlwZW9mIEJsb2IgIT09ICd1bmRlZmluZWQnID8gc3luY0Rvd25sb2FkRmlsZUlFMTAgOiBzeW5jRG93bmxvYWRGaWxlTW9kZXJuO1xuXG4vKipcbiAqIFN5bmNocm9ub3VzbHkgcmV0cmlldmVzIHRoZSBzaXplIG9mIHRoZSBnaXZlbiBmaWxlIGluIGJ5dGVzLlxuICogQGhpZGRlblxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmlsZVNpemVTeW5jKHA6IHN0cmluZyk6IG51bWJlciB7XG5cdGxldCBydjogbnVtYmVyID0gLTE7XG5cdGdldEZpbGVTaXplKGZhbHNlLCBwLCBmdW5jdGlvbiAoZXJyOiBBcGlFcnJvciwgc2l6ZT86IG51bWJlcikge1xuXHRcdGlmIChlcnIpIHtcblx0XHRcdHRocm93IGVycjtcblx0XHR9XG5cdFx0cnYgPSBzaXplITtcblx0fSk7XG5cdHJldHVybiBydjtcbn1cblxuLyoqXG4gKiBBc3luY2hyb25vdXNseSByZXRyaWV2ZXMgdGhlIHNpemUgb2YgdGhlIGdpdmVuIGZpbGUgaW4gYnl0ZXMuXG4gKiBAaGlkZGVuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRGaWxlU2l6ZUFzeW5jKHA6IHN0cmluZywgY2I6IChlcnI6IEFwaUVycm9yLCBzaXplPzogbnVtYmVyKSA9PiB2b2lkKTogdm9pZCB7XG5cdGdldEZpbGVTaXplKHRydWUsIHAsIGNiKTtcbn1cbiIsICJpbXBvcnQgeyBCdWZmZXIgfSBmcm9tICdidWZmZXInO1xuLyoqXG4gKiBDb250YWlucyB1dGlsaXR5IG1ldGhvZHMgdXNpbmcgJ2ZldGNoJy5cbiAqL1xuXG5pbXBvcnQgeyBBcGlFcnJvciwgRXJyb3JDb2RlIH0gZnJvbSAnLi4vY29yZS9hcGlfZXJyb3InO1xuaW1wb3J0IHsgQkZTQ2FsbGJhY2sgfSBmcm9tICcuLi9jb3JlL2ZpbGVfc3lzdGVtJztcblxuZXhwb3J0IGNvbnN0IGZldGNoSXNBdmFpbGFibGUgPSB0eXBlb2YgZmV0Y2ggIT09ICd1bmRlZmluZWQnICYmIGZldGNoICE9PSBudWxsO1xuXG4vKipcbiAqIEFzeW5jaHJvbm91c2x5IGRvd25sb2FkIGEgZmlsZSBhcyBhIGJ1ZmZlciBvciBhIEpTT04gb2JqZWN0LlxuICogTm90ZSB0aGF0IHRoZSB0aGlyZCBmdW5jdGlvbiBzaWduYXR1cmUgd2l0aCBhIG5vbi1zcGVjaWFsaXplZCB0eXBlIGlzXG4gKiBpbnZhbGlkLCBidXQgVHlwZVNjcmlwdCByZXF1aXJlcyBpdCB3aGVuIHlvdSBzcGVjaWFsaXplIHN0cmluZyBhcmd1bWVudHMgdG9cbiAqIGNvbnN0YW50cy5cbiAqIEBoaWRkZW5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZldGNoRmlsZUFzeW5jKHA6IHN0cmluZywgdHlwZTogJ2J1ZmZlcicsIGNiOiBCRlNDYWxsYmFjazxCdWZmZXI+KTogdm9pZDtcbmV4cG9ydCBmdW5jdGlvbiBmZXRjaEZpbGVBc3luYyhwOiBzdHJpbmcsIHR5cGU6ICdqc29uJywgY2I6IEJGU0NhbGxiYWNrPGFueT4pOiB2b2lkO1xuZXhwb3J0IGZ1bmN0aW9uIGZldGNoRmlsZUFzeW5jKHA6IHN0cmluZywgdHlwZTogc3RyaW5nLCBjYjogQkZTQ2FsbGJhY2s8YW55Pik6IHZvaWQ7XG5leHBvcnQgZnVuY3Rpb24gZmV0Y2hGaWxlQXN5bmMocDogc3RyaW5nLCB0eXBlOiBzdHJpbmcsIGNiOiBCRlNDYWxsYmFjazxhbnk+KTogdm9pZCB7XG5cdGxldCByZXF1ZXN0O1xuXHR0cnkge1xuXHRcdHJlcXVlc3QgPSBmZXRjaChwKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdC8vIFhYWDogZmV0Y2ggd2lsbCB0aHJvdyBhIFR5cGVFcnJvciBpZiB0aGUgVVJMIGhhcyBjcmVkZW50aWFscyBpbiBpdFxuXHRcdHJldHVybiBjYihuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVJTlZBTCwgZS5tZXNzYWdlKSk7XG5cdH1cblx0cmVxdWVzdFxuXHRcdC50aGVuKHJlcyA9PiB7XG5cdFx0XHRpZiAoIXJlcy5vaykge1xuXHRcdFx0XHRyZXR1cm4gY2IobmV3IEFwaUVycm9yKEVycm9yQ29kZS5FSU8sIGBmZXRjaCBlcnJvcjogcmVzcG9uc2UgcmV0dXJuZWQgY29kZSAke3Jlcy5zdGF0dXN9YCkpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c3dpdGNoICh0eXBlKSB7XG5cdFx0XHRcdFx0Y2FzZSAnYnVmZmVyJzpcblx0XHRcdFx0XHRcdHJlcy5hcnJheUJ1ZmZlcigpXG5cdFx0XHRcdFx0XHRcdC50aGVuKGJ1ZiA9PiBjYihudWxsLCBCdWZmZXIuZnJvbShidWYpKSlcblx0XHRcdFx0XHRcdFx0LmNhdGNoKGVyciA9PiBjYihuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVJTywgZXJyLm1lc3NhZ2UpKSk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlICdqc29uJzpcblx0XHRcdFx0XHRcdHJlcy5qc29uKClcblx0XHRcdFx0XHRcdFx0LnRoZW4oanNvbiA9PiBjYihudWxsLCBqc29uKSlcblx0XHRcdFx0XHRcdFx0LmNhdGNoKGVyciA9PiBjYihuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVJTywgZXJyLm1lc3NhZ2UpKSk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdFx0Y2IobmV3IEFwaUVycm9yKEVycm9yQ29kZS5FSU5WQUwsICdJbnZhbGlkIGRvd25sb2FkIHR5cGU6ICcgKyB0eXBlKSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KVxuXHRcdC5jYXRjaChlcnIgPT4gY2IobmV3IEFwaUVycm9yKEVycm9yQ29kZS5FSU8sIGVyci5tZXNzYWdlKSkpO1xufVxuXG4vKipcbiAqIEFzeW5jaHJvbm91c2x5IHJldHJpZXZlcyB0aGUgc2l6ZSBvZiB0aGUgZ2l2ZW4gZmlsZSBpbiBieXRlcy5cbiAqIEBoaWRkZW5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZldGNoRmlsZVNpemVBc3luYyhwOiBzdHJpbmcsIGNiOiBCRlNDYWxsYmFjazxudW1iZXI+KTogdm9pZCB7XG5cdGZldGNoKHAsIHsgbWV0aG9kOiAnSEVBRCcgfSlcblx0XHQudGhlbihyZXMgPT4ge1xuXHRcdFx0aWYgKCFyZXMub2spIHtcblx0XHRcdFx0cmV0dXJuIGNiKG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRUlPLCBgZmV0Y2ggSEVBRCBlcnJvcjogcmVzcG9uc2UgcmV0dXJuZWQgY29kZSAke3Jlcy5zdGF0dXN9YCkpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIGNiKG51bGwsIHBhcnNlSW50KHJlcy5oZWFkZXJzLmdldCgnQ29udGVudC1MZW5ndGgnKSB8fCAnLTEnLCAxMCkpO1xuXHRcdFx0fVxuXHRcdH0pXG5cdFx0LmNhdGNoKGVyciA9PiBjYihuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVJTywgZXJyLm1lc3NhZ2UpKSk7XG59XG4iLCAiaW1wb3J0IHsgZGVmYXVsdCBhcyBTdGF0cywgRmlsZVR5cGUgfSBmcm9tICcuLi9jb3JlL3N0YXRzJztcbmltcG9ydCAqIGFzIHBhdGggZnJvbSAncGF0aCc7XG5cbi8qKlxuICogQSBzaW1wbGUgY2xhc3MgZm9yIHN0b3JpbmcgYSBmaWxlc3lzdGVtIGluZGV4LiBBc3N1bWVzIHRoYXQgYWxsIHBhdGhzIHBhc3NlZFxuICogdG8gaXQgYXJlICphYnNvbHV0ZSogcGF0aHMuXG4gKlxuICogQ2FuIGJlIHVzZWQgYXMgYSBwYXJ0aWFsIG9yIGEgZnVsbCBpbmRleCwgYWx0aG91Z2ggY2FyZSBtdXN0IGJlIHRha2VuIGlmIHVzZWRcbiAqIGZvciB0aGUgZm9ybWVyIHB1cnBvc2UsIGVzcGVjaWFsbHkgd2hlbiBkaXJlY3RvcmllcyBhcmUgY29uY2VybmVkLlxuICovXG5leHBvcnQgY2xhc3MgRmlsZUluZGV4PFQ+IHtcblx0LyoqXG5cdCAqIFN0YXRpYyBtZXRob2QgZm9yIGNvbnN0cnVjdGluZyBpbmRpY2VzIGZyb20gYSBKU09OIGxpc3RpbmcuXG5cdCAqIEBwYXJhbSBsaXN0aW5nIERpcmVjdG9yeSBsaXN0aW5nIGdlbmVyYXRlZCBieSB0b29scy9YSFJJbmRleGVyLmNvZmZlZVxuXHQgKiBAcmV0dXJuIEEgbmV3IEZpbGVJbmRleCBvYmplY3QuXG5cdCAqL1xuXHRwdWJsaWMgc3RhdGljIGZyb21MaXN0aW5nPFQ+KGxpc3Rpbmc6IGFueSk6IEZpbGVJbmRleDxUPiB7XG5cdFx0Y29uc3QgaWR4ID0gbmV3IEZpbGVJbmRleDxUPigpO1xuXHRcdC8vIEFkZCBhIHJvb3QgRGlyTm9kZS5cblx0XHRjb25zdCByb290SW5vZGUgPSBuZXcgRGlySW5vZGU8VD4oKTtcblx0XHRpZHguX2luZGV4WycvJ10gPSByb290SW5vZGU7XG5cdFx0Y29uc3QgcXVldWUgPSBbWycnLCBsaXN0aW5nLCByb290SW5vZGVdXTtcblx0XHR3aGlsZSAocXVldWUubGVuZ3RoID4gMCkge1xuXHRcdFx0bGV0IGlub2RlOiBJbm9kZTtcblx0XHRcdGNvbnN0IG5leHQgPSBxdWV1ZS5wb3AoKTtcblx0XHRcdGNvbnN0IHB3ZCA9IG5leHQhWzBdO1xuXHRcdFx0Y29uc3QgdHJlZSA9IG5leHQhWzFdO1xuXHRcdFx0Y29uc3QgcGFyZW50ID0gbmV4dCFbMl07XG5cdFx0XHRmb3IgKGNvbnN0IG5vZGUgaW4gdHJlZSkge1xuXHRcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRyZWUsIG5vZGUpKSB7XG5cdFx0XHRcdFx0Y29uc3QgY2hpbGRyZW4gPSB0cmVlW25vZGVdO1xuXHRcdFx0XHRcdGNvbnN0IG5hbWUgPSBgJHtwd2R9LyR7bm9kZX1gO1xuXHRcdFx0XHRcdGlmIChjaGlsZHJlbikge1xuXHRcdFx0XHRcdFx0aWR4Ll9pbmRleFtuYW1lXSA9IGlub2RlID0gbmV3IERpcklub2RlPFQ+KCk7XG5cdFx0XHRcdFx0XHRxdWV1ZS5wdXNoKFtuYW1lLCBjaGlsZHJlbiwgaW5vZGVdKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Ly8gVGhpcyBpbm9kZSBkb2Vzbid0IGhhdmUgY29ycmVjdCBzaXplIGluZm9ybWF0aW9uLCBub3RlZCB3aXRoIC0xLlxuXHRcdFx0XHRcdFx0aW5vZGUgPSBuZXcgRmlsZUlub2RlPFN0YXRzPihuZXcgU3RhdHMoRmlsZVR5cGUuRklMRSwgLTEsIDB4MTZkKSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChwYXJlbnQpIHtcblx0XHRcdFx0XHRcdHBhcmVudC5fbHNbbm9kZV0gPSBpbm9kZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIGlkeDtcblx0fVxuXG5cdC8vIE1hcHMgZGlyZWN0b3J5IHBhdGhzIHRvIGRpcmVjdG9yeSBpbm9kZXMsIHdoaWNoIGNvbnRhaW4gZmlsZXMuXG5cdHByaXZhdGUgX2luZGV4OiB7IFtwYXRoOiBzdHJpbmddOiBEaXJJbm9kZTxUPiB9O1xuXG5cdC8qKlxuXHQgKiBDb25zdHJ1Y3RzIGEgbmV3IEZpbGVJbmRleC5cblx0ICovXG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdC8vIF9pbmRleCBpcyBhIHNpbmdsZS1sZXZlbCBrZXksdmFsdWUgc3RvcmUgdGhhdCBtYXBzICpkaXJlY3RvcnkqIHBhdGhzIHRvXG5cdFx0Ly8gRGlySW5vZGVzLiBGaWxlIGluZm9ybWF0aW9uIGlzIG9ubHkgY29udGFpbmVkIGluIERpcklub2RlcyB0aGVtc2VsdmVzLlxuXHRcdHRoaXMuX2luZGV4ID0ge307XG5cdFx0Ly8gQ3JlYXRlIHRoZSByb290IGRpcmVjdG9yeS5cblx0XHR0aGlzLmFkZFBhdGgoJy8nLCBuZXcgRGlySW5vZGUoKSk7XG5cdH1cblxuXHQvKipcblx0ICogUnVucyB0aGUgZ2l2ZW4gZnVuY3Rpb24gb3ZlciBhbGwgZmlsZXMgaW4gdGhlIGluZGV4LlxuXHQgKi9cblx0cHVibGljIGZpbGVJdGVyYXRvcjxUPihjYjogKGZpbGU6IFQgfCBudWxsKSA9PiB2b2lkKTogdm9pZCB7XG5cdFx0Zm9yIChjb25zdCBwYXRoIGluIHRoaXMuX2luZGV4KSB7XG5cdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuX2luZGV4LCBwYXRoKSkge1xuXHRcdFx0XHRjb25zdCBkaXIgPSB0aGlzLl9pbmRleFtwYXRoXTtcblx0XHRcdFx0Y29uc3QgZmlsZXMgPSBkaXIuZ2V0TGlzdGluZygpO1xuXHRcdFx0XHRmb3IgKGNvbnN0IGZpbGUgb2YgZmlsZXMpIHtcblx0XHRcdFx0XHRjb25zdCBpdGVtID0gZGlyLmdldEl0ZW0oZmlsZSk7XG5cdFx0XHRcdFx0aWYgKGlzRmlsZUlub2RlPFQ+KGl0ZW0pKSB7XG5cdFx0XHRcdFx0XHRjYihpdGVtLmdldERhdGEoKSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEFkZHMgdGhlIGdpdmVuIGFic29sdXRlIHBhdGggdG8gdGhlIGluZGV4IGlmIGl0IGlzIG5vdCBhbHJlYWR5IGluIHRoZSBpbmRleC5cblx0ICogQ3JlYXRlcyBhbnkgbmVlZGVkIHBhcmVudCBkaXJlY3Rvcmllcy5cblx0ICogQHBhcmFtIHBhdGggVGhlIHBhdGggdG8gYWRkIHRvIHRoZSBpbmRleC5cblx0ICogQHBhcmFtIGlub2RlIFRoZSBpbm9kZSBmb3IgdGhlXG5cdCAqICAgcGF0aCB0byBhZGQuXG5cdCAqIEByZXR1cm4gJ1RydWUnIGlmIGl0IHdhcyBhZGRlZCBvciBhbHJlYWR5IGV4aXN0cywgJ2ZhbHNlJyBpZiB0aGVyZVxuXHQgKiAgIHdhcyBhbiBpc3N1ZSBhZGRpbmcgaXQgKGUuZy4gaXRlbSBpbiBwYXRoIGlzIGEgZmlsZSwgaXRlbSBleGlzdHMgYnV0IGlzXG5cdCAqICAgZGlmZmVyZW50KS5cblx0ICogQHRvZG8gSWYgYWRkaW5nIGZhaWxzIGFuZCBpbXBsaWNpdGx5IGNyZWF0ZXMgZGlyZWN0b3JpZXMsIHdlIGRvIG5vdCBjbGVhbiB1cFxuXHQgKiAgIHRoZSBuZXcgZW1wdHkgZGlyZWN0b3JpZXMuXG5cdCAqL1xuXHRwdWJsaWMgYWRkUGF0aChwYXRoOiBzdHJpbmcsIGlub2RlOiBJbm9kZSk6IGJvb2xlYW4ge1xuXHRcdGlmICghaW5vZGUpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignSW5vZGUgbXVzdCBiZSBzcGVjaWZpZWQnKTtcblx0XHR9XG5cdFx0aWYgKHBhdGhbMF0gIT09ICcvJykge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdQYXRoIG11c3QgYmUgYWJzb2x1dGUsIGdvdDogJyArIHBhdGgpO1xuXHRcdH1cblxuXHRcdC8vIENoZWNrIGlmIGl0IGFscmVhZHkgZXhpc3RzLlxuXHRcdGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5faW5kZXgsIHBhdGgpKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5faW5kZXhbcGF0aF0gPT09IGlub2RlO1xuXHRcdH1cblxuXHRcdGNvbnN0IHNwbGl0UGF0aCA9IHRoaXMuX3NwbGl0X3BhdGgocGF0aCk7XG5cdFx0Y29uc3QgZGlycGF0aCA9IHNwbGl0UGF0aFswXTtcblx0XHRjb25zdCBpdGVtbmFtZSA9IHNwbGl0UGF0aFsxXTtcblx0XHQvLyBUcnkgdG8gYWRkIHRvIGl0cyBwYXJlbnQgZGlyZWN0b3J5IGZpcnN0LlxuXHRcdGxldCBwYXJlbnQgPSB0aGlzLl9pbmRleFtkaXJwYXRoXTtcblx0XHRpZiAocGFyZW50ID09PSB1bmRlZmluZWQgJiYgcGF0aCAhPT0gJy8nKSB7XG5cdFx0XHQvLyBDcmVhdGUgcGFyZW50LlxuXHRcdFx0cGFyZW50ID0gbmV3IERpcklub2RlPFQ+KCk7XG5cdFx0XHRpZiAoIXRoaXMuYWRkUGF0aChkaXJwYXRoLCBwYXJlbnQpKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0Ly8gQWRkIG15c2VsZiB0byBteSBwYXJlbnQuXG5cdFx0aWYgKHBhdGggIT09ICcvJykge1xuXHRcdFx0aWYgKCFwYXJlbnQuYWRkSXRlbShpdGVtbmFtZSwgaW5vZGUpKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0Ly8gSWYgSSdtIGEgZGlyZWN0b3J5LCBhZGQgbXlzZWxmIHRvIHRoZSBpbmRleC5cblx0XHRpZiAoaXNEaXJJbm9kZTxUPihpbm9kZSkpIHtcblx0XHRcdHRoaXMuX2luZGV4W3BhdGhdID0gaW5vZGU7XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0LyoqXG5cdCAqIEFkZHMgdGhlIGdpdmVuIGFic29sdXRlIHBhdGggdG8gdGhlIGluZGV4IGlmIGl0IGlzIG5vdCBhbHJlYWR5IGluIHRoZSBpbmRleC5cblx0ICogVGhlIHBhdGggaXMgYWRkZWQgd2l0aG91dCBzcGVjaWFsIHRyZWF0bWVudCAobm8gam9pbmluZyBvZiBhZGphY2VudCBzZXBhcmF0b3JzLCBldGMpLlxuXHQgKiBDcmVhdGVzIGFueSBuZWVkZWQgcGFyZW50IGRpcmVjdG9yaWVzLlxuXHQgKiBAcGFyYW0gcGF0aCBUaGUgcGF0aCB0byBhZGQgdG8gdGhlIGluZGV4LlxuXHQgKiBAcGFyYW0gaW5vZGUgVGhlIGlub2RlIGZvciB0aGVcblx0ICogICBwYXRoIHRvIGFkZC5cblx0ICogQHJldHVybiAnVHJ1ZScgaWYgaXQgd2FzIGFkZGVkIG9yIGFscmVhZHkgZXhpc3RzLCAnZmFsc2UnIGlmIHRoZXJlXG5cdCAqICAgd2FzIGFuIGlzc3VlIGFkZGluZyBpdCAoZS5nLiBpdGVtIGluIHBhdGggaXMgYSBmaWxlLCBpdGVtIGV4aXN0cyBidXQgaXNcblx0ICogICBkaWZmZXJlbnQpLlxuXHQgKiBAdG9kbyBJZiBhZGRpbmcgZmFpbHMgYW5kIGltcGxpY2l0bHkgY3JlYXRlcyBkaXJlY3Rvcmllcywgd2UgZG8gbm90IGNsZWFuIHVwXG5cdCAqICAgdGhlIG5ldyBlbXB0eSBkaXJlY3Rvcmllcy5cblx0ICovXG5cdHB1YmxpYyBhZGRQYXRoRmFzdChwYXRoOiBzdHJpbmcsIGlub2RlOiBJbm9kZSk6IGJvb2xlYW4ge1xuXHRcdGNvbnN0IGl0ZW1OYW1lTWFyayA9IHBhdGgubGFzdEluZGV4T2YoJy8nKTtcblx0XHRjb25zdCBwYXJlbnRQYXRoID0gaXRlbU5hbWVNYXJrID09PSAwID8gJy8nIDogcGF0aC5zdWJzdHJpbmcoMCwgaXRlbU5hbWVNYXJrKTtcblx0XHRjb25zdCBpdGVtTmFtZSA9IHBhdGguc3Vic3RyaW5nKGl0ZW1OYW1lTWFyayArIDEpO1xuXG5cdFx0Ly8gVHJ5IHRvIGFkZCB0byBpdHMgcGFyZW50IGRpcmVjdG9yeSBmaXJzdC5cblx0XHRsZXQgcGFyZW50ID0gdGhpcy5faW5kZXhbcGFyZW50UGF0aF07XG5cdFx0aWYgKHBhcmVudCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHQvLyBDcmVhdGUgcGFyZW50LlxuXHRcdFx0cGFyZW50ID0gbmV3IERpcklub2RlPFQ+KCk7XG5cdFx0XHR0aGlzLmFkZFBhdGhGYXN0KHBhcmVudFBhdGgsIHBhcmVudCk7XG5cdFx0fVxuXG5cdFx0aWYgKCFwYXJlbnQuYWRkSXRlbShpdGVtTmFtZSwgaW5vZGUpKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gSWYgYWRkaW5nIGEgZGlyZWN0b3J5LCBhZGQgdG8gdGhlIGluZGV4IGFzIHdlbGwuXG5cdFx0aWYgKGlub2RlLmlzRGlyKCkpIHtcblx0XHRcdHRoaXMuX2luZGV4W3BhdGhdID0gPERpcklub2RlPFQ+Pmlub2RlO1xuXHRcdH1cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZW1vdmVzIHRoZSBnaXZlbiBwYXRoLiBDYW4gYmUgYSBmaWxlIG9yIGEgZGlyZWN0b3J5LlxuXHQgKiBAcmV0dXJuIFRoZSByZW1vdmVkIGl0ZW0sXG5cdCAqICAgb3IgbnVsbCBpZiBpdCBkaWQgbm90IGV4aXN0LlxuXHQgKi9cblx0cHVibGljIHJlbW92ZVBhdGgocGF0aDogc3RyaW5nKTogSW5vZGUgfCBudWxsIHtcblx0XHRjb25zdCBzcGxpdFBhdGggPSB0aGlzLl9zcGxpdF9wYXRoKHBhdGgpO1xuXHRcdGNvbnN0IGRpcnBhdGggPSBzcGxpdFBhdGhbMF07XG5cdFx0Y29uc3QgaXRlbW5hbWUgPSBzcGxpdFBhdGhbMV07XG5cblx0XHQvLyBUcnkgdG8gcmVtb3ZlIGl0IGZyb20gaXRzIHBhcmVudCBkaXJlY3RvcnkgZmlyc3QuXG5cdFx0Y29uc3QgcGFyZW50ID0gdGhpcy5faW5kZXhbZGlycGF0aF07XG5cdFx0aWYgKHBhcmVudCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cdFx0Ly8gUmVtb3ZlIG15c2VsZiBmcm9tIG15IHBhcmVudC5cblx0XHRjb25zdCBpbm9kZSA9IHBhcmVudC5yZW1JdGVtKGl0ZW1uYW1lKTtcblx0XHRpZiAoaW5vZGUgPT09IG51bGwpIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0XHQvLyBJZiBJJ20gYSBkaXJlY3RvcnksIHJlbW92ZSBteXNlbGYgZnJvbSB0aGUgaW5kZXgsIGFuZCByZW1vdmUgbXkgY2hpbGRyZW4uXG5cdFx0aWYgKGlzRGlySW5vZGUoaW5vZGUpKSB7XG5cdFx0XHRjb25zdCBjaGlsZHJlbiA9IGlub2RlLmdldExpc3RpbmcoKTtcblx0XHRcdGZvciAoY29uc3QgY2hpbGQgb2YgY2hpbGRyZW4pIHtcblx0XHRcdFx0dGhpcy5yZW1vdmVQYXRoKHBhdGggKyAnLycgKyBjaGlsZCk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJlbW92ZSB0aGUgZGlyZWN0b3J5IGZyb20gdGhlIGluZGV4LCB1bmxlc3MgaXQncyB0aGUgcm9vdC5cblx0XHRcdGlmIChwYXRoICE9PSAnLycpIHtcblx0XHRcdFx0ZGVsZXRlIHRoaXMuX2luZGV4W3BhdGhdO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gaW5vZGU7XG5cdH1cblxuXHQvKipcblx0ICogUmV0cmlldmVzIHRoZSBkaXJlY3RvcnkgbGlzdGluZyBvZiB0aGUgZ2l2ZW4gcGF0aC5cblx0ICogQHJldHVybiBBbiBhcnJheSBvZiBmaWxlcyBpbiB0aGUgZ2l2ZW4gcGF0aCwgb3IgJ251bGwnIGlmIGl0IGRvZXMgbm90IGV4aXN0LlxuXHQgKi9cblx0cHVibGljIGxzKHBhdGg6IHN0cmluZyk6IHN0cmluZ1tdIHwgbnVsbCB7XG5cdFx0Y29uc3QgaXRlbSA9IHRoaXMuX2luZGV4W3BhdGhdO1xuXHRcdGlmIChpdGVtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0XHRyZXR1cm4gaXRlbS5nZXRMaXN0aW5nKCk7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgaW5vZGUgb2YgdGhlIGdpdmVuIGl0ZW0uXG5cdCAqIEByZXR1cm4gUmV0dXJucyBudWxsIGlmIHRoZSBpdGVtIGRvZXMgbm90IGV4aXN0LlxuXHQgKi9cblx0cHVibGljIGdldElub2RlKHBhdGg6IHN0cmluZyk6IElub2RlIHwgbnVsbCB7XG5cdFx0Y29uc3Qgc3BsaXRQYXRoID0gdGhpcy5fc3BsaXRfcGF0aChwYXRoKTtcblx0XHRjb25zdCBkaXJwYXRoID0gc3BsaXRQYXRoWzBdO1xuXHRcdGNvbnN0IGl0ZW1uYW1lID0gc3BsaXRQYXRoWzFdO1xuXHRcdC8vIFJldHJpZXZlIGZyb20gaXRzIHBhcmVudCBkaXJlY3RvcnkuXG5cdFx0Y29uc3QgcGFyZW50ID0gdGhpcy5faW5kZXhbZGlycGF0aF07XG5cdFx0aWYgKHBhcmVudCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cdFx0Ly8gUm9vdCBjYXNlXG5cdFx0aWYgKGRpcnBhdGggPT09IHBhdGgpIHtcblx0XHRcdHJldHVybiBwYXJlbnQ7XG5cdFx0fVxuXHRcdHJldHVybiBwYXJlbnQuZ2V0SXRlbShpdGVtbmFtZSk7XG5cdH1cblxuXHQvKipcblx0ICogU3BsaXQgaW50byBhIChkaXJlY3RvcnkgcGF0aCwgaXRlbSBuYW1lKSBwYWlyXG5cdCAqL1xuXHRwcml2YXRlIF9zcGxpdF9wYXRoKHA6IHN0cmluZyk6IHN0cmluZ1tdIHtcblx0XHRjb25zdCBkaXJwYXRoID0gcGF0aC5kaXJuYW1lKHApO1xuXHRcdGNvbnN0IGl0ZW1uYW1lID0gcC5zdWJzdHIoZGlycGF0aC5sZW5ndGggKyAoZGlycGF0aCA9PT0gJy8nID8gMCA6IDEpKTtcblx0XHRyZXR1cm4gW2RpcnBhdGgsIGl0ZW1uYW1lXTtcblx0fVxufVxuXG4vKipcbiAqIEdlbmVyaWMgaW50ZXJmYWNlIGZvciBmaWxlL2RpcmVjdG9yeSBpbm9kZXMuXG4gKiBOb3RlIHRoYXQgU3RhdHMgb2JqZWN0cyBhcmUgd2hhdCB3ZSB1c2UgZm9yIGZpbGUgaW5vZGVzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIElub2RlIHtcblx0Ly8gSXMgdGhpcyBhbiBpbm9kZSBmb3IgYSBmaWxlP1xuXHRpc0ZpbGUoKTogYm9vbGVhbjtcblx0Ly8gSXMgdGhpcyBhbiBpbm9kZSBmb3IgYSBkaXJlY3Rvcnk/XG5cdGlzRGlyKCk6IGJvb2xlYW47XG5cdC8vY29tcGF0aWJpbGl0eSB3aXRoIG90aGVyIElub2RlIHR5cGVzXG5cdHRvU3RhdHMoKTogU3RhdHM7XG59XG5cbi8qKlxuICogSW5vZGUgZm9yIGEgZmlsZS4gU3RvcmVzIGFuIGFyYml0cmFyeSAoZmlsZXN5c3RlbS1zcGVjaWZpYykgZGF0YSBwYXlsb2FkLlxuICovXG5leHBvcnQgY2xhc3MgRmlsZUlub2RlPFQ+IGltcGxlbWVudHMgSW5vZGUge1xuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIGRhdGE6IFQpIHt9XG5cdHB1YmxpYyBpc0ZpbGUoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblx0cHVibGljIGlzRGlyKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXHRwdWJsaWMgZ2V0RGF0YSgpOiBUIHtcblx0XHRyZXR1cm4gdGhpcy5kYXRhO1xuXHR9XG5cdHB1YmxpYyBzZXREYXRhKGRhdGE6IFQpOiB2b2lkIHtcblx0XHR0aGlzLmRhdGEgPSBkYXRhO1xuXHR9XG5cdHB1YmxpYyB0b1N0YXRzKCk6IFN0YXRzIHtcblx0XHRyZXR1cm4gbmV3IFN0YXRzKEZpbGVUeXBlLkZJTEUsIDQwOTYsIDBvNjY2KTtcblx0fVxufVxuXG4vKipcbiAqIElub2RlIGZvciBhIGRpcmVjdG9yeS4gQ3VycmVudGx5IG9ubHkgY29udGFpbnMgdGhlIGRpcmVjdG9yeSBsaXN0aW5nLlxuICovXG5leHBvcnQgY2xhc3MgRGlySW5vZGU8VD4gaW1wbGVtZW50cyBJbm9kZSB7XG5cdHByaXZhdGUgX2xzOiB7IFtwYXRoOiBzdHJpbmddOiBJbm9kZSB9ID0ge307XG5cdC8qKlxuXHQgKiBDb25zdHJ1Y3RzIGFuIGlub2RlIGZvciBhIGRpcmVjdG9yeS5cblx0ICovXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgZGF0YTogVCB8IG51bGwgPSBudWxsKSB7fVxuXHRwdWJsaWMgaXNGaWxlKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXHRwdWJsaWMgaXNEaXIoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblx0cHVibGljIGdldERhdGEoKTogVCB8IG51bGwge1xuXHRcdHJldHVybiB0aGlzLmRhdGE7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJuIGEgU3RhdHMgb2JqZWN0IGZvciB0aGlzIGlub2RlLlxuXHQgKiBAdG9kbyBTaG91bGQgcHJvYmFibHkgcmVtb3ZlIHRoaXMgYXQgc29tZSBwb2ludC4gVGhpcyBpc24ndCB0aGVcblx0ICogICAgICAgcmVzcG9uc2liaWxpdHkgb2YgdGhlIEZpbGVJbmRleC5cblx0ICovXG5cdHB1YmxpYyBnZXRTdGF0cygpOiBTdGF0cyB7XG5cdFx0cmV0dXJuIG5ldyBTdGF0cyhGaWxlVHlwZS5ESVJFQ1RPUlksIDQwOTYsIDBvNTU1KTtcblx0fVxuXHQvKipcblx0ICogQWxpYXMgb2YgZ2V0U3RhdHMoKVxuXHQgKiBAdG9kbyBSZW1vdmUgdGhpcyBhdCBzb21lIHBvaW50LiBUaGlzIGlzbid0IHRoZVxuXHQgKiAgICAgICByZXNwb25zaWJpbGl0eSBvZiB0aGUgRmlsZUluZGV4LlxuXHQgKi9cblx0cHVibGljIHRvU3RhdHMoKTogU3RhdHMge1xuXHRcdHJldHVybiB0aGlzLmdldFN0YXRzKCk7XG5cdH1cblx0LyoqXG5cdCAqIFJldHVybnMgdGhlIGRpcmVjdG9yeSBsaXN0aW5nIGZvciB0aGlzIGRpcmVjdG9yeS4gUGF0aHMgaW4gdGhlIGRpcmVjdG9yeSBhcmVcblx0ICogcmVsYXRpdmUgdG8gdGhlIGRpcmVjdG9yeSdzIHBhdGguXG5cdCAqIEByZXR1cm4gVGhlIGRpcmVjdG9yeSBsaXN0aW5nIGZvciB0aGlzIGRpcmVjdG9yeS5cblx0ICovXG5cdHB1YmxpYyBnZXRMaXN0aW5nKCk6IHN0cmluZ1tdIHtcblx0XHRyZXR1cm4gT2JqZWN0LmtleXModGhpcy5fbHMpO1xuXHR9XG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRoZSBpbm9kZSBmb3IgdGhlIGluZGljYXRlZCBpdGVtLCBvciBudWxsIGlmIGl0IGRvZXMgbm90IGV4aXN0LlxuXHQgKiBAcGFyYW0gcCBOYW1lIG9mIGl0ZW0gaW4gdGhpcyBkaXJlY3RvcnkuXG5cdCAqL1xuXHRwdWJsaWMgZ2V0SXRlbShwOiBzdHJpbmcpOiBJbm9kZSB8IG51bGwge1xuXHRcdGNvbnN0IGl0ZW0gPSB0aGlzLl9sc1twXTtcblx0XHRyZXR1cm4gaXRlbSA/IGl0ZW0gOiBudWxsO1xuXHR9XG5cdC8qKlxuXHQgKiBBZGQgdGhlIGdpdmVuIGl0ZW0gdG8gdGhlIGRpcmVjdG9yeSBsaXN0aW5nLiBOb3RlIHRoYXQgdGhlIGdpdmVuIGlub2RlIGlzXG5cdCAqIG5vdCBjb3BpZWQsIGFuZCB3aWxsIGJlIG11dGF0ZWQgYnkgdGhlIERpcklub2RlIGlmIGl0IGlzIGEgRGlySW5vZGUuXG5cdCAqIEBwYXJhbSBwIEl0ZW0gbmFtZSB0byBhZGQgdG8gdGhlIGRpcmVjdG9yeSBsaXN0aW5nLlxuXHQgKiBAcGFyYW0gaW5vZGUgVGhlIGlub2RlIGZvciB0aGVcblx0ICogICBpdGVtIHRvIGFkZCB0byB0aGUgZGlyZWN0b3J5IGlub2RlLlxuXHQgKiBAcmV0dXJuIFRydWUgaWYgaXQgd2FzIGFkZGVkLCBmYWxzZSBpZiBpdCBhbHJlYWR5IGV4aXN0ZWQuXG5cdCAqL1xuXHRwdWJsaWMgYWRkSXRlbShwOiBzdHJpbmcsIGlub2RlOiBJbm9kZSk6IGJvb2xlYW4ge1xuXHRcdGlmIChwIGluIHRoaXMuX2xzKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHRcdHRoaXMuX2xzW3BdID0gaW5vZGU7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblx0LyoqXG5cdCAqIFJlbW92ZXMgdGhlIGdpdmVuIGl0ZW0gZnJvbSB0aGUgZGlyZWN0b3J5IGxpc3RpbmcuXG5cdCAqIEBwYXJhbSBwIE5hbWUgb2YgaXRlbSB0byByZW1vdmUgZnJvbSB0aGUgZGlyZWN0b3J5IGxpc3RpbmcuXG5cdCAqIEByZXR1cm4gUmV0dXJucyB0aGUgaXRlbVxuXHQgKiAgIHJlbW92ZWQsIG9yIG51bGwgaWYgdGhlIGl0ZW0gZGlkIG5vdCBleGlzdC5cblx0ICovXG5cdHB1YmxpYyByZW1JdGVtKHA6IHN0cmluZyk6IElub2RlIHwgbnVsbCB7XG5cdFx0Y29uc3QgaXRlbSA9IHRoaXMuX2xzW3BdO1xuXHRcdGlmIChpdGVtID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0XHRkZWxldGUgdGhpcy5fbHNbcF07XG5cdFx0cmV0dXJuIGl0ZW07XG5cdH1cbn1cblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0ZpbGVJbm9kZTxUPihpbm9kZTogSW5vZGUgfCBudWxsKTogaW5vZGUgaXMgRmlsZUlub2RlPFQ+IHtcblx0cmV0dXJuICEhaW5vZGUgJiYgaW5vZGUuaXNGaWxlKCk7XG59XG5cbi8qKlxuICogQGhpZGRlblxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNEaXJJbm9kZTxUPihpbm9kZTogSW5vZGUgfCBudWxsKTogaW5vZGUgaXMgRGlySW5vZGU8VD4ge1xuXHRyZXR1cm4gISFpbm9kZSAmJiBpbm9kZS5pc0RpcigpO1xufVxuIiwgImltcG9ydCB7IEJhc2VGaWxlU3lzdGVtLCBGaWxlU3lzdGVtLCBCRlNDYWxsYmFjaywgRmlsZVN5c3RlbU9wdGlvbnMgfSBmcm9tICcuLi9jb3JlL2ZpbGVfc3lzdGVtJztcbmltcG9ydCB7IEFwaUVycm9yLCBFcnJvckNvZGUgfSBmcm9tICcuLi9jb3JlL2FwaV9lcnJvcic7XG5pbXBvcnQgeyBGaWxlRmxhZywgQWN0aW9uVHlwZSB9IGZyb20gJy4uL2NvcmUvZmlsZV9mbGFnJztcbmltcG9ydCB7IGNvcHlpbmdTbGljZSB9IGZyb20gJy4uL2NvcmUvdXRpbCc7XG5pbXBvcnQgeyBGaWxlIH0gZnJvbSAnLi4vY29yZS9maWxlJztcbmltcG9ydCB7IGRlZmF1bHQgYXMgU3RhdHMsIEZpbGVQZXJtIH0gZnJvbSAnLi4vY29yZS9zdGF0cyc7XG5pbXBvcnQgeyBOb1N5bmNGaWxlIH0gZnJvbSAnLi4vZ2VuZXJpYy9wcmVsb2FkX2ZpbGUnO1xuaW1wb3J0IHsgeGhySXNBdmFpbGFibGUsIGFzeW5jRG93bmxvYWRGaWxlLCBzeW5jRG93bmxvYWRGaWxlLCBnZXRGaWxlU2l6ZUFzeW5jLCBnZXRGaWxlU2l6ZVN5bmMgfSBmcm9tICcuLi9nZW5lcmljL3hocic7XG5pbXBvcnQgeyBmZXRjaElzQXZhaWxhYmxlLCBmZXRjaEZpbGVBc3luYywgZmV0Y2hGaWxlU2l6ZUFzeW5jIH0gZnJvbSAnLi4vZ2VuZXJpYy9mZXRjaCc7XG5pbXBvcnQgeyBGaWxlSW5kZXgsIGlzRmlsZUlub2RlLCBpc0Rpcklub2RlIH0gZnJvbSAnLi4vZ2VuZXJpYy9maWxlX2luZGV4JztcbmltcG9ydCBDcmVkIGZyb20gJy4uL2NvcmUvY3JlZCc7XG5pbXBvcnQgdHlwZSB7IEJ1ZmZlciB9IGZyb20gJ2J1ZmZlcic7XG5cbi8qKlxuICogVHJ5IHRvIGNvbnZlcnQgdGhlIGdpdmVuIGJ1ZmZlciBpbnRvIGEgc3RyaW5nLCBhbmQgcGFzcyBpdCB0byB0aGUgY2FsbGJhY2suXG4gKiBPcHRpbWl6YXRpb24gdGhhdCByZW1vdmVzIHRoZSBuZWVkZWQgdHJ5L2NhdGNoIGludG8gYSBoZWxwZXIgZnVuY3Rpb24sIGFzXG4gKiB0aGlzIGlzIGFuIHVuY29tbW9uIGNhc2UuXG4gKiBAaGlkZGVuXG4gKi9cbmZ1bmN0aW9uIHRyeVRvU3RyaW5nKGJ1ZmY6IEJ1ZmZlciwgZW5jb2Rpbmc6IEJ1ZmZlckVuY29kaW5nLCBjYjogQkZTQ2FsbGJhY2s8c3RyaW5nPikge1xuXHR0cnkge1xuXHRcdGNiKG51bGwsIGJ1ZmYudG9TdHJpbmcoZW5jb2RpbmcpKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGNiKGUpO1xuXHR9XG59XG5cbi8qKlxuICogQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciBhIEhUVFBSZXF1ZXN0IGZpbGUgc3lzdGVtLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEhUVFBSZXF1ZXN0T3B0aW9ucyB7XG5cdC8vIFVSTCB0byBhIGZpbGUgaW5kZXggYXMgYSBKU09OIGZpbGUgb3IgdGhlIGZpbGUgaW5kZXggb2JqZWN0IGl0c2VsZiwgZ2VuZXJhdGVkIHdpdGggdGhlIG1ha2VfaHR0cF9pbmRleCBzY3JpcHQuXG5cdC8vIERlZmF1bHRzIHRvIGBpbmRleC5qc29uYC5cblx0aW5kZXg/OiBzdHJpbmcgfCBvYmplY3Q7XG5cdC8vIFVzZWQgYXMgdGhlIFVSTCBwcmVmaXggZm9yIGZldGNoZWQgZmlsZXMuXG5cdC8vIERlZmF1bHQ6IEZldGNoIGZpbGVzIHJlbGF0aXZlIHRvIHRoZSBpbmRleC5cblx0YmFzZVVybD86IHN0cmluZztcblx0Ly8gV2hldGhlciB0byBwcmVmZXIgWG1sSHR0cFJlcXVlc3Qgb3IgZmV0Y2ggZm9yIGFzeW5jIG9wZXJhdGlvbnMgaWYgYm90aCBhcmUgYXZhaWxhYmxlLlxuXHQvLyBEZWZhdWx0OiBmYWxzZVxuXHRwcmVmZXJYSFI/OiBib29sZWFuO1xufVxuXG5pbnRlcmZhY2UgQXN5bmNEb3dubG9hZEZpbGVNZXRob2Qge1xuXHQocDogc3RyaW5nLCB0eXBlOiAnYnVmZmVyJywgY2I6IEJGU0NhbGxiYWNrPEJ1ZmZlcj4pOiB2b2lkO1xuXHQocDogc3RyaW5nLCB0eXBlOiAnanNvbicsIGNiOiBCRlNDYWxsYmFjazxhbnk+KTogdm9pZDtcblx0KHA6IHN0cmluZywgdHlwZTogc3RyaW5nLCBjYjogQkZTQ2FsbGJhY2s8YW55Pik6IHZvaWQ7XG59XG5cbmludGVyZmFjZSBTeW5jRG93bmxvYWRGaWxlTWV0aG9kIHtcblx0KHA6IHN0cmluZywgdHlwZTogJ2J1ZmZlcicpOiBCdWZmZXI7XG5cdChwOiBzdHJpbmcsIHR5cGU6ICdqc29uJyk6IGFueTtcblx0KHA6IHN0cmluZywgdHlwZTogc3RyaW5nKTogYW55O1xufVxuXG5mdW5jdGlvbiBzeW5jTm90QXZhaWxhYmxlRXJyb3IoKTogbmV2ZXIge1xuXHR0aHJvdyBuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVOT1RTVVAsIGBTeW5jaHJvbm91cyBIVFRQIGRvd25sb2FkIG1ldGhvZHMgYXJlIG5vdCBhdmFpbGFibGUgaW4gdGhpcyBlbnZpcm9ubWVudC5gKTtcbn1cblxuLyoqXG4gKiBBIHNpbXBsZSBmaWxlc3lzdGVtIGJhY2tlZCBieSBIVFRQIGRvd25sb2Fkcy4gWW91IG11c3QgY3JlYXRlIGEgZGlyZWN0b3J5IGxpc3RpbmcgdXNpbmcgdGhlXG4gKiBgbWFrZV9odHRwX2luZGV4YCB0b29sIHByb3ZpZGVkIGJ5IEJyb3dzZXJGUy5cbiAqXG4gKiBJZiB5b3UgaW5zdGFsbCBCcm93c2VyRlMgZ2xvYmFsbHkgd2l0aCBgbnBtIGkgLWcgYnJvd3NlcmZzYCwgeW91IGNhbiBnZW5lcmF0ZSBhIGxpc3RpbmcgYnlcbiAqIHJ1bm5pbmcgYG1ha2VfaHR0cF9pbmRleGAgaW4geW91ciB0ZXJtaW5hbCBpbiB0aGUgZGlyZWN0b3J5IHlvdSB3b3VsZCBsaWtlIHRvIGluZGV4OlxuICpcbiAqIGBgYFxuICogbWFrZV9odHRwX2luZGV4ID4gaW5kZXguanNvblxuICogYGBgXG4gKlxuICogTGlzdGluZ3Mgb2JqZWN0cyBsb29rIGxpa2UgdGhlIGZvbGxvd2luZzpcbiAqXG4gKiBgYGBqc29uXG4gKiB7XG4gKiAgIFwiaG9tZVwiOiB7XG4gKiAgICAgXCJqdmlsa1wiOiB7XG4gKiAgICAgICBcInNvbWVGaWxlLnR4dFwiOiBudWxsLFxuICogICAgICAgXCJzb21lRGlyXCI6IHtcbiAqICAgICAgICAgLy8gRW1wdHkgZGlyZWN0b3J5XG4gKiAgICAgICB9XG4gKiAgICAgfVxuICogICB9XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiAqVGhpcyBleGFtcGxlIGhhcyB0aGUgZm9sZGVyIGAvaG9tZS9qdmlsa2Agd2l0aCBzdWJmaWxlIGBzb21lRmlsZS50eHRgIGFuZCBzdWJmb2xkZXIgYHNvbWVEaXJgLipcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSFRUUFJlcXVlc3QgZXh0ZW5kcyBCYXNlRmlsZVN5c3RlbSBpbXBsZW1lbnRzIEZpbGVTeXN0ZW0ge1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE5hbWUgPSAnSFRUUFJlcXVlc3QnO1xuXG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgT3B0aW9uczogRmlsZVN5c3RlbU9wdGlvbnMgPSB7XG5cdFx0aW5kZXg6IHtcblx0XHRcdHR5cGU6IFsnc3RyaW5nJywgJ29iamVjdCddLFxuXHRcdFx0b3B0aW9uYWw6IHRydWUsXG5cdFx0XHRkZXNjcmlwdGlvbjogJ1VSTCB0byBhIGZpbGUgaW5kZXggYXMgYSBKU09OIGZpbGUgb3IgdGhlIGZpbGUgaW5kZXggb2JqZWN0IGl0c2VsZiwgZ2VuZXJhdGVkIHdpdGggdGhlIG1ha2VfaHR0cF9pbmRleCBzY3JpcHQuIERlZmF1bHRzIHRvIGBpbmRleC5qc29uYC4nLFxuXHRcdH0sXG5cdFx0YmFzZVVybDoge1xuXHRcdFx0dHlwZTogJ3N0cmluZycsXG5cdFx0XHRvcHRpb25hbDogdHJ1ZSxcblx0XHRcdGRlc2NyaXB0aW9uOiAnVXNlZCBhcyB0aGUgVVJMIHByZWZpeCBmb3IgZmV0Y2hlZCBmaWxlcy4gRGVmYXVsdDogRmV0Y2ggZmlsZXMgcmVsYXRpdmUgdG8gdGhlIGluZGV4LicsXG5cdFx0fSxcblx0XHRwcmVmZXJYSFI6IHtcblx0XHRcdHR5cGU6ICdib29sZWFuJyxcblx0XHRcdG9wdGlvbmFsOiB0cnVlLFxuXHRcdFx0ZGVzY3JpcHRpb246ICdXaGV0aGVyIHRvIHByZWZlciBYbWxIdHRwUmVxdWVzdCBvciBmZXRjaCBmb3IgYXN5bmMgb3BlcmF0aW9ucyBpZiBib3RoIGFyZSBhdmFpbGFibGUuIERlZmF1bHQ6IGZhbHNlJyxcblx0XHR9LFxuXHR9O1xuXG5cdC8qKlxuXHQgKiBDb25zdHJ1Y3QgYW4gSFRUUFJlcXVlc3QgZmlsZSBzeXN0ZW0gYmFja2VuZCB3aXRoIHRoZSBnaXZlbiBvcHRpb25zLlxuXHQgKi9cblx0cHVibGljIHN0YXRpYyBDcmVhdGUob3B0czogSFRUUFJlcXVlc3RPcHRpb25zLCBjYjogQkZTQ2FsbGJhY2s8SFRUUFJlcXVlc3Q+KTogdm9pZCB7XG5cdFx0aWYgKG9wdHMuaW5kZXggPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0b3B0cy5pbmRleCA9IGBpbmRleC5qc29uYDtcblx0XHR9XG5cdFx0aWYgKHR5cGVvZiBvcHRzLmluZGV4ID09PSAnc3RyaW5nJykge1xuXHRcdFx0YXN5bmNEb3dubG9hZEZpbGUob3B0cy5pbmRleCwgJ2pzb24nLCAoZSwgZGF0YT8pID0+IHtcblx0XHRcdFx0aWYgKGUpIHtcblx0XHRcdFx0XHRjYihlKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjYihudWxsLCBuZXcgSFRUUFJlcXVlc3QoZGF0YSwgb3B0cy5iYXNlVXJsKSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjYihudWxsLCBuZXcgSFRUUFJlcXVlc3Qob3B0cy5pbmRleCwgb3B0cy5iYXNlVXJsKSk7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIHN0YXRpYyBDcmVhdGVBc3luYyhvcHRzOiBIVFRQUmVxdWVzdE9wdGlvbnMpOiBQcm9taXNlPEhUVFBSZXF1ZXN0PiB7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdHRoaXMuQ3JlYXRlKG9wdHMsIChlcnJvciwgZnMpID0+IHtcblx0XHRcdFx0aWYgKGVycm9yIHx8ICFmcykge1xuXHRcdFx0XHRcdHJlamVjdChlcnJvcik7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmVzb2x2ZShmcyk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0cHVibGljIHN0YXRpYyBpc0F2YWlsYWJsZSgpOiBib29sZWFuIHtcblx0XHRyZXR1cm4geGhySXNBdmFpbGFibGUgfHwgZmV0Y2hJc0F2YWlsYWJsZTtcblx0fVxuXG5cdHB1YmxpYyByZWFkb25seSBwcmVmaXhVcmw6IHN0cmluZztcblx0cHJpdmF0ZSBfaW5kZXg6IEZpbGVJbmRleDx7fT47XG5cdHByaXZhdGUgX3JlcXVlc3RGaWxlQXN5bmNJbnRlcm5hbDogQXN5bmNEb3dubG9hZEZpbGVNZXRob2Q7XG5cdHByaXZhdGUgX3JlcXVlc3RGaWxlU2l6ZUFzeW5jSW50ZXJuYWw6IChwOiBzdHJpbmcsIGNiOiBCRlNDYWxsYmFjazxudW1iZXI+KSA9PiB2b2lkO1xuXHRwcml2YXRlIF9yZXF1ZXN0RmlsZVN5bmNJbnRlcm5hbDogU3luY0Rvd25sb2FkRmlsZU1ldGhvZDtcblx0cHJpdmF0ZSBfcmVxdWVzdEZpbGVTaXplU3luY0ludGVybmFsOiAocDogc3RyaW5nKSA9PiBudW1iZXI7XG5cblx0cHJpdmF0ZSBjb25zdHJ1Y3RvcihpbmRleDogb2JqZWN0LCBwcmVmaXhVcmw6IHN0cmluZyA9ICcnLCBwcmVmZXJYSFI6IGJvb2xlYW4gPSBmYWxzZSkge1xuXHRcdHN1cGVyKCk7XG5cdFx0Ly8gcHJlZml4X3VybCBtdXN0IGVuZCBpbiBhIGRpcmVjdG9yeSBzZXBhcmF0b3IuXG5cdFx0aWYgKHByZWZpeFVybC5sZW5ndGggPiAwICYmIHByZWZpeFVybC5jaGFyQXQocHJlZml4VXJsLmxlbmd0aCAtIDEpICE9PSAnLycpIHtcblx0XHRcdHByZWZpeFVybCA9IHByZWZpeFVybCArICcvJztcblx0XHR9XG5cdFx0dGhpcy5wcmVmaXhVcmwgPSBwcmVmaXhVcmw7XG5cdFx0dGhpcy5faW5kZXggPSBGaWxlSW5kZXguZnJvbUxpc3RpbmcoaW5kZXgpO1xuXG5cdFx0aWYgKGZldGNoSXNBdmFpbGFibGUgJiYgKCFwcmVmZXJYSFIgfHwgIXhocklzQXZhaWxhYmxlKSkge1xuXHRcdFx0dGhpcy5fcmVxdWVzdEZpbGVBc3luY0ludGVybmFsID0gZmV0Y2hGaWxlQXN5bmM7XG5cdFx0XHR0aGlzLl9yZXF1ZXN0RmlsZVNpemVBc3luY0ludGVybmFsID0gZmV0Y2hGaWxlU2l6ZUFzeW5jO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLl9yZXF1ZXN0RmlsZUFzeW5jSW50ZXJuYWwgPSBhc3luY0Rvd25sb2FkRmlsZTtcblx0XHRcdHRoaXMuX3JlcXVlc3RGaWxlU2l6ZUFzeW5jSW50ZXJuYWwgPSBnZXRGaWxlU2l6ZUFzeW5jO1xuXHRcdH1cblxuXHRcdGlmICh4aHJJc0F2YWlsYWJsZSkge1xuXHRcdFx0dGhpcy5fcmVxdWVzdEZpbGVTeW5jSW50ZXJuYWwgPSBzeW5jRG93bmxvYWRGaWxlO1xuXHRcdFx0dGhpcy5fcmVxdWVzdEZpbGVTaXplU3luY0ludGVybmFsID0gZ2V0RmlsZVNpemVTeW5jO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLl9yZXF1ZXN0RmlsZVN5bmNJbnRlcm5hbCA9IHN5bmNOb3RBdmFpbGFibGVFcnJvcjtcblx0XHRcdHRoaXMuX3JlcXVlc3RGaWxlU2l6ZVN5bmNJbnRlcm5hbCA9IHN5bmNOb3RBdmFpbGFibGVFcnJvcjtcblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgZW1wdHkoKTogdm9pZCB7XG5cdFx0dGhpcy5faW5kZXguZmlsZUl0ZXJhdG9yKGZ1bmN0aW9uIChmaWxlOiBTdGF0cykge1xuXHRcdFx0ZmlsZS5maWxlRGF0YSA9IG51bGw7XG5cdFx0fSk7XG5cdH1cblxuXHRwdWJsaWMgZ2V0TmFtZSgpOiBzdHJpbmcge1xuXHRcdHJldHVybiBIVFRQUmVxdWVzdC5OYW1lO1xuXHR9XG5cblx0cHVibGljIGRpc2tTcGFjZShwYXRoOiBzdHJpbmcsIGNiOiAodG90YWw6IG51bWJlciwgZnJlZTogbnVtYmVyKSA9PiB2b2lkKTogdm9pZCB7XG5cdFx0Ly8gUmVhZC1vbmx5IGZpbGUgc3lzdGVtLiBXZSBjb3VsZCBjYWxjdWxhdGUgdGhlIHRvdGFsIHNwYWNlLCBidXQgdGhhdCdzIG5vdFxuXHRcdC8vIGltcG9ydGFudCByaWdodCBub3cuXG5cdFx0Y2IoMCwgMCk7XG5cdH1cblxuXHRwdWJsaWMgaXNSZWFkT25seSgpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdHB1YmxpYyBzdXBwb3J0c0xpbmtzKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdHB1YmxpYyBzdXBwb3J0c1Byb3BzKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdHB1YmxpYyBzdXBwb3J0c1N5bmNoKCk6IGJvb2xlYW4ge1xuXHRcdC8vIFN5bmNocm9ub3VzIG9wZXJhdGlvbnMgYXJlIG9ubHkgYXZhaWxhYmxlIHZpYSB0aGUgWEhSIGludGVyZmFjZSBmb3Igbm93LlxuXHRcdHJldHVybiB4aHJJc0F2YWlsYWJsZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBTcGVjaWFsIEhUVFBGUyBmdW5jdGlvbjogUHJlbG9hZCB0aGUgZ2l2ZW4gZmlsZSBpbnRvIHRoZSBpbmRleC5cblx0ICogQHBhcmFtIFtTdHJpbmddIHBhdGhcblx0ICogQHBhcmFtIFtCcm93c2VyRlMuQnVmZmVyXSBidWZmZXJcblx0ICovXG5cdHB1YmxpYyBwcmVsb2FkRmlsZShwYXRoOiBzdHJpbmcsIGJ1ZmZlcjogQnVmZmVyKTogdm9pZCB7XG5cdFx0Y29uc3QgaW5vZGUgPSB0aGlzLl9pbmRleC5nZXRJbm9kZShwYXRoKTtcblx0XHRpZiAoaXNGaWxlSW5vZGU8U3RhdHM+KGlub2RlKSkge1xuXHRcdFx0aWYgKGlub2RlID09PSBudWxsKSB7XG5cdFx0XHRcdHRocm93IEFwaUVycm9yLkVOT0VOVChwYXRoKTtcblx0XHRcdH1cblx0XHRcdGNvbnN0IHN0YXRzID0gaW5vZGUuZ2V0RGF0YSgpO1xuXHRcdFx0c3RhdHMuc2l6ZSA9IGJ1ZmZlci5sZW5ndGg7XG5cdFx0XHRzdGF0cy5maWxlRGF0YSA9IGJ1ZmZlcjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhyb3cgQXBpRXJyb3IuRUlTRElSKHBhdGgpO1xuXHRcdH1cblx0fVxuXG5cdHB1YmxpYyBzdGF0KHBhdGg6IHN0cmluZywgaXNMc3RhdDogYm9vbGVhbiwgY3JlZDogQ3JlZCwgY2I6IEJGU0NhbGxiYWNrPFN0YXRzPik6IHZvaWQge1xuXHRcdGNvbnN0IGlub2RlID0gdGhpcy5faW5kZXguZ2V0SW5vZGUocGF0aCk7XG5cdFx0aWYgKGlub2RlID09PSBudWxsKSB7XG5cdFx0XHRyZXR1cm4gY2IoQXBpRXJyb3IuRU5PRU5UKHBhdGgpKTtcblx0XHR9XG5cdFx0bGV0IHN0YXRzOiBTdGF0cztcblx0XHRpZiAoIWlub2RlIS50b1N0YXRzKCkuaGFzQWNjZXNzKEZpbGVQZXJtLlJFQUQsIGNyZWQpKSB7XG5cdFx0XHRyZXR1cm4gY2IoQXBpRXJyb3IuRUFDQ0VTKHBhdGgpKTtcblx0XHR9XG5cdFx0aWYgKGlzRmlsZUlub2RlPFN0YXRzPihpbm9kZSkpIHtcblx0XHRcdHN0YXRzID0gaW5vZGUuZ2V0RGF0YSgpO1xuXHRcdFx0Ly8gQXQgdGhpcyBwb2ludCwgYSBub24tb3BlbmVkIGZpbGUgd2lsbCBzdGlsbCBoYXZlIGRlZmF1bHQgc3RhdHMgZnJvbSB0aGUgbGlzdGluZy5cblx0XHRcdGlmIChzdGF0cy5zaXplIDwgMCkge1xuXHRcdFx0XHR0aGlzLl9yZXF1ZXN0RmlsZVNpemVBc3luYyhwYXRoLCBmdW5jdGlvbiAoZTogQXBpRXJyb3IsIHNpemU/OiBudW1iZXIpIHtcblx0XHRcdFx0XHRpZiAoZSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGNiKGUpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRzdGF0cy5zaXplID0gc2l6ZSE7XG5cdFx0XHRcdFx0Y2IobnVsbCwgU3RhdHMuY2xvbmUoc3RhdHMpKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjYihudWxsLCBTdGF0cy5jbG9uZShzdGF0cykpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAoaXNEaXJJbm9kZShpbm9kZSkpIHtcblx0XHRcdHN0YXRzID0gaW5vZGUuZ2V0U3RhdHMoKTtcblx0XHRcdGNiKG51bGwsIHN0YXRzKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y2IoQXBpRXJyb3IuRmlsZUVycm9yKEVycm9yQ29kZS5FSU5WQUwsIHBhdGgpKTtcblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgc3RhdFN5bmMocGF0aDogc3RyaW5nLCBpc0xzdGF0OiBib29sZWFuLCBjcmVkOiBDcmVkKTogU3RhdHMge1xuXHRcdGNvbnN0IGlub2RlID0gdGhpcy5faW5kZXguZ2V0SW5vZGUocGF0aCk7XG5cdFx0aWYgKGlub2RlID09PSBudWxsKSB7XG5cdFx0XHR0aHJvdyBBcGlFcnJvci5FTk9FTlQocGF0aCk7XG5cdFx0fVxuXHRcdGlmICghaW5vZGUudG9TdGF0cygpLmhhc0FjY2VzcyhGaWxlUGVybS5SRUFELCBjcmVkKSkge1xuXHRcdFx0dGhyb3cgQXBpRXJyb3IuRUFDQ0VTKHBhdGgpO1xuXHRcdH1cblx0XHRsZXQgc3RhdHM6IFN0YXRzO1xuXHRcdGlmIChpc0ZpbGVJbm9kZTxTdGF0cz4oaW5vZGUpKSB7XG5cdFx0XHRzdGF0cyA9IGlub2RlLmdldERhdGEoKTtcblx0XHRcdC8vIEF0IHRoaXMgcG9pbnQsIGEgbm9uLW9wZW5lZCBmaWxlIHdpbGwgc3RpbGwgaGF2ZSBkZWZhdWx0IHN0YXRzIGZyb20gdGhlIGxpc3RpbmcuXG5cdFx0XHRpZiAoc3RhdHMuc2l6ZSA8IDApIHtcblx0XHRcdFx0c3RhdHMuc2l6ZSA9IHRoaXMuX3JlcXVlc3RGaWxlU2l6ZVN5bmMocGF0aCk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmIChpc0Rpcklub2RlKGlub2RlKSkge1xuXHRcdFx0c3RhdHMgPSBpbm9kZS5nZXRTdGF0cygpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aHJvdyBBcGlFcnJvci5GaWxlRXJyb3IoRXJyb3JDb2RlLkVJTlZBTCwgcGF0aCk7XG5cdFx0fVxuXHRcdHJldHVybiBzdGF0cztcblx0fVxuXG5cdHB1YmxpYyBvcGVuKHBhdGg6IHN0cmluZywgZmxhZ3M6IEZpbGVGbGFnLCBtb2RlOiBudW1iZXIsIGNyZWQ6IENyZWQsIGNiOiBCRlNDYWxsYmFjazxGaWxlPik6IHZvaWQge1xuXHRcdC8vIElOVkFSSUFOVDogWW91IGNhbid0IHdyaXRlIHRvIGZpbGVzIG9uIHRoaXMgZmlsZSBzeXN0ZW0uXG5cdFx0aWYgKGZsYWdzLmlzV3JpdGVhYmxlKCkpIHtcblx0XHRcdHJldHVybiBjYihuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVQRVJNLCBwYXRoKSk7XG5cdFx0fVxuXHRcdGNvbnN0IHNlbGYgPSB0aGlzO1xuXHRcdC8vIENoZWNrIGlmIHRoZSBwYXRoIGV4aXN0cywgYW5kIGlzIGEgZmlsZS5cblx0XHRjb25zdCBpbm9kZSA9IHRoaXMuX2luZGV4LmdldElub2RlKHBhdGgpO1xuXHRcdGlmIChpbm9kZSA9PT0gbnVsbCkge1xuXHRcdFx0cmV0dXJuIGNiKEFwaUVycm9yLkVOT0VOVChwYXRoKSk7XG5cdFx0fVxuXHRcdGlmICghaW5vZGUudG9TdGF0cygpLmhhc0FjY2VzcyhmbGFncy5nZXRNb2RlKCksIGNyZWQpKSB7XG5cdFx0XHRyZXR1cm4gY2IoQXBpRXJyb3IuRUFDQ0VTKHBhdGgpKTtcblx0XHR9XG5cdFx0aWYgKGlzRmlsZUlub2RlPFN0YXRzPihpbm9kZSkgfHwgaXNEaXJJbm9kZTxTdGF0cz4oaW5vZGUpKSB7XG5cdFx0XHRzd2l0Y2ggKGZsYWdzLnBhdGhFeGlzdHNBY3Rpb24oKSkge1xuXHRcdFx0XHRjYXNlIEFjdGlvblR5cGUuVEhST1dfRVhDRVBUSU9OOlxuXHRcdFx0XHRjYXNlIEFjdGlvblR5cGUuVFJVTkNBVEVfRklMRTpcblx0XHRcdFx0XHRyZXR1cm4gY2IoQXBpRXJyb3IuRUVYSVNUKHBhdGgpKTtcblx0XHRcdFx0Y2FzZSBBY3Rpb25UeXBlLk5PUDpcblx0XHRcdFx0XHRpZiAoaXNEaXJJbm9kZTxTdGF0cz4oaW5vZGUpKSB7XG5cdFx0XHRcdFx0XHRjb25zdCBzdGF0cyA9IGlub2RlLmdldFN0YXRzKCk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gY2IobnVsbCwgbmV3IE5vU3luY0ZpbGUoc2VsZiwgcGF0aCwgZmxhZ3MsIHN0YXRzLCBzdGF0cy5maWxlRGF0YSB8fCB1bmRlZmluZWQpKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y29uc3Qgc3RhdHMgPSBpbm9kZS5nZXREYXRhKCk7XG5cdFx0XHRcdFx0Ly8gVXNlIGV4aXN0aW5nIGZpbGUgY29udGVudHMuXG5cdFx0XHRcdFx0Ly8gWFhYOiBVaCwgdGhpcyBtYWludGFpbnMgdGhlIHByZXZpb3VzbHktdXNlZCBmbGFnLlxuXHRcdFx0XHRcdGlmIChzdGF0cy5maWxlRGF0YSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGNiKG51bGwsIG5ldyBOb1N5bmNGaWxlKHNlbGYsIHBhdGgsIGZsYWdzLCBTdGF0cy5jbG9uZShzdGF0cyksIHN0YXRzLmZpbGVEYXRhKSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdC8vIEB0b2RvIGJlIGxhemllciBhYm91dCBhY3R1YWxseSByZXF1ZXN0aW5nIHRoZSBmaWxlXG5cdFx0XHRcdFx0dGhpcy5fcmVxdWVzdEZpbGVBc3luYyhwYXRoLCAnYnVmZmVyJywgZnVuY3Rpb24gKGVycjogQXBpRXJyb3IsIGJ1ZmZlcj86IEJ1ZmZlcikge1xuXHRcdFx0XHRcdFx0aWYgKGVycikge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gY2IoZXJyKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdC8vIHdlIGRvbid0IGluaXRpYWxseSBoYXZlIGZpbGUgc2l6ZXNcblx0XHRcdFx0XHRcdHN0YXRzLnNpemUgPSBidWZmZXIhLmxlbmd0aDtcblx0XHRcdFx0XHRcdHN0YXRzLmZpbGVEYXRhID0gYnVmZmVyITtcblx0XHRcdFx0XHRcdHJldHVybiBjYihudWxsLCBuZXcgTm9TeW5jRmlsZShzZWxmLCBwYXRoLCBmbGFncywgU3RhdHMuY2xvbmUoc3RhdHMpLCBidWZmZXIpKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRyZXR1cm4gY2IobmV3IEFwaUVycm9yKEVycm9yQ29kZS5FSU5WQUwsICdJbnZhbGlkIEZpbGVNb2RlIG9iamVjdC4nKSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBjYihBcGlFcnJvci5FUEVSTShwYXRoKSk7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIG9wZW5TeW5jKHBhdGg6IHN0cmluZywgZmxhZ3M6IEZpbGVGbGFnLCBtb2RlOiBudW1iZXIsIGNyZWQ6IENyZWQpOiBGaWxlIHtcblx0XHQvLyBJTlZBUklBTlQ6IFlvdSBjYW4ndCB3cml0ZSB0byBmaWxlcyBvbiB0aGlzIGZpbGUgc3lzdGVtLlxuXHRcdGlmIChmbGFncy5pc1dyaXRlYWJsZSgpKSB7XG5cdFx0XHR0aHJvdyBuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVQRVJNLCBwYXRoKTtcblx0XHR9XG5cdFx0Ly8gQ2hlY2sgaWYgdGhlIHBhdGggZXhpc3RzLCBhbmQgaXMgYSBmaWxlLlxuXHRcdGNvbnN0IGlub2RlID0gdGhpcy5faW5kZXguZ2V0SW5vZGUocGF0aCk7XG5cdFx0aWYgKGlub2RlID09PSBudWxsKSB7XG5cdFx0XHR0aHJvdyBBcGlFcnJvci5FTk9FTlQocGF0aCk7XG5cdFx0fVxuXHRcdGlmICghaW5vZGUudG9TdGF0cygpLmhhc0FjY2VzcyhmbGFncy5nZXRNb2RlKCksIGNyZWQpKSB7XG5cdFx0XHR0aHJvdyBBcGlFcnJvci5FQUNDRVMocGF0aCk7XG5cdFx0fVxuXHRcdGlmIChpc0ZpbGVJbm9kZTxTdGF0cz4oaW5vZGUpIHx8IGlzRGlySW5vZGU8U3RhdHM+KGlub2RlKSkge1xuXHRcdFx0c3dpdGNoIChmbGFncy5wYXRoRXhpc3RzQWN0aW9uKCkpIHtcblx0XHRcdFx0Y2FzZSBBY3Rpb25UeXBlLlRIUk9XX0VYQ0VQVElPTjpcblx0XHRcdFx0Y2FzZSBBY3Rpb25UeXBlLlRSVU5DQVRFX0ZJTEU6XG5cdFx0XHRcdFx0dGhyb3cgQXBpRXJyb3IuRUVYSVNUKHBhdGgpO1xuXHRcdFx0XHRjYXNlIEFjdGlvblR5cGUuTk9QOlxuXHRcdFx0XHRcdGlmIChpc0Rpcklub2RlPFN0YXRzPihpbm9kZSkpIHtcblx0XHRcdFx0XHRcdGNvbnN0IHN0YXRzID0gaW5vZGUuZ2V0U3RhdHMoKTtcblx0XHRcdFx0XHRcdHJldHVybiBuZXcgTm9TeW5jRmlsZSh0aGlzLCBwYXRoLCBmbGFncywgc3RhdHMsIHN0YXRzLmZpbGVEYXRhIHx8IHVuZGVmaW5lZCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNvbnN0IHN0YXRzID0gaW5vZGUuZ2V0RGF0YSgpO1xuXHRcdFx0XHRcdC8vIFVzZSBleGlzdGluZyBmaWxlIGNvbnRlbnRzLlxuXHRcdFx0XHRcdC8vIFhYWDogVWgsIHRoaXMgbWFpbnRhaW5zIHRoZSBwcmV2aW91c2x5LXVzZWQgZmxhZy5cblx0XHRcdFx0XHRpZiAoc3RhdHMuZmlsZURhdGEpIHtcblx0XHRcdFx0XHRcdHJldHVybiBuZXcgTm9TeW5jRmlsZSh0aGlzLCBwYXRoLCBmbGFncywgU3RhdHMuY2xvbmUoc3RhdHMpLCBzdGF0cy5maWxlRGF0YSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdC8vIEB0b2RvIGJlIGxhemllciBhYm91dCBhY3R1YWxseSByZXF1ZXN0aW5nIHRoZSBmaWxlXG5cdFx0XHRcdFx0Y29uc3QgYnVmZmVyID0gdGhpcy5fcmVxdWVzdEZpbGVTeW5jKHBhdGgsICdidWZmZXInKTtcblx0XHRcdFx0XHQvLyB3ZSBkb24ndCBpbml0aWFsbHkgaGF2ZSBmaWxlIHNpemVzXG5cdFx0XHRcdFx0c3RhdHMuc2l6ZSA9IGJ1ZmZlci5sZW5ndGg7XG5cdFx0XHRcdFx0c3RhdHMuZmlsZURhdGEgPSBidWZmZXI7XG5cdFx0XHRcdFx0cmV0dXJuIG5ldyBOb1N5bmNGaWxlKHRoaXMsIHBhdGgsIGZsYWdzLCBTdGF0cy5jbG9uZShzdGF0cyksIGJ1ZmZlcik7XG5cdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEFwaUVycm9yKEVycm9yQ29kZS5FSU5WQUwsICdJbnZhbGlkIEZpbGVNb2RlIG9iamVjdC4nKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhyb3cgQXBpRXJyb3IuRVBFUk0ocGF0aCk7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIHJlYWRkaXIocGF0aDogc3RyaW5nLCBjcmVkOiBDcmVkLCBjYjogQkZTQ2FsbGJhY2s8c3RyaW5nW10+KTogdm9pZCB7XG5cdFx0dHJ5IHtcblx0XHRcdGNiKG51bGwsIHRoaXMucmVhZGRpclN5bmMocGF0aCwgY3JlZCkpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGNiKGUpO1xuXHRcdH1cblx0fVxuXG5cdHB1YmxpYyByZWFkZGlyU3luYyhwYXRoOiBzdHJpbmcsIGNyZWQ6IENyZWQpOiBzdHJpbmdbXSB7XG5cdFx0Ly8gQ2hlY2sgaWYgaXQgZXhpc3RzLlxuXHRcdGNvbnN0IGlub2RlID0gdGhpcy5faW5kZXguZ2V0SW5vZGUocGF0aCk7XG5cdFx0aWYgKGlub2RlID09PSBudWxsKSB7XG5cdFx0XHR0aHJvdyBBcGlFcnJvci5FTk9FTlQocGF0aCk7XG5cdFx0fSBlbHNlIGlmICghaW5vZGUudG9TdGF0cygpLmhhc0FjY2VzcyhGaWxlUGVybS5SRUFELCBjcmVkKSkge1xuXHRcdFx0dGhyb3cgQXBpRXJyb3IuRUFDQ0VTKHBhdGgpO1xuXHRcdH0gZWxzZSBpZiAoaXNEaXJJbm9kZShpbm9kZSkpIHtcblx0XHRcdHJldHVybiBpbm9kZS5nZXRMaXN0aW5nKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRocm93IEFwaUVycm9yLkVOT1RESVIocGF0aCk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFdlIGhhdmUgdGhlIGVudGlyZSBmaWxlIGFzIGEgYnVmZmVyOyBvcHRpbWl6ZSByZWFkRmlsZS5cblx0ICovXG5cdHB1YmxpYyByZWFkRmlsZShmbmFtZTogc3RyaW5nLCBlbmNvZGluZzogQnVmZmVyRW5jb2RpbmcsIGZsYWc6IEZpbGVGbGFnLCBjcmVkOiBDcmVkLCBjYjogQkZTQ2FsbGJhY2s8c3RyaW5nIHwgQnVmZmVyPik6IHZvaWQge1xuXHRcdC8vIFdyYXAgY2IgaW4gZmlsZSBjbG9zaW5nIGNvZGUuXG5cdFx0Y29uc3Qgb2xkQ2IgPSBjYjtcblx0XHQvLyBHZXQgZmlsZS5cblx0XHR0aGlzLm9wZW4oZm5hbWUsIGZsYWcsIDB4MWE0LCBjcmVkLCBmdW5jdGlvbiAoZXJyOiBBcGlFcnJvciwgZmQ/OiBGaWxlKSB7XG5cdFx0XHRpZiAoZXJyKSB7XG5cdFx0XHRcdHJldHVybiBjYihlcnIpO1xuXHRcdFx0fVxuXHRcdFx0Y2IgPSBmdW5jdGlvbiAoZXJyOiBBcGlFcnJvciwgYXJnPzogQnVmZmVyKSB7XG5cdFx0XHRcdGZkIS5jbG9zZShmdW5jdGlvbiAoZXJyMjogYW55KSB7XG5cdFx0XHRcdFx0aWYgKCFlcnIpIHtcblx0XHRcdFx0XHRcdGVyciA9IGVycjI7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiBvbGRDYihlcnIsIGFyZyk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fTtcblx0XHRcdGNvbnN0IGZkQ2FzdCA9IDxOb1N5bmNGaWxlPEhUVFBSZXF1ZXN0Pj5mZDtcblx0XHRcdGNvbnN0IGZkQnVmZiA9IDxCdWZmZXI+ZmRDYXN0LmdldEJ1ZmZlcigpO1xuXHRcdFx0aWYgKGVuY29kaW5nID09PSBudWxsKSB7XG5cdFx0XHRcdGNiKGVyciwgY29weWluZ1NsaWNlKGZkQnVmZikpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dHJ5VG9TdHJpbmcoZmRCdWZmLCBlbmNvZGluZywgY2IpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIFNwZWNpYWxseS1vcHRpbWl6ZWQgcmVhZGZpbGUuXG5cdCAqL1xuXHRwdWJsaWMgcmVhZEZpbGVTeW5jKGZuYW1lOiBzdHJpbmcsIGVuY29kaW5nOiBCdWZmZXJFbmNvZGluZywgZmxhZzogRmlsZUZsYWcsIGNyZWQ6IENyZWQpOiBhbnkge1xuXHRcdC8vIEdldCBmaWxlLlxuXHRcdGNvbnN0IGZkID0gdGhpcy5vcGVuU3luYyhmbmFtZSwgZmxhZywgMHgxYTQsIGNyZWQpO1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBmZENhc3QgPSA8Tm9TeW5jRmlsZTxIVFRQUmVxdWVzdD4+ZmQ7XG5cdFx0XHRjb25zdCBmZEJ1ZmYgPSA8QnVmZmVyPmZkQ2FzdC5nZXRCdWZmZXIoKTtcblx0XHRcdGlmIChlbmNvZGluZyA9PT0gbnVsbCkge1xuXHRcdFx0XHRyZXR1cm4gY29weWluZ1NsaWNlKGZkQnVmZik7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZmRCdWZmLnRvU3RyaW5nKGVuY29kaW5nKTtcblx0XHR9IGZpbmFsbHkge1xuXHRcdFx0ZmQuY2xvc2VTeW5jKCk7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBfZ2V0SFRUUFBhdGgoZmlsZVBhdGg6IHN0cmluZyk6IHN0cmluZyB7XG5cdFx0aWYgKGZpbGVQYXRoLmNoYXJBdCgwKSA9PT0gJy8nKSB7XG5cdFx0XHRmaWxlUGF0aCA9IGZpbGVQYXRoLnNsaWNlKDEpO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5wcmVmaXhVcmwgKyBmaWxlUGF0aDtcblx0fVxuXG5cdC8qKlxuXHQgKiBBc3luY2hyb25vdXNseSBkb3dubG9hZCB0aGUgZ2l2ZW4gZmlsZS5cblx0ICovXG5cdHByaXZhdGUgX3JlcXVlc3RGaWxlQXN5bmMocDogc3RyaW5nLCB0eXBlOiAnYnVmZmVyJywgY2I6IEJGU0NhbGxiYWNrPEJ1ZmZlcj4pOiB2b2lkO1xuXHRwcml2YXRlIF9yZXF1ZXN0RmlsZUFzeW5jKHA6IHN0cmluZywgdHlwZTogJ2pzb24nLCBjYjogQkZTQ2FsbGJhY2s8YW55Pik6IHZvaWQ7XG5cdHByaXZhdGUgX3JlcXVlc3RGaWxlQXN5bmMocDogc3RyaW5nLCB0eXBlOiBzdHJpbmcsIGNiOiBCRlNDYWxsYmFjazxhbnk+KTogdm9pZDtcblx0cHJpdmF0ZSBfcmVxdWVzdEZpbGVBc3luYyhwOiBzdHJpbmcsIHR5cGU6IHN0cmluZywgY2I6IEJGU0NhbGxiYWNrPGFueT4pOiB2b2lkIHtcblx0XHR0aGlzLl9yZXF1ZXN0RmlsZUFzeW5jSW50ZXJuYWwodGhpcy5fZ2V0SFRUUFBhdGgocCksIHR5cGUsIGNiKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBTeW5jaHJvbm91c2x5IGRvd25sb2FkIHRoZSBnaXZlbiBmaWxlLlxuXHQgKi9cblx0cHJpdmF0ZSBfcmVxdWVzdEZpbGVTeW5jKHA6IHN0cmluZywgdHlwZTogJ2J1ZmZlcicpOiBCdWZmZXI7XG5cdHByaXZhdGUgX3JlcXVlc3RGaWxlU3luYyhwOiBzdHJpbmcsIHR5cGU6ICdqc29uJyk6IGFueTtcblx0cHJpdmF0ZSBfcmVxdWVzdEZpbGVTeW5jKHA6IHN0cmluZywgdHlwZTogc3RyaW5nKTogYW55O1xuXHRwcml2YXRlIF9yZXF1ZXN0RmlsZVN5bmMocDogc3RyaW5nLCB0eXBlOiBzdHJpbmcpOiBhbnkge1xuXHRcdHJldHVybiB0aGlzLl9yZXF1ZXN0RmlsZVN5bmNJbnRlcm5hbCh0aGlzLl9nZXRIVFRQUGF0aChwKSwgdHlwZSk7XG5cdH1cblxuXHQvKipcblx0ICogT25seSByZXF1ZXN0cyB0aGUgSEVBRCBjb250ZW50LCBmb3IgdGhlIGZpbGUgc2l6ZS5cblx0ICovXG5cdHByaXZhdGUgX3JlcXVlc3RGaWxlU2l6ZUFzeW5jKHBhdGg6IHN0cmluZywgY2I6IEJGU0NhbGxiYWNrPG51bWJlcj4pOiB2b2lkIHtcblx0XHR0aGlzLl9yZXF1ZXN0RmlsZVNpemVBc3luY0ludGVybmFsKHRoaXMuX2dldEhUVFBQYXRoKHBhdGgpLCBjYik7XG5cdH1cblxuXHRwcml2YXRlIF9yZXF1ZXN0RmlsZVNpemVTeW5jKHBhdGg6IHN0cmluZyk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuX3JlcXVlc3RGaWxlU2l6ZVN5bmNJbnRlcm5hbCh0aGlzLl9nZXRIVFRQUGF0aChwYXRoKSk7XG5cdH1cbn1cbiIsICJpbXBvcnQgdHlwZSB7IEJ1ZmZlciB9IGZyb20gJ2J1ZmZlcic7XG4vKipcbiAqIChOb25zdGFuZGFyZCkgU3RyaW5nIHV0aWxpdHkgZnVuY3Rpb24gZm9yIDgtYml0IEFTQ0lJIHdpdGggdGhlIGV4dGVuZGVkXG4gKiBjaGFyYWN0ZXIgc2V0LiBVbmxpa2UgdGhlIEFTQ0lJIGFib3ZlLCB3ZSBkbyBub3QgbWFzayB0aGUgaGlnaCBiaXRzLlxuICpcbiAqIFBsYWNlZCBpbnRvIGEgc2VwYXJhdGUgZmlsZSBzbyBpdCBjYW4gYmUgdXNlZCB3aXRoIG90aGVyIEJ1ZmZlciBpbXBsZW1lbnRhdGlvbnMuXG4gKiBAc2VlIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRXh0ZW5kZWRfQVNDSUlcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXh0ZW5kZWRBU0NJSSB7XG5cdHByaXZhdGUgc3RhdGljIGV4dGVuZGVkQ2hhcnMgPSBbXG5cdFx0J1xcdTAwQzcnLFxuXHRcdCdcXHUwMEZDJyxcblx0XHQnXFx1MDBFOScsXG5cdFx0J1xcdTAwRTInLFxuXHRcdCdcXHUwMEU0Jyxcblx0XHQnXFx1MDBFMCcsXG5cdFx0J1xcdTAwRTUnLFxuXHRcdCdcXHUwMEU3Jyxcblx0XHQnXFx1MDBFQScsXG5cdFx0J1xcdTAwRUInLFxuXHRcdCdcXHUwMEU4Jyxcblx0XHQnXFx1MDBFRicsXG5cdFx0J1xcdTAwRUUnLFxuXHRcdCdcXHUwMEVDJyxcblx0XHQnXFx1MDBDNCcsXG5cdFx0J1xcdTAwQzUnLFxuXHRcdCdcXHUwMEM5Jyxcblx0XHQnXFx1MDBFNicsXG5cdFx0J1xcdTAwQzYnLFxuXHRcdCdcXHUwMEY0Jyxcblx0XHQnXFx1MDBGNicsXG5cdFx0J1xcdTAwRjInLFxuXHRcdCdcXHUwMEZCJyxcblx0XHQnXFx1MDBGOScsXG5cdFx0J1xcdTAwRkYnLFxuXHRcdCdcXHUwMEQ2Jyxcblx0XHQnXFx1MDBEQycsXG5cdFx0J1xcdTAwRjgnLFxuXHRcdCdcXHUwMEEzJyxcblx0XHQnXFx1MDBEOCcsXG5cdFx0J1xcdTAwRDcnLFxuXHRcdCdcXHUwMTkyJyxcblx0XHQnXFx1MDBFMScsXG5cdFx0J1xcdTAwRUQnLFxuXHRcdCdcXHUwMEYzJyxcblx0XHQnXFx1MDBGQScsXG5cdFx0J1xcdTAwRjEnLFxuXHRcdCdcXHUwMEQxJyxcblx0XHQnXFx1MDBBQScsXG5cdFx0J1xcdTAwQkEnLFxuXHRcdCdcXHUwMEJGJyxcblx0XHQnXFx1MDBBRScsXG5cdFx0J1xcdTAwQUMnLFxuXHRcdCdcXHUwMEJEJyxcblx0XHQnXFx1MDBCQycsXG5cdFx0J1xcdTAwQTEnLFxuXHRcdCdcXHUwMEFCJyxcblx0XHQnXFx1MDBCQicsXG5cdFx0J18nLFxuXHRcdCdfJyxcblx0XHQnXycsXG5cdFx0J1xcdTAwQTYnLFxuXHRcdCdcXHUwMEE2Jyxcblx0XHQnXFx1MDBDMScsXG5cdFx0J1xcdTAwQzInLFxuXHRcdCdcXHUwMEMwJyxcblx0XHQnXFx1MDBBOScsXG5cdFx0J1xcdTAwQTYnLFxuXHRcdCdcXHUwMEE2Jyxcblx0XHQnKycsXG5cdFx0JysnLFxuXHRcdCdcXHUwMEEyJyxcblx0XHQnXFx1MDBBNScsXG5cdFx0JysnLFxuXHRcdCcrJyxcblx0XHQnLScsXG5cdFx0Jy0nLFxuXHRcdCcrJyxcblx0XHQnLScsXG5cdFx0JysnLFxuXHRcdCdcXHUwMEUzJyxcblx0XHQnXFx1MDBDMycsXG5cdFx0JysnLFxuXHRcdCcrJyxcblx0XHQnLScsXG5cdFx0Jy0nLFxuXHRcdCdcXHUwMEE2Jyxcblx0XHQnLScsXG5cdFx0JysnLFxuXHRcdCdcXHUwMEE0Jyxcblx0XHQnXFx1MDBGMCcsXG5cdFx0J1xcdTAwRDAnLFxuXHRcdCdcXHUwMENBJyxcblx0XHQnXFx1MDBDQicsXG5cdFx0J1xcdTAwQzgnLFxuXHRcdCdpJyxcblx0XHQnXFx1MDBDRCcsXG5cdFx0J1xcdTAwQ0UnLFxuXHRcdCdcXHUwMENGJyxcblx0XHQnKycsXG5cdFx0JysnLFxuXHRcdCdfJyxcblx0XHQnXycsXG5cdFx0J1xcdTAwQTYnLFxuXHRcdCdcXHUwMENDJyxcblx0XHQnXycsXG5cdFx0J1xcdTAwRDMnLFxuXHRcdCdcXHUwMERGJyxcblx0XHQnXFx1MDBENCcsXG5cdFx0J1xcdTAwRDInLFxuXHRcdCdcXHUwMEY1Jyxcblx0XHQnXFx1MDBENScsXG5cdFx0J1xcdTAwQjUnLFxuXHRcdCdcXHUwMEZFJyxcblx0XHQnXFx1MDBERScsXG5cdFx0J1xcdTAwREEnLFxuXHRcdCdcXHUwMERCJyxcblx0XHQnXFx1MDBEOScsXG5cdFx0J1xcdTAwRkQnLFxuXHRcdCdcXHUwMEREJyxcblx0XHQnXFx1MDBBRicsXG5cdFx0J1xcdTAwQjQnLFxuXHRcdCdcXHUwMEFEJyxcblx0XHQnXFx1MDBCMScsXG5cdFx0J18nLFxuXHRcdCdcXHUwMEJFJyxcblx0XHQnXFx1MDBCNicsXG5cdFx0J1xcdTAwQTcnLFxuXHRcdCdcXHUwMEY3Jyxcblx0XHQnXFx1MDBCOCcsXG5cdFx0J1xcdTAwQjAnLFxuXHRcdCdcXHUwMEE4Jyxcblx0XHQnXFx1MDBCNycsXG5cdFx0J1xcdTAwQjknLFxuXHRcdCdcXHUwMEIzJyxcblx0XHQnXFx1MDBCMicsXG5cdFx0J18nLFxuXHRcdCcgJyxcblx0XTtcblxuXHRwdWJsaWMgc3RhdGljIHN0cjJieXRlKHN0cjogc3RyaW5nLCBidWY6IEJ1ZmZlcik6IG51bWJlciB7XG5cdFx0Y29uc3QgbGVuZ3RoID0gc3RyLmxlbmd0aCA+IGJ1Zi5sZW5ndGggPyBidWYubGVuZ3RoIDogc3RyLmxlbmd0aDtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdFx0XHRsZXQgY2hhckNvZGUgPSBzdHIuY2hhckNvZGVBdChpKTtcblx0XHRcdGlmIChjaGFyQ29kZSA+IDB4N2YpIHtcblx0XHRcdFx0Ly8gQ2hlY2sgaWYgZXh0ZW5kZWQgQVNDSUkuXG5cdFx0XHRcdGNvbnN0IGNoYXJJZHggPSBFeHRlbmRlZEFTQ0lJLmV4dGVuZGVkQ2hhcnMuaW5kZXhPZihzdHIuY2hhckF0KGkpKTtcblx0XHRcdFx0aWYgKGNoYXJJZHggPiAtMSkge1xuXHRcdFx0XHRcdGNoYXJDb2RlID0gY2hhcklkeCArIDB4ODA7XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gT3RoZXJ3aXNlLCBrZWVwIGl0IGFzLWlzLlxuXHRcdFx0fVxuXHRcdFx0YnVmW2NoYXJDb2RlXSA9IGk7XG5cdFx0fVxuXHRcdHJldHVybiBsZW5ndGg7XG5cdH1cblxuXHRwdWJsaWMgc3RhdGljIGJ5dGUyc3RyKGJ1ZmY6IEJ1ZmZlcik6IHN0cmluZyB7XG5cdFx0Y29uc3QgY2hhcnMgPSBuZXcgQXJyYXkoYnVmZi5sZW5ndGgpO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgYnVmZi5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y29uc3QgY2hhckNvZGUgPSBidWZmW2ldO1xuXHRcdFx0aWYgKGNoYXJDb2RlID4gMHg3Zikge1xuXHRcdFx0XHRjaGFyc1tpXSA9IEV4dGVuZGVkQVNDSUkuZXh0ZW5kZWRDaGFyc1tjaGFyQ29kZSAtIDEyOF07XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjaGFyc1tpXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoY2hhckNvZGUpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gY2hhcnMuam9pbignJyk7XG5cdH1cblxuXHRwdWJsaWMgc3RhdGljIGJ5dGVMZW5ndGgoc3RyOiBzdHJpbmcpOiBudW1iZXIge1xuXHRcdHJldHVybiBzdHIubGVuZ3RoO1xuXHR9XG59XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZG9tYWluO1xuXG4vLyBUaGlzIGNvbnN0cnVjdG9yIGlzIHVzZWQgdG8gc3RvcmUgZXZlbnQgaGFuZGxlcnMuIEluc3RhbnRpYXRpbmcgdGhpcyBpc1xuLy8gZmFzdGVyIHRoYW4gZXhwbGljaXRseSBjYWxsaW5nIGBPYmplY3QuY3JlYXRlKG51bGwpYCB0byBnZXQgYSBcImNsZWFuXCIgZW1wdHlcbi8vIG9iamVjdCAodGVzdGVkIHdpdGggdjggdjQuOSkuXG5mdW5jdGlvbiBFdmVudEhhbmRsZXJzKCkge31cbkV2ZW50SGFuZGxlcnMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICBFdmVudEVtaXR0ZXIuaW5pdC5jYWxsKHRoaXMpO1xufVxuZXhwb3J0IGRlZmF1bHQgRXZlbnRFbWl0dGVyO1xuZXhwb3J0IHtFdmVudEVtaXR0ZXJ9O1xuXG4vLyBub2RlanMgb2RkaXR5XG4vLyByZXF1aXJlKCdldmVudHMnKSA9PT0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyXG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyXG5cbkV2ZW50RW1pdHRlci51c2luZ0RvbWFpbnMgPSBmYWxzZTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5kb21haW4gPSB1bmRlZmluZWQ7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHMgPSB1bmRlZmluZWQ7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnMgPSB1bmRlZmluZWQ7XG5cbi8vIEJ5IGRlZmF1bHQgRXZlbnRFbWl0dGVycyB3aWxsIHByaW50IGEgd2FybmluZyBpZiBtb3JlIHRoYW4gMTAgbGlzdGVuZXJzIGFyZVxuLy8gYWRkZWQgdG8gaXQuIFRoaXMgaXMgYSB1c2VmdWwgZGVmYXVsdCB3aGljaCBoZWxwcyBmaW5kaW5nIG1lbW9yeSBsZWFrcy5cbkV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzID0gMTA7XG5cbkV2ZW50RW1pdHRlci5pbml0ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuZG9tYWluID0gbnVsbDtcbiAgaWYgKEV2ZW50RW1pdHRlci51c2luZ0RvbWFpbnMpIHtcbiAgICAvLyBpZiB0aGVyZSBpcyBhbiBhY3RpdmUgZG9tYWluLCB0aGVuIGF0dGFjaCB0byBpdC5cbiAgICBpZiAoZG9tYWluLmFjdGl2ZSAmJiAhKHRoaXMgaW5zdGFuY2VvZiBkb21haW4uRG9tYWluKSkge1xuICAgICAgdGhpcy5kb21haW4gPSBkb21haW4uYWN0aXZlO1xuICAgIH1cbiAgfVxuXG4gIGlmICghdGhpcy5fZXZlbnRzIHx8IHRoaXMuX2V2ZW50cyA9PT0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLl9ldmVudHMpIHtcbiAgICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRIYW5kbGVycygpO1xuICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgfVxuXG4gIHRoaXMuX21heExpc3RlbmVycyA9IHRoaXMuX21heExpc3RlbmVycyB8fCB1bmRlZmluZWQ7XG59O1xuXG4vLyBPYnZpb3VzbHkgbm90IGFsbCBFbWl0dGVycyBzaG91bGQgYmUgbGltaXRlZCB0byAxMC4gVGhpcyBmdW5jdGlvbiBhbGxvd3Ncbi8vIHRoYXQgdG8gYmUgaW5jcmVhc2VkLiBTZXQgdG8gemVybyBmb3IgdW5saW1pdGVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiBzZXRNYXhMaXN0ZW5lcnMobikge1xuICBpZiAodHlwZW9mIG4gIT09ICdudW1iZXInIHx8IG4gPCAwIHx8IGlzTmFOKG4pKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiblwiIGFyZ3VtZW50IG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXInKTtcbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5mdW5jdGlvbiAkZ2V0TWF4TGlzdGVuZXJzKHRoYXQpIHtcbiAgaWYgKHRoYXQuX21heExpc3RlbmVycyA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBFdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycztcbiAgcmV0dXJuIHRoYXQuX21heExpc3RlbmVycztcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5nZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiBnZXRNYXhMaXN0ZW5lcnMoKSB7XG4gIHJldHVybiAkZ2V0TWF4TGlzdGVuZXJzKHRoaXMpO1xufTtcblxuLy8gVGhlc2Ugc3RhbmRhbG9uZSBlbWl0KiBmdW5jdGlvbnMgYXJlIHVzZWQgdG8gb3B0aW1pemUgY2FsbGluZyBvZiBldmVudFxuLy8gaGFuZGxlcnMgZm9yIGZhc3QgY2FzZXMgYmVjYXVzZSBlbWl0KCkgaXRzZWxmIG9mdGVuIGhhcyBhIHZhcmlhYmxlIG51bWJlciBvZlxuLy8gYXJndW1lbnRzIGFuZCBjYW4gYmUgZGVvcHRpbWl6ZWQgYmVjYXVzZSBvZiB0aGF0LiBUaGVzZSBmdW5jdGlvbnMgYWx3YXlzIGhhdmVcbi8vIHRoZSBzYW1lIG51bWJlciBvZiBhcmd1bWVudHMgYW5kIHRodXMgZG8gbm90IGdldCBkZW9wdGltaXplZCwgc28gdGhlIGNvZGVcbi8vIGluc2lkZSB0aGVtIGNhbiBleGVjdXRlIGZhc3Rlci5cbmZ1bmN0aW9uIGVtaXROb25lKGhhbmRsZXIsIGlzRm4sIHNlbGYpIHtcbiAgaWYgKGlzRm4pXG4gICAgaGFuZGxlci5jYWxsKHNlbGYpO1xuICBlbHNlIHtcbiAgICB2YXIgbGVuID0gaGFuZGxlci5sZW5ndGg7XG4gICAgdmFyIGxpc3RlbmVycyA9IGFycmF5Q2xvbmUoaGFuZGxlciwgbGVuKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKVxuICAgICAgbGlzdGVuZXJzW2ldLmNhbGwoc2VsZik7XG4gIH1cbn1cbmZ1bmN0aW9uIGVtaXRPbmUoaGFuZGxlciwgaXNGbiwgc2VsZiwgYXJnMSkge1xuICBpZiAoaXNGbilcbiAgICBoYW5kbGVyLmNhbGwoc2VsZiwgYXJnMSk7XG4gIGVsc2Uge1xuICAgIHZhciBsZW4gPSBoYW5kbGVyLmxlbmd0aDtcbiAgICB2YXIgbGlzdGVuZXJzID0gYXJyYXlDbG9uZShoYW5kbGVyLCBsZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpXG4gICAgICBsaXN0ZW5lcnNbaV0uY2FsbChzZWxmLCBhcmcxKTtcbiAgfVxufVxuZnVuY3Rpb24gZW1pdFR3byhoYW5kbGVyLCBpc0ZuLCBzZWxmLCBhcmcxLCBhcmcyKSB7XG4gIGlmIChpc0ZuKVxuICAgIGhhbmRsZXIuY2FsbChzZWxmLCBhcmcxLCBhcmcyKTtcbiAgZWxzZSB7XG4gICAgdmFyIGxlbiA9IGhhbmRsZXIubGVuZ3RoO1xuICAgIHZhciBsaXN0ZW5lcnMgPSBhcnJheUNsb25lKGhhbmRsZXIsIGxlbik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSlcbiAgICAgIGxpc3RlbmVyc1tpXS5jYWxsKHNlbGYsIGFyZzEsIGFyZzIpO1xuICB9XG59XG5mdW5jdGlvbiBlbWl0VGhyZWUoaGFuZGxlciwgaXNGbiwgc2VsZiwgYXJnMSwgYXJnMiwgYXJnMykge1xuICBpZiAoaXNGbilcbiAgICBoYW5kbGVyLmNhbGwoc2VsZiwgYXJnMSwgYXJnMiwgYXJnMyk7XG4gIGVsc2Uge1xuICAgIHZhciBsZW4gPSBoYW5kbGVyLmxlbmd0aDtcbiAgICB2YXIgbGlzdGVuZXJzID0gYXJyYXlDbG9uZShoYW5kbGVyLCBsZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpXG4gICAgICBsaXN0ZW5lcnNbaV0uY2FsbChzZWxmLCBhcmcxLCBhcmcyLCBhcmczKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBlbWl0TWFueShoYW5kbGVyLCBpc0ZuLCBzZWxmLCBhcmdzKSB7XG4gIGlmIChpc0ZuKVxuICAgIGhhbmRsZXIuYXBwbHkoc2VsZiwgYXJncyk7XG4gIGVsc2Uge1xuICAgIHZhciBsZW4gPSBoYW5kbGVyLmxlbmd0aDtcbiAgICB2YXIgbGlzdGVuZXJzID0gYXJyYXlDbG9uZShoYW5kbGVyLCBsZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpXG4gICAgICBsaXN0ZW5lcnNbaV0uYXBwbHkoc2VsZiwgYXJncyk7XG4gIH1cbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gZW1pdCh0eXBlKSB7XG4gIHZhciBlciwgaGFuZGxlciwgbGVuLCBhcmdzLCBpLCBldmVudHMsIGRvbWFpbjtcbiAgdmFyIG5lZWREb21haW5FeGl0ID0gZmFsc2U7XG4gIHZhciBkb0Vycm9yID0gKHR5cGUgPT09ICdlcnJvcicpO1xuXG4gIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgaWYgKGV2ZW50cylcbiAgICBkb0Vycm9yID0gKGRvRXJyb3IgJiYgZXZlbnRzLmVycm9yID09IG51bGwpO1xuICBlbHNlIGlmICghZG9FcnJvcilcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgZG9tYWluID0gdGhpcy5kb21haW47XG5cbiAgLy8gSWYgdGhlcmUgaXMgbm8gJ2Vycm9yJyBldmVudCBsaXN0ZW5lciB0aGVuIHRocm93LlxuICBpZiAoZG9FcnJvcikge1xuICAgIGVyID0gYXJndW1lbnRzWzFdO1xuICAgIGlmIChkb21haW4pIHtcbiAgICAgIGlmICghZXIpXG4gICAgICAgIGVyID0gbmV3IEVycm9yKCdVbmNhdWdodCwgdW5zcGVjaWZpZWQgXCJlcnJvclwiIGV2ZW50Jyk7XG4gICAgICBlci5kb21haW5FbWl0dGVyID0gdGhpcztcbiAgICAgIGVyLmRvbWFpbiA9IGRvbWFpbjtcbiAgICAgIGVyLmRvbWFpblRocm93biA9IGZhbHNlO1xuICAgICAgZG9tYWluLmVtaXQoJ2Vycm9yJywgZXIpO1xuICAgIH0gZWxzZSBpZiAoZXIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgdGhyb3cgZXI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEF0IGxlYXN0IGdpdmUgc29tZSBraW5kIG9mIGNvbnRleHQgdG8gdGhlIHVzZXJcbiAgICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ1VuY2F1Z2h0LCB1bnNwZWNpZmllZCBcImVycm9yXCIgZXZlbnQuICgnICsgZXIgKyAnKScpO1xuICAgICAgZXJyLmNvbnRleHQgPSBlcjtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaGFuZGxlciA9IGV2ZW50c1t0eXBlXTtcblxuICBpZiAoIWhhbmRsZXIpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIHZhciBpc0ZuID0gdHlwZW9mIGhhbmRsZXIgPT09ICdmdW5jdGlvbic7XG4gIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gIHN3aXRjaCAobGVuKSB7XG4gICAgLy8gZmFzdCBjYXNlc1xuICAgIGNhc2UgMTpcbiAgICAgIGVtaXROb25lKGhhbmRsZXIsIGlzRm4sIHRoaXMpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAyOlxuICAgICAgZW1pdE9uZShoYW5kbGVyLCBpc0ZuLCB0aGlzLCBhcmd1bWVudHNbMV0pO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAzOlxuICAgICAgZW1pdFR3byhoYW5kbGVyLCBpc0ZuLCB0aGlzLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIDQ6XG4gICAgICBlbWl0VGhyZWUoaGFuZGxlciwgaXNGbiwgdGhpcywgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0sIGFyZ3VtZW50c1szXSk7XG4gICAgICBicmVhaztcbiAgICAvLyBzbG93ZXJcbiAgICBkZWZhdWx0OlxuICAgICAgYXJncyA9IG5ldyBBcnJheShsZW4gLSAxKTtcbiAgICAgIGZvciAoaSA9IDE7IGkgPCBsZW47IGkrKylcbiAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICBlbWl0TWFueShoYW5kbGVyLCBpc0ZuLCB0aGlzLCBhcmdzKTtcbiAgfVxuXG4gIGlmIChuZWVkRG9tYWluRXhpdClcbiAgICBkb21haW4uZXhpdCgpO1xuXG4gIHJldHVybiB0cnVlO1xufTtcblxuZnVuY3Rpb24gX2FkZExpc3RlbmVyKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIHByZXBlbmQpIHtcbiAgdmFyIG07XG4gIHZhciBldmVudHM7XG4gIHZhciBleGlzdGluZztcblxuICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcbiAgaWYgKCFldmVudHMpIHtcbiAgICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cyA9IG5ldyBFdmVudEhhbmRsZXJzKCk7XG4gICAgdGFyZ2V0Ll9ldmVudHNDb3VudCA9IDA7XG4gIH0gZWxzZSB7XG4gICAgLy8gVG8gYXZvaWQgcmVjdXJzaW9uIGluIHRoZSBjYXNlIHRoYXQgdHlwZSA9PT0gXCJuZXdMaXN0ZW5lclwiISBCZWZvcmVcbiAgICAvLyBhZGRpbmcgaXQgdG8gdGhlIGxpc3RlbmVycywgZmlyc3QgZW1pdCBcIm5ld0xpc3RlbmVyXCIuXG4gICAgaWYgKGV2ZW50cy5uZXdMaXN0ZW5lcikge1xuICAgICAgdGFyZ2V0LmVtaXQoJ25ld0xpc3RlbmVyJywgdHlwZSxcbiAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmxpc3RlbmVyID8gbGlzdGVuZXIubGlzdGVuZXIgOiBsaXN0ZW5lcik7XG5cbiAgICAgIC8vIFJlLWFzc2lnbiBgZXZlbnRzYCBiZWNhdXNlIGEgbmV3TGlzdGVuZXIgaGFuZGxlciBjb3VsZCBoYXZlIGNhdXNlZCB0aGVcbiAgICAgIC8vIHRoaXMuX2V2ZW50cyB0byBiZSBhc3NpZ25lZCB0byBhIG5ldyBvYmplY3RcbiAgICAgIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuICAgIH1cbiAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXTtcbiAgfVxuXG4gIGlmICghZXhpc3RpbmcpIHtcbiAgICAvLyBPcHRpbWl6ZSB0aGUgY2FzZSBvZiBvbmUgbGlzdGVuZXIuIERvbid0IG5lZWQgdGhlIGV4dHJhIGFycmF5IG9iamVjdC5cbiAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9IGxpc3RlbmVyO1xuICAgICsrdGFyZ2V0Ll9ldmVudHNDb3VudDtcbiAgfSBlbHNlIHtcbiAgICBpZiAodHlwZW9mIGV4aXN0aW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAvLyBBZGRpbmcgdGhlIHNlY29uZCBlbGVtZW50LCBuZWVkIHRvIGNoYW5nZSB0byBhcnJheS5cbiAgICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdID0gcHJlcGVuZCA/IFtsaXN0ZW5lciwgZXhpc3RpbmddIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtleGlzdGluZywgbGlzdGVuZXJdO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IGdvdCBhbiBhcnJheSwganVzdCBhcHBlbmQuXG4gICAgICBpZiAocHJlcGVuZCkge1xuICAgICAgICBleGlzdGluZy51bnNoaWZ0KGxpc3RlbmVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGV4aXN0aW5nLnB1c2gobGlzdGVuZXIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBsaXN0ZW5lciBsZWFrXG4gICAgaWYgKCFleGlzdGluZy53YXJuZWQpIHtcbiAgICAgIG0gPSAkZ2V0TWF4TGlzdGVuZXJzKHRhcmdldCk7XG4gICAgICBpZiAobSAmJiBtID4gMCAmJiBleGlzdGluZy5sZW5ndGggPiBtKSB7XG4gICAgICAgIGV4aXN0aW5nLndhcm5lZCA9IHRydWU7XG4gICAgICAgIHZhciB3ID0gbmV3IEVycm9yKCdQb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5IGxlYWsgZGV0ZWN0ZWQuICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nLmxlbmd0aCArICcgJyArIHR5cGUgKyAnIGxpc3RlbmVycyBhZGRlZC4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1VzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvIGluY3JlYXNlIGxpbWl0Jyk7XG4gICAgICAgIHcubmFtZSA9ICdNYXhMaXN0ZW5lcnNFeGNlZWRlZFdhcm5pbmcnO1xuICAgICAgICB3LmVtaXR0ZXIgPSB0YXJnZXQ7XG4gICAgICAgIHcudHlwZSA9IHR5cGU7XG4gICAgICAgIHcuY291bnQgPSBleGlzdGluZy5sZW5ndGg7XG4gICAgICAgIGVtaXRXYXJuaW5nKHcpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5mdW5jdGlvbiBlbWl0V2FybmluZyhlKSB7XG4gIHR5cGVvZiBjb25zb2xlLndhcm4gPT09ICdmdW5jdGlvbicgPyBjb25zb2xlLndhcm4oZSkgOiBjb25zb2xlLmxvZyhlKTtcbn1cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiBhZGRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICByZXR1cm4gX2FkZExpc3RlbmVyKHRoaXMsIHR5cGUsIGxpc3RlbmVyLCBmYWxzZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5wcmVwZW5kTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHByZXBlbmRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgcmV0dXJuIF9hZGRMaXN0ZW5lcih0aGlzLCB0eXBlLCBsaXN0ZW5lciwgdHJ1ZSk7XG4gICAgfTtcblxuZnVuY3Rpb24gX29uY2VXcmFwKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIpIHtcbiAgdmFyIGZpcmVkID0gZmFsc2U7XG4gIGZ1bmN0aW9uIGcoKSB7XG4gICAgdGFyZ2V0LnJlbW92ZUxpc3RlbmVyKHR5cGUsIGcpO1xuICAgIGlmICghZmlyZWQpIHtcbiAgICAgIGZpcmVkID0gdHJ1ZTtcbiAgICAgIGxpc3RlbmVyLmFwcGx5KHRhcmdldCwgYXJndW1lbnRzKTtcbiAgICB9XG4gIH1cbiAgZy5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICByZXR1cm4gZztcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZSh0eXBlLCBsaXN0ZW5lcikge1xuICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgdGhpcy5vbih0eXBlLCBfb25jZVdyYXAodGhpcywgdHlwZSwgbGlzdGVuZXIpKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRPbmNlTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHByZXBlbmRPbmNlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgICAgIHRoaXMucHJlcGVuZExpc3RlbmVyKHR5cGUsIF9vbmNlV3JhcCh0aGlzLCB0eXBlLCBsaXN0ZW5lcikpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuLy8gZW1pdHMgYSAncmVtb3ZlTGlzdGVuZXInIGV2ZW50IGlmZiB0aGUgbGlzdGVuZXIgd2FzIHJlbW92ZWRcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICB2YXIgbGlzdCwgZXZlbnRzLCBwb3NpdGlvbiwgaSwgb3JpZ2luYWxMaXN0ZW5lcjtcblxuICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gICAgICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICBpZiAoIWV2ZW50cylcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIGxpc3QgPSBldmVudHNbdHlwZV07XG4gICAgICBpZiAoIWxpc3QpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICBpZiAobGlzdCA9PT0gbGlzdGVuZXIgfHwgKGxpc3QubGlzdGVuZXIgJiYgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpKSB7XG4gICAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKVxuICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudEhhbmRsZXJzKCk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07XG4gICAgICAgICAgaWYgKGV2ZW50cy5yZW1vdmVMaXN0ZW5lcilcbiAgICAgICAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBsaXN0Lmxpc3RlbmVyIHx8IGxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbGlzdCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBwb3NpdGlvbiA9IC0xO1xuXG4gICAgICAgIGZvciAoaSA9IGxpc3QubGVuZ3RoOyBpLS0gPiAwOykge1xuICAgICAgICAgIGlmIChsaXN0W2ldID09PSBsaXN0ZW5lciB8fFxuICAgICAgICAgICAgICAobGlzdFtpXS5saXN0ZW5lciAmJiBsaXN0W2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikpIHtcbiAgICAgICAgICAgIG9yaWdpbmFsTGlzdGVuZXIgPSBsaXN0W2ldLmxpc3RlbmVyO1xuICAgICAgICAgICAgcG9zaXRpb24gPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uIDwgMClcbiAgICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgICBpZiAobGlzdC5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICBsaXN0WzBdID0gdW5kZWZpbmVkO1xuICAgICAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRIYW5kbGVycygpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNwbGljZU9uZShsaXN0LCBwb3NpdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBvcmlnaW5hbExpc3RlbmVyIHx8IGxpc3RlbmVyKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPVxuICAgIGZ1bmN0aW9uIHJlbW92ZUFsbExpc3RlbmVycyh0eXBlKSB7XG4gICAgICB2YXIgbGlzdGVuZXJzLCBldmVudHM7XG5cbiAgICAgIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgICAgIGlmICghZXZlbnRzKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgLy8gbm90IGxpc3RlbmluZyBmb3IgcmVtb3ZlTGlzdGVuZXIsIG5vIG5lZWQgdG8gZW1pdFxuICAgICAgaWYgKCFldmVudHMucmVtb3ZlTGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRIYW5kbGVycygpO1xuICAgICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChldmVudHNbdHlwZV0pIHtcbiAgICAgICAgICBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMClcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudEhhbmRsZXJzKCk7XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgLy8gZW1pdCByZW1vdmVMaXN0ZW5lciBmb3IgYWxsIGxpc3RlbmVycyBvbiBhbGwgZXZlbnRzXG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGV2ZW50cyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBrZXk7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICBpZiAoa2V5ID09PSAncmVtb3ZlTGlzdGVuZXInKSBjb250aW51ZTtcbiAgICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCdyZW1vdmVMaXN0ZW5lcicpO1xuICAgICAgICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRIYW5kbGVycygpO1xuICAgICAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICBsaXN0ZW5lcnMgPSBldmVudHNbdHlwZV07XG5cbiAgICAgIGlmICh0eXBlb2YgbGlzdGVuZXJzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzKTtcbiAgICAgIH0gZWxzZSBpZiAobGlzdGVuZXJzKSB7XG4gICAgICAgIC8vIExJRk8gb3JkZXJcbiAgICAgICAgZG8ge1xuICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2xpc3RlbmVycy5sZW5ndGggLSAxXSk7XG4gICAgICAgIH0gd2hpbGUgKGxpc3RlbmVyc1swXSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24gbGlzdGVuZXJzKHR5cGUpIHtcbiAgdmFyIGV2bGlzdGVuZXI7XG4gIHZhciByZXQ7XG4gIHZhciBldmVudHMgPSB0aGlzLl9ldmVudHM7XG5cbiAgaWYgKCFldmVudHMpXG4gICAgcmV0ID0gW107XG4gIGVsc2Uge1xuICAgIGV2bGlzdGVuZXIgPSBldmVudHNbdHlwZV07XG4gICAgaWYgKCFldmxpc3RlbmVyKVxuICAgICAgcmV0ID0gW107XG4gICAgZWxzZSBpZiAodHlwZW9mIGV2bGlzdGVuZXIgPT09ICdmdW5jdGlvbicpXG4gICAgICByZXQgPSBbZXZsaXN0ZW5lci5saXN0ZW5lciB8fCBldmxpc3RlbmVyXTtcbiAgICBlbHNlXG4gICAgICByZXQgPSB1bndyYXBMaXN0ZW5lcnMoZXZsaXN0ZW5lcik7XG4gIH1cblxuICByZXR1cm4gcmV0O1xufTtcblxuRXZlbnRFbWl0dGVyLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbihlbWl0dGVyLCB0eXBlKSB7XG4gIGlmICh0eXBlb2YgZW1pdHRlci5saXN0ZW5lckNvdW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGVtaXR0ZXIubGlzdGVuZXJDb3VudCh0eXBlKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbGlzdGVuZXJDb3VudC5jYWxsKGVtaXR0ZXIsIHR5cGUpO1xuICB9XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBsaXN0ZW5lckNvdW50O1xuZnVuY3Rpb24gbGlzdGVuZXJDb3VudCh0eXBlKSB7XG4gIHZhciBldmVudHMgPSB0aGlzLl9ldmVudHM7XG5cbiAgaWYgKGV2ZW50cykge1xuICAgIHZhciBldmxpc3RlbmVyID0gZXZlbnRzW3R5cGVdO1xuXG4gICAgaWYgKHR5cGVvZiBldmxpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9IGVsc2UgaWYgKGV2bGlzdGVuZXIpIHtcbiAgICAgIHJldHVybiBldmxpc3RlbmVyLmxlbmd0aDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gMDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24gZXZlbnROYW1lcygpIHtcbiAgcmV0dXJuIHRoaXMuX2V2ZW50c0NvdW50ID4gMCA/IFJlZmxlY3Qub3duS2V5cyh0aGlzLl9ldmVudHMpIDogW107XG59O1xuXG4vLyBBYm91dCAxLjV4IGZhc3RlciB0aGFuIHRoZSB0d28tYXJnIHZlcnNpb24gb2YgQXJyYXkjc3BsaWNlKCkuXG5mdW5jdGlvbiBzcGxpY2VPbmUobGlzdCwgaW5kZXgpIHtcbiAgZm9yICh2YXIgaSA9IGluZGV4LCBrID0gaSArIDEsIG4gPSBsaXN0Lmxlbmd0aDsgayA8IG47IGkgKz0gMSwgayArPSAxKVxuICAgIGxpc3RbaV0gPSBsaXN0W2tdO1xuICBsaXN0LnBvcCgpO1xufVxuXG5mdW5jdGlvbiBhcnJheUNsb25lKGFyciwgaSkge1xuICB2YXIgY29weSA9IG5ldyBBcnJheShpKTtcbiAgd2hpbGUgKGktLSlcbiAgICBjb3B5W2ldID0gYXJyW2ldO1xuICByZXR1cm4gY29weTtcbn1cblxuZnVuY3Rpb24gdW53cmFwTGlzdGVuZXJzKGFycikge1xuICB2YXIgcmV0ID0gbmV3IEFycmF5KGFyci5sZW5ndGgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHJldC5sZW5ndGg7ICsraSkge1xuICAgIHJldFtpXSA9IGFycltpXS5saXN0ZW5lciB8fCBhcnJbaV07XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cbiIsICJcbnZhciBpbmhlcml0cztcbmlmICh0eXBlb2YgT2JqZWN0LmNyZWF0ZSA9PT0gJ2Z1bmN0aW9uJyl7XG4gIGluaGVyaXRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgLy8gaW1wbGVtZW50YXRpb24gZnJvbSBzdGFuZGFyZCBub2RlLmpzICd1dGlsJyBtb2R1bGVcbiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7XG4gICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICB2YWx1ZTogY3RvcixcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn0gZWxzZSB7XG4gIGluaGVyaXRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICB2YXIgVGVtcEN0b3IgPSBmdW5jdGlvbiAoKSB7fVxuICAgIFRlbXBDdG9yLnByb3RvdHlwZSA9IHN1cGVyQ3Rvci5wcm90b3R5cGVcbiAgICBjdG9yLnByb3RvdHlwZSA9IG5ldyBUZW1wQ3RvcigpXG4gICAgY3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjdG9yXG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IGluaGVyaXRzO1xuIiwgIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuaW1wb3J0IHByb2Nlc3MgZnJvbSAncHJvY2Vzcyc7XG52YXIgZm9ybWF0UmVnRXhwID0gLyVbc2RqJV0vZztcbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXQoZikge1xuICBpZiAoIWlzU3RyaW5nKGYpKSB7XG4gICAgdmFyIG9iamVjdHMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgb2JqZWN0cy5wdXNoKGluc3BlY3QoYXJndW1lbnRzW2ldKSk7XG4gICAgfVxuICAgIHJldHVybiBvYmplY3RzLmpvaW4oJyAnKTtcbiAgfVxuXG4gIHZhciBpID0gMTtcbiAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gIHZhciBsZW4gPSBhcmdzLmxlbmd0aDtcbiAgdmFyIHN0ciA9IFN0cmluZyhmKS5yZXBsYWNlKGZvcm1hdFJlZ0V4cCwgZnVuY3Rpb24oeCkge1xuICAgIGlmICh4ID09PSAnJSUnKSByZXR1cm4gJyUnO1xuICAgIGlmIChpID49IGxlbikgcmV0dXJuIHg7XG4gICAgc3dpdGNoICh4KSB7XG4gICAgICBjYXNlICclcyc6IHJldHVybiBTdHJpbmcoYXJnc1tpKytdKTtcbiAgICAgIGNhc2UgJyVkJzogcmV0dXJuIE51bWJlcihhcmdzW2krK10pO1xuICAgICAgY2FzZSAnJWonOlxuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShhcmdzW2krK10pO1xuICAgICAgICB9IGNhdGNoIChfKSB7XG4gICAgICAgICAgcmV0dXJuICdbQ2lyY3VsYXJdJztcbiAgICAgICAgfVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHg7XG4gICAgfVxuICB9KTtcbiAgZm9yICh2YXIgeCA9IGFyZ3NbaV07IGkgPCBsZW47IHggPSBhcmdzWysraV0pIHtcbiAgICBpZiAoaXNOdWxsKHgpIHx8ICFpc09iamVjdCh4KSkge1xuICAgICAgc3RyICs9ICcgJyArIHg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciArPSAnICcgKyBpbnNwZWN0KHgpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3RyO1xufTtcblxuXG4vLyBNYXJrIHRoYXQgYSBtZXRob2Qgc2hvdWxkIG5vdCBiZSB1c2VkLlxuLy8gUmV0dXJucyBhIG1vZGlmaWVkIGZ1bmN0aW9uIHdoaWNoIHdhcm5zIG9uY2UgYnkgZGVmYXVsdC5cbi8vIElmIC0tbm8tZGVwcmVjYXRpb24gaXMgc2V0LCB0aGVuIGl0IGlzIGEgbm8tb3AuXG5leHBvcnQgZnVuY3Rpb24gZGVwcmVjYXRlKGZuLCBtc2cpIHtcbiAgLy8gQWxsb3cgZm9yIGRlcHJlY2F0aW5nIHRoaW5ncyBpbiB0aGUgcHJvY2VzcyBvZiBzdGFydGluZyB1cC5cbiAgaWYgKGlzVW5kZWZpbmVkKGdsb2JhbC5wcm9jZXNzKSkge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBkZXByZWNhdGUoZm4sIG1zZykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9XG5cbiAgaWYgKHByb2Nlc3Mubm9EZXByZWNhdGlvbiA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiBmbjtcbiAgfVxuXG4gIHZhciB3YXJuZWQgPSBmYWxzZTtcbiAgZnVuY3Rpb24gZGVwcmVjYXRlZCgpIHtcbiAgICBpZiAoIXdhcm5lZCkge1xuICAgICAgaWYgKHByb2Nlc3MudGhyb3dEZXByZWNhdGlvbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgIH0gZWxzZSBpZiAocHJvY2Vzcy50cmFjZURlcHJlY2F0aW9uKSB7XG4gICAgICAgIGNvbnNvbGUudHJhY2UobXNnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IobXNnKTtcbiAgICAgIH1cbiAgICAgIHdhcm5lZCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgcmV0dXJuIGRlcHJlY2F0ZWQ7XG59O1xuXG5cbnZhciBkZWJ1Z3MgPSB7fTtcbnZhciBkZWJ1Z0Vudmlyb247XG5leHBvcnQgZnVuY3Rpb24gZGVidWdsb2coc2V0KSB7XG4gIGlmIChpc1VuZGVmaW5lZChkZWJ1Z0Vudmlyb24pKVxuICAgIGRlYnVnRW52aXJvbiA9IHByb2Nlc3MuZW52Lk5PREVfREVCVUcgfHwgJyc7XG4gIHNldCA9IHNldC50b1VwcGVyQ2FzZSgpO1xuICBpZiAoIWRlYnVnc1tzZXRdKSB7XG4gICAgaWYgKG5ldyBSZWdFeHAoJ1xcXFxiJyArIHNldCArICdcXFxcYicsICdpJykudGVzdChkZWJ1Z0Vudmlyb24pKSB7XG4gICAgICB2YXIgcGlkID0gMDtcbiAgICAgIGRlYnVnc1tzZXRdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBtc2cgPSBmb3JtYXQuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgICAgY29uc29sZS5lcnJvcignJXMgJWQ6ICVzJywgc2V0LCBwaWQsIG1zZyk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWJ1Z3Nbc2V0XSA9IGZ1bmN0aW9uKCkge307XG4gICAgfVxuICB9XG4gIHJldHVybiBkZWJ1Z3Nbc2V0XTtcbn07XG5cblxuLyoqXG4gKiBFY2hvcyB0aGUgdmFsdWUgb2YgYSB2YWx1ZS4gVHJ5cyB0byBwcmludCB0aGUgdmFsdWUgb3V0XG4gKiBpbiB0aGUgYmVzdCB3YXkgcG9zc2libGUgZ2l2ZW4gdGhlIGRpZmZlcmVudCB0eXBlcy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBvYmplY3QgdG8gcHJpbnQgb3V0LlxuICogQHBhcmFtIHtPYmplY3R9IG9wdHMgT3B0aW9uYWwgb3B0aW9ucyBvYmplY3QgdGhhdCBhbHRlcnMgdGhlIG91dHB1dC5cbiAqL1xuLyogbGVnYWN5OiBvYmosIHNob3dIaWRkZW4sIGRlcHRoLCBjb2xvcnMqL1xuZXhwb3J0IGZ1bmN0aW9uIGluc3BlY3Qob2JqLCBvcHRzKSB7XG4gIC8vIGRlZmF1bHQgb3B0aW9uc1xuICB2YXIgY3R4ID0ge1xuICAgIHNlZW46IFtdLFxuICAgIHN0eWxpemU6IHN0eWxpemVOb0NvbG9yXG4gIH07XG4gIC8vIGxlZ2FjeS4uLlxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAzKSBjdHguZGVwdGggPSBhcmd1bWVudHNbMl07XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDQpIGN0eC5jb2xvcnMgPSBhcmd1bWVudHNbM107XG4gIGlmIChpc0Jvb2xlYW4ob3B0cykpIHtcbiAgICAvLyBsZWdhY3kuLi5cbiAgICBjdHguc2hvd0hpZGRlbiA9IG9wdHM7XG4gIH0gZWxzZSBpZiAob3B0cykge1xuICAgIC8vIGdvdCBhbiBcIm9wdGlvbnNcIiBvYmplY3RcbiAgICBfZXh0ZW5kKGN0eCwgb3B0cyk7XG4gIH1cbiAgLy8gc2V0IGRlZmF1bHQgb3B0aW9uc1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LnNob3dIaWRkZW4pKSBjdHguc2hvd0hpZGRlbiA9IGZhbHNlO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmRlcHRoKSkgY3R4LmRlcHRoID0gMjtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5jb2xvcnMpKSBjdHguY29sb3JzID0gZmFsc2U7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguY3VzdG9tSW5zcGVjdCkpIGN0eC5jdXN0b21JbnNwZWN0ID0gdHJ1ZTtcbiAgaWYgKGN0eC5jb2xvcnMpIGN0eC5zdHlsaXplID0gc3R5bGl6ZVdpdGhDb2xvcjtcbiAgcmV0dXJuIGZvcm1hdFZhbHVlKGN0eCwgb2JqLCBjdHguZGVwdGgpO1xufVxuXG4vLyBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0FOU0lfZXNjYXBlX2NvZGUjZ3JhcGhpY3Ncbmluc3BlY3QuY29sb3JzID0ge1xuICAnYm9sZCcgOiBbMSwgMjJdLFxuICAnaXRhbGljJyA6IFszLCAyM10sXG4gICd1bmRlcmxpbmUnIDogWzQsIDI0XSxcbiAgJ2ludmVyc2UnIDogWzcsIDI3XSxcbiAgJ3doaXRlJyA6IFszNywgMzldLFxuICAnZ3JleScgOiBbOTAsIDM5XSxcbiAgJ2JsYWNrJyA6IFszMCwgMzldLFxuICAnYmx1ZScgOiBbMzQsIDM5XSxcbiAgJ2N5YW4nIDogWzM2LCAzOV0sXG4gICdncmVlbicgOiBbMzIsIDM5XSxcbiAgJ21hZ2VudGEnIDogWzM1LCAzOV0sXG4gICdyZWQnIDogWzMxLCAzOV0sXG4gICd5ZWxsb3cnIDogWzMzLCAzOV1cbn07XG5cbi8vIERvbid0IHVzZSAnYmx1ZScgbm90IHZpc2libGUgb24gY21kLmV4ZVxuaW5zcGVjdC5zdHlsZXMgPSB7XG4gICdzcGVjaWFsJzogJ2N5YW4nLFxuICAnbnVtYmVyJzogJ3llbGxvdycsXG4gICdib29sZWFuJzogJ3llbGxvdycsXG4gICd1bmRlZmluZWQnOiAnZ3JleScsXG4gICdudWxsJzogJ2JvbGQnLFxuICAnc3RyaW5nJzogJ2dyZWVuJyxcbiAgJ2RhdGUnOiAnbWFnZW50YScsXG4gIC8vIFwibmFtZVwiOiBpbnRlbnRpb25hbGx5IG5vdCBzdHlsaW5nXG4gICdyZWdleHAnOiAncmVkJ1xufTtcblxuXG5mdW5jdGlvbiBzdHlsaXplV2l0aENvbG9yKHN0ciwgc3R5bGVUeXBlKSB7XG4gIHZhciBzdHlsZSA9IGluc3BlY3Quc3R5bGVzW3N0eWxlVHlwZV07XG5cbiAgaWYgKHN0eWxlKSB7XG4gICAgcmV0dXJuICdcXHUwMDFiWycgKyBpbnNwZWN0LmNvbG9yc1tzdHlsZV1bMF0gKyAnbScgKyBzdHIgK1xuICAgICAgICAgICAnXFx1MDAxYlsnICsgaW5zcGVjdC5jb2xvcnNbc3R5bGVdWzFdICsgJ20nO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzdHI7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBzdHlsaXplTm9Db2xvcihzdHIsIHN0eWxlVHlwZSkge1xuICByZXR1cm4gc3RyO1xufVxuXG5cbmZ1bmN0aW9uIGFycmF5VG9IYXNoKGFycmF5KSB7XG4gIHZhciBoYXNoID0ge307XG5cbiAgYXJyYXkuZm9yRWFjaChmdW5jdGlvbih2YWwsIGlkeCkge1xuICAgIGhhc2hbdmFsXSA9IHRydWU7XG4gIH0pO1xuXG4gIHJldHVybiBoYXNoO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFZhbHVlKGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcykge1xuICAvLyBQcm92aWRlIGEgaG9vayBmb3IgdXNlci1zcGVjaWZpZWQgaW5zcGVjdCBmdW5jdGlvbnMuXG4gIC8vIENoZWNrIHRoYXQgdmFsdWUgaXMgYW4gb2JqZWN0IHdpdGggYW4gaW5zcGVjdCBmdW5jdGlvbiBvbiBpdFxuICBpZiAoY3R4LmN1c3RvbUluc3BlY3QgJiZcbiAgICAgIHZhbHVlICYmXG4gICAgICBpc0Z1bmN0aW9uKHZhbHVlLmluc3BlY3QpICYmXG4gICAgICAvLyBGaWx0ZXIgb3V0IHRoZSB1dGlsIG1vZHVsZSwgaXQncyBpbnNwZWN0IGZ1bmN0aW9uIGlzIHNwZWNpYWxcbiAgICAgIHZhbHVlLmluc3BlY3QgIT09IGluc3BlY3QgJiZcbiAgICAgIC8vIEFsc28gZmlsdGVyIG91dCBhbnkgcHJvdG90eXBlIG9iamVjdHMgdXNpbmcgdGhlIGNpcmN1bGFyIGNoZWNrLlxuICAgICAgISh2YWx1ZS5jb25zdHJ1Y3RvciAmJiB2YWx1ZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgPT09IHZhbHVlKSkge1xuICAgIHZhciByZXQgPSB2YWx1ZS5pbnNwZWN0KHJlY3Vyc2VUaW1lcywgY3R4KTtcbiAgICBpZiAoIWlzU3RyaW5nKHJldCkpIHtcbiAgICAgIHJldCA9IGZvcm1hdFZhbHVlKGN0eCwgcmV0LCByZWN1cnNlVGltZXMpO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xuICB9XG5cbiAgLy8gUHJpbWl0aXZlIHR5cGVzIGNhbm5vdCBoYXZlIHByb3BlcnRpZXNcbiAgdmFyIHByaW1pdGl2ZSA9IGZvcm1hdFByaW1pdGl2ZShjdHgsIHZhbHVlKTtcbiAgaWYgKHByaW1pdGl2ZSkge1xuICAgIHJldHVybiBwcmltaXRpdmU7XG4gIH1cblxuICAvLyBMb29rIHVwIHRoZSBrZXlzIG9mIHRoZSBvYmplY3QuXG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXModmFsdWUpO1xuICB2YXIgdmlzaWJsZUtleXMgPSBhcnJheVRvSGFzaChrZXlzKTtcblxuICBpZiAoY3R4LnNob3dIaWRkZW4pIHtcbiAgICBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpO1xuICB9XG5cbiAgLy8gSUUgZG9lc24ndCBtYWtlIGVycm9yIGZpZWxkcyBub24tZW51bWVyYWJsZVxuICAvLyBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaWUvZHd3NTJzYnQodj12cy45NCkuYXNweFxuICBpZiAoaXNFcnJvcih2YWx1ZSlcbiAgICAgICYmIChrZXlzLmluZGV4T2YoJ21lc3NhZ2UnKSA+PSAwIHx8IGtleXMuaW5kZXhPZignZGVzY3JpcHRpb24nKSA+PSAwKSkge1xuICAgIHJldHVybiBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gIH1cblxuICAvLyBTb21lIHR5cGUgb2Ygb2JqZWN0IHdpdGhvdXQgcHJvcGVydGllcyBjYW4gYmUgc2hvcnRjdXR0ZWQuXG4gIGlmIChrZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgdmFyIG5hbWUgPSB2YWx1ZS5uYW1lID8gJzogJyArIHZhbHVlLm5hbWUgOiAnJztcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZSgnW0Z1bmN0aW9uJyArIG5hbWUgKyAnXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICAgIGlmIChpc1JlZ0V4cCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZShSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAncmVnZXhwJyk7XG4gICAgfVxuICAgIGlmIChpc0RhdGUodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdkYXRlJyk7XG4gICAgfVxuICAgIGlmIChpc0Vycm9yKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGZvcm1hdEVycm9yKHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICB2YXIgYmFzZSA9ICcnLCBhcnJheSA9IGZhbHNlLCBicmFjZXMgPSBbJ3snLCAnfSddO1xuXG4gIC8vIE1ha2UgQXJyYXkgc2F5IHRoYXQgdGhleSBhcmUgQXJyYXlcbiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgYXJyYXkgPSB0cnVlO1xuICAgIGJyYWNlcyA9IFsnWycsICddJ107XG4gIH1cblxuICAvLyBNYWtlIGZ1bmN0aW9ucyBzYXkgdGhhdCB0aGV5IGFyZSBmdW5jdGlvbnNcbiAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgdmFyIG4gPSB2YWx1ZS5uYW1lID8gJzogJyArIHZhbHVlLm5hbWUgOiAnJztcbiAgICBiYXNlID0gJyBbRnVuY3Rpb24nICsgbiArICddJztcbiAgfVxuXG4gIC8vIE1ha2UgUmVnRXhwcyBzYXkgdGhhdCB0aGV5IGFyZSBSZWdFeHBzXG4gIGlmIChpc1JlZ0V4cCh2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgfVxuXG4gIC8vIE1ha2UgZGF0ZXMgd2l0aCBwcm9wZXJ0aWVzIGZpcnN0IHNheSB0aGUgZGF0ZVxuICBpZiAoaXNEYXRlKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBEYXRlLnByb3RvdHlwZS50b1VUQ1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgfVxuXG4gIC8vIE1ha2UgZXJyb3Igd2l0aCBtZXNzYWdlIGZpcnN0IHNheSB0aGUgZXJyb3JcbiAgaWYgKGlzRXJyb3IodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIGZvcm1hdEVycm9yKHZhbHVlKTtcbiAgfVxuXG4gIGlmIChrZXlzLmxlbmd0aCA9PT0gMCAmJiAoIWFycmF5IHx8IHZhbHVlLmxlbmd0aCA9PSAwKSkge1xuICAgIHJldHVybiBicmFjZXNbMF0gKyBiYXNlICsgYnJhY2VzWzFdO1xuICB9XG5cbiAgaWYgKHJlY3Vyc2VUaW1lcyA8IDApIHtcbiAgICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ3JlZ2V4cCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoJ1tPYmplY3RdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cblxuICBjdHguc2Vlbi5wdXNoKHZhbHVlKTtcblxuICB2YXIgb3V0cHV0O1xuICBpZiAoYXJyYXkpIHtcbiAgICBvdXRwdXQgPSBmb3JtYXRBcnJheShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXlzKTtcbiAgfSBlbHNlIHtcbiAgICBvdXRwdXQgPSBrZXlzLm1hcChmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXksIGFycmF5KTtcbiAgICB9KTtcbiAgfVxuXG4gIGN0eC5zZWVuLnBvcCgpO1xuXG4gIHJldHVybiByZWR1Y2VUb1NpbmdsZVN0cmluZyhvdXRwdXQsIGJhc2UsIGJyYWNlcyk7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0UHJpbWl0aXZlKGN0eCwgdmFsdWUpIHtcbiAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJ3VuZGVmaW5lZCcsICd1bmRlZmluZWQnKTtcbiAgaWYgKGlzU3RyaW5nKHZhbHVlKSkge1xuICAgIHZhciBzaW1wbGUgPSAnXFwnJyArIEpTT04uc3RyaW5naWZ5KHZhbHVlKS5yZXBsYWNlKC9eXCJ8XCIkL2csICcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLycvZywgXCJcXFxcJ1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFxcIi9nLCAnXCInKSArICdcXCcnO1xuICAgIHJldHVybiBjdHguc3R5bGl6ZShzaW1wbGUsICdzdHJpbmcnKTtcbiAgfVxuICBpZiAoaXNOdW1iZXIodmFsdWUpKVxuICAgIHJldHVybiBjdHguc3R5bGl6ZSgnJyArIHZhbHVlLCAnbnVtYmVyJyk7XG4gIGlmIChpc0Jvb2xlYW4odmFsdWUpKVxuICAgIHJldHVybiBjdHguc3R5bGl6ZSgnJyArIHZhbHVlLCAnYm9vbGVhbicpO1xuICAvLyBGb3Igc29tZSByZWFzb24gdHlwZW9mIG51bGwgaXMgXCJvYmplY3RcIiwgc28gc3BlY2lhbCBjYXNlIGhlcmUuXG4gIGlmIChpc051bGwodmFsdWUpKVxuICAgIHJldHVybiBjdHguc3R5bGl6ZSgnbnVsbCcsICdudWxsJyk7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0RXJyb3IodmFsdWUpIHtcbiAgcmV0dXJuICdbJyArIEVycm9yLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSArICddJztcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRBcnJheShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXlzKSB7XG4gIHZhciBvdXRwdXQgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSB2YWx1ZS5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkodmFsdWUsIFN0cmluZyhpKSkpIHtcbiAgICAgIG91dHB1dC5wdXNoKGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsXG4gICAgICAgICAgU3RyaW5nKGkpLCB0cnVlKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dHB1dC5wdXNoKCcnKTtcbiAgICB9XG4gIH1cbiAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgIGlmICgha2V5Lm1hdGNoKC9eXFxkKyQvKSkge1xuICAgICAgb3V0cHV0LnB1c2goZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cyxcbiAgICAgICAgICBrZXksIHRydWUpKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gb3V0cHV0O1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleSwgYXJyYXkpIHtcbiAgdmFyIG5hbWUsIHN0ciwgZGVzYztcbiAgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodmFsdWUsIGtleSkgfHwgeyB2YWx1ZTogdmFsdWVba2V5XSB9O1xuICBpZiAoZGVzYy5nZXQpIHtcbiAgICBpZiAoZGVzYy5zZXQpIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbR2V0dGVyL1NldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0dldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoZGVzYy5zZXQpIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbU2V0dGVyXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG4gIGlmICghaGFzT3duUHJvcGVydHkodmlzaWJsZUtleXMsIGtleSkpIHtcbiAgICBuYW1lID0gJ1snICsga2V5ICsgJ10nO1xuICB9XG4gIGlmICghc3RyKSB7XG4gICAgaWYgKGN0eC5zZWVuLmluZGV4T2YoZGVzYy52YWx1ZSkgPCAwKSB7XG4gICAgICBpZiAoaXNOdWxsKHJlY3Vyc2VUaW1lcykpIHtcbiAgICAgICAgc3RyID0gZm9ybWF0VmFsdWUoY3R4LCBkZXNjLnZhbHVlLCBudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0ciA9IGZvcm1hdFZhbHVlKGN0eCwgZGVzYy52YWx1ZSwgcmVjdXJzZVRpbWVzIC0gMSk7XG4gICAgICB9XG4gICAgICBpZiAoc3RyLmluZGV4T2YoJ1xcbicpID4gLTEpIHtcbiAgICAgICAgaWYgKGFycmF5KSB7XG4gICAgICAgICAgc3RyID0gc3RyLnNwbGl0KCdcXG4nKS5tYXAoZnVuY3Rpb24obGluZSkge1xuICAgICAgICAgICAgcmV0dXJuICcgICcgKyBsaW5lO1xuICAgICAgICAgIH0pLmpvaW4oJ1xcbicpLnN1YnN0cigyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdHIgPSAnXFxuJyArIHN0ci5zcGxpdCgnXFxuJykubWFwKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgICAgIHJldHVybiAnICAgJyArIGxpbmU7XG4gICAgICAgICAgfSkuam9pbignXFxuJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tDaXJjdWxhcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuICBpZiAoaXNVbmRlZmluZWQobmFtZSkpIHtcbiAgICBpZiAoYXJyYXkgJiYga2V5Lm1hdGNoKC9eXFxkKyQvKSkge1xuICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG4gICAgbmFtZSA9IEpTT04uc3RyaW5naWZ5KCcnICsga2V5KTtcbiAgICBpZiAobmFtZS5tYXRjaCgvXlwiKFthLXpBLVpfXVthLXpBLVpfMC05XSopXCIkLykpIHtcbiAgICAgIG5hbWUgPSBuYW1lLnN1YnN0cigxLCBuYW1lLmxlbmd0aCAtIDIpO1xuICAgICAgbmFtZSA9IGN0eC5zdHlsaXplKG5hbWUsICduYW1lJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoLycvZywgXCJcXFxcJ1wiKVxuICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxcXFwiL2csICdcIicpXG4gICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8oXlwifFwiJCkvZywgXCInXCIpO1xuICAgICAgbmFtZSA9IGN0eC5zdHlsaXplKG5hbWUsICdzdHJpbmcnKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmFtZSArICc6ICcgKyBzdHI7XG59XG5cblxuZnVuY3Rpb24gcmVkdWNlVG9TaW5nbGVTdHJpbmcob3V0cHV0LCBiYXNlLCBicmFjZXMpIHtcbiAgdmFyIG51bUxpbmVzRXN0ID0gMDtcbiAgdmFyIGxlbmd0aCA9IG91dHB1dC5yZWR1Y2UoZnVuY3Rpb24ocHJldiwgY3VyKSB7XG4gICAgbnVtTGluZXNFc3QrKztcbiAgICBpZiAoY3VyLmluZGV4T2YoJ1xcbicpID49IDApIG51bUxpbmVzRXN0Kys7XG4gICAgcmV0dXJuIHByZXYgKyBjdXIucmVwbGFjZSgvXFx1MDAxYlxcW1xcZFxcZD9tL2csICcnKS5sZW5ndGggKyAxO1xuICB9LCAwKTtcblxuICBpZiAobGVuZ3RoID4gNjApIHtcbiAgICByZXR1cm4gYnJhY2VzWzBdICtcbiAgICAgICAgICAgKGJhc2UgPT09ICcnID8gJycgOiBiYXNlICsgJ1xcbiAnKSArXG4gICAgICAgICAgICcgJyArXG4gICAgICAgICAgIG91dHB1dC5qb2luKCcsXFxuICAnKSArXG4gICAgICAgICAgICcgJyArXG4gICAgICAgICAgIGJyYWNlc1sxXTtcbiAgfVxuXG4gIHJldHVybiBicmFjZXNbMF0gKyBiYXNlICsgJyAnICsgb3V0cHV0LmpvaW4oJywgJykgKyAnICcgKyBicmFjZXNbMV07XG59XG5cblxuLy8gTk9URTogVGhlc2UgdHlwZSBjaGVja2luZyBmdW5jdGlvbnMgaW50ZW50aW9uYWxseSBkb24ndCB1c2UgYGluc3RhbmNlb2ZgXG4vLyBiZWNhdXNlIGl0IGlzIGZyYWdpbGUgYW5kIGNhbiBiZSBlYXNpbHkgZmFrZWQgd2l0aCBgT2JqZWN0LmNyZWF0ZSgpYC5cbmV4cG9ydCBmdW5jdGlvbiBpc0FycmF5KGFyKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KGFyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQm9vbGVhbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdib29sZWFuJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTnVsbChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTnVsbE9yVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09IG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc051bWJlcihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdudW1iZXInO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNTdHJpbmcoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3RyaW5nJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzU3ltYm9sKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ3N5bWJvbCc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1VuZGVmaW5lZChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gdm9pZCAwO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNSZWdFeHAocmUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHJlKSAmJiBvYmplY3RUb1N0cmluZyhyZSkgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNPYmplY3QoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0RhdGUoZCkge1xuICByZXR1cm4gaXNPYmplY3QoZCkgJiYgb2JqZWN0VG9TdHJpbmcoZCkgPT09ICdbb2JqZWN0IERhdGVdJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRXJyb3IoZSkge1xuICByZXR1cm4gaXNPYmplY3QoZSkgJiZcbiAgICAgIChvYmplY3RUb1N0cmluZyhlKSA9PT0gJ1tvYmplY3QgRXJyb3JdJyB8fCBlIGluc3RhbmNlb2YgRXJyb3IpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdmdW5jdGlvbic7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1ByaW1pdGl2ZShhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gbnVsbCB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnbnVtYmVyJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3N0cmluZycgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdzeW1ib2wnIHx8ICAvLyBFUzYgc3ltYm9sXG4gICAgICAgICB0eXBlb2YgYXJnID09PSAndW5kZWZpbmVkJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQnVmZmVyKG1heWJlQnVmKSB7XG4gIHJldHVybiBCdWZmZXIuaXNCdWZmZXIobWF5YmVCdWYpO1xufVxuXG5mdW5jdGlvbiBvYmplY3RUb1N0cmluZyhvKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobyk7XG59XG5cblxuZnVuY3Rpb24gcGFkKG4pIHtcbiAgcmV0dXJuIG4gPCAxMCA/ICcwJyArIG4udG9TdHJpbmcoMTApIDogbi50b1N0cmluZygxMCk7XG59XG5cblxudmFyIG1vbnRocyA9IFsnSmFuJywgJ0ZlYicsICdNYXInLCAnQXByJywgJ01heScsICdKdW4nLCAnSnVsJywgJ0F1ZycsICdTZXAnLFxuICAgICAgICAgICAgICAnT2N0JywgJ05vdicsICdEZWMnXTtcblxuLy8gMjYgRmViIDE2OjE5OjM0XG5mdW5jdGlvbiB0aW1lc3RhbXAoKSB7XG4gIHZhciBkID0gbmV3IERhdGUoKTtcbiAgdmFyIHRpbWUgPSBbcGFkKGQuZ2V0SG91cnMoKSksXG4gICAgICAgICAgICAgIHBhZChkLmdldE1pbnV0ZXMoKSksXG4gICAgICAgICAgICAgIHBhZChkLmdldFNlY29uZHMoKSldLmpvaW4oJzonKTtcbiAgcmV0dXJuIFtkLmdldERhdGUoKSwgbW9udGhzW2QuZ2V0TW9udGgoKV0sIHRpbWVdLmpvaW4oJyAnKTtcbn1cblxuXG4vLyBsb2cgaXMganVzdCBhIHRoaW4gd3JhcHBlciB0byBjb25zb2xlLmxvZyB0aGF0IHByZXBlbmRzIGEgdGltZXN0YW1wXG5leHBvcnQgZnVuY3Rpb24gbG9nKCkge1xuICBjb25zb2xlLmxvZygnJXMgLSAlcycsIHRpbWVzdGFtcCgpLCBmb3JtYXQuYXBwbHkobnVsbCwgYXJndW1lbnRzKSk7XG59XG5cblxuLyoqXG4gKiBJbmhlcml0IHRoZSBwcm90b3R5cGUgbWV0aG9kcyBmcm9tIG9uZSBjb25zdHJ1Y3RvciBpbnRvIGFub3RoZXIuXG4gKlxuICogVGhlIEZ1bmN0aW9uLnByb3RvdHlwZS5pbmhlcml0cyBmcm9tIGxhbmcuanMgcmV3cml0dGVuIGFzIGEgc3RhbmRhbG9uZVxuICogZnVuY3Rpb24gKG5vdCBvbiBGdW5jdGlvbi5wcm90b3R5cGUpLiBOT1RFOiBJZiB0aGlzIGZpbGUgaXMgdG8gYmUgbG9hZGVkXG4gKiBkdXJpbmcgYm9vdHN0cmFwcGluZyB0aGlzIGZ1bmN0aW9uIG5lZWRzIHRvIGJlIHJld3JpdHRlbiB1c2luZyBzb21lIG5hdGl2ZVxuICogZnVuY3Rpb25zIGFzIHByb3RvdHlwZSBzZXR1cCB1c2luZyBub3JtYWwgSmF2YVNjcmlwdCBkb2VzIG5vdCB3b3JrIGFzXG4gKiBleHBlY3RlZCBkdXJpbmcgYm9vdHN0cmFwcGluZyAoc2VlIG1pcnJvci5qcyBpbiByMTE0OTAzKS5cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjdG9yIENvbnN0cnVjdG9yIGZ1bmN0aW9uIHdoaWNoIG5lZWRzIHRvIGluaGVyaXQgdGhlXG4gKiAgICAgcHJvdG90eXBlLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gc3VwZXJDdG9yIENvbnN0cnVjdG9yIGZ1bmN0aW9uIHRvIGluaGVyaXQgcHJvdG90eXBlIGZyb20uXG4gKi9cbmltcG9ydCBpbmhlcml0cyBmcm9tICcuL2luaGVyaXRzJztcbmV4cG9ydCB7aW5oZXJpdHN9XG5cbmV4cG9ydCBmdW5jdGlvbiBfZXh0ZW5kKG9yaWdpbiwgYWRkKSB7XG4gIC8vIERvbid0IGRvIGFueXRoaW5nIGlmIGFkZCBpc24ndCBhbiBvYmplY3RcbiAgaWYgKCFhZGQgfHwgIWlzT2JqZWN0KGFkZCkpIHJldHVybiBvcmlnaW47XG5cbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhhZGQpO1xuICB2YXIgaSA9IGtleXMubGVuZ3RoO1xuICB3aGlsZSAoaS0tKSB7XG4gICAgb3JpZ2luW2tleXNbaV1dID0gYWRkW2tleXNbaV1dO1xuICB9XG4gIHJldHVybiBvcmlnaW47XG59O1xuXG5mdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShvYmosIHByb3ApIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGluaGVyaXRzOiBpbmhlcml0cyxcbiAgX2V4dGVuZDogX2V4dGVuZCxcbiAgbG9nOiBsb2csXG4gIGlzQnVmZmVyOiBpc0J1ZmZlcixcbiAgaXNQcmltaXRpdmU6IGlzUHJpbWl0aXZlLFxuICBpc0Z1bmN0aW9uOiBpc0Z1bmN0aW9uLFxuICBpc0Vycm9yOiBpc0Vycm9yLFxuICBpc0RhdGU6IGlzRGF0ZSxcbiAgaXNPYmplY3Q6IGlzT2JqZWN0LFxuICBpc1JlZ0V4cDogaXNSZWdFeHAsXG4gIGlzVW5kZWZpbmVkOiBpc1VuZGVmaW5lZCxcbiAgaXNTeW1ib2w6IGlzU3ltYm9sLFxuICBpc1N0cmluZzogaXNTdHJpbmcsXG4gIGlzTnVtYmVyOiBpc051bWJlcixcbiAgaXNOdWxsT3JVbmRlZmluZWQ6IGlzTnVsbE9yVW5kZWZpbmVkLFxuICBpc051bGw6IGlzTnVsbCxcbiAgaXNCb29sZWFuOiBpc0Jvb2xlYW4sXG4gIGlzQXJyYXk6IGlzQXJyYXksXG4gIGluc3BlY3Q6IGluc3BlY3QsXG4gIGRlcHJlY2F0ZTogZGVwcmVjYXRlLFxuICBmb3JtYXQ6IGZvcm1hdCxcbiAgZGVidWdsb2c6IGRlYnVnbG9nXG59XG4iLCAiaW1wb3J0IHtCdWZmZXJ9IGZyb20gJ2J1ZmZlcic7XG5cbmV4cG9ydCBkZWZhdWx0IEJ1ZmZlckxpc3Q7XG5cbmZ1bmN0aW9uIEJ1ZmZlckxpc3QoKSB7XG4gIHRoaXMuaGVhZCA9IG51bGw7XG4gIHRoaXMudGFpbCA9IG51bGw7XG4gIHRoaXMubGVuZ3RoID0gMDtcbn1cblxuQnVmZmVyTGlzdC5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uICh2KSB7XG4gIHZhciBlbnRyeSA9IHsgZGF0YTogdiwgbmV4dDogbnVsbCB9O1xuICBpZiAodGhpcy5sZW5ndGggPiAwKSB0aGlzLnRhaWwubmV4dCA9IGVudHJ5O2Vsc2UgdGhpcy5oZWFkID0gZW50cnk7XG4gIHRoaXMudGFpbCA9IGVudHJ5O1xuICArK3RoaXMubGVuZ3RoO1xufTtcblxuQnVmZmVyTGlzdC5wcm90b3R5cGUudW5zaGlmdCA9IGZ1bmN0aW9uICh2KSB7XG4gIHZhciBlbnRyeSA9IHsgZGF0YTogdiwgbmV4dDogdGhpcy5oZWFkIH07XG4gIGlmICh0aGlzLmxlbmd0aCA9PT0gMCkgdGhpcy50YWlsID0gZW50cnk7XG4gIHRoaXMuaGVhZCA9IGVudHJ5O1xuICArK3RoaXMubGVuZ3RoO1xufTtcblxuQnVmZmVyTGlzdC5wcm90b3R5cGUuc2hpZnQgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICB2YXIgcmV0ID0gdGhpcy5oZWFkLmRhdGE7XG4gIGlmICh0aGlzLmxlbmd0aCA9PT0gMSkgdGhpcy5oZWFkID0gdGhpcy50YWlsID0gbnVsbDtlbHNlIHRoaXMuaGVhZCA9IHRoaXMuaGVhZC5uZXh0O1xuICAtLXRoaXMubGVuZ3RoO1xuICByZXR1cm4gcmV0O1xufTtcblxuQnVmZmVyTGlzdC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuaGVhZCA9IHRoaXMudGFpbCA9IG51bGw7XG4gIHRoaXMubGVuZ3RoID0gMDtcbn07XG5cbkJ1ZmZlckxpc3QucHJvdG90eXBlLmpvaW4gPSBmdW5jdGlvbiAocykge1xuICBpZiAodGhpcy5sZW5ndGggPT09IDApIHJldHVybiAnJztcbiAgdmFyIHAgPSB0aGlzLmhlYWQ7XG4gIHZhciByZXQgPSAnJyArIHAuZGF0YTtcbiAgd2hpbGUgKHAgPSBwLm5leHQpIHtcbiAgICByZXQgKz0gcyArIHAuZGF0YTtcbiAgfXJldHVybiByZXQ7XG59O1xuXG5CdWZmZXJMaXN0LnByb3RvdHlwZS5jb25jYXQgPSBmdW5jdGlvbiAobikge1xuICBpZiAodGhpcy5sZW5ndGggPT09IDApIHJldHVybiBCdWZmZXIuYWxsb2MoMCk7XG4gIGlmICh0aGlzLmxlbmd0aCA9PT0gMSkgcmV0dXJuIHRoaXMuaGVhZC5kYXRhO1xuICB2YXIgcmV0ID0gQnVmZmVyLmFsbG9jVW5zYWZlKG4gPj4+IDApO1xuICB2YXIgcCA9IHRoaXMuaGVhZDtcbiAgdmFyIGkgPSAwO1xuICB3aGlsZSAocCkge1xuICAgIHAuZGF0YS5jb3B5KHJldCwgaSk7XG4gICAgaSArPSBwLmRhdGEubGVuZ3RoO1xuICAgIHAgPSBwLm5leHQ7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn07XG4iLCAiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbmltcG9ydCB7QnVmZmVyfSBmcm9tICdidWZmZXInO1xudmFyIGlzQnVmZmVyRW5jb2RpbmcgPSBCdWZmZXIuaXNFbmNvZGluZ1xuICB8fCBmdW5jdGlvbihlbmNvZGluZykge1xuICAgICAgIHN3aXRjaCAoZW5jb2RpbmcgJiYgZW5jb2RpbmcudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgY2FzZSAnaGV4JzogY2FzZSAndXRmOCc6IGNhc2UgJ3V0Zi04JzogY2FzZSAnYXNjaWknOiBjYXNlICdiaW5hcnknOiBjYXNlICdiYXNlNjQnOiBjYXNlICd1Y3MyJzogY2FzZSAndWNzLTInOiBjYXNlICd1dGYxNmxlJzogY2FzZSAndXRmLTE2bGUnOiBjYXNlICdyYXcnOiByZXR1cm4gdHJ1ZTtcbiAgICAgICAgIGRlZmF1bHQ6IHJldHVybiBmYWxzZTtcbiAgICAgICB9XG4gICAgIH1cblxuXG5mdW5jdGlvbiBhc3NlcnRFbmNvZGluZyhlbmNvZGluZykge1xuICBpZiAoZW5jb2RpbmcgJiYgIWlzQnVmZmVyRW5jb2RpbmcoZW5jb2RpbmcpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpO1xuICB9XG59XG5cbi8vIFN0cmluZ0RlY29kZXIgcHJvdmlkZXMgYW4gaW50ZXJmYWNlIGZvciBlZmZpY2llbnRseSBzcGxpdHRpbmcgYSBzZXJpZXMgb2Zcbi8vIGJ1ZmZlcnMgaW50byBhIHNlcmllcyBvZiBKUyBzdHJpbmdzIHdpdGhvdXQgYnJlYWtpbmcgYXBhcnQgbXVsdGktYnl0ZVxuLy8gY2hhcmFjdGVycy4gQ0VTVS04IGlzIGhhbmRsZWQgYXMgcGFydCBvZiB0aGUgVVRGLTggZW5jb2RpbmcuXG4vL1xuLy8gQFRPRE8gSGFuZGxpbmcgYWxsIGVuY29kaW5ncyBpbnNpZGUgYSBzaW5nbGUgb2JqZWN0IG1ha2VzIGl0IHZlcnkgZGlmZmljdWx0XG4vLyB0byByZWFzb24gYWJvdXQgdGhpcyBjb2RlLCBzbyBpdCBzaG91bGQgYmUgc3BsaXQgdXAgaW4gdGhlIGZ1dHVyZS5cbi8vIEBUT0RPIFRoZXJlIHNob3VsZCBiZSBhIHV0Zjgtc3RyaWN0IGVuY29kaW5nIHRoYXQgcmVqZWN0cyBpbnZhbGlkIFVURi04IGNvZGVcbi8vIHBvaW50cyBhcyB1c2VkIGJ5IENFU1UtOC5cbmV4cG9ydCBmdW5jdGlvbiBTdHJpbmdEZWNvZGVyKGVuY29kaW5nKSB7XG4gIHRoaXMuZW5jb2RpbmcgPSAoZW5jb2RpbmcgfHwgJ3V0ZjgnKS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1stX10vLCAnJyk7XG4gIGFzc2VydEVuY29kaW5nKGVuY29kaW5nKTtcbiAgc3dpdGNoICh0aGlzLmVuY29kaW5nKSB7XG4gICAgY2FzZSAndXRmOCc6XG4gICAgICAvLyBDRVNVLTggcmVwcmVzZW50cyBlYWNoIG9mIFN1cnJvZ2F0ZSBQYWlyIGJ5IDMtYnl0ZXNcbiAgICAgIHRoaXMuc3Vycm9nYXRlU2l6ZSA9IDM7XG4gICAgICBicmVhaztcbiAgICBjYXNlICd1Y3MyJzpcbiAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIC8vIFVURi0xNiByZXByZXNlbnRzIGVhY2ggb2YgU3Vycm9nYXRlIFBhaXIgYnkgMi1ieXRlc1xuICAgICAgdGhpcy5zdXJyb2dhdGVTaXplID0gMjtcbiAgICAgIHRoaXMuZGV0ZWN0SW5jb21wbGV0ZUNoYXIgPSB1dGYxNkRldGVjdEluY29tcGxldGVDaGFyO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgIC8vIEJhc2UtNjQgc3RvcmVzIDMgYnl0ZXMgaW4gNCBjaGFycywgYW5kIHBhZHMgdGhlIHJlbWFpbmRlci5cbiAgICAgIHRoaXMuc3Vycm9nYXRlU2l6ZSA9IDM7XG4gICAgICB0aGlzLmRldGVjdEluY29tcGxldGVDaGFyID0gYmFzZTY0RGV0ZWN0SW5jb21wbGV0ZUNoYXI7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhpcy53cml0ZSA9IHBhc3NUaHJvdWdoV3JpdGU7XG4gICAgICByZXR1cm47XG4gIH1cblxuICAvLyBFbm91Z2ggc3BhY2UgdG8gc3RvcmUgYWxsIGJ5dGVzIG9mIGEgc2luZ2xlIGNoYXJhY3Rlci4gVVRGLTggbmVlZHMgNFxuICAvLyBieXRlcywgYnV0IENFU1UtOCBtYXkgcmVxdWlyZSB1cCB0byA2ICgzIGJ5dGVzIHBlciBzdXJyb2dhdGUpLlxuICB0aGlzLmNoYXJCdWZmZXIgPSBuZXcgQnVmZmVyKDYpO1xuICAvLyBOdW1iZXIgb2YgYnl0ZXMgcmVjZWl2ZWQgZm9yIHRoZSBjdXJyZW50IGluY29tcGxldGUgbXVsdGktYnl0ZSBjaGFyYWN0ZXIuXG4gIHRoaXMuY2hhclJlY2VpdmVkID0gMDtcbiAgLy8gTnVtYmVyIG9mIGJ5dGVzIGV4cGVjdGVkIGZvciB0aGUgY3VycmVudCBpbmNvbXBsZXRlIG11bHRpLWJ5dGUgY2hhcmFjdGVyLlxuICB0aGlzLmNoYXJMZW5ndGggPSAwO1xufTtcblxuXG4vLyB3cml0ZSBkZWNvZGVzIHRoZSBnaXZlbiBidWZmZXIgYW5kIHJldHVybnMgaXQgYXMgSlMgc3RyaW5nIHRoYXQgaXNcbi8vIGd1YXJhbnRlZWQgdG8gbm90IGNvbnRhaW4gYW55IHBhcnRpYWwgbXVsdGktYnl0ZSBjaGFyYWN0ZXJzLiBBbnkgcGFydGlhbFxuLy8gY2hhcmFjdGVyIGZvdW5kIGF0IHRoZSBlbmQgb2YgdGhlIGJ1ZmZlciBpcyBidWZmZXJlZCB1cCwgYW5kIHdpbGwgYmVcbi8vIHJldHVybmVkIHdoZW4gY2FsbGluZyB3cml0ZSBhZ2FpbiB3aXRoIHRoZSByZW1haW5pbmcgYnl0ZXMuXG4vL1xuLy8gTm90ZTogQ29udmVydGluZyBhIEJ1ZmZlciBjb250YWluaW5nIGFuIG9ycGhhbiBzdXJyb2dhdGUgdG8gYSBTdHJpbmdcbi8vIGN1cnJlbnRseSB3b3JrcywgYnV0IGNvbnZlcnRpbmcgYSBTdHJpbmcgdG8gYSBCdWZmZXIgKHZpYSBgbmV3IEJ1ZmZlcmAsIG9yXG4vLyBCdWZmZXIjd3JpdGUpIHdpbGwgcmVwbGFjZSBpbmNvbXBsZXRlIHN1cnJvZ2F0ZXMgd2l0aCB0aGUgdW5pY29kZVxuLy8gcmVwbGFjZW1lbnQgY2hhcmFjdGVyLiBTZWUgaHR0cHM6Ly9jb2RlcmV2aWV3LmNocm9taXVtLm9yZy8xMjExNzMwMDkvIC5cblN0cmluZ0RlY29kZXIucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24oYnVmZmVyKSB7XG4gIHZhciBjaGFyU3RyID0gJyc7XG4gIC8vIGlmIG91ciBsYXN0IHdyaXRlIGVuZGVkIHdpdGggYW4gaW5jb21wbGV0ZSBtdWx0aWJ5dGUgY2hhcmFjdGVyXG4gIHdoaWxlICh0aGlzLmNoYXJMZW5ndGgpIHtcbiAgICAvLyBkZXRlcm1pbmUgaG93IG1hbnkgcmVtYWluaW5nIGJ5dGVzIHRoaXMgYnVmZmVyIGhhcyB0byBvZmZlciBmb3IgdGhpcyBjaGFyXG4gICAgdmFyIGF2YWlsYWJsZSA9IChidWZmZXIubGVuZ3RoID49IHRoaXMuY2hhckxlbmd0aCAtIHRoaXMuY2hhclJlY2VpdmVkKSA/XG4gICAgICAgIHRoaXMuY2hhckxlbmd0aCAtIHRoaXMuY2hhclJlY2VpdmVkIDpcbiAgICAgICAgYnVmZmVyLmxlbmd0aDtcblxuICAgIC8vIGFkZCB0aGUgbmV3IGJ5dGVzIHRvIHRoZSBjaGFyIGJ1ZmZlclxuICAgIGJ1ZmZlci5jb3B5KHRoaXMuY2hhckJ1ZmZlciwgdGhpcy5jaGFyUmVjZWl2ZWQsIDAsIGF2YWlsYWJsZSk7XG4gICAgdGhpcy5jaGFyUmVjZWl2ZWQgKz0gYXZhaWxhYmxlO1xuXG4gICAgaWYgKHRoaXMuY2hhclJlY2VpdmVkIDwgdGhpcy5jaGFyTGVuZ3RoKSB7XG4gICAgICAvLyBzdGlsbCBub3QgZW5vdWdoIGNoYXJzIGluIHRoaXMgYnVmZmVyPyB3YWl0IGZvciBtb3JlIC4uLlxuICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIC8vIHJlbW92ZSBieXRlcyBiZWxvbmdpbmcgdG8gdGhlIGN1cnJlbnQgY2hhcmFjdGVyIGZyb20gdGhlIGJ1ZmZlclxuICAgIGJ1ZmZlciA9IGJ1ZmZlci5zbGljZShhdmFpbGFibGUsIGJ1ZmZlci5sZW5ndGgpO1xuXG4gICAgLy8gZ2V0IHRoZSBjaGFyYWN0ZXIgdGhhdCB3YXMgc3BsaXRcbiAgICBjaGFyU3RyID0gdGhpcy5jaGFyQnVmZmVyLnNsaWNlKDAsIHRoaXMuY2hhckxlbmd0aCkudG9TdHJpbmcodGhpcy5lbmNvZGluZyk7XG5cbiAgICAvLyBDRVNVLTg6IGxlYWQgc3Vycm9nYXRlIChEODAwLURCRkYpIGlzIGFsc28gdGhlIGluY29tcGxldGUgY2hhcmFjdGVyXG4gICAgdmFyIGNoYXJDb2RlID0gY2hhclN0ci5jaGFyQ29kZUF0KGNoYXJTdHIubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGNoYXJDb2RlID49IDB4RDgwMCAmJiBjaGFyQ29kZSA8PSAweERCRkYpIHtcbiAgICAgIHRoaXMuY2hhckxlbmd0aCArPSB0aGlzLnN1cnJvZ2F0ZVNpemU7XG4gICAgICBjaGFyU3RyID0gJyc7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgdGhpcy5jaGFyUmVjZWl2ZWQgPSB0aGlzLmNoYXJMZW5ndGggPSAwO1xuXG4gICAgLy8gaWYgdGhlcmUgYXJlIG5vIG1vcmUgYnl0ZXMgaW4gdGhpcyBidWZmZXIsIGp1c3QgZW1pdCBvdXIgY2hhclxuICAgIGlmIChidWZmZXIubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gY2hhclN0cjtcbiAgICB9XG4gICAgYnJlYWs7XG4gIH1cblxuICAvLyBkZXRlcm1pbmUgYW5kIHNldCBjaGFyTGVuZ3RoIC8gY2hhclJlY2VpdmVkXG4gIHRoaXMuZGV0ZWN0SW5jb21wbGV0ZUNoYXIoYnVmZmVyKTtcblxuICB2YXIgZW5kID0gYnVmZmVyLmxlbmd0aDtcbiAgaWYgKHRoaXMuY2hhckxlbmd0aCkge1xuICAgIC8vIGJ1ZmZlciB0aGUgaW5jb21wbGV0ZSBjaGFyYWN0ZXIgYnl0ZXMgd2UgZ290XG4gICAgYnVmZmVyLmNvcHkodGhpcy5jaGFyQnVmZmVyLCAwLCBidWZmZXIubGVuZ3RoIC0gdGhpcy5jaGFyUmVjZWl2ZWQsIGVuZCk7XG4gICAgZW5kIC09IHRoaXMuY2hhclJlY2VpdmVkO1xuICB9XG5cbiAgY2hhclN0ciArPSBidWZmZXIudG9TdHJpbmcodGhpcy5lbmNvZGluZywgMCwgZW5kKTtcblxuICB2YXIgZW5kID0gY2hhclN0ci5sZW5ndGggLSAxO1xuICB2YXIgY2hhckNvZGUgPSBjaGFyU3RyLmNoYXJDb2RlQXQoZW5kKTtcbiAgLy8gQ0VTVS04OiBsZWFkIHN1cnJvZ2F0ZSAoRDgwMC1EQkZGKSBpcyBhbHNvIHRoZSBpbmNvbXBsZXRlIGNoYXJhY3RlclxuICBpZiAoY2hhckNvZGUgPj0gMHhEODAwICYmIGNoYXJDb2RlIDw9IDB4REJGRikge1xuICAgIHZhciBzaXplID0gdGhpcy5zdXJyb2dhdGVTaXplO1xuICAgIHRoaXMuY2hhckxlbmd0aCArPSBzaXplO1xuICAgIHRoaXMuY2hhclJlY2VpdmVkICs9IHNpemU7XG4gICAgdGhpcy5jaGFyQnVmZmVyLmNvcHkodGhpcy5jaGFyQnVmZmVyLCBzaXplLCAwLCBzaXplKTtcbiAgICBidWZmZXIuY29weSh0aGlzLmNoYXJCdWZmZXIsIDAsIDAsIHNpemUpO1xuICAgIHJldHVybiBjaGFyU3RyLnN1YnN0cmluZygwLCBlbmQpO1xuICB9XG5cbiAgLy8gb3IganVzdCBlbWl0IHRoZSBjaGFyU3RyXG4gIHJldHVybiBjaGFyU3RyO1xufTtcblxuLy8gZGV0ZWN0SW5jb21wbGV0ZUNoYXIgZGV0ZXJtaW5lcyBpZiB0aGVyZSBpcyBhbiBpbmNvbXBsZXRlIFVURi04IGNoYXJhY3RlciBhdFxuLy8gdGhlIGVuZCBvZiB0aGUgZ2l2ZW4gYnVmZmVyLiBJZiBzbywgaXQgc2V0cyB0aGlzLmNoYXJMZW5ndGggdG8gdGhlIGJ5dGVcbi8vIGxlbmd0aCB0aGF0IGNoYXJhY3RlciwgYW5kIHNldHMgdGhpcy5jaGFyUmVjZWl2ZWQgdG8gdGhlIG51bWJlciBvZiBieXRlc1xuLy8gdGhhdCBhcmUgYXZhaWxhYmxlIGZvciB0aGlzIGNoYXJhY3Rlci5cblN0cmluZ0RlY29kZXIucHJvdG90eXBlLmRldGVjdEluY29tcGxldGVDaGFyID0gZnVuY3Rpb24oYnVmZmVyKSB7XG4gIC8vIGRldGVybWluZSBob3cgbWFueSBieXRlcyB3ZSBoYXZlIHRvIGNoZWNrIGF0IHRoZSBlbmQgb2YgdGhpcyBidWZmZXJcbiAgdmFyIGkgPSAoYnVmZmVyLmxlbmd0aCA+PSAzKSA/IDMgOiBidWZmZXIubGVuZ3RoO1xuXG4gIC8vIEZpZ3VyZSBvdXQgaWYgb25lIG9mIHRoZSBsYXN0IGkgYnl0ZXMgb2Ygb3VyIGJ1ZmZlciBhbm5vdW5jZXMgYW5cbiAgLy8gaW5jb21wbGV0ZSBjaGFyLlxuICBmb3IgKDsgaSA+IDA7IGktLSkge1xuICAgIHZhciBjID0gYnVmZmVyW2J1ZmZlci5sZW5ndGggLSBpXTtcblxuICAgIC8vIFNlZSBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1VURi04I0Rlc2NyaXB0aW9uXG5cbiAgICAvLyAxMTBYWFhYWFxuICAgIGlmIChpID09IDEgJiYgYyA+PiA1ID09IDB4MDYpIHtcbiAgICAgIHRoaXMuY2hhckxlbmd0aCA9IDI7XG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICAvLyAxMTEwWFhYWFxuICAgIGlmIChpIDw9IDIgJiYgYyA+PiA0ID09IDB4MEUpIHtcbiAgICAgIHRoaXMuY2hhckxlbmd0aCA9IDM7XG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICAvLyAxMTExMFhYWFxuICAgIGlmIChpIDw9IDMgJiYgYyA+PiAzID09IDB4MUUpIHtcbiAgICAgIHRoaXMuY2hhckxlbmd0aCA9IDQ7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgdGhpcy5jaGFyUmVjZWl2ZWQgPSBpO1xufTtcblxuU3RyaW5nRGVjb2Rlci5wcm90b3R5cGUuZW5kID0gZnVuY3Rpb24oYnVmZmVyKSB7XG4gIHZhciByZXMgPSAnJztcbiAgaWYgKGJ1ZmZlciAmJiBidWZmZXIubGVuZ3RoKVxuICAgIHJlcyA9IHRoaXMud3JpdGUoYnVmZmVyKTtcblxuICBpZiAodGhpcy5jaGFyUmVjZWl2ZWQpIHtcbiAgICB2YXIgY3IgPSB0aGlzLmNoYXJSZWNlaXZlZDtcbiAgICB2YXIgYnVmID0gdGhpcy5jaGFyQnVmZmVyO1xuICAgIHZhciBlbmMgPSB0aGlzLmVuY29kaW5nO1xuICAgIHJlcyArPSBidWYuc2xpY2UoMCwgY3IpLnRvU3RyaW5nKGVuYyk7XG4gIH1cblxuICByZXR1cm4gcmVzO1xufTtcblxuZnVuY3Rpb24gcGFzc1Rocm91Z2hXcml0ZShidWZmZXIpIHtcbiAgcmV0dXJuIGJ1ZmZlci50b1N0cmluZyh0aGlzLmVuY29kaW5nKTtcbn1cblxuZnVuY3Rpb24gdXRmMTZEZXRlY3RJbmNvbXBsZXRlQ2hhcihidWZmZXIpIHtcbiAgdGhpcy5jaGFyUmVjZWl2ZWQgPSBidWZmZXIubGVuZ3RoICUgMjtcbiAgdGhpcy5jaGFyTGVuZ3RoID0gdGhpcy5jaGFyUmVjZWl2ZWQgPyAyIDogMDtcbn1cblxuZnVuY3Rpb24gYmFzZTY0RGV0ZWN0SW5jb21wbGV0ZUNoYXIoYnVmZmVyKSB7XG4gIHRoaXMuY2hhclJlY2VpdmVkID0gYnVmZmVyLmxlbmd0aCAlIDM7XG4gIHRoaXMuY2hhckxlbmd0aCA9IHRoaXMuY2hhclJlY2VpdmVkID8gMyA6IDA7XG59XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG5cblJlYWRhYmxlLlJlYWRhYmxlU3RhdGUgPSBSZWFkYWJsZVN0YXRlO1xuaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tICdldmVudHMnO1xuaW1wb3J0IHtpbmhlcml0cywgZGVidWdsb2d9IGZyb20gJ3V0aWwnO1xuaW1wb3J0IEJ1ZmZlckxpc3QgZnJvbSAnLi9idWZmZXItbGlzdCc7XG5pbXBvcnQge1N0cmluZ0RlY29kZXJ9IGZyb20gJ3N0cmluZ19kZWNvZGVyJztcbmltcG9ydCB7RHVwbGV4fSBmcm9tICcuL2R1cGxleCc7XG5pbXBvcnQge25leHRUaWNrfSBmcm9tICdwcm9jZXNzJztcblxudmFyIGRlYnVnID0gZGVidWdsb2coJ3N0cmVhbScpO1xuaW5oZXJpdHMoUmVhZGFibGUsIEV2ZW50RW1pdHRlcik7XG5cbmZ1bmN0aW9uIHByZXBlbmRMaXN0ZW5lcihlbWl0dGVyLCBldmVudCwgZm4pIHtcbiAgLy8gU2FkbHkgdGhpcyBpcyBub3QgY2FjaGVhYmxlIGFzIHNvbWUgbGlicmFyaWVzIGJ1bmRsZSB0aGVpciBvd25cbiAgLy8gZXZlbnQgZW1pdHRlciBpbXBsZW1lbnRhdGlvbiB3aXRoIHRoZW0uXG4gIGlmICh0eXBlb2YgZW1pdHRlci5wcmVwZW5kTGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZW1pdHRlci5wcmVwZW5kTGlzdGVuZXIoZXZlbnQsIGZuKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBUaGlzIGlzIGEgaGFjayB0byBtYWtlIHN1cmUgdGhhdCBvdXIgZXJyb3IgaGFuZGxlciBpcyBhdHRhY2hlZCBiZWZvcmUgYW55XG4gICAgLy8gdXNlcmxhbmQgb25lcy4gIE5FVkVSIERPIFRISVMuIFRoaXMgaXMgaGVyZSBvbmx5IGJlY2F1c2UgdGhpcyBjb2RlIG5lZWRzXG4gICAgLy8gdG8gY29udGludWUgdG8gd29yayB3aXRoIG9sZGVyIHZlcnNpb25zIG9mIE5vZGUuanMgdGhhdCBkbyBub3QgaW5jbHVkZVxuICAgIC8vIHRoZSBwcmVwZW5kTGlzdGVuZXIoKSBtZXRob2QuIFRoZSBnb2FsIGlzIHRvIGV2ZW50dWFsbHkgcmVtb3ZlIHRoaXMgaGFjay5cbiAgICBpZiAoIWVtaXR0ZXIuX2V2ZW50cyB8fCAhZW1pdHRlci5fZXZlbnRzW2V2ZW50XSlcbiAgICAgIGVtaXR0ZXIub24oZXZlbnQsIGZuKTtcbiAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KGVtaXR0ZXIuX2V2ZW50c1tldmVudF0pKVxuICAgICAgZW1pdHRlci5fZXZlbnRzW2V2ZW50XS51bnNoaWZ0KGZuKTtcbiAgICBlbHNlXG4gICAgICBlbWl0dGVyLl9ldmVudHNbZXZlbnRdID0gW2ZuLCBlbWl0dGVyLl9ldmVudHNbZXZlbnRdXTtcbiAgfVxufVxuZnVuY3Rpb24gbGlzdGVuZXJDb3VudCAoZW1pdHRlciwgdHlwZSkge1xuICByZXR1cm4gZW1pdHRlci5saXN0ZW5lcnModHlwZSkubGVuZ3RoO1xufVxuZnVuY3Rpb24gUmVhZGFibGVTdGF0ZShvcHRpb25zLCBzdHJlYW0pIHtcblxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAvLyBvYmplY3Qgc3RyZWFtIGZsYWcuIFVzZWQgdG8gbWFrZSByZWFkKG4pIGlnbm9yZSBuIGFuZCB0b1xuICAvLyBtYWtlIGFsbCB0aGUgYnVmZmVyIG1lcmdpbmcgYW5kIGxlbmd0aCBjaGVja3MgZ28gYXdheVxuICB0aGlzLm9iamVjdE1vZGUgPSAhIW9wdGlvbnMub2JqZWN0TW9kZTtcblxuICBpZiAoc3RyZWFtIGluc3RhbmNlb2YgRHVwbGV4KSB0aGlzLm9iamVjdE1vZGUgPSB0aGlzLm9iamVjdE1vZGUgfHwgISFvcHRpb25zLnJlYWRhYmxlT2JqZWN0TW9kZTtcblxuICAvLyB0aGUgcG9pbnQgYXQgd2hpY2ggaXQgc3RvcHMgY2FsbGluZyBfcmVhZCgpIHRvIGZpbGwgdGhlIGJ1ZmZlclxuICAvLyBOb3RlOiAwIGlzIGEgdmFsaWQgdmFsdWUsIG1lYW5zIFwiZG9uJ3QgY2FsbCBfcmVhZCBwcmVlbXB0aXZlbHkgZXZlclwiXG4gIHZhciBod20gPSBvcHRpb25zLmhpZ2hXYXRlck1hcms7XG4gIHZhciBkZWZhdWx0SHdtID0gdGhpcy5vYmplY3RNb2RlID8gMTYgOiAxNiAqIDEwMjQ7XG4gIHRoaXMuaGlnaFdhdGVyTWFyayA9IGh3bSB8fCBod20gPT09IDAgPyBod20gOiBkZWZhdWx0SHdtO1xuXG4gIC8vIGNhc3QgdG8gaW50cy5cbiAgdGhpcy5oaWdoV2F0ZXJNYXJrID0gfiB+dGhpcy5oaWdoV2F0ZXJNYXJrO1xuXG4gIC8vIEEgbGlua2VkIGxpc3QgaXMgdXNlZCB0byBzdG9yZSBkYXRhIGNodW5rcyBpbnN0ZWFkIG9mIGFuIGFycmF5IGJlY2F1c2UgdGhlXG4gIC8vIGxpbmtlZCBsaXN0IGNhbiByZW1vdmUgZWxlbWVudHMgZnJvbSB0aGUgYmVnaW5uaW5nIGZhc3RlciB0aGFuXG4gIC8vIGFycmF5LnNoaWZ0KClcbiAgdGhpcy5idWZmZXIgPSBuZXcgQnVmZmVyTGlzdCgpO1xuICB0aGlzLmxlbmd0aCA9IDA7XG4gIHRoaXMucGlwZXMgPSBudWxsO1xuICB0aGlzLnBpcGVzQ291bnQgPSAwO1xuICB0aGlzLmZsb3dpbmcgPSBudWxsO1xuICB0aGlzLmVuZGVkID0gZmFsc2U7XG4gIHRoaXMuZW5kRW1pdHRlZCA9IGZhbHNlO1xuICB0aGlzLnJlYWRpbmcgPSBmYWxzZTtcblxuICAvLyBhIGZsYWcgdG8gYmUgYWJsZSB0byB0ZWxsIGlmIHRoZSBvbndyaXRlIGNiIGlzIGNhbGxlZCBpbW1lZGlhdGVseSxcbiAgLy8gb3Igb24gYSBsYXRlciB0aWNrLiAgV2Ugc2V0IHRoaXMgdG8gdHJ1ZSBhdCBmaXJzdCwgYmVjYXVzZSBhbnlcbiAgLy8gYWN0aW9ucyB0aGF0IHNob3VsZG4ndCBoYXBwZW4gdW50aWwgXCJsYXRlclwiIHNob3VsZCBnZW5lcmFsbHkgYWxzb1xuICAvLyBub3QgaGFwcGVuIGJlZm9yZSB0aGUgZmlyc3Qgd3JpdGUgY2FsbC5cbiAgdGhpcy5zeW5jID0gdHJ1ZTtcblxuICAvLyB3aGVuZXZlciB3ZSByZXR1cm4gbnVsbCwgdGhlbiB3ZSBzZXQgYSBmbGFnIHRvIHNheVxuICAvLyB0aGF0IHdlJ3JlIGF3YWl0aW5nIGEgJ3JlYWRhYmxlJyBldmVudCBlbWlzc2lvbi5cbiAgdGhpcy5uZWVkUmVhZGFibGUgPSBmYWxzZTtcbiAgdGhpcy5lbWl0dGVkUmVhZGFibGUgPSBmYWxzZTtcbiAgdGhpcy5yZWFkYWJsZUxpc3RlbmluZyA9IGZhbHNlO1xuICB0aGlzLnJlc3VtZVNjaGVkdWxlZCA9IGZhbHNlO1xuXG4gIC8vIENyeXB0byBpcyBraW5kIG9mIG9sZCBhbmQgY3J1c3R5LiAgSGlzdG9yaWNhbGx5LCBpdHMgZGVmYXVsdCBzdHJpbmdcbiAgLy8gZW5jb2RpbmcgaXMgJ2JpbmFyeScgc28gd2UgaGF2ZSB0byBtYWtlIHRoaXMgY29uZmlndXJhYmxlLlxuICAvLyBFdmVyeXRoaW5nIGVsc2UgaW4gdGhlIHVuaXZlcnNlIHVzZXMgJ3V0ZjgnLCB0aG91Z2guXG4gIHRoaXMuZGVmYXVsdEVuY29kaW5nID0gb3B0aW9ucy5kZWZhdWx0RW5jb2RpbmcgfHwgJ3V0ZjgnO1xuXG4gIC8vIHdoZW4gcGlwaW5nLCB3ZSBvbmx5IGNhcmUgYWJvdXQgJ3JlYWRhYmxlJyBldmVudHMgdGhhdCBoYXBwZW5cbiAgLy8gYWZ0ZXIgcmVhZCgpaW5nIGFsbCB0aGUgYnl0ZXMgYW5kIG5vdCBnZXR0aW5nIGFueSBwdXNoYmFjay5cbiAgdGhpcy5yYW5PdXQgPSBmYWxzZTtcblxuICAvLyB0aGUgbnVtYmVyIG9mIHdyaXRlcnMgdGhhdCBhcmUgYXdhaXRpbmcgYSBkcmFpbiBldmVudCBpbiAucGlwZSgpc1xuICB0aGlzLmF3YWl0RHJhaW4gPSAwO1xuXG4gIC8vIGlmIHRydWUsIGEgbWF5YmVSZWFkTW9yZSBoYXMgYmVlbiBzY2hlZHVsZWRcbiAgdGhpcy5yZWFkaW5nTW9yZSA9IGZhbHNlO1xuXG4gIHRoaXMuZGVjb2RlciA9IG51bGw7XG4gIHRoaXMuZW5jb2RpbmcgPSBudWxsO1xuICBpZiAob3B0aW9ucy5lbmNvZGluZykge1xuICAgIHRoaXMuZGVjb2RlciA9IG5ldyBTdHJpbmdEZWNvZGVyKG9wdGlvbnMuZW5jb2RpbmcpO1xuICAgIHRoaXMuZW5jb2RpbmcgPSBvcHRpb25zLmVuY29kaW5nO1xuICB9XG59XG5leHBvcnQgZGVmYXVsdCBSZWFkYWJsZTtcbmV4cG9ydCBmdW5jdGlvbiBSZWFkYWJsZShvcHRpb25zKSB7XG5cbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFJlYWRhYmxlKSkgcmV0dXJuIG5ldyBSZWFkYWJsZShvcHRpb25zKTtcblxuICB0aGlzLl9yZWFkYWJsZVN0YXRlID0gbmV3IFJlYWRhYmxlU3RhdGUob3B0aW9ucywgdGhpcyk7XG5cbiAgLy8gbGVnYWN5XG4gIHRoaXMucmVhZGFibGUgPSB0cnVlO1xuXG4gIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zLnJlYWQgPT09ICdmdW5jdGlvbicpIHRoaXMuX3JlYWQgPSBvcHRpb25zLnJlYWQ7XG5cbiAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG59XG5cbi8vIE1hbnVhbGx5IHNob3ZlIHNvbWV0aGluZyBpbnRvIHRoZSByZWFkKCkgYnVmZmVyLlxuLy8gVGhpcyByZXR1cm5zIHRydWUgaWYgdGhlIGhpZ2hXYXRlck1hcmsgaGFzIG5vdCBiZWVuIGhpdCB5ZXQsXG4vLyBzaW1pbGFyIHRvIGhvdyBXcml0YWJsZS53cml0ZSgpIHJldHVybnMgdHJ1ZSBpZiB5b3Ugc2hvdWxkXG4vLyB3cml0ZSgpIHNvbWUgbW9yZS5cblJlYWRhYmxlLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZykge1xuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuXG4gIGlmICghc3RhdGUub2JqZWN0TW9kZSAmJiB0eXBlb2YgY2h1bmsgPT09ICdzdHJpbmcnKSB7XG4gICAgZW5jb2RpbmcgPSBlbmNvZGluZyB8fCBzdGF0ZS5kZWZhdWx0RW5jb2Rpbmc7XG4gICAgaWYgKGVuY29kaW5nICE9PSBzdGF0ZS5lbmNvZGluZykge1xuICAgICAgY2h1bmsgPSBCdWZmZXIuZnJvbShjaHVuaywgZW5jb2RpbmcpO1xuICAgICAgZW5jb2RpbmcgPSAnJztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVhZGFibGVBZGRDaHVuayh0aGlzLCBzdGF0ZSwgY2h1bmssIGVuY29kaW5nLCBmYWxzZSk7XG59O1xuXG4vLyBVbnNoaWZ0IHNob3VsZCAqYWx3YXlzKiBiZSBzb21ldGhpbmcgZGlyZWN0bHkgb3V0IG9mIHJlYWQoKVxuUmVhZGFibGUucHJvdG90eXBlLnVuc2hpZnQgPSBmdW5jdGlvbiAoY2h1bmspIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fcmVhZGFibGVTdGF0ZTtcbiAgcmV0dXJuIHJlYWRhYmxlQWRkQ2h1bmsodGhpcywgc3RhdGUsIGNodW5rLCAnJywgdHJ1ZSk7XG59O1xuXG5SZWFkYWJsZS5wcm90b3R5cGUuaXNQYXVzZWQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcgPT09IGZhbHNlO1xufTtcblxuZnVuY3Rpb24gcmVhZGFibGVBZGRDaHVuayhzdHJlYW0sIHN0YXRlLCBjaHVuaywgZW5jb2RpbmcsIGFkZFRvRnJvbnQpIHtcbiAgdmFyIGVyID0gY2h1bmtJbnZhbGlkKHN0YXRlLCBjaHVuayk7XG4gIGlmIChlcikge1xuICAgIHN0cmVhbS5lbWl0KCdlcnJvcicsIGVyKTtcbiAgfSBlbHNlIGlmIChjaHVuayA9PT0gbnVsbCkge1xuICAgIHN0YXRlLnJlYWRpbmcgPSBmYWxzZTtcbiAgICBvbkVvZkNodW5rKHN0cmVhbSwgc3RhdGUpO1xuICB9IGVsc2UgaWYgKHN0YXRlLm9iamVjdE1vZGUgfHwgY2h1bmsgJiYgY2h1bmsubGVuZ3RoID4gMCkge1xuICAgIGlmIChzdGF0ZS5lbmRlZCAmJiAhYWRkVG9Gcm9udCkge1xuICAgICAgdmFyIGUgPSBuZXcgRXJyb3IoJ3N0cmVhbS5wdXNoKCkgYWZ0ZXIgRU9GJyk7XG4gICAgICBzdHJlYW0uZW1pdCgnZXJyb3InLCBlKTtcbiAgICB9IGVsc2UgaWYgKHN0YXRlLmVuZEVtaXR0ZWQgJiYgYWRkVG9Gcm9udCkge1xuICAgICAgdmFyIF9lID0gbmV3IEVycm9yKCdzdHJlYW0udW5zaGlmdCgpIGFmdGVyIGVuZCBldmVudCcpO1xuICAgICAgc3RyZWFtLmVtaXQoJ2Vycm9yJywgX2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgc2tpcEFkZDtcbiAgICAgIGlmIChzdGF0ZS5kZWNvZGVyICYmICFhZGRUb0Zyb250ICYmICFlbmNvZGluZykge1xuICAgICAgICBjaHVuayA9IHN0YXRlLmRlY29kZXIud3JpdGUoY2h1bmspO1xuICAgICAgICBza2lwQWRkID0gIXN0YXRlLm9iamVjdE1vZGUgJiYgY2h1bmsubGVuZ3RoID09PSAwO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWFkZFRvRnJvbnQpIHN0YXRlLnJlYWRpbmcgPSBmYWxzZTtcblxuICAgICAgLy8gRG9uJ3QgYWRkIHRvIHRoZSBidWZmZXIgaWYgd2UndmUgZGVjb2RlZCB0byBhbiBlbXB0eSBzdHJpbmcgY2h1bmsgYW5kXG4gICAgICAvLyB3ZSdyZSBub3QgaW4gb2JqZWN0IG1vZGVcbiAgICAgIGlmICghc2tpcEFkZCkge1xuICAgICAgICAvLyBpZiB3ZSB3YW50IHRoZSBkYXRhIG5vdywganVzdCBlbWl0IGl0LlxuICAgICAgICBpZiAoc3RhdGUuZmxvd2luZyAmJiBzdGF0ZS5sZW5ndGggPT09IDAgJiYgIXN0YXRlLnN5bmMpIHtcbiAgICAgICAgICBzdHJlYW0uZW1pdCgnZGF0YScsIGNodW5rKTtcbiAgICAgICAgICBzdHJlYW0ucmVhZCgwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyB1cGRhdGUgdGhlIGJ1ZmZlciBpbmZvLlxuICAgICAgICAgIHN0YXRlLmxlbmd0aCArPSBzdGF0ZS5vYmplY3RNb2RlID8gMSA6IGNodW5rLmxlbmd0aDtcbiAgICAgICAgICBpZiAoYWRkVG9Gcm9udCkgc3RhdGUuYnVmZmVyLnVuc2hpZnQoY2h1bmspO2Vsc2Ugc3RhdGUuYnVmZmVyLnB1c2goY2h1bmspO1xuXG4gICAgICAgICAgaWYgKHN0YXRlLm5lZWRSZWFkYWJsZSkgZW1pdFJlYWRhYmxlKHN0cmVhbSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbWF5YmVSZWFkTW9yZShzdHJlYW0sIHN0YXRlKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoIWFkZFRvRnJvbnQpIHtcbiAgICBzdGF0ZS5yZWFkaW5nID0gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gbmVlZE1vcmVEYXRhKHN0YXRlKTtcbn1cblxuLy8gaWYgaXQncyBwYXN0IHRoZSBoaWdoIHdhdGVyIG1hcmssIHdlIGNhbiBwdXNoIGluIHNvbWUgbW9yZS5cbi8vIEFsc28sIGlmIHdlIGhhdmUgbm8gZGF0YSB5ZXQsIHdlIGNhbiBzdGFuZCBzb21lXG4vLyBtb3JlIGJ5dGVzLiAgVGhpcyBpcyB0byB3b3JrIGFyb3VuZCBjYXNlcyB3aGVyZSBod209MCxcbi8vIHN1Y2ggYXMgdGhlIHJlcGwuICBBbHNvLCBpZiB0aGUgcHVzaCgpIHRyaWdnZXJlZCBhXG4vLyByZWFkYWJsZSBldmVudCwgYW5kIHRoZSB1c2VyIGNhbGxlZCByZWFkKGxhcmdlTnVtYmVyKSBzdWNoIHRoYXRcbi8vIG5lZWRSZWFkYWJsZSB3YXMgc2V0LCB0aGVuIHdlIG91Z2h0IHRvIHB1c2ggbW9yZSwgc28gdGhhdCBhbm90aGVyXG4vLyAncmVhZGFibGUnIGV2ZW50IHdpbGwgYmUgdHJpZ2dlcmVkLlxuZnVuY3Rpb24gbmVlZE1vcmVEYXRhKHN0YXRlKSB7XG4gIHJldHVybiAhc3RhdGUuZW5kZWQgJiYgKHN0YXRlLm5lZWRSZWFkYWJsZSB8fCBzdGF0ZS5sZW5ndGggPCBzdGF0ZS5oaWdoV2F0ZXJNYXJrIHx8IHN0YXRlLmxlbmd0aCA9PT0gMCk7XG59XG5cbi8vIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxuUmVhZGFibGUucHJvdG90eXBlLnNldEVuY29kaW5nID0gZnVuY3Rpb24gKGVuYykge1xuICB0aGlzLl9yZWFkYWJsZVN0YXRlLmRlY29kZXIgPSBuZXcgU3RyaW5nRGVjb2RlcihlbmMpO1xuICB0aGlzLl9yZWFkYWJsZVN0YXRlLmVuY29kaW5nID0gZW5jO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8vIERvbid0IHJhaXNlIHRoZSBod20gPiA4TUJcbnZhciBNQVhfSFdNID0gMHg4MDAwMDA7XG5mdW5jdGlvbiBjb21wdXRlTmV3SGlnaFdhdGVyTWFyayhuKSB7XG4gIGlmIChuID49IE1BWF9IV00pIHtcbiAgICBuID0gTUFYX0hXTTtcbiAgfSBlbHNlIHtcbiAgICAvLyBHZXQgdGhlIG5leHQgaGlnaGVzdCBwb3dlciBvZiAyIHRvIHByZXZlbnQgaW5jcmVhc2luZyBod20gZXhjZXNzaXZlbHkgaW5cbiAgICAvLyB0aW55IGFtb3VudHNcbiAgICBuLS07XG4gICAgbiB8PSBuID4+PiAxO1xuICAgIG4gfD0gbiA+Pj4gMjtcbiAgICBuIHw9IG4gPj4+IDQ7XG4gICAgbiB8PSBuID4+PiA4O1xuICAgIG4gfD0gbiA+Pj4gMTY7XG4gICAgbisrO1xuICB9XG4gIHJldHVybiBuO1xufVxuXG4vLyBUaGlzIGZ1bmN0aW9uIGlzIGRlc2lnbmVkIHRvIGJlIGlubGluYWJsZSwgc28gcGxlYXNlIHRha2UgY2FyZSB3aGVuIG1ha2luZ1xuLy8gY2hhbmdlcyB0byB0aGUgZnVuY3Rpb24gYm9keS5cbmZ1bmN0aW9uIGhvd011Y2hUb1JlYWQobiwgc3RhdGUpIHtcbiAgaWYgKG4gPD0gMCB8fCBzdGF0ZS5sZW5ndGggPT09IDAgJiYgc3RhdGUuZW5kZWQpIHJldHVybiAwO1xuICBpZiAoc3RhdGUub2JqZWN0TW9kZSkgcmV0dXJuIDE7XG4gIGlmIChuICE9PSBuKSB7XG4gICAgLy8gT25seSBmbG93IG9uZSBidWZmZXIgYXQgYSB0aW1lXG4gICAgaWYgKHN0YXRlLmZsb3dpbmcgJiYgc3RhdGUubGVuZ3RoKSByZXR1cm4gc3RhdGUuYnVmZmVyLmhlYWQuZGF0YS5sZW5ndGg7ZWxzZSByZXR1cm4gc3RhdGUubGVuZ3RoO1xuICB9XG4gIC8vIElmIHdlJ3JlIGFza2luZyBmb3IgbW9yZSB0aGFuIHRoZSBjdXJyZW50IGh3bSwgdGhlbiByYWlzZSB0aGUgaHdtLlxuICBpZiAobiA+IHN0YXRlLmhpZ2hXYXRlck1hcmspIHN0YXRlLmhpZ2hXYXRlck1hcmsgPSBjb21wdXRlTmV3SGlnaFdhdGVyTWFyayhuKTtcbiAgaWYgKG4gPD0gc3RhdGUubGVuZ3RoKSByZXR1cm4gbjtcbiAgLy8gRG9uJ3QgaGF2ZSBlbm91Z2hcbiAgaWYgKCFzdGF0ZS5lbmRlZCkge1xuICAgIHN0YXRlLm5lZWRSZWFkYWJsZSA9IHRydWU7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgcmV0dXJuIHN0YXRlLmxlbmd0aDtcbn1cblxuLy8geW91IGNhbiBvdmVycmlkZSBlaXRoZXIgdGhpcyBtZXRob2QsIG9yIHRoZSBhc3luYyBfcmVhZChuKSBiZWxvdy5cblJlYWRhYmxlLnByb3RvdHlwZS5yZWFkID0gZnVuY3Rpb24gKG4pIHtcbiAgZGVidWcoJ3JlYWQnLCBuKTtcbiAgbiA9IHBhcnNlSW50KG4sIDEwKTtcbiAgdmFyIHN0YXRlID0gdGhpcy5fcmVhZGFibGVTdGF0ZTtcbiAgdmFyIG5PcmlnID0gbjtcblxuICBpZiAobiAhPT0gMCkgc3RhdGUuZW1pdHRlZFJlYWRhYmxlID0gZmFsc2U7XG5cbiAgLy8gaWYgd2UncmUgZG9pbmcgcmVhZCgwKSB0byB0cmlnZ2VyIGEgcmVhZGFibGUgZXZlbnQsIGJ1dCB3ZVxuICAvLyBhbHJlYWR5IGhhdmUgYSBidW5jaCBvZiBkYXRhIGluIHRoZSBidWZmZXIsIHRoZW4ganVzdCB0cmlnZ2VyXG4gIC8vIHRoZSAncmVhZGFibGUnIGV2ZW50IGFuZCBtb3ZlIG9uLlxuICBpZiAobiA9PT0gMCAmJiBzdGF0ZS5uZWVkUmVhZGFibGUgJiYgKHN0YXRlLmxlbmd0aCA+PSBzdGF0ZS5oaWdoV2F0ZXJNYXJrIHx8IHN0YXRlLmVuZGVkKSkge1xuICAgIGRlYnVnKCdyZWFkOiBlbWl0UmVhZGFibGUnLCBzdGF0ZS5sZW5ndGgsIHN0YXRlLmVuZGVkKTtcbiAgICBpZiAoc3RhdGUubGVuZ3RoID09PSAwICYmIHN0YXRlLmVuZGVkKSBlbmRSZWFkYWJsZSh0aGlzKTtlbHNlIGVtaXRSZWFkYWJsZSh0aGlzKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIG4gPSBob3dNdWNoVG9SZWFkKG4sIHN0YXRlKTtcblxuICAvLyBpZiB3ZSd2ZSBlbmRlZCwgYW5kIHdlJ3JlIG5vdyBjbGVhciwgdGhlbiBmaW5pc2ggaXQgdXAuXG4gIGlmIChuID09PSAwICYmIHN0YXRlLmVuZGVkKSB7XG4gICAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCkgZW5kUmVhZGFibGUodGhpcyk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBBbGwgdGhlIGFjdHVhbCBjaHVuayBnZW5lcmF0aW9uIGxvZ2ljIG5lZWRzIHRvIGJlXG4gIC8vICpiZWxvdyogdGhlIGNhbGwgdG8gX3JlYWQuICBUaGUgcmVhc29uIGlzIHRoYXQgaW4gY2VydGFpblxuICAvLyBzeW50aGV0aWMgc3RyZWFtIGNhc2VzLCBzdWNoIGFzIHBhc3N0aHJvdWdoIHN0cmVhbXMsIF9yZWFkXG4gIC8vIG1heSBiZSBhIGNvbXBsZXRlbHkgc3luY2hyb25vdXMgb3BlcmF0aW9uIHdoaWNoIG1heSBjaGFuZ2VcbiAgLy8gdGhlIHN0YXRlIG9mIHRoZSByZWFkIGJ1ZmZlciwgcHJvdmlkaW5nIGVub3VnaCBkYXRhIHdoZW5cbiAgLy8gYmVmb3JlIHRoZXJlIHdhcyAqbm90KiBlbm91Z2guXG4gIC8vXG4gIC8vIFNvLCB0aGUgc3RlcHMgYXJlOlxuICAvLyAxLiBGaWd1cmUgb3V0IHdoYXQgdGhlIHN0YXRlIG9mIHRoaW5ncyB3aWxsIGJlIGFmdGVyIHdlIGRvXG4gIC8vIGEgcmVhZCBmcm9tIHRoZSBidWZmZXIuXG4gIC8vXG4gIC8vIDIuIElmIHRoYXQgcmVzdWx0aW5nIHN0YXRlIHdpbGwgdHJpZ2dlciBhIF9yZWFkLCB0aGVuIGNhbGwgX3JlYWQuXG4gIC8vIE5vdGUgdGhhdCB0aGlzIG1heSBiZSBhc3luY2hyb25vdXMsIG9yIHN5bmNocm9ub3VzLiAgWWVzLCBpdCBpc1xuICAvLyBkZWVwbHkgdWdseSB0byB3cml0ZSBBUElzIHRoaXMgd2F5LCBidXQgdGhhdCBzdGlsbCBkb2Vzbid0IG1lYW5cbiAgLy8gdGhhdCB0aGUgUmVhZGFibGUgY2xhc3Mgc2hvdWxkIGJlaGF2ZSBpbXByb3Blcmx5LCBhcyBzdHJlYW1zIGFyZVxuICAvLyBkZXNpZ25lZCB0byBiZSBzeW5jL2FzeW5jIGFnbm9zdGljLlxuICAvLyBUYWtlIG5vdGUgaWYgdGhlIF9yZWFkIGNhbGwgaXMgc3luYyBvciBhc3luYyAoaWUsIGlmIHRoZSByZWFkIGNhbGxcbiAgLy8gaGFzIHJldHVybmVkIHlldCksIHNvIHRoYXQgd2Uga25vdyB3aGV0aGVyIG9yIG5vdCBpdCdzIHNhZmUgdG8gZW1pdFxuICAvLyAncmVhZGFibGUnIGV0Yy5cbiAgLy9cbiAgLy8gMy4gQWN0dWFsbHkgcHVsbCB0aGUgcmVxdWVzdGVkIGNodW5rcyBvdXQgb2YgdGhlIGJ1ZmZlciBhbmQgcmV0dXJuLlxuXG4gIC8vIGlmIHdlIG5lZWQgYSByZWFkYWJsZSBldmVudCwgdGhlbiB3ZSBuZWVkIHRvIGRvIHNvbWUgcmVhZGluZy5cbiAgdmFyIGRvUmVhZCA9IHN0YXRlLm5lZWRSZWFkYWJsZTtcbiAgZGVidWcoJ25lZWQgcmVhZGFibGUnLCBkb1JlYWQpO1xuXG4gIC8vIGlmIHdlIGN1cnJlbnRseSBoYXZlIGxlc3MgdGhhbiB0aGUgaGlnaFdhdGVyTWFyaywgdGhlbiBhbHNvIHJlYWQgc29tZVxuICBpZiAoc3RhdGUubGVuZ3RoID09PSAwIHx8IHN0YXRlLmxlbmd0aCAtIG4gPCBzdGF0ZS5oaWdoV2F0ZXJNYXJrKSB7XG4gICAgZG9SZWFkID0gdHJ1ZTtcbiAgICBkZWJ1ZygnbGVuZ3RoIGxlc3MgdGhhbiB3YXRlcm1hcmsnLCBkb1JlYWQpO1xuICB9XG5cbiAgLy8gaG93ZXZlciwgaWYgd2UndmUgZW5kZWQsIHRoZW4gdGhlcmUncyBubyBwb2ludCwgYW5kIGlmIHdlJ3JlIGFscmVhZHlcbiAgLy8gcmVhZGluZywgdGhlbiBpdCdzIHVubmVjZXNzYXJ5LlxuICBpZiAoc3RhdGUuZW5kZWQgfHwgc3RhdGUucmVhZGluZykge1xuICAgIGRvUmVhZCA9IGZhbHNlO1xuICAgIGRlYnVnKCdyZWFkaW5nIG9yIGVuZGVkJywgZG9SZWFkKTtcbiAgfSBlbHNlIGlmIChkb1JlYWQpIHtcbiAgICBkZWJ1ZygnZG8gcmVhZCcpO1xuICAgIHN0YXRlLnJlYWRpbmcgPSB0cnVlO1xuICAgIHN0YXRlLnN5bmMgPSB0cnVlO1xuICAgIC8vIGlmIHRoZSBsZW5ndGggaXMgY3VycmVudGx5IHplcm8sIHRoZW4gd2UgKm5lZWQqIGEgcmVhZGFibGUgZXZlbnQuXG4gICAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCkgc3RhdGUubmVlZFJlYWRhYmxlID0gdHJ1ZTtcbiAgICAvLyBjYWxsIGludGVybmFsIHJlYWQgbWV0aG9kXG4gICAgdGhpcy5fcmVhZChzdGF0ZS5oaWdoV2F0ZXJNYXJrKTtcbiAgICBzdGF0ZS5zeW5jID0gZmFsc2U7XG4gICAgLy8gSWYgX3JlYWQgcHVzaGVkIGRhdGEgc3luY2hyb25vdXNseSwgdGhlbiBgcmVhZGluZ2Agd2lsbCBiZSBmYWxzZSxcbiAgICAvLyBhbmQgd2UgbmVlZCB0byByZS1ldmFsdWF0ZSBob3cgbXVjaCBkYXRhIHdlIGNhbiByZXR1cm4gdG8gdGhlIHVzZXIuXG4gICAgaWYgKCFzdGF0ZS5yZWFkaW5nKSBuID0gaG93TXVjaFRvUmVhZChuT3JpZywgc3RhdGUpO1xuICB9XG5cbiAgdmFyIHJldDtcbiAgaWYgKG4gPiAwKSByZXQgPSBmcm9tTGlzdChuLCBzdGF0ZSk7ZWxzZSByZXQgPSBudWxsO1xuXG4gIGlmIChyZXQgPT09IG51bGwpIHtcbiAgICBzdGF0ZS5uZWVkUmVhZGFibGUgPSB0cnVlO1xuICAgIG4gPSAwO1xuICB9IGVsc2Uge1xuICAgIHN0YXRlLmxlbmd0aCAtPSBuO1xuICB9XG5cbiAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCkge1xuICAgIC8vIElmIHdlIGhhdmUgbm90aGluZyBpbiB0aGUgYnVmZmVyLCB0aGVuIHdlIHdhbnQgdG8ga25vd1xuICAgIC8vIGFzIHNvb24gYXMgd2UgKmRvKiBnZXQgc29tZXRoaW5nIGludG8gdGhlIGJ1ZmZlci5cbiAgICBpZiAoIXN0YXRlLmVuZGVkKSBzdGF0ZS5uZWVkUmVhZGFibGUgPSB0cnVlO1xuXG4gICAgLy8gSWYgd2UgdHJpZWQgdG8gcmVhZCgpIHBhc3QgdGhlIEVPRiwgdGhlbiBlbWl0IGVuZCBvbiB0aGUgbmV4dCB0aWNrLlxuICAgIGlmIChuT3JpZyAhPT0gbiAmJiBzdGF0ZS5lbmRlZCkgZW5kUmVhZGFibGUodGhpcyk7XG4gIH1cblxuICBpZiAocmV0ICE9PSBudWxsKSB0aGlzLmVtaXQoJ2RhdGEnLCByZXQpO1xuXG4gIHJldHVybiByZXQ7XG59O1xuXG5mdW5jdGlvbiBjaHVua0ludmFsaWQoc3RhdGUsIGNodW5rKSB7XG4gIHZhciBlciA9IG51bGw7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGNodW5rKSAmJiB0eXBlb2YgY2h1bmsgIT09ICdzdHJpbmcnICYmIGNodW5rICE9PSBudWxsICYmIGNodW5rICE9PSB1bmRlZmluZWQgJiYgIXN0YXRlLm9iamVjdE1vZGUpIHtcbiAgICBlciA9IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgbm9uLXN0cmluZy9idWZmZXIgY2h1bmsnKTtcbiAgfVxuICByZXR1cm4gZXI7XG59XG5cbmZ1bmN0aW9uIG9uRW9mQ2h1bmsoc3RyZWFtLCBzdGF0ZSkge1xuICBpZiAoc3RhdGUuZW5kZWQpIHJldHVybjtcbiAgaWYgKHN0YXRlLmRlY29kZXIpIHtcbiAgICB2YXIgY2h1bmsgPSBzdGF0ZS5kZWNvZGVyLmVuZCgpO1xuICAgIGlmIChjaHVuayAmJiBjaHVuay5sZW5ndGgpIHtcbiAgICAgIHN0YXRlLmJ1ZmZlci5wdXNoKGNodW5rKTtcbiAgICAgIHN0YXRlLmxlbmd0aCArPSBzdGF0ZS5vYmplY3RNb2RlID8gMSA6IGNodW5rLmxlbmd0aDtcbiAgICB9XG4gIH1cbiAgc3RhdGUuZW5kZWQgPSB0cnVlO1xuXG4gIC8vIGVtaXQgJ3JlYWRhYmxlJyBub3cgdG8gbWFrZSBzdXJlIGl0IGdldHMgcGlja2VkIHVwLlxuICBlbWl0UmVhZGFibGUoc3RyZWFtKTtcbn1cblxuLy8gRG9uJ3QgZW1pdCByZWFkYWJsZSByaWdodCBhd2F5IGluIHN5bmMgbW9kZSwgYmVjYXVzZSB0aGlzIGNhbiB0cmlnZ2VyXG4vLyBhbm90aGVyIHJlYWQoKSBjYWxsID0+IHN0YWNrIG92ZXJmbG93LiAgVGhpcyB3YXksIGl0IG1pZ2h0IHRyaWdnZXJcbi8vIGEgbmV4dFRpY2sgcmVjdXJzaW9uIHdhcm5pbmcsIGJ1dCB0aGF0J3Mgbm90IHNvIGJhZC5cbmZ1bmN0aW9uIGVtaXRSZWFkYWJsZShzdHJlYW0pIHtcbiAgdmFyIHN0YXRlID0gc3RyZWFtLl9yZWFkYWJsZVN0YXRlO1xuICBzdGF0ZS5uZWVkUmVhZGFibGUgPSBmYWxzZTtcbiAgaWYgKCFzdGF0ZS5lbWl0dGVkUmVhZGFibGUpIHtcbiAgICBkZWJ1ZygnZW1pdFJlYWRhYmxlJywgc3RhdGUuZmxvd2luZyk7XG4gICAgc3RhdGUuZW1pdHRlZFJlYWRhYmxlID0gdHJ1ZTtcbiAgICBpZiAoc3RhdGUuc3luYykgbmV4dFRpY2soZW1pdFJlYWRhYmxlXywgc3RyZWFtKTtlbHNlIGVtaXRSZWFkYWJsZV8oc3RyZWFtKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBlbWl0UmVhZGFibGVfKHN0cmVhbSkge1xuICBkZWJ1ZygnZW1pdCByZWFkYWJsZScpO1xuICBzdHJlYW0uZW1pdCgncmVhZGFibGUnKTtcbiAgZmxvdyhzdHJlYW0pO1xufVxuXG4vLyBhdCB0aGlzIHBvaW50LCB0aGUgdXNlciBoYXMgcHJlc3VtYWJseSBzZWVuIHRoZSAncmVhZGFibGUnIGV2ZW50LFxuLy8gYW5kIGNhbGxlZCByZWFkKCkgdG8gY29uc3VtZSBzb21lIGRhdGEuICB0aGF0IG1heSBoYXZlIHRyaWdnZXJlZFxuLy8gaW4gdHVybiBhbm90aGVyIF9yZWFkKG4pIGNhbGwsIGluIHdoaWNoIGNhc2UgcmVhZGluZyA9IHRydWUgaWZcbi8vIGl0J3MgaW4gcHJvZ3Jlc3MuXG4vLyBIb3dldmVyLCBpZiB3ZSdyZSBub3QgZW5kZWQsIG9yIHJlYWRpbmcsIGFuZCB0aGUgbGVuZ3RoIDwgaHdtLFxuLy8gdGhlbiBnbyBhaGVhZCBhbmQgdHJ5IHRvIHJlYWQgc29tZSBtb3JlIHByZWVtcHRpdmVseS5cbmZ1bmN0aW9uIG1heWJlUmVhZE1vcmUoc3RyZWFtLCBzdGF0ZSkge1xuICBpZiAoIXN0YXRlLnJlYWRpbmdNb3JlKSB7XG4gICAgc3RhdGUucmVhZGluZ01vcmUgPSB0cnVlO1xuICAgIG5leHRUaWNrKG1heWJlUmVhZE1vcmVfLCBzdHJlYW0sIHN0YXRlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBtYXliZVJlYWRNb3JlXyhzdHJlYW0sIHN0YXRlKSB7XG4gIHZhciBsZW4gPSBzdGF0ZS5sZW5ndGg7XG4gIHdoaWxlICghc3RhdGUucmVhZGluZyAmJiAhc3RhdGUuZmxvd2luZyAmJiAhc3RhdGUuZW5kZWQgJiYgc3RhdGUubGVuZ3RoIDwgc3RhdGUuaGlnaFdhdGVyTWFyaykge1xuICAgIGRlYnVnKCdtYXliZVJlYWRNb3JlIHJlYWQgMCcpO1xuICAgIHN0cmVhbS5yZWFkKDApO1xuICAgIGlmIChsZW4gPT09IHN0YXRlLmxlbmd0aClcbiAgICAgIC8vIGRpZG4ndCBnZXQgYW55IGRhdGEsIHN0b3Agc3Bpbm5pbmcuXG4gICAgICBicmVhaztlbHNlIGxlbiA9IHN0YXRlLmxlbmd0aDtcbiAgfVxuICBzdGF0ZS5yZWFkaW5nTW9yZSA9IGZhbHNlO1xufVxuXG4vLyBhYnN0cmFjdCBtZXRob2QuICB0byBiZSBvdmVycmlkZGVuIGluIHNwZWNpZmljIGltcGxlbWVudGF0aW9uIGNsYXNzZXMuXG4vLyBjYWxsIGNiKGVyLCBkYXRhKSB3aGVyZSBkYXRhIGlzIDw9IG4gaW4gbGVuZ3RoLlxuLy8gZm9yIHZpcnR1YWwgKG5vbi1zdHJpbmcsIG5vbi1idWZmZXIpIHN0cmVhbXMsIFwibGVuZ3RoXCIgaXMgc29tZXdoYXRcbi8vIGFyYml0cmFyeSwgYW5kIHBlcmhhcHMgbm90IHZlcnkgbWVhbmluZ2Z1bC5cblJlYWRhYmxlLnByb3RvdHlwZS5fcmVhZCA9IGZ1bmN0aW9uIChuKSB7XG4gIHRoaXMuZW1pdCgnZXJyb3InLCBuZXcgRXJyb3IoJ25vdCBpbXBsZW1lbnRlZCcpKTtcbn07XG5cblJlYWRhYmxlLnByb3RvdHlwZS5waXBlID0gZnVuY3Rpb24gKGRlc3QsIHBpcGVPcHRzKSB7XG4gIHZhciBzcmMgPSB0aGlzO1xuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuXG4gIHN3aXRjaCAoc3RhdGUucGlwZXNDb3VudCkge1xuICAgIGNhc2UgMDpcbiAgICAgIHN0YXRlLnBpcGVzID0gZGVzdDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgMTpcbiAgICAgIHN0YXRlLnBpcGVzID0gW3N0YXRlLnBpcGVzLCBkZXN0XTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBzdGF0ZS5waXBlcy5wdXNoKGRlc3QpO1xuICAgICAgYnJlYWs7XG4gIH1cbiAgc3RhdGUucGlwZXNDb3VudCArPSAxO1xuICBkZWJ1ZygncGlwZSBjb3VudD0lZCBvcHRzPSVqJywgc3RhdGUucGlwZXNDb3VudCwgcGlwZU9wdHMpO1xuXG4gIHZhciBkb0VuZCA9ICghcGlwZU9wdHMgfHwgcGlwZU9wdHMuZW5kICE9PSBmYWxzZSk7XG5cbiAgdmFyIGVuZEZuID0gZG9FbmQgPyBvbmVuZCA6IGNsZWFudXA7XG4gIGlmIChzdGF0ZS5lbmRFbWl0dGVkKSBuZXh0VGljayhlbmRGbik7ZWxzZSBzcmMub25jZSgnZW5kJywgZW5kRm4pO1xuXG4gIGRlc3Qub24oJ3VucGlwZScsIG9udW5waXBlKTtcbiAgZnVuY3Rpb24gb251bnBpcGUocmVhZGFibGUpIHtcbiAgICBkZWJ1Zygnb251bnBpcGUnKTtcbiAgICBpZiAocmVhZGFibGUgPT09IHNyYykge1xuICAgICAgY2xlYW51cCgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uZW5kKCkge1xuICAgIGRlYnVnKCdvbmVuZCcpO1xuICAgIGRlc3QuZW5kKCk7XG4gIH1cblxuICAvLyB3aGVuIHRoZSBkZXN0IGRyYWlucywgaXQgcmVkdWNlcyB0aGUgYXdhaXREcmFpbiBjb3VudGVyXG4gIC8vIG9uIHRoZSBzb3VyY2UuICBUaGlzIHdvdWxkIGJlIG1vcmUgZWxlZ2FudCB3aXRoIGEgLm9uY2UoKVxuICAvLyBoYW5kbGVyIGluIGZsb3coKSwgYnV0IGFkZGluZyBhbmQgcmVtb3ZpbmcgcmVwZWF0ZWRseSBpc1xuICAvLyB0b28gc2xvdy5cbiAgdmFyIG9uZHJhaW4gPSBwaXBlT25EcmFpbihzcmMpO1xuICBkZXN0Lm9uKCdkcmFpbicsIG9uZHJhaW4pO1xuXG4gIHZhciBjbGVhbmVkVXAgPSBmYWxzZTtcbiAgZnVuY3Rpb24gY2xlYW51cCgpIHtcbiAgICBkZWJ1ZygnY2xlYW51cCcpO1xuICAgIC8vIGNsZWFudXAgZXZlbnQgaGFuZGxlcnMgb25jZSB0aGUgcGlwZSBpcyBicm9rZW5cbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdjbG9zZScsIG9uY2xvc2UpO1xuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2ZpbmlzaCcsIG9uZmluaXNoKTtcbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdkcmFpbicsIG9uZHJhaW4pO1xuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgb25lcnJvcik7XG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcigndW5waXBlJywgb251bnBpcGUpO1xuICAgIHNyYy5yZW1vdmVMaXN0ZW5lcignZW5kJywgb25lbmQpO1xuICAgIHNyYy5yZW1vdmVMaXN0ZW5lcignZW5kJywgY2xlYW51cCk7XG4gICAgc3JjLnJlbW92ZUxpc3RlbmVyKCdkYXRhJywgb25kYXRhKTtcblxuICAgIGNsZWFuZWRVcCA9IHRydWU7XG5cbiAgICAvLyBpZiB0aGUgcmVhZGVyIGlzIHdhaXRpbmcgZm9yIGEgZHJhaW4gZXZlbnQgZnJvbSB0aGlzXG4gICAgLy8gc3BlY2lmaWMgd3JpdGVyLCB0aGVuIGl0IHdvdWxkIGNhdXNlIGl0IHRvIG5ldmVyIHN0YXJ0XG4gICAgLy8gZmxvd2luZyBhZ2Fpbi5cbiAgICAvLyBTbywgaWYgdGhpcyBpcyBhd2FpdGluZyBhIGRyYWluLCB0aGVuIHdlIGp1c3QgY2FsbCBpdCBub3cuXG4gICAgLy8gSWYgd2UgZG9uJ3Qga25vdywgdGhlbiBhc3N1bWUgdGhhdCB3ZSBhcmUgd2FpdGluZyBmb3Igb25lLlxuICAgIGlmIChzdGF0ZS5hd2FpdERyYWluICYmICghZGVzdC5fd3JpdGFibGVTdGF0ZSB8fCBkZXN0Ll93cml0YWJsZVN0YXRlLm5lZWREcmFpbikpIG9uZHJhaW4oKTtcbiAgfVxuXG4gIC8vIElmIHRoZSB1c2VyIHB1c2hlcyBtb3JlIGRhdGEgd2hpbGUgd2UncmUgd3JpdGluZyB0byBkZXN0IHRoZW4gd2UnbGwgZW5kIHVwXG4gIC8vIGluIG9uZGF0YSBhZ2Fpbi4gSG93ZXZlciwgd2Ugb25seSB3YW50IHRvIGluY3JlYXNlIGF3YWl0RHJhaW4gb25jZSBiZWNhdXNlXG4gIC8vIGRlc3Qgd2lsbCBvbmx5IGVtaXQgb25lICdkcmFpbicgZXZlbnQgZm9yIHRoZSBtdWx0aXBsZSB3cml0ZXMuXG4gIC8vID0+IEludHJvZHVjZSBhIGd1YXJkIG9uIGluY3JlYXNpbmcgYXdhaXREcmFpbi5cbiAgdmFyIGluY3JlYXNlZEF3YWl0RHJhaW4gPSBmYWxzZTtcbiAgc3JjLm9uKCdkYXRhJywgb25kYXRhKTtcbiAgZnVuY3Rpb24gb25kYXRhKGNodW5rKSB7XG4gICAgZGVidWcoJ29uZGF0YScpO1xuICAgIGluY3JlYXNlZEF3YWl0RHJhaW4gPSBmYWxzZTtcbiAgICB2YXIgcmV0ID0gZGVzdC53cml0ZShjaHVuayk7XG4gICAgaWYgKGZhbHNlID09PSByZXQgJiYgIWluY3JlYXNlZEF3YWl0RHJhaW4pIHtcbiAgICAgIC8vIElmIHRoZSB1c2VyIHVucGlwZWQgZHVyaW5nIGBkZXN0LndyaXRlKClgLCBpdCBpcyBwb3NzaWJsZVxuICAgICAgLy8gdG8gZ2V0IHN0dWNrIGluIGEgcGVybWFuZW50bHkgcGF1c2VkIHN0YXRlIGlmIHRoYXQgd3JpdGVcbiAgICAgIC8vIGFsc28gcmV0dXJuZWQgZmFsc2UuXG4gICAgICAvLyA9PiBDaGVjayB3aGV0aGVyIGBkZXN0YCBpcyBzdGlsbCBhIHBpcGluZyBkZXN0aW5hdGlvbi5cbiAgICAgIGlmICgoc3RhdGUucGlwZXNDb3VudCA9PT0gMSAmJiBzdGF0ZS5waXBlcyA9PT0gZGVzdCB8fCBzdGF0ZS5waXBlc0NvdW50ID4gMSAmJiBpbmRleE9mKHN0YXRlLnBpcGVzLCBkZXN0KSAhPT0gLTEpICYmICFjbGVhbmVkVXApIHtcbiAgICAgICAgZGVidWcoJ2ZhbHNlIHdyaXRlIHJlc3BvbnNlLCBwYXVzZScsIHNyYy5fcmVhZGFibGVTdGF0ZS5hd2FpdERyYWluKTtcbiAgICAgICAgc3JjLl9yZWFkYWJsZVN0YXRlLmF3YWl0RHJhaW4rKztcbiAgICAgICAgaW5jcmVhc2VkQXdhaXREcmFpbiA9IHRydWU7XG4gICAgICB9XG4gICAgICBzcmMucGF1c2UoKTtcbiAgICB9XG4gIH1cblxuICAvLyBpZiB0aGUgZGVzdCBoYXMgYW4gZXJyb3IsIHRoZW4gc3RvcCBwaXBpbmcgaW50byBpdC5cbiAgLy8gaG93ZXZlciwgZG9uJ3Qgc3VwcHJlc3MgdGhlIHRocm93aW5nIGJlaGF2aW9yIGZvciB0aGlzLlxuICBmdW5jdGlvbiBvbmVycm9yKGVyKSB7XG4gICAgZGVidWcoJ29uZXJyb3InLCBlcik7XG4gICAgdW5waXBlKCk7XG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBvbmVycm9yKTtcbiAgICBpZiAobGlzdGVuZXJDb3VudChkZXN0LCAnZXJyb3InKSA9PT0gMCkgZGVzdC5lbWl0KCdlcnJvcicsIGVyKTtcbiAgfVxuXG4gIC8vIE1ha2Ugc3VyZSBvdXIgZXJyb3IgaGFuZGxlciBpcyBhdHRhY2hlZCBiZWZvcmUgdXNlcmxhbmQgb25lcy5cbiAgcHJlcGVuZExpc3RlbmVyKGRlc3QsICdlcnJvcicsIG9uZXJyb3IpO1xuXG4gIC8vIEJvdGggY2xvc2UgYW5kIGZpbmlzaCBzaG91bGQgdHJpZ2dlciB1bnBpcGUsIGJ1dCBvbmx5IG9uY2UuXG4gIGZ1bmN0aW9uIG9uY2xvc2UoKSB7XG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignZmluaXNoJywgb25maW5pc2gpO1xuICAgIHVucGlwZSgpO1xuICB9XG4gIGRlc3Qub25jZSgnY2xvc2UnLCBvbmNsb3NlKTtcbiAgZnVuY3Rpb24gb25maW5pc2goKSB7XG4gICAgZGVidWcoJ29uZmluaXNoJyk7XG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignY2xvc2UnLCBvbmNsb3NlKTtcbiAgICB1bnBpcGUoKTtcbiAgfVxuICBkZXN0Lm9uY2UoJ2ZpbmlzaCcsIG9uZmluaXNoKTtcblxuICBmdW5jdGlvbiB1bnBpcGUoKSB7XG4gICAgZGVidWcoJ3VucGlwZScpO1xuICAgIHNyYy51bnBpcGUoZGVzdCk7XG4gIH1cblxuICAvLyB0ZWxsIHRoZSBkZXN0IHRoYXQgaXQncyBiZWluZyBwaXBlZCB0b1xuICBkZXN0LmVtaXQoJ3BpcGUnLCBzcmMpO1xuXG4gIC8vIHN0YXJ0IHRoZSBmbG93IGlmIGl0IGhhc24ndCBiZWVuIHN0YXJ0ZWQgYWxyZWFkeS5cbiAgaWYgKCFzdGF0ZS5mbG93aW5nKSB7XG4gICAgZGVidWcoJ3BpcGUgcmVzdW1lJyk7XG4gICAgc3JjLnJlc3VtZSgpO1xuICB9XG5cbiAgcmV0dXJuIGRlc3Q7XG59O1xuXG5mdW5jdGlvbiBwaXBlT25EcmFpbihzcmMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc3RhdGUgPSBzcmMuX3JlYWRhYmxlU3RhdGU7XG4gICAgZGVidWcoJ3BpcGVPbkRyYWluJywgc3RhdGUuYXdhaXREcmFpbik7XG4gICAgaWYgKHN0YXRlLmF3YWl0RHJhaW4pIHN0YXRlLmF3YWl0RHJhaW4tLTtcbiAgICBpZiAoc3RhdGUuYXdhaXREcmFpbiA9PT0gMCAmJiBzcmMubGlzdGVuZXJzKCdkYXRhJykubGVuZ3RoKSB7XG4gICAgICBzdGF0ZS5mbG93aW5nID0gdHJ1ZTtcbiAgICAgIGZsb3coc3JjKTtcbiAgICB9XG4gIH07XG59XG5cblJlYWRhYmxlLnByb3RvdHlwZS51bnBpcGUgPSBmdW5jdGlvbiAoZGVzdCkge1xuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuXG4gIC8vIGlmIHdlJ3JlIG5vdCBwaXBpbmcgYW55d2hlcmUsIHRoZW4gZG8gbm90aGluZy5cbiAgaWYgKHN0YXRlLnBpcGVzQ291bnQgPT09IDApIHJldHVybiB0aGlzO1xuXG4gIC8vIGp1c3Qgb25lIGRlc3RpbmF0aW9uLiAgbW9zdCBjb21tb24gY2FzZS5cbiAgaWYgKHN0YXRlLnBpcGVzQ291bnQgPT09IDEpIHtcbiAgICAvLyBwYXNzZWQgaW4gb25lLCBidXQgaXQncyBub3QgdGhlIHJpZ2h0IG9uZS5cbiAgICBpZiAoZGVzdCAmJiBkZXN0ICE9PSBzdGF0ZS5waXBlcykgcmV0dXJuIHRoaXM7XG5cbiAgICBpZiAoIWRlc3QpIGRlc3QgPSBzdGF0ZS5waXBlcztcblxuICAgIC8vIGdvdCBhIG1hdGNoLlxuICAgIHN0YXRlLnBpcGVzID0gbnVsbDtcbiAgICBzdGF0ZS5waXBlc0NvdW50ID0gMDtcbiAgICBzdGF0ZS5mbG93aW5nID0gZmFsc2U7XG4gICAgaWYgKGRlc3QpIGRlc3QuZW1pdCgndW5waXBlJywgdGhpcyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBzbG93IGNhc2UuIG11bHRpcGxlIHBpcGUgZGVzdGluYXRpb25zLlxuXG4gIGlmICghZGVzdCkge1xuICAgIC8vIHJlbW92ZSBhbGwuXG4gICAgdmFyIGRlc3RzID0gc3RhdGUucGlwZXM7XG4gICAgdmFyIGxlbiA9IHN0YXRlLnBpcGVzQ291bnQ7XG4gICAgc3RhdGUucGlwZXMgPSBudWxsO1xuICAgIHN0YXRlLnBpcGVzQ291bnQgPSAwO1xuICAgIHN0YXRlLmZsb3dpbmcgPSBmYWxzZTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsZW47IF9pKyspIHtcbiAgICAgIGRlc3RzW19pXS5lbWl0KCd1bnBpcGUnLCB0aGlzKTtcbiAgICB9cmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyB0cnkgdG8gZmluZCB0aGUgcmlnaHQgb25lLlxuICB2YXIgaSA9IGluZGV4T2Yoc3RhdGUucGlwZXMsIGRlc3QpO1xuICBpZiAoaSA9PT0gLTEpIHJldHVybiB0aGlzO1xuXG4gIHN0YXRlLnBpcGVzLnNwbGljZShpLCAxKTtcbiAgc3RhdGUucGlwZXNDb3VudCAtPSAxO1xuICBpZiAoc3RhdGUucGlwZXNDb3VudCA9PT0gMSkgc3RhdGUucGlwZXMgPSBzdGF0ZS5waXBlc1swXTtcblxuICBkZXN0LmVtaXQoJ3VucGlwZScsIHRoaXMpO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy8gc2V0IHVwIGRhdGEgZXZlbnRzIGlmIHRoZXkgYXJlIGFza2VkIGZvclxuLy8gRW5zdXJlIHJlYWRhYmxlIGxpc3RlbmVycyBldmVudHVhbGx5IGdldCBzb21ldGhpbmdcblJlYWRhYmxlLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIChldiwgZm4pIHtcbiAgdmFyIHJlcyA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUub24uY2FsbCh0aGlzLCBldiwgZm4pO1xuXG4gIGlmIChldiA9PT0gJ2RhdGEnKSB7XG4gICAgLy8gU3RhcnQgZmxvd2luZyBvbiBuZXh0IHRpY2sgaWYgc3RyZWFtIGlzbid0IGV4cGxpY2l0bHkgcGF1c2VkXG4gICAgaWYgKHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZyAhPT0gZmFsc2UpIHRoaXMucmVzdW1lKCk7XG4gIH0gZWxzZSBpZiAoZXYgPT09ICdyZWFkYWJsZScpIHtcbiAgICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuICAgIGlmICghc3RhdGUuZW5kRW1pdHRlZCAmJiAhc3RhdGUucmVhZGFibGVMaXN0ZW5pbmcpIHtcbiAgICAgIHN0YXRlLnJlYWRhYmxlTGlzdGVuaW5nID0gc3RhdGUubmVlZFJlYWRhYmxlID0gdHJ1ZTtcbiAgICAgIHN0YXRlLmVtaXR0ZWRSZWFkYWJsZSA9IGZhbHNlO1xuICAgICAgaWYgKCFzdGF0ZS5yZWFkaW5nKSB7XG4gICAgICAgIG5leHRUaWNrKG5SZWFkaW5nTmV4dFRpY2ssIHRoaXMpO1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZS5sZW5ndGgpIHtcbiAgICAgICAgZW1pdFJlYWRhYmxlKHRoaXMsIHN0YXRlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzO1xufTtcblJlYWRhYmxlLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IFJlYWRhYmxlLnByb3RvdHlwZS5vbjtcblxuZnVuY3Rpb24gblJlYWRpbmdOZXh0VGljayhzZWxmKSB7XG4gIGRlYnVnKCdyZWFkYWJsZSBuZXh0dGljayByZWFkIDAnKTtcbiAgc2VsZi5yZWFkKDApO1xufVxuXG4vLyBwYXVzZSgpIGFuZCByZXN1bWUoKSBhcmUgcmVtbmFudHMgb2YgdGhlIGxlZ2FjeSByZWFkYWJsZSBzdHJlYW0gQVBJXG4vLyBJZiB0aGUgdXNlciB1c2VzIHRoZW0sIHRoZW4gc3dpdGNoIGludG8gb2xkIG1vZGUuXG5SZWFkYWJsZS5wcm90b3R5cGUucmVzdW1lID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuICBpZiAoIXN0YXRlLmZsb3dpbmcpIHtcbiAgICBkZWJ1ZygncmVzdW1lJyk7XG4gICAgc3RhdGUuZmxvd2luZyA9IHRydWU7XG4gICAgcmVzdW1lKHRoaXMsIHN0YXRlKTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn07XG5cbmZ1bmN0aW9uIHJlc3VtZShzdHJlYW0sIHN0YXRlKSB7XG4gIGlmICghc3RhdGUucmVzdW1lU2NoZWR1bGVkKSB7XG4gICAgc3RhdGUucmVzdW1lU2NoZWR1bGVkID0gdHJ1ZTtcbiAgICBuZXh0VGljayhyZXN1bWVfLCBzdHJlYW0sIHN0YXRlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZXN1bWVfKHN0cmVhbSwgc3RhdGUpIHtcbiAgaWYgKCFzdGF0ZS5yZWFkaW5nKSB7XG4gICAgZGVidWcoJ3Jlc3VtZSByZWFkIDAnKTtcbiAgICBzdHJlYW0ucmVhZCgwKTtcbiAgfVxuXG4gIHN0YXRlLnJlc3VtZVNjaGVkdWxlZCA9IGZhbHNlO1xuICBzdGF0ZS5hd2FpdERyYWluID0gMDtcbiAgc3RyZWFtLmVtaXQoJ3Jlc3VtZScpO1xuICBmbG93KHN0cmVhbSk7XG4gIGlmIChzdGF0ZS5mbG93aW5nICYmICFzdGF0ZS5yZWFkaW5nKSBzdHJlYW0ucmVhZCgwKTtcbn1cblxuUmVhZGFibGUucHJvdG90eXBlLnBhdXNlID0gZnVuY3Rpb24gKCkge1xuICBkZWJ1ZygnY2FsbCBwYXVzZSBmbG93aW5nPSVqJywgdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nKTtcbiAgaWYgKGZhbHNlICE9PSB0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcpIHtcbiAgICBkZWJ1ZygncGF1c2UnKTtcbiAgICB0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcgPSBmYWxzZTtcbiAgICB0aGlzLmVtaXQoJ3BhdXNlJyk7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5mdW5jdGlvbiBmbG93KHN0cmVhbSkge1xuICB2YXIgc3RhdGUgPSBzdHJlYW0uX3JlYWRhYmxlU3RhdGU7XG4gIGRlYnVnKCdmbG93Jywgc3RhdGUuZmxvd2luZyk7XG4gIHdoaWxlIChzdGF0ZS5mbG93aW5nICYmIHN0cmVhbS5yZWFkKCkgIT09IG51bGwpIHt9XG59XG5cbi8vIHdyYXAgYW4gb2xkLXN0eWxlIHN0cmVhbSBhcyB0aGUgYXN5bmMgZGF0YSBzb3VyY2UuXG4vLyBUaGlzIGlzICpub3QqIHBhcnQgb2YgdGhlIHJlYWRhYmxlIHN0cmVhbSBpbnRlcmZhY2UuXG4vLyBJdCBpcyBhbiB1Z2x5IHVuZm9ydHVuYXRlIG1lc3Mgb2YgaGlzdG9yeS5cblJlYWRhYmxlLnByb3RvdHlwZS53cmFwID0gZnVuY3Rpb24gKHN0cmVhbSkge1xuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuICB2YXIgcGF1c2VkID0gZmFsc2U7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBzdHJlYW0ub24oJ2VuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICBkZWJ1Zygnd3JhcHBlZCBlbmQnKTtcbiAgICBpZiAoc3RhdGUuZGVjb2RlciAmJiAhc3RhdGUuZW5kZWQpIHtcbiAgICAgIHZhciBjaHVuayA9IHN0YXRlLmRlY29kZXIuZW5kKCk7XG4gICAgICBpZiAoY2h1bmsgJiYgY2h1bmsubGVuZ3RoKSBzZWxmLnB1c2goY2h1bmspO1xuICAgIH1cblxuICAgIHNlbGYucHVzaChudWxsKTtcbiAgfSk7XG5cbiAgc3RyZWFtLm9uKCdkYXRhJywgZnVuY3Rpb24gKGNodW5rKSB7XG4gICAgZGVidWcoJ3dyYXBwZWQgZGF0YScpO1xuICAgIGlmIChzdGF0ZS5kZWNvZGVyKSBjaHVuayA9IHN0YXRlLmRlY29kZXIud3JpdGUoY2h1bmspO1xuXG4gICAgLy8gZG9uJ3Qgc2tpcCBvdmVyIGZhbHN5IHZhbHVlcyBpbiBvYmplY3RNb2RlXG4gICAgaWYgKHN0YXRlLm9iamVjdE1vZGUgJiYgKGNodW5rID09PSBudWxsIHx8IGNodW5rID09PSB1bmRlZmluZWQpKSByZXR1cm47ZWxzZSBpZiAoIXN0YXRlLm9iamVjdE1vZGUgJiYgKCFjaHVuayB8fCAhY2h1bmsubGVuZ3RoKSkgcmV0dXJuO1xuXG4gICAgdmFyIHJldCA9IHNlbGYucHVzaChjaHVuayk7XG4gICAgaWYgKCFyZXQpIHtcbiAgICAgIHBhdXNlZCA9IHRydWU7XG4gICAgICBzdHJlYW0ucGF1c2UoKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIHByb3h5IGFsbCB0aGUgb3RoZXIgbWV0aG9kcy5cbiAgLy8gaW1wb3J0YW50IHdoZW4gd3JhcHBpbmcgZmlsdGVycyBhbmQgZHVwbGV4ZXMuXG4gIGZvciAodmFyIGkgaW4gc3RyZWFtKSB7XG4gICAgaWYgKHRoaXNbaV0gPT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygc3RyZWFtW2ldID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzW2ldID0gZnVuY3Rpb24gKG1ldGhvZCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBzdHJlYW1bbWV0aG9kXS5hcHBseShzdHJlYW0sIGFyZ3VtZW50cyk7XG4gICAgICAgIH07XG4gICAgICB9KGkpO1xuICAgIH1cbiAgfVxuXG4gIC8vIHByb3h5IGNlcnRhaW4gaW1wb3J0YW50IGV2ZW50cy5cbiAgdmFyIGV2ZW50cyA9IFsnZXJyb3InLCAnY2xvc2UnLCAnZGVzdHJveScsICdwYXVzZScsICdyZXN1bWUnXTtcbiAgZm9yRWFjaChldmVudHMsIGZ1bmN0aW9uIChldikge1xuICAgIHN0cmVhbS5vbihldiwgc2VsZi5lbWl0LmJpbmQoc2VsZiwgZXYpKTtcbiAgfSk7XG5cbiAgLy8gd2hlbiB3ZSB0cnkgdG8gY29uc3VtZSBzb21lIG1vcmUgYnl0ZXMsIHNpbXBseSB1bnBhdXNlIHRoZVxuICAvLyB1bmRlcmx5aW5nIHN0cmVhbS5cbiAgc2VsZi5fcmVhZCA9IGZ1bmN0aW9uIChuKSB7XG4gICAgZGVidWcoJ3dyYXBwZWQgX3JlYWQnLCBuKTtcbiAgICBpZiAocGF1c2VkKSB7XG4gICAgICBwYXVzZWQgPSBmYWxzZTtcbiAgICAgIHN0cmVhbS5yZXN1bWUoKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHNlbGY7XG59O1xuXG4vLyBleHBvc2VkIGZvciB0ZXN0aW5nIHB1cnBvc2VzIG9ubHkuXG5SZWFkYWJsZS5fZnJvbUxpc3QgPSBmcm9tTGlzdDtcblxuLy8gUGx1Y2sgb2ZmIG4gYnl0ZXMgZnJvbSBhbiBhcnJheSBvZiBidWZmZXJzLlxuLy8gTGVuZ3RoIGlzIHRoZSBjb21iaW5lZCBsZW5ndGhzIG9mIGFsbCB0aGUgYnVmZmVycyBpbiB0aGUgbGlzdC5cbi8vIFRoaXMgZnVuY3Rpb24gaXMgZGVzaWduZWQgdG8gYmUgaW5saW5hYmxlLCBzbyBwbGVhc2UgdGFrZSBjYXJlIHdoZW4gbWFraW5nXG4vLyBjaGFuZ2VzIHRvIHRoZSBmdW5jdGlvbiBib2R5LlxuZnVuY3Rpb24gZnJvbUxpc3Qobiwgc3RhdGUpIHtcbiAgLy8gbm90aGluZyBidWZmZXJlZFxuICBpZiAoc3RhdGUubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDtcblxuICB2YXIgcmV0O1xuICBpZiAoc3RhdGUub2JqZWN0TW9kZSkgcmV0ID0gc3RhdGUuYnVmZmVyLnNoaWZ0KCk7ZWxzZSBpZiAoIW4gfHwgbiA+PSBzdGF0ZS5sZW5ndGgpIHtcbiAgICAvLyByZWFkIGl0IGFsbCwgdHJ1bmNhdGUgdGhlIGxpc3RcbiAgICBpZiAoc3RhdGUuZGVjb2RlcikgcmV0ID0gc3RhdGUuYnVmZmVyLmpvaW4oJycpO2Vsc2UgaWYgKHN0YXRlLmJ1ZmZlci5sZW5ndGggPT09IDEpIHJldCA9IHN0YXRlLmJ1ZmZlci5oZWFkLmRhdGE7ZWxzZSByZXQgPSBzdGF0ZS5idWZmZXIuY29uY2F0KHN0YXRlLmxlbmd0aCk7XG4gICAgc3RhdGUuYnVmZmVyLmNsZWFyKCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gcmVhZCBwYXJ0IG9mIGxpc3RcbiAgICByZXQgPSBmcm9tTGlzdFBhcnRpYWwobiwgc3RhdGUuYnVmZmVyLCBzdGF0ZS5kZWNvZGVyKTtcbiAgfVxuXG4gIHJldHVybiByZXQ7XG59XG5cbi8vIEV4dHJhY3RzIG9ubHkgZW5vdWdoIGJ1ZmZlcmVkIGRhdGEgdG8gc2F0aXNmeSB0aGUgYW1vdW50IHJlcXVlc3RlZC5cbi8vIFRoaXMgZnVuY3Rpb24gaXMgZGVzaWduZWQgdG8gYmUgaW5saW5hYmxlLCBzbyBwbGVhc2UgdGFrZSBjYXJlIHdoZW4gbWFraW5nXG4vLyBjaGFuZ2VzIHRvIHRoZSBmdW5jdGlvbiBib2R5LlxuZnVuY3Rpb24gZnJvbUxpc3RQYXJ0aWFsKG4sIGxpc3QsIGhhc1N0cmluZ3MpIHtcbiAgdmFyIHJldDtcbiAgaWYgKG4gPCBsaXN0LmhlYWQuZGF0YS5sZW5ndGgpIHtcbiAgICAvLyBzbGljZSBpcyB0aGUgc2FtZSBmb3IgYnVmZmVycyBhbmQgc3RyaW5nc1xuICAgIHJldCA9IGxpc3QuaGVhZC5kYXRhLnNsaWNlKDAsIG4pO1xuICAgIGxpc3QuaGVhZC5kYXRhID0gbGlzdC5oZWFkLmRhdGEuc2xpY2Uobik7XG4gIH0gZWxzZSBpZiAobiA9PT0gbGlzdC5oZWFkLmRhdGEubGVuZ3RoKSB7XG4gICAgLy8gZmlyc3QgY2h1bmsgaXMgYSBwZXJmZWN0IG1hdGNoXG4gICAgcmV0ID0gbGlzdC5zaGlmdCgpO1xuICB9IGVsc2Uge1xuICAgIC8vIHJlc3VsdCBzcGFucyBtb3JlIHRoYW4gb25lIGJ1ZmZlclxuICAgIHJldCA9IGhhc1N0cmluZ3MgPyBjb3B5RnJvbUJ1ZmZlclN0cmluZyhuLCBsaXN0KSA6IGNvcHlGcm9tQnVmZmVyKG4sIGxpc3QpO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbi8vIENvcGllcyBhIHNwZWNpZmllZCBhbW91bnQgb2YgY2hhcmFjdGVycyBmcm9tIHRoZSBsaXN0IG9mIGJ1ZmZlcmVkIGRhdGFcbi8vIGNodW5rcy5cbi8vIFRoaXMgZnVuY3Rpb24gaXMgZGVzaWduZWQgdG8gYmUgaW5saW5hYmxlLCBzbyBwbGVhc2UgdGFrZSBjYXJlIHdoZW4gbWFraW5nXG4vLyBjaGFuZ2VzIHRvIHRoZSBmdW5jdGlvbiBib2R5LlxuZnVuY3Rpb24gY29weUZyb21CdWZmZXJTdHJpbmcobiwgbGlzdCkge1xuICB2YXIgcCA9IGxpc3QuaGVhZDtcbiAgdmFyIGMgPSAxO1xuICB2YXIgcmV0ID0gcC5kYXRhO1xuICBuIC09IHJldC5sZW5ndGg7XG4gIHdoaWxlIChwID0gcC5uZXh0KSB7XG4gICAgdmFyIHN0ciA9IHAuZGF0YTtcbiAgICB2YXIgbmIgPSBuID4gc3RyLmxlbmd0aCA/IHN0ci5sZW5ndGggOiBuO1xuICAgIGlmIChuYiA9PT0gc3RyLmxlbmd0aCkgcmV0ICs9IHN0cjtlbHNlIHJldCArPSBzdHIuc2xpY2UoMCwgbik7XG4gICAgbiAtPSBuYjtcbiAgICBpZiAobiA9PT0gMCkge1xuICAgICAgaWYgKG5iID09PSBzdHIubGVuZ3RoKSB7XG4gICAgICAgICsrYztcbiAgICAgICAgaWYgKHAubmV4dCkgbGlzdC5oZWFkID0gcC5uZXh0O2Vsc2UgbGlzdC5oZWFkID0gbGlzdC50YWlsID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxpc3QuaGVhZCA9IHA7XG4gICAgICAgIHAuZGF0YSA9IHN0ci5zbGljZShuYik7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgKytjO1xuICB9XG4gIGxpc3QubGVuZ3RoIC09IGM7XG4gIHJldHVybiByZXQ7XG59XG5cbi8vIENvcGllcyBhIHNwZWNpZmllZCBhbW91bnQgb2YgYnl0ZXMgZnJvbSB0aGUgbGlzdCBvZiBidWZmZXJlZCBkYXRhIGNodW5rcy5cbi8vIFRoaXMgZnVuY3Rpb24gaXMgZGVzaWduZWQgdG8gYmUgaW5saW5hYmxlLCBzbyBwbGVhc2UgdGFrZSBjYXJlIHdoZW4gbWFraW5nXG4vLyBjaGFuZ2VzIHRvIHRoZSBmdW5jdGlvbiBib2R5LlxuZnVuY3Rpb24gY29weUZyb21CdWZmZXIobiwgbGlzdCkge1xuICB2YXIgcmV0ID0gQnVmZmVyLmFsbG9jVW5zYWZlKG4pO1xuICB2YXIgcCA9IGxpc3QuaGVhZDtcbiAgdmFyIGMgPSAxO1xuICBwLmRhdGEuY29weShyZXQpO1xuICBuIC09IHAuZGF0YS5sZW5ndGg7XG4gIHdoaWxlIChwID0gcC5uZXh0KSB7XG4gICAgdmFyIGJ1ZiA9IHAuZGF0YTtcbiAgICB2YXIgbmIgPSBuID4gYnVmLmxlbmd0aCA/IGJ1Zi5sZW5ndGggOiBuO1xuICAgIGJ1Zi5jb3B5KHJldCwgcmV0Lmxlbmd0aCAtIG4sIDAsIG5iKTtcbiAgICBuIC09IG5iO1xuICAgIGlmIChuID09PSAwKSB7XG4gICAgICBpZiAobmIgPT09IGJ1Zi5sZW5ndGgpIHtcbiAgICAgICAgKytjO1xuICAgICAgICBpZiAocC5uZXh0KSBsaXN0LmhlYWQgPSBwLm5leHQ7ZWxzZSBsaXN0LmhlYWQgPSBsaXN0LnRhaWwgPSBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGlzdC5oZWFkID0gcDtcbiAgICAgICAgcC5kYXRhID0gYnVmLnNsaWNlKG5iKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICArK2M7XG4gIH1cbiAgbGlzdC5sZW5ndGggLT0gYztcbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gZW5kUmVhZGFibGUoc3RyZWFtKSB7XG4gIHZhciBzdGF0ZSA9IHN0cmVhbS5fcmVhZGFibGVTdGF0ZTtcblxuICAvLyBJZiB3ZSBnZXQgaGVyZSBiZWZvcmUgY29uc3VtaW5nIGFsbCB0aGUgYnl0ZXMsIHRoZW4gdGhhdCBpcyBhXG4gIC8vIGJ1ZyBpbiBub2RlLiAgU2hvdWxkIG5ldmVyIGhhcHBlbi5cbiAgaWYgKHN0YXRlLmxlbmd0aCA+IDApIHRocm93IG5ldyBFcnJvcignXCJlbmRSZWFkYWJsZSgpXCIgY2FsbGVkIG9uIG5vbi1lbXB0eSBzdHJlYW0nKTtcblxuICBpZiAoIXN0YXRlLmVuZEVtaXR0ZWQpIHtcbiAgICBzdGF0ZS5lbmRlZCA9IHRydWU7XG4gICAgbmV4dFRpY2soZW5kUmVhZGFibGVOVCwgc3RhdGUsIHN0cmVhbSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZW5kUmVhZGFibGVOVChzdGF0ZSwgc3RyZWFtKSB7XG4gIC8vIENoZWNrIHRoYXQgd2UgZGlkbid0IGdldCBvbmUgbGFzdCB1bnNoaWZ0LlxuICBpZiAoIXN0YXRlLmVuZEVtaXR0ZWQgJiYgc3RhdGUubGVuZ3RoID09PSAwKSB7XG4gICAgc3RhdGUuZW5kRW1pdHRlZCA9IHRydWU7XG4gICAgc3RyZWFtLnJlYWRhYmxlID0gZmFsc2U7XG4gICAgc3RyZWFtLmVtaXQoJ2VuZCcpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGZvckVhY2goeHMsIGYpIHtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSB4cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBmKHhzW2ldLCBpKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbmRleE9mKHhzLCB4KSB7XG4gIGZvciAodmFyIGkgPSAwLCBsID0geHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgaWYgKHhzW2ldID09PSB4KSByZXR1cm4gaTtcbiAgfVxuICByZXR1cm4gLTE7XG59XG4iLCAiLy8gQSBiaXQgc2ltcGxlciB0aGFuIHJlYWRhYmxlIHN0cmVhbXMuXG4vLyBJbXBsZW1lbnQgYW4gYXN5bmMgLl93cml0ZShjaHVuaywgZW5jb2RpbmcsIGNiKSwgYW5kIGl0J2xsIGhhbmRsZSBhbGxcbi8vIHRoZSBkcmFpbiBldmVudCBlbWlzc2lvbiBhbmQgYnVmZmVyaW5nLlxuXG5cbmltcG9ydCB7aW5oZXJpdHMsIGRlcHJlY2F0ZX0gZnJvbSAndXRpbCc7XG5pbXBvcnQge0J1ZmZlcn0gZnJvbSAnYnVmZmVyJztcbldyaXRhYmxlLldyaXRhYmxlU3RhdGUgPSBXcml0YWJsZVN0YXRlO1xuaW1wb3J0IHtFdmVudEVtaXR0ZXJ9IGZyb20gJ2V2ZW50cyc7XG5pbXBvcnQge0R1cGxleH0gZnJvbSAnLi9kdXBsZXgnO1xuaW1wb3J0IHtuZXh0VGlja30gZnJvbSAncHJvY2Vzcyc7XG5pbmhlcml0cyhXcml0YWJsZSwgRXZlbnRFbWl0dGVyKTtcblxuZnVuY3Rpb24gbm9wKCkge31cblxuZnVuY3Rpb24gV3JpdGVSZXEoY2h1bmssIGVuY29kaW5nLCBjYikge1xuICB0aGlzLmNodW5rID0gY2h1bms7XG4gIHRoaXMuZW5jb2RpbmcgPSBlbmNvZGluZztcbiAgdGhpcy5jYWxsYmFjayA9IGNiO1xuICB0aGlzLm5leHQgPSBudWxsO1xufVxuXG5mdW5jdGlvbiBXcml0YWJsZVN0YXRlKG9wdGlvbnMsIHN0cmVhbSkge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2J1ZmZlcicsIHtcbiAgICBnZXQ6IGRlcHJlY2F0ZShmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRCdWZmZXIoKTtcbiAgICB9LCAnX3dyaXRhYmxlU3RhdGUuYnVmZmVyIGlzIGRlcHJlY2F0ZWQuIFVzZSBfd3JpdGFibGVTdGF0ZS5nZXRCdWZmZXIgJyArICdpbnN0ZWFkLicpXG4gIH0pO1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAvLyBvYmplY3Qgc3RyZWFtIGZsYWcgdG8gaW5kaWNhdGUgd2hldGhlciBvciBub3QgdGhpcyBzdHJlYW1cbiAgLy8gY29udGFpbnMgYnVmZmVycyBvciBvYmplY3RzLlxuICB0aGlzLm9iamVjdE1vZGUgPSAhIW9wdGlvbnMub2JqZWN0TW9kZTtcblxuICBpZiAoc3RyZWFtIGluc3RhbmNlb2YgRHVwbGV4KSB0aGlzLm9iamVjdE1vZGUgPSB0aGlzLm9iamVjdE1vZGUgfHwgISFvcHRpb25zLndyaXRhYmxlT2JqZWN0TW9kZTtcblxuICAvLyB0aGUgcG9pbnQgYXQgd2hpY2ggd3JpdGUoKSBzdGFydHMgcmV0dXJuaW5nIGZhbHNlXG4gIC8vIE5vdGU6IDAgaXMgYSB2YWxpZCB2YWx1ZSwgbWVhbnMgdGhhdCB3ZSBhbHdheXMgcmV0dXJuIGZhbHNlIGlmXG4gIC8vIHRoZSBlbnRpcmUgYnVmZmVyIGlzIG5vdCBmbHVzaGVkIGltbWVkaWF0ZWx5IG9uIHdyaXRlKClcbiAgdmFyIGh3bSA9IG9wdGlvbnMuaGlnaFdhdGVyTWFyaztcbiAgdmFyIGRlZmF1bHRId20gPSB0aGlzLm9iamVjdE1vZGUgPyAxNiA6IDE2ICogMTAyNDtcbiAgdGhpcy5oaWdoV2F0ZXJNYXJrID0gaHdtIHx8IGh3bSA9PT0gMCA/IGh3bSA6IGRlZmF1bHRId207XG5cbiAgLy8gY2FzdCB0byBpbnRzLlxuICB0aGlzLmhpZ2hXYXRlck1hcmsgPSB+IH50aGlzLmhpZ2hXYXRlck1hcms7XG5cbiAgdGhpcy5uZWVkRHJhaW4gPSBmYWxzZTtcbiAgLy8gYXQgdGhlIHN0YXJ0IG9mIGNhbGxpbmcgZW5kKClcbiAgdGhpcy5lbmRpbmcgPSBmYWxzZTtcbiAgLy8gd2hlbiBlbmQoKSBoYXMgYmVlbiBjYWxsZWQsIGFuZCByZXR1cm5lZFxuICB0aGlzLmVuZGVkID0gZmFsc2U7XG4gIC8vIHdoZW4gJ2ZpbmlzaCcgaXMgZW1pdHRlZFxuICB0aGlzLmZpbmlzaGVkID0gZmFsc2U7XG5cbiAgLy8gc2hvdWxkIHdlIGRlY29kZSBzdHJpbmdzIGludG8gYnVmZmVycyBiZWZvcmUgcGFzc2luZyB0byBfd3JpdGU/XG4gIC8vIHRoaXMgaXMgaGVyZSBzbyB0aGF0IHNvbWUgbm9kZS1jb3JlIHN0cmVhbXMgY2FuIG9wdGltaXplIHN0cmluZ1xuICAvLyBoYW5kbGluZyBhdCBhIGxvd2VyIGxldmVsLlxuICB2YXIgbm9EZWNvZGUgPSBvcHRpb25zLmRlY29kZVN0cmluZ3MgPT09IGZhbHNlO1xuICB0aGlzLmRlY29kZVN0cmluZ3MgPSAhbm9EZWNvZGU7XG5cbiAgLy8gQ3J5cHRvIGlzIGtpbmQgb2Ygb2xkIGFuZCBjcnVzdHkuICBIaXN0b3JpY2FsbHksIGl0cyBkZWZhdWx0IHN0cmluZ1xuICAvLyBlbmNvZGluZyBpcyAnYmluYXJ5JyBzbyB3ZSBoYXZlIHRvIG1ha2UgdGhpcyBjb25maWd1cmFibGUuXG4gIC8vIEV2ZXJ5dGhpbmcgZWxzZSBpbiB0aGUgdW5pdmVyc2UgdXNlcyAndXRmOCcsIHRob3VnaC5cbiAgdGhpcy5kZWZhdWx0RW5jb2RpbmcgPSBvcHRpb25zLmRlZmF1bHRFbmNvZGluZyB8fCAndXRmOCc7XG5cbiAgLy8gbm90IGFuIGFjdHVhbCBidWZmZXIgd2Uga2VlcCB0cmFjayBvZiwgYnV0IGEgbWVhc3VyZW1lbnRcbiAgLy8gb2YgaG93IG11Y2ggd2UncmUgd2FpdGluZyB0byBnZXQgcHVzaGVkIHRvIHNvbWUgdW5kZXJseWluZ1xuICAvLyBzb2NrZXQgb3IgZmlsZS5cbiAgdGhpcy5sZW5ndGggPSAwO1xuXG4gIC8vIGEgZmxhZyB0byBzZWUgd2hlbiB3ZSdyZSBpbiB0aGUgbWlkZGxlIG9mIGEgd3JpdGUuXG4gIHRoaXMud3JpdGluZyA9IGZhbHNlO1xuXG4gIC8vIHdoZW4gdHJ1ZSBhbGwgd3JpdGVzIHdpbGwgYmUgYnVmZmVyZWQgdW50aWwgLnVuY29yaygpIGNhbGxcbiAgdGhpcy5jb3JrZWQgPSAwO1xuXG4gIC8vIGEgZmxhZyB0byBiZSBhYmxlIHRvIHRlbGwgaWYgdGhlIG9ud3JpdGUgY2IgaXMgY2FsbGVkIGltbWVkaWF0ZWx5LFxuICAvLyBvciBvbiBhIGxhdGVyIHRpY2suICBXZSBzZXQgdGhpcyB0byB0cnVlIGF0IGZpcnN0LCBiZWNhdXNlIGFueVxuICAvLyBhY3Rpb25zIHRoYXQgc2hvdWxkbid0IGhhcHBlbiB1bnRpbCBcImxhdGVyXCIgc2hvdWxkIGdlbmVyYWxseSBhbHNvXG4gIC8vIG5vdCBoYXBwZW4gYmVmb3JlIHRoZSBmaXJzdCB3cml0ZSBjYWxsLlxuICB0aGlzLnN5bmMgPSB0cnVlO1xuXG4gIC8vIGEgZmxhZyB0byBrbm93IGlmIHdlJ3JlIHByb2Nlc3NpbmcgcHJldmlvdXNseSBidWZmZXJlZCBpdGVtcywgd2hpY2hcbiAgLy8gbWF5IGNhbGwgdGhlIF93cml0ZSgpIGNhbGxiYWNrIGluIHRoZSBzYW1lIHRpY2ssIHNvIHRoYXQgd2UgZG9uJ3RcbiAgLy8gZW5kIHVwIGluIGFuIG92ZXJsYXBwZWQgb253cml0ZSBzaXR1YXRpb24uXG4gIHRoaXMuYnVmZmVyUHJvY2Vzc2luZyA9IGZhbHNlO1xuXG4gIC8vIHRoZSBjYWxsYmFjayB0aGF0J3MgcGFzc2VkIHRvIF93cml0ZShjaHVuayxjYilcbiAgdGhpcy5vbndyaXRlID0gZnVuY3Rpb24gKGVyKSB7XG4gICAgb253cml0ZShzdHJlYW0sIGVyKTtcbiAgfTtcblxuICAvLyB0aGUgY2FsbGJhY2sgdGhhdCB0aGUgdXNlciBzdXBwbGllcyB0byB3cml0ZShjaHVuayxlbmNvZGluZyxjYilcbiAgdGhpcy53cml0ZWNiID0gbnVsbDtcblxuICAvLyB0aGUgYW1vdW50IHRoYXQgaXMgYmVpbmcgd3JpdHRlbiB3aGVuIF93cml0ZSBpcyBjYWxsZWQuXG4gIHRoaXMud3JpdGVsZW4gPSAwO1xuXG4gIHRoaXMuYnVmZmVyZWRSZXF1ZXN0ID0gbnVsbDtcbiAgdGhpcy5sYXN0QnVmZmVyZWRSZXF1ZXN0ID0gbnVsbDtcblxuICAvLyBudW1iZXIgb2YgcGVuZGluZyB1c2VyLXN1cHBsaWVkIHdyaXRlIGNhbGxiYWNrc1xuICAvLyB0aGlzIG11c3QgYmUgMCBiZWZvcmUgJ2ZpbmlzaCcgY2FuIGJlIGVtaXR0ZWRcbiAgdGhpcy5wZW5kaW5nY2IgPSAwO1xuXG4gIC8vIGVtaXQgcHJlZmluaXNoIGlmIHRoZSBvbmx5IHRoaW5nIHdlJ3JlIHdhaXRpbmcgZm9yIGlzIF93cml0ZSBjYnNcbiAgLy8gVGhpcyBpcyByZWxldmFudCBmb3Igc3luY2hyb25vdXMgVHJhbnNmb3JtIHN0cmVhbXNcbiAgdGhpcy5wcmVmaW5pc2hlZCA9IGZhbHNlO1xuXG4gIC8vIFRydWUgaWYgdGhlIGVycm9yIHdhcyBhbHJlYWR5IGVtaXR0ZWQgYW5kIHNob3VsZCBub3QgYmUgdGhyb3duIGFnYWluXG4gIHRoaXMuZXJyb3JFbWl0dGVkID0gZmFsc2U7XG5cbiAgLy8gY291bnQgYnVmZmVyZWQgcmVxdWVzdHNcbiAgdGhpcy5idWZmZXJlZFJlcXVlc3RDb3VudCA9IDA7XG5cbiAgLy8gYWxsb2NhdGUgdGhlIGZpcnN0IENvcmtlZFJlcXVlc3QsIHRoZXJlIGlzIGFsd2F5c1xuICAvLyBvbmUgYWxsb2NhdGVkIGFuZCBmcmVlIHRvIHVzZSwgYW5kIHdlIG1haW50YWluIGF0IG1vc3QgdHdvXG4gIHRoaXMuY29ya2VkUmVxdWVzdHNGcmVlID0gbmV3IENvcmtlZFJlcXVlc3QodGhpcyk7XG59XG5cbldyaXRhYmxlU3RhdGUucHJvdG90eXBlLmdldEJ1ZmZlciA9IGZ1bmN0aW9uIHdyaXRhYmxlU3RhdGVHZXRCdWZmZXIoKSB7XG4gIHZhciBjdXJyZW50ID0gdGhpcy5idWZmZXJlZFJlcXVlc3Q7XG4gIHZhciBvdXQgPSBbXTtcbiAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICBvdXQucHVzaChjdXJyZW50KTtcbiAgICBjdXJyZW50ID0gY3VycmVudC5uZXh0O1xuICB9XG4gIHJldHVybiBvdXQ7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBXcml0YWJsZTtcbmV4cG9ydCBmdW5jdGlvbiBXcml0YWJsZShvcHRpb25zKSB7XG5cbiAgLy8gV3JpdGFibGUgY3RvciBpcyBhcHBsaWVkIHRvIER1cGxleGVzLCB0aG91Z2ggdGhleSdyZSBub3RcbiAgLy8gaW5zdGFuY2VvZiBXcml0YWJsZSwgdGhleSdyZSBpbnN0YW5jZW9mIFJlYWRhYmxlLlxuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgV3JpdGFibGUpICYmICEodGhpcyBpbnN0YW5jZW9mIER1cGxleCkpIHJldHVybiBuZXcgV3JpdGFibGUob3B0aW9ucyk7XG5cbiAgdGhpcy5fd3JpdGFibGVTdGF0ZSA9IG5ldyBXcml0YWJsZVN0YXRlKG9wdGlvbnMsIHRoaXMpO1xuXG4gIC8vIGxlZ2FjeS5cbiAgdGhpcy53cml0YWJsZSA9IHRydWU7XG5cbiAgaWYgKG9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMud3JpdGUgPT09ICdmdW5jdGlvbicpIHRoaXMuX3dyaXRlID0gb3B0aW9ucy53cml0ZTtcblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy53cml0ZXYgPT09ICdmdW5jdGlvbicpIHRoaXMuX3dyaXRldiA9IG9wdGlvbnMud3JpdGV2O1xuICB9XG5cbiAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG59XG5cbi8vIE90aGVyd2lzZSBwZW9wbGUgY2FuIHBpcGUgV3JpdGFibGUgc3RyZWFtcywgd2hpY2ggaXMganVzdCB3cm9uZy5cbldyaXRhYmxlLnByb3RvdHlwZS5waXBlID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmVtaXQoJ2Vycm9yJywgbmV3IEVycm9yKCdDYW5ub3QgcGlwZSwgbm90IHJlYWRhYmxlJykpO1xufTtcblxuZnVuY3Rpb24gd3JpdGVBZnRlckVuZChzdHJlYW0sIGNiKSB7XG4gIHZhciBlciA9IG5ldyBFcnJvcignd3JpdGUgYWZ0ZXIgZW5kJyk7XG4gIC8vIFRPRE86IGRlZmVyIGVycm9yIGV2ZW50cyBjb25zaXN0ZW50bHkgZXZlcnl3aGVyZSwgbm90IGp1c3QgdGhlIGNiXG4gIHN0cmVhbS5lbWl0KCdlcnJvcicsIGVyKTtcbiAgbmV4dFRpY2soY2IsIGVyKTtcbn1cblxuLy8gSWYgd2UgZ2V0IHNvbWV0aGluZyB0aGF0IGlzIG5vdCBhIGJ1ZmZlciwgc3RyaW5nLCBudWxsLCBvciB1bmRlZmluZWQsXG4vLyBhbmQgd2UncmUgbm90IGluIG9iamVjdE1vZGUsIHRoZW4gdGhhdCdzIGFuIGVycm9yLlxuLy8gT3RoZXJ3aXNlIHN0cmVhbSBjaHVua3MgYXJlIGFsbCBjb25zaWRlcmVkIHRvIGJlIG9mIGxlbmd0aD0xLCBhbmQgdGhlXG4vLyB3YXRlcm1hcmtzIGRldGVybWluZSBob3cgbWFueSBvYmplY3RzIHRvIGtlZXAgaW4gdGhlIGJ1ZmZlciwgcmF0aGVyIHRoYW5cbi8vIGhvdyBtYW55IGJ5dGVzIG9yIGNoYXJhY3RlcnMuXG5mdW5jdGlvbiB2YWxpZENodW5rKHN0cmVhbSwgc3RhdGUsIGNodW5rLCBjYikge1xuICB2YXIgdmFsaWQgPSB0cnVlO1xuICB2YXIgZXIgPSBmYWxzZTtcbiAgLy8gQWx3YXlzIHRocm93IGVycm9yIGlmIGEgbnVsbCBpcyB3cml0dGVuXG4gIC8vIGlmIHdlIGFyZSBub3QgaW4gb2JqZWN0IG1vZGUgdGhlbiB0aHJvd1xuICAvLyBpZiBpdCBpcyBub3QgYSBidWZmZXIsIHN0cmluZywgb3IgdW5kZWZpbmVkLlxuICBpZiAoY2h1bmsgPT09IG51bGwpIHtcbiAgICBlciA9IG5ldyBUeXBlRXJyb3IoJ01heSBub3Qgd3JpdGUgbnVsbCB2YWx1ZXMgdG8gc3RyZWFtJyk7XG4gIH0gZWxzZSBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihjaHVuaykgJiYgdHlwZW9mIGNodW5rICE9PSAnc3RyaW5nJyAmJiBjaHVuayAhPT0gdW5kZWZpbmVkICYmICFzdGF0ZS5vYmplY3RNb2RlKSB7XG4gICAgZXIgPSBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIG5vbi1zdHJpbmcvYnVmZmVyIGNodW5rJyk7XG4gIH1cbiAgaWYgKGVyKSB7XG4gICAgc3RyZWFtLmVtaXQoJ2Vycm9yJywgZXIpO1xuICAgIG5leHRUaWNrKGNiLCBlcik7XG4gICAgdmFsaWQgPSBmYWxzZTtcbiAgfVxuICByZXR1cm4gdmFsaWQ7XG59XG5cbldyaXRhYmxlLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3dyaXRhYmxlU3RhdGU7XG4gIHZhciByZXQgPSBmYWxzZTtcblxuICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2IgPSBlbmNvZGluZztcbiAgICBlbmNvZGluZyA9IG51bGw7XG4gIH1cblxuICBpZiAoQnVmZmVyLmlzQnVmZmVyKGNodW5rKSkgZW5jb2RpbmcgPSAnYnVmZmVyJztlbHNlIGlmICghZW5jb2RpbmcpIGVuY29kaW5nID0gc3RhdGUuZGVmYXVsdEVuY29kaW5nO1xuXG4gIGlmICh0eXBlb2YgY2IgIT09ICdmdW5jdGlvbicpIGNiID0gbm9wO1xuXG4gIGlmIChzdGF0ZS5lbmRlZCkgd3JpdGVBZnRlckVuZCh0aGlzLCBjYik7ZWxzZSBpZiAodmFsaWRDaHVuayh0aGlzLCBzdGF0ZSwgY2h1bmssIGNiKSkge1xuICAgIHN0YXRlLnBlbmRpbmdjYisrO1xuICAgIHJldCA9IHdyaXRlT3JCdWZmZXIodGhpcywgc3RhdGUsIGNodW5rLCBlbmNvZGluZywgY2IpO1xuICB9XG5cbiAgcmV0dXJuIHJldDtcbn07XG5cbldyaXRhYmxlLnByb3RvdHlwZS5jb3JrID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc3RhdGUgPSB0aGlzLl93cml0YWJsZVN0YXRlO1xuXG4gIHN0YXRlLmNvcmtlZCsrO1xufTtcblxuV3JpdGFibGUucHJvdG90eXBlLnVuY29yayA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fd3JpdGFibGVTdGF0ZTtcblxuICBpZiAoc3RhdGUuY29ya2VkKSB7XG4gICAgc3RhdGUuY29ya2VkLS07XG5cbiAgICBpZiAoIXN0YXRlLndyaXRpbmcgJiYgIXN0YXRlLmNvcmtlZCAmJiAhc3RhdGUuZmluaXNoZWQgJiYgIXN0YXRlLmJ1ZmZlclByb2Nlc3NpbmcgJiYgc3RhdGUuYnVmZmVyZWRSZXF1ZXN0KSBjbGVhckJ1ZmZlcih0aGlzLCBzdGF0ZSk7XG4gIH1cbn07XG5cbldyaXRhYmxlLnByb3RvdHlwZS5zZXREZWZhdWx0RW5jb2RpbmcgPSBmdW5jdGlvbiBzZXREZWZhdWx0RW5jb2RpbmcoZW5jb2RpbmcpIHtcbiAgLy8gbm9kZTo6UGFyc2VFbmNvZGluZygpIHJlcXVpcmVzIGxvd2VyIGNhc2UuXG4gIGlmICh0eXBlb2YgZW5jb2RpbmcgPT09ICdzdHJpbmcnKSBlbmNvZGluZyA9IGVuY29kaW5nLnRvTG93ZXJDYXNlKCk7XG4gIGlmICghKFsnaGV4JywgJ3V0ZjgnLCAndXRmLTgnLCAnYXNjaWknLCAnYmluYXJ5JywgJ2Jhc2U2NCcsICd1Y3MyJywgJ3Vjcy0yJywgJ3V0ZjE2bGUnLCAndXRmLTE2bGUnLCAncmF3J10uaW5kZXhPZigoZW5jb2RpbmcgKyAnJykudG9Mb3dlckNhc2UoKSkgPiAtMSkpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZyk7XG4gIHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVmYXVsdEVuY29kaW5nID0gZW5jb2Rpbmc7XG4gIHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gZGVjb2RlQ2h1bmsoc3RhdGUsIGNodW5rLCBlbmNvZGluZykge1xuICBpZiAoIXN0YXRlLm9iamVjdE1vZGUgJiYgc3RhdGUuZGVjb2RlU3RyaW5ncyAhPT0gZmFsc2UgJiYgdHlwZW9mIGNodW5rID09PSAnc3RyaW5nJykge1xuICAgIGNodW5rID0gQnVmZmVyLmZyb20oY2h1bmssIGVuY29kaW5nKTtcbiAgfVxuICByZXR1cm4gY2h1bms7XG59XG5cbi8vIGlmIHdlJ3JlIGFscmVhZHkgd3JpdGluZyBzb21ldGhpbmcsIHRoZW4ganVzdCBwdXQgdGhpc1xuLy8gaW4gdGhlIHF1ZXVlLCBhbmQgd2FpdCBvdXIgdHVybi4gIE90aGVyd2lzZSwgY2FsbCBfd3JpdGVcbi8vIElmIHdlIHJldHVybiBmYWxzZSwgdGhlbiB3ZSBuZWVkIGEgZHJhaW4gZXZlbnQsIHNvIHNldCB0aGF0IGZsYWcuXG5mdW5jdGlvbiB3cml0ZU9yQnVmZmVyKHN0cmVhbSwgc3RhdGUsIGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgY2h1bmsgPSBkZWNvZGVDaHVuayhzdGF0ZSwgY2h1bmssIGVuY29kaW5nKTtcblxuICBpZiAoQnVmZmVyLmlzQnVmZmVyKGNodW5rKSkgZW5jb2RpbmcgPSAnYnVmZmVyJztcbiAgdmFyIGxlbiA9IHN0YXRlLm9iamVjdE1vZGUgPyAxIDogY2h1bmsubGVuZ3RoO1xuXG4gIHN0YXRlLmxlbmd0aCArPSBsZW47XG5cbiAgdmFyIHJldCA9IHN0YXRlLmxlbmd0aCA8IHN0YXRlLmhpZ2hXYXRlck1hcms7XG4gIC8vIHdlIG11c3QgZW5zdXJlIHRoYXQgcHJldmlvdXMgbmVlZERyYWluIHdpbGwgbm90IGJlIHJlc2V0IHRvIGZhbHNlLlxuICBpZiAoIXJldCkgc3RhdGUubmVlZERyYWluID0gdHJ1ZTtcblxuICBpZiAoc3RhdGUud3JpdGluZyB8fCBzdGF0ZS5jb3JrZWQpIHtcbiAgICB2YXIgbGFzdCA9IHN0YXRlLmxhc3RCdWZmZXJlZFJlcXVlc3Q7XG4gICAgc3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdCA9IG5ldyBXcml0ZVJlcShjaHVuaywgZW5jb2RpbmcsIGNiKTtcbiAgICBpZiAobGFzdCkge1xuICAgICAgbGFzdC5uZXh0ID0gc3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdDtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdGUuYnVmZmVyZWRSZXF1ZXN0ID0gc3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdDtcbiAgICB9XG4gICAgc3RhdGUuYnVmZmVyZWRSZXF1ZXN0Q291bnQgKz0gMTtcbiAgfSBlbHNlIHtcbiAgICBkb1dyaXRlKHN0cmVhbSwgc3RhdGUsIGZhbHNlLCBsZW4sIGNodW5rLCBlbmNvZGluZywgY2IpO1xuICB9XG5cbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gZG9Xcml0ZShzdHJlYW0sIHN0YXRlLCB3cml0ZXYsIGxlbiwgY2h1bmssIGVuY29kaW5nLCBjYikge1xuICBzdGF0ZS53cml0ZWxlbiA9IGxlbjtcbiAgc3RhdGUud3JpdGVjYiA9IGNiO1xuICBzdGF0ZS53cml0aW5nID0gdHJ1ZTtcbiAgc3RhdGUuc3luYyA9IHRydWU7XG4gIGlmICh3cml0ZXYpIHN0cmVhbS5fd3JpdGV2KGNodW5rLCBzdGF0ZS5vbndyaXRlKTtlbHNlIHN0cmVhbS5fd3JpdGUoY2h1bmssIGVuY29kaW5nLCBzdGF0ZS5vbndyaXRlKTtcbiAgc3RhdGUuc3luYyA9IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBvbndyaXRlRXJyb3Ioc3RyZWFtLCBzdGF0ZSwgc3luYywgZXIsIGNiKSB7XG4gIC0tc3RhdGUucGVuZGluZ2NiO1xuICBpZiAoc3luYykgbmV4dFRpY2soY2IsIGVyKTtlbHNlIGNiKGVyKTtcblxuICBzdHJlYW0uX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkID0gdHJ1ZTtcbiAgc3RyZWFtLmVtaXQoJ2Vycm9yJywgZXIpO1xufVxuXG5mdW5jdGlvbiBvbndyaXRlU3RhdGVVcGRhdGUoc3RhdGUpIHtcbiAgc3RhdGUud3JpdGluZyA9IGZhbHNlO1xuICBzdGF0ZS53cml0ZWNiID0gbnVsbDtcbiAgc3RhdGUubGVuZ3RoIC09IHN0YXRlLndyaXRlbGVuO1xuICBzdGF0ZS53cml0ZWxlbiA9IDA7XG59XG5cbmZ1bmN0aW9uIG9ud3JpdGUoc3RyZWFtLCBlcikge1xuICB2YXIgc3RhdGUgPSBzdHJlYW0uX3dyaXRhYmxlU3RhdGU7XG4gIHZhciBzeW5jID0gc3RhdGUuc3luYztcbiAgdmFyIGNiID0gc3RhdGUud3JpdGVjYjtcblxuICBvbndyaXRlU3RhdGVVcGRhdGUoc3RhdGUpO1xuXG4gIGlmIChlcikgb253cml0ZUVycm9yKHN0cmVhbSwgc3RhdGUsIHN5bmMsIGVyLCBjYik7ZWxzZSB7XG4gICAgLy8gQ2hlY2sgaWYgd2UncmUgYWN0dWFsbHkgcmVhZHkgdG8gZmluaXNoLCBidXQgZG9uJ3QgZW1pdCB5ZXRcbiAgICB2YXIgZmluaXNoZWQgPSBuZWVkRmluaXNoKHN0YXRlKTtcblxuICAgIGlmICghZmluaXNoZWQgJiYgIXN0YXRlLmNvcmtlZCAmJiAhc3RhdGUuYnVmZmVyUHJvY2Vzc2luZyAmJiBzdGF0ZS5idWZmZXJlZFJlcXVlc3QpIHtcbiAgICAgIGNsZWFyQnVmZmVyKHN0cmVhbSwgc3RhdGUpO1xuICAgIH1cblxuICAgIGlmIChzeW5jKSB7XG4gICAgICAvKjxyZXBsYWNlbWVudD4qL1xuICAgICAgICBuZXh0VGljayhhZnRlcldyaXRlLCBzdHJlYW0sIHN0YXRlLCBmaW5pc2hlZCwgY2IpO1xuICAgICAgLyo8L3JlcGxhY2VtZW50PiovXG4gICAgfSBlbHNlIHtcbiAgICAgICAgYWZ0ZXJXcml0ZShzdHJlYW0sIHN0YXRlLCBmaW5pc2hlZCwgY2IpO1xuICAgICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFmdGVyV3JpdGUoc3RyZWFtLCBzdGF0ZSwgZmluaXNoZWQsIGNiKSB7XG4gIGlmICghZmluaXNoZWQpIG9ud3JpdGVEcmFpbihzdHJlYW0sIHN0YXRlKTtcbiAgc3RhdGUucGVuZGluZ2NiLS07XG4gIGNiKCk7XG4gIGZpbmlzaE1heWJlKHN0cmVhbSwgc3RhdGUpO1xufVxuXG4vLyBNdXN0IGZvcmNlIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCBvbiBuZXh0VGljaywgc28gdGhhdCB3ZSBkb24ndFxuLy8gZW1pdCAnZHJhaW4nIGJlZm9yZSB0aGUgd3JpdGUoKSBjb25zdW1lciBnZXRzIHRoZSAnZmFsc2UnIHJldHVyblxuLy8gdmFsdWUsIGFuZCBoYXMgYSBjaGFuY2UgdG8gYXR0YWNoIGEgJ2RyYWluJyBsaXN0ZW5lci5cbmZ1bmN0aW9uIG9ud3JpdGVEcmFpbihzdHJlYW0sIHN0YXRlKSB7XG4gIGlmIChzdGF0ZS5sZW5ndGggPT09IDAgJiYgc3RhdGUubmVlZERyYWluKSB7XG4gICAgc3RhdGUubmVlZERyYWluID0gZmFsc2U7XG4gICAgc3RyZWFtLmVtaXQoJ2RyYWluJyk7XG4gIH1cbn1cblxuLy8gaWYgdGhlcmUncyBzb21ldGhpbmcgaW4gdGhlIGJ1ZmZlciB3YWl0aW5nLCB0aGVuIHByb2Nlc3MgaXRcbmZ1bmN0aW9uIGNsZWFyQnVmZmVyKHN0cmVhbSwgc3RhdGUpIHtcbiAgc3RhdGUuYnVmZmVyUHJvY2Vzc2luZyA9IHRydWU7XG4gIHZhciBlbnRyeSA9IHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdDtcblxuICBpZiAoc3RyZWFtLl93cml0ZXYgJiYgZW50cnkgJiYgZW50cnkubmV4dCkge1xuICAgIC8vIEZhc3QgY2FzZSwgd3JpdGUgZXZlcnl0aGluZyB1c2luZyBfd3JpdGV2KClcbiAgICB2YXIgbCA9IHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdENvdW50O1xuICAgIHZhciBidWZmZXIgPSBuZXcgQXJyYXkobCk7XG4gICAgdmFyIGhvbGRlciA9IHN0YXRlLmNvcmtlZFJlcXVlc3RzRnJlZTtcbiAgICBob2xkZXIuZW50cnkgPSBlbnRyeTtcblxuICAgIHZhciBjb3VudCA9IDA7XG4gICAgd2hpbGUgKGVudHJ5KSB7XG4gICAgICBidWZmZXJbY291bnRdID0gZW50cnk7XG4gICAgICBlbnRyeSA9IGVudHJ5Lm5leHQ7XG4gICAgICBjb3VudCArPSAxO1xuICAgIH1cblxuICAgIGRvV3JpdGUoc3RyZWFtLCBzdGF0ZSwgdHJ1ZSwgc3RhdGUubGVuZ3RoLCBidWZmZXIsICcnLCBob2xkZXIuZmluaXNoKTtcblxuICAgIC8vIGRvV3JpdGUgaXMgYWxtb3N0IGFsd2F5cyBhc3luYywgZGVmZXIgdGhlc2UgdG8gc2F2ZSBhIGJpdCBvZiB0aW1lXG4gICAgLy8gYXMgdGhlIGhvdCBwYXRoIGVuZHMgd2l0aCBkb1dyaXRlXG4gICAgc3RhdGUucGVuZGluZ2NiKys7XG4gICAgc3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdCA9IG51bGw7XG4gICAgaWYgKGhvbGRlci5uZXh0KSB7XG4gICAgICBzdGF0ZS5jb3JrZWRSZXF1ZXN0c0ZyZWUgPSBob2xkZXIubmV4dDtcbiAgICAgIGhvbGRlci5uZXh0ID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlID0gbmV3IENvcmtlZFJlcXVlc3Qoc3RhdGUpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBTbG93IGNhc2UsIHdyaXRlIGNodW5rcyBvbmUtYnktb25lXG4gICAgd2hpbGUgKGVudHJ5KSB7XG4gICAgICB2YXIgY2h1bmsgPSBlbnRyeS5jaHVuaztcbiAgICAgIHZhciBlbmNvZGluZyA9IGVudHJ5LmVuY29kaW5nO1xuICAgICAgdmFyIGNiID0gZW50cnkuY2FsbGJhY2s7XG4gICAgICB2YXIgbGVuID0gc3RhdGUub2JqZWN0TW9kZSA/IDEgOiBjaHVuay5sZW5ndGg7XG5cbiAgICAgIGRvV3JpdGUoc3RyZWFtLCBzdGF0ZSwgZmFsc2UsIGxlbiwgY2h1bmssIGVuY29kaW5nLCBjYik7XG4gICAgICBlbnRyeSA9IGVudHJ5Lm5leHQ7XG4gICAgICAvLyBpZiB3ZSBkaWRuJ3QgY2FsbCB0aGUgb253cml0ZSBpbW1lZGlhdGVseSwgdGhlblxuICAgICAgLy8gaXQgbWVhbnMgdGhhdCB3ZSBuZWVkIHRvIHdhaXQgdW50aWwgaXQgZG9lcy5cbiAgICAgIC8vIGFsc28sIHRoYXQgbWVhbnMgdGhhdCB0aGUgY2h1bmsgYW5kIGNiIGFyZSBjdXJyZW50bHlcbiAgICAgIC8vIGJlaW5nIHByb2Nlc3NlZCwgc28gbW92ZSB0aGUgYnVmZmVyIGNvdW50ZXIgcGFzdCB0aGVtLlxuICAgICAgaWYgKHN0YXRlLndyaXRpbmcpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGVudHJ5ID09PSBudWxsKSBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0ID0gbnVsbDtcbiAgfVxuXG4gIHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdENvdW50ID0gMDtcbiAgc3RhdGUuYnVmZmVyZWRSZXF1ZXN0ID0gZW50cnk7XG4gIHN0YXRlLmJ1ZmZlclByb2Nlc3NpbmcgPSBmYWxzZTtcbn1cblxuV3JpdGFibGUucHJvdG90eXBlLl93cml0ZSA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIGNiKG5ldyBFcnJvcignbm90IGltcGxlbWVudGVkJykpO1xufTtcblxuV3JpdGFibGUucHJvdG90eXBlLl93cml0ZXYgPSBudWxsO1xuXG5Xcml0YWJsZS5wcm90b3R5cGUuZW5kID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fd3JpdGFibGVTdGF0ZTtcblxuICBpZiAodHlwZW9mIGNodW5rID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2IgPSBjaHVuaztcbiAgICBjaHVuayA9IG51bGw7XG4gICAgZW5jb2RpbmcgPSBudWxsO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBlbmNvZGluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNiID0gZW5jb2Rpbmc7XG4gICAgZW5jb2RpbmcgPSBudWxsO1xuICB9XG5cbiAgaWYgKGNodW5rICE9PSBudWxsICYmIGNodW5rICE9PSB1bmRlZmluZWQpIHRoaXMud3JpdGUoY2h1bmssIGVuY29kaW5nKTtcblxuICAvLyAuZW5kKCkgZnVsbHkgdW5jb3Jrc1xuICBpZiAoc3RhdGUuY29ya2VkKSB7XG4gICAgc3RhdGUuY29ya2VkID0gMTtcbiAgICB0aGlzLnVuY29yaygpO1xuICB9XG5cbiAgLy8gaWdub3JlIHVubmVjZXNzYXJ5IGVuZCgpIGNhbGxzLlxuICBpZiAoIXN0YXRlLmVuZGluZyAmJiAhc3RhdGUuZmluaXNoZWQpIGVuZFdyaXRhYmxlKHRoaXMsIHN0YXRlLCBjYik7XG59O1xuXG5mdW5jdGlvbiBuZWVkRmluaXNoKHN0YXRlKSB7XG4gIHJldHVybiBzdGF0ZS5lbmRpbmcgJiYgc3RhdGUubGVuZ3RoID09PSAwICYmIHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdCA9PT0gbnVsbCAmJiAhc3RhdGUuZmluaXNoZWQgJiYgIXN0YXRlLndyaXRpbmc7XG59XG5cbmZ1bmN0aW9uIHByZWZpbmlzaChzdHJlYW0sIHN0YXRlKSB7XG4gIGlmICghc3RhdGUucHJlZmluaXNoZWQpIHtcbiAgICBzdGF0ZS5wcmVmaW5pc2hlZCA9IHRydWU7XG4gICAgc3RyZWFtLmVtaXQoJ3ByZWZpbmlzaCcpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGZpbmlzaE1heWJlKHN0cmVhbSwgc3RhdGUpIHtcbiAgdmFyIG5lZWQgPSBuZWVkRmluaXNoKHN0YXRlKTtcbiAgaWYgKG5lZWQpIHtcbiAgICBpZiAoc3RhdGUucGVuZGluZ2NiID09PSAwKSB7XG4gICAgICBwcmVmaW5pc2goc3RyZWFtLCBzdGF0ZSk7XG4gICAgICBzdGF0ZS5maW5pc2hlZCA9IHRydWU7XG4gICAgICBzdHJlYW0uZW1pdCgnZmluaXNoJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByZWZpbmlzaChzdHJlYW0sIHN0YXRlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5lZWQ7XG59XG5cbmZ1bmN0aW9uIGVuZFdyaXRhYmxlKHN0cmVhbSwgc3RhdGUsIGNiKSB7XG4gIHN0YXRlLmVuZGluZyA9IHRydWU7XG4gIGZpbmlzaE1heWJlKHN0cmVhbSwgc3RhdGUpO1xuICBpZiAoY2IpIHtcbiAgICBpZiAoc3RhdGUuZmluaXNoZWQpIG5leHRUaWNrKGNiKTtlbHNlIHN0cmVhbS5vbmNlKCdmaW5pc2gnLCBjYik7XG4gIH1cbiAgc3RhdGUuZW5kZWQgPSB0cnVlO1xuICBzdHJlYW0ud3JpdGFibGUgPSBmYWxzZTtcbn1cblxuLy8gSXQgc2VlbXMgYSBsaW5rZWQgbGlzdCBidXQgaXQgaXMgbm90XG4vLyB0aGVyZSB3aWxsIGJlIG9ubHkgMiBvZiB0aGVzZSBmb3IgZWFjaCBzdHJlYW1cbmZ1bmN0aW9uIENvcmtlZFJlcXVlc3Qoc3RhdGUpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICB0aGlzLm5leHQgPSBudWxsO1xuICB0aGlzLmVudHJ5ID0gbnVsbDtcblxuICB0aGlzLmZpbmlzaCA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICB2YXIgZW50cnkgPSBfdGhpcy5lbnRyeTtcbiAgICBfdGhpcy5lbnRyeSA9IG51bGw7XG4gICAgd2hpbGUgKGVudHJ5KSB7XG4gICAgICB2YXIgY2IgPSBlbnRyeS5jYWxsYmFjaztcbiAgICAgIHN0YXRlLnBlbmRpbmdjYi0tO1xuICAgICAgY2IoZXJyKTtcbiAgICAgIGVudHJ5ID0gZW50cnkubmV4dDtcbiAgICB9XG4gICAgaWYgKHN0YXRlLmNvcmtlZFJlcXVlc3RzRnJlZSkge1xuICAgICAgc3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlLm5leHQgPSBfdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlID0gX3RoaXM7XG4gICAgfVxuICB9O1xufVxuIiwgIlxuaW1wb3J0IHtpbmhlcml0c30gZnJvbSAndXRpbCc7XG5pbXBvcnQge25leHRUaWNrfSBmcm9tICdwcm9jZXNzJztcbmltcG9ydCB7UmVhZGFibGV9IGZyb20gJy4vcmVhZGFibGUnO1xuaW1wb3J0IHtXcml0YWJsZX0gZnJvbSAnLi93cml0YWJsZSc7XG5cblxuaW5oZXJpdHMoRHVwbGV4LCBSZWFkYWJsZSk7XG5cbnZhciBrZXlzID0gT2JqZWN0LmtleXMoV3JpdGFibGUucHJvdG90eXBlKTtcbmZvciAodmFyIHYgPSAwOyB2IDwga2V5cy5sZW5ndGg7IHYrKykge1xuICB2YXIgbWV0aG9kID0ga2V5c1t2XTtcbiAgaWYgKCFEdXBsZXgucHJvdG90eXBlW21ldGhvZF0pIER1cGxleC5wcm90b3R5cGVbbWV0aG9kXSA9IFdyaXRhYmxlLnByb3RvdHlwZVttZXRob2RdO1xufVxuZXhwb3J0IGRlZmF1bHQgRHVwbGV4O1xuZXhwb3J0IGZ1bmN0aW9uIER1cGxleChvcHRpb25zKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBEdXBsZXgpKSByZXR1cm4gbmV3IER1cGxleChvcHRpb25zKTtcblxuICBSZWFkYWJsZS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICBXcml0YWJsZS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuXG4gIGlmIChvcHRpb25zICYmIG9wdGlvbnMucmVhZGFibGUgPT09IGZhbHNlKSB0aGlzLnJlYWRhYmxlID0gZmFsc2U7XG5cbiAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy53cml0YWJsZSA9PT0gZmFsc2UpIHRoaXMud3JpdGFibGUgPSBmYWxzZTtcblxuICB0aGlzLmFsbG93SGFsZk9wZW4gPSB0cnVlO1xuICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmFsbG93SGFsZk9wZW4gPT09IGZhbHNlKSB0aGlzLmFsbG93SGFsZk9wZW4gPSBmYWxzZTtcblxuICB0aGlzLm9uY2UoJ2VuZCcsIG9uZW5kKTtcbn1cblxuLy8gdGhlIG5vLWhhbGYtb3BlbiBlbmZvcmNlclxuZnVuY3Rpb24gb25lbmQoKSB7XG4gIC8vIGlmIHdlIGFsbG93IGhhbGYtb3BlbiBzdGF0ZSwgb3IgaWYgdGhlIHdyaXRhYmxlIHNpZGUgZW5kZWQsXG4gIC8vIHRoZW4gd2UncmUgb2suXG4gIGlmICh0aGlzLmFsbG93SGFsZk9wZW4gfHwgdGhpcy5fd3JpdGFibGVTdGF0ZS5lbmRlZCkgcmV0dXJuO1xuXG4gIC8vIG5vIG1vcmUgZGF0YSBjYW4gYmUgd3JpdHRlbi5cbiAgLy8gQnV0IGFsbG93IG1vcmUgd3JpdGVzIHRvIGhhcHBlbiBpbiB0aGlzIHRpY2suXG4gIG5leHRUaWNrKG9uRW5kTlQsIHRoaXMpO1xufVxuXG5mdW5jdGlvbiBvbkVuZE5UKHNlbGYpIHtcbiAgc2VsZi5lbmQoKTtcbn1cbiIsICIvLyBhIHRyYW5zZm9ybSBzdHJlYW0gaXMgYSByZWFkYWJsZS93cml0YWJsZSBzdHJlYW0gd2hlcmUgeW91IGRvXG4vLyBzb21ldGhpbmcgd2l0aCB0aGUgZGF0YS4gIFNvbWV0aW1lcyBpdCdzIGNhbGxlZCBhIFwiZmlsdGVyXCIsXG4vLyBidXQgdGhhdCdzIG5vdCBhIGdyZWF0IG5hbWUgZm9yIGl0LCBzaW5jZSB0aGF0IGltcGxpZXMgYSB0aGluZyB3aGVyZVxuLy8gc29tZSBiaXRzIHBhc3MgdGhyb3VnaCwgYW5kIG90aGVycyBhcmUgc2ltcGx5IGlnbm9yZWQuICAoVGhhdCB3b3VsZFxuLy8gYmUgYSB2YWxpZCBleGFtcGxlIG9mIGEgdHJhbnNmb3JtLCBvZiBjb3Vyc2UuKVxuLy9cbi8vIFdoaWxlIHRoZSBvdXRwdXQgaXMgY2F1c2FsbHkgcmVsYXRlZCB0byB0aGUgaW5wdXQsIGl0J3Mgbm90IGFcbi8vIG5lY2Vzc2FyaWx5IHN5bW1ldHJpYyBvciBzeW5jaHJvbm91cyB0cmFuc2Zvcm1hdGlvbi4gIEZvciBleGFtcGxlLFxuLy8gYSB6bGliIHN0cmVhbSBtaWdodCB0YWtlIG11bHRpcGxlIHBsYWluLXRleHQgd3JpdGVzKCksIGFuZCB0aGVuXG4vLyBlbWl0IGEgc2luZ2xlIGNvbXByZXNzZWQgY2h1bmsgc29tZSB0aW1lIGluIHRoZSBmdXR1cmUuXG4vL1xuLy8gSGVyZSdzIGhvdyB0aGlzIHdvcmtzOlxuLy9cbi8vIFRoZSBUcmFuc2Zvcm0gc3RyZWFtIGhhcyBhbGwgdGhlIGFzcGVjdHMgb2YgdGhlIHJlYWRhYmxlIGFuZCB3cml0YWJsZVxuLy8gc3RyZWFtIGNsYXNzZXMuICBXaGVuIHlvdSB3cml0ZShjaHVuayksIHRoYXQgY2FsbHMgX3dyaXRlKGNodW5rLGNiKVxuLy8gaW50ZXJuYWxseSwgYW5kIHJldHVybnMgZmFsc2UgaWYgdGhlcmUncyBhIGxvdCBvZiBwZW5kaW5nIHdyaXRlc1xuLy8gYnVmZmVyZWQgdXAuICBXaGVuIHlvdSBjYWxsIHJlYWQoKSwgdGhhdCBjYWxscyBfcmVhZChuKSB1bnRpbFxuLy8gdGhlcmUncyBlbm91Z2ggcGVuZGluZyByZWFkYWJsZSBkYXRhIGJ1ZmZlcmVkIHVwLlxuLy9cbi8vIEluIGEgdHJhbnNmb3JtIHN0cmVhbSwgdGhlIHdyaXR0ZW4gZGF0YSBpcyBwbGFjZWQgaW4gYSBidWZmZXIuICBXaGVuXG4vLyBfcmVhZChuKSBpcyBjYWxsZWQsIGl0IHRyYW5zZm9ybXMgdGhlIHF1ZXVlZCB1cCBkYXRhLCBjYWxsaW5nIHRoZVxuLy8gYnVmZmVyZWQgX3dyaXRlIGNiJ3MgYXMgaXQgY29uc3VtZXMgY2h1bmtzLiAgSWYgY29uc3VtaW5nIGEgc2luZ2xlXG4vLyB3cml0dGVuIGNodW5rIHdvdWxkIHJlc3VsdCBpbiBtdWx0aXBsZSBvdXRwdXQgY2h1bmtzLCB0aGVuIHRoZSBmaXJzdFxuLy8gb3V0cHV0dGVkIGJpdCBjYWxscyB0aGUgcmVhZGNiLCBhbmQgc3Vic2VxdWVudCBjaHVua3MganVzdCBnbyBpbnRvXG4vLyB0aGUgcmVhZCBidWZmZXIsIGFuZCB3aWxsIGNhdXNlIGl0IHRvIGVtaXQgJ3JlYWRhYmxlJyBpZiBuZWNlc3NhcnkuXG4vL1xuLy8gVGhpcyB3YXksIGJhY2stcHJlc3N1cmUgaXMgYWN0dWFsbHkgZGV0ZXJtaW5lZCBieSB0aGUgcmVhZGluZyBzaWRlLFxuLy8gc2luY2UgX3JlYWQgaGFzIHRvIGJlIGNhbGxlZCB0byBzdGFydCBwcm9jZXNzaW5nIGEgbmV3IGNodW5rLiAgSG93ZXZlcixcbi8vIGEgcGF0aG9sb2dpY2FsIGluZmxhdGUgdHlwZSBvZiB0cmFuc2Zvcm0gY2FuIGNhdXNlIGV4Y2Vzc2l2ZSBidWZmZXJpbmdcbi8vIGhlcmUuICBGb3IgZXhhbXBsZSwgaW1hZ2luZSBhIHN0cmVhbSB3aGVyZSBldmVyeSBieXRlIG9mIGlucHV0IGlzXG4vLyBpbnRlcnByZXRlZCBhcyBhbiBpbnRlZ2VyIGZyb20gMC0yNTUsIGFuZCB0aGVuIHJlc3VsdHMgaW4gdGhhdCBtYW55XG4vLyBieXRlcyBvZiBvdXRwdXQuICBXcml0aW5nIHRoZSA0IGJ5dGVzIHtmZixmZixmZixmZn0gd291bGQgcmVzdWx0IGluXG4vLyAxa2Igb2YgZGF0YSBiZWluZyBvdXRwdXQuICBJbiB0aGlzIGNhc2UsIHlvdSBjb3VsZCB3cml0ZSBhIHZlcnkgc21hbGxcbi8vIGFtb3VudCBvZiBpbnB1dCwgYW5kIGVuZCB1cCB3aXRoIGEgdmVyeSBsYXJnZSBhbW91bnQgb2Ygb3V0cHV0LiAgSW5cbi8vIHN1Y2ggYSBwYXRob2xvZ2ljYWwgaW5mbGF0aW5nIG1lY2hhbmlzbSwgdGhlcmUnZCBiZSBubyB3YXkgdG8gdGVsbFxuLy8gdGhlIHN5c3RlbSB0byBzdG9wIGRvaW5nIHRoZSB0cmFuc2Zvcm0uICBBIHNpbmdsZSA0TUIgd3JpdGUgY291bGRcbi8vIGNhdXNlIHRoZSBzeXN0ZW0gdG8gcnVuIG91dCBvZiBtZW1vcnkuXG4vL1xuLy8gSG93ZXZlciwgZXZlbiBpbiBzdWNoIGEgcGF0aG9sb2dpY2FsIGNhc2UsIG9ubHkgYSBzaW5nbGUgd3JpdHRlbiBjaHVua1xuLy8gd291bGQgYmUgY29uc3VtZWQsIGFuZCB0aGVuIHRoZSByZXN0IHdvdWxkIHdhaXQgKHVuLXRyYW5zZm9ybWVkKSB1bnRpbFxuLy8gdGhlIHJlc3VsdHMgb2YgdGhlIHByZXZpb3VzIHRyYW5zZm9ybWVkIGNodW5rIHdlcmUgY29uc3VtZWQuXG5cblxuaW1wb3J0IHtEdXBsZXh9IGZyb20gJy4vZHVwbGV4JztcblxuXG5pbXBvcnQge2luaGVyaXRzfSBmcm9tICd1dGlsJztcbmluaGVyaXRzKFRyYW5zZm9ybSwgRHVwbGV4KTtcblxuZnVuY3Rpb24gVHJhbnNmb3JtU3RhdGUoc3RyZWFtKSB7XG4gIHRoaXMuYWZ0ZXJUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoZXIsIGRhdGEpIHtcbiAgICByZXR1cm4gYWZ0ZXJUcmFuc2Zvcm0oc3RyZWFtLCBlciwgZGF0YSk7XG4gIH07XG5cbiAgdGhpcy5uZWVkVHJhbnNmb3JtID0gZmFsc2U7XG4gIHRoaXMudHJhbnNmb3JtaW5nID0gZmFsc2U7XG4gIHRoaXMud3JpdGVjYiA9IG51bGw7XG4gIHRoaXMud3JpdGVjaHVuayA9IG51bGw7XG4gIHRoaXMud3JpdGVlbmNvZGluZyA9IG51bGw7XG59XG5cbmZ1bmN0aW9uIGFmdGVyVHJhbnNmb3JtKHN0cmVhbSwgZXIsIGRhdGEpIHtcbiAgdmFyIHRzID0gc3RyZWFtLl90cmFuc2Zvcm1TdGF0ZTtcbiAgdHMudHJhbnNmb3JtaW5nID0gZmFsc2U7XG5cbiAgdmFyIGNiID0gdHMud3JpdGVjYjtcblxuICBpZiAoIWNiKSByZXR1cm4gc3RyZWFtLmVtaXQoJ2Vycm9yJywgbmV3IEVycm9yKCdubyB3cml0ZWNiIGluIFRyYW5zZm9ybSBjbGFzcycpKTtcblxuICB0cy53cml0ZWNodW5rID0gbnVsbDtcbiAgdHMud3JpdGVjYiA9IG51bGw7XG5cbiAgaWYgKGRhdGEgIT09IG51bGwgJiYgZGF0YSAhPT0gdW5kZWZpbmVkKSBzdHJlYW0ucHVzaChkYXRhKTtcblxuICBjYihlcik7XG5cbiAgdmFyIHJzID0gc3RyZWFtLl9yZWFkYWJsZVN0YXRlO1xuICBycy5yZWFkaW5nID0gZmFsc2U7XG4gIGlmIChycy5uZWVkUmVhZGFibGUgfHwgcnMubGVuZ3RoIDwgcnMuaGlnaFdhdGVyTWFyaykge1xuICAgIHN0cmVhbS5fcmVhZChycy5oaWdoV2F0ZXJNYXJrKTtcbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgVHJhbnNmb3JtO1xuZXhwb3J0IGZ1bmN0aW9uIFRyYW5zZm9ybShvcHRpb25zKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBUcmFuc2Zvcm0pKSByZXR1cm4gbmV3IFRyYW5zZm9ybShvcHRpb25zKTtcblxuICBEdXBsZXguY2FsbCh0aGlzLCBvcHRpb25zKTtcblxuICB0aGlzLl90cmFuc2Zvcm1TdGF0ZSA9IG5ldyBUcmFuc2Zvcm1TdGF0ZSh0aGlzKTtcblxuICAvLyB3aGVuIHRoZSB3cml0YWJsZSBzaWRlIGZpbmlzaGVzLCB0aGVuIGZsdXNoIG91dCBhbnl0aGluZyByZW1haW5pbmcuXG4gIHZhciBzdHJlYW0gPSB0aGlzO1xuXG4gIC8vIHN0YXJ0IG91dCBhc2tpbmcgZm9yIGEgcmVhZGFibGUgZXZlbnQgb25jZSBkYXRhIGlzIHRyYW5zZm9ybWVkLlxuICB0aGlzLl9yZWFkYWJsZVN0YXRlLm5lZWRSZWFkYWJsZSA9IHRydWU7XG5cbiAgLy8gd2UgaGF2ZSBpbXBsZW1lbnRlZCB0aGUgX3JlYWQgbWV0aG9kLCBhbmQgZG9uZSB0aGUgb3RoZXIgdGhpbmdzXG4gIC8vIHRoYXQgUmVhZGFibGUgd2FudHMgYmVmb3JlIHRoZSBmaXJzdCBfcmVhZCBjYWxsLCBzbyB1bnNldCB0aGVcbiAgLy8gc3luYyBndWFyZCBmbGFnLlxuICB0aGlzLl9yZWFkYWJsZVN0YXRlLnN5bmMgPSBmYWxzZTtcblxuICBpZiAob3B0aW9ucykge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy50cmFuc2Zvcm0gPT09ICdmdW5jdGlvbicpIHRoaXMuX3RyYW5zZm9ybSA9IG9wdGlvbnMudHJhbnNmb3JtO1xuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmZsdXNoID09PSAnZnVuY3Rpb24nKSB0aGlzLl9mbHVzaCA9IG9wdGlvbnMuZmx1c2g7XG4gIH1cblxuICB0aGlzLm9uY2UoJ3ByZWZpbmlzaCcsIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodHlwZW9mIHRoaXMuX2ZsdXNoID09PSAnZnVuY3Rpb24nKSB0aGlzLl9mbHVzaChmdW5jdGlvbiAoZXIpIHtcbiAgICAgIGRvbmUoc3RyZWFtLCBlcik7XG4gICAgfSk7ZWxzZSBkb25lKHN0cmVhbSk7XG4gIH0pO1xufVxuXG5UcmFuc2Zvcm0ucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoY2h1bmssIGVuY29kaW5nKSB7XG4gIHRoaXMuX3RyYW5zZm9ybVN0YXRlLm5lZWRUcmFuc2Zvcm0gPSBmYWxzZTtcbiAgcmV0dXJuIER1cGxleC5wcm90b3R5cGUucHVzaC5jYWxsKHRoaXMsIGNodW5rLCBlbmNvZGluZyk7XG59O1xuXG4vLyBUaGlzIGlzIHRoZSBwYXJ0IHdoZXJlIHlvdSBkbyBzdHVmZiFcbi8vIG92ZXJyaWRlIHRoaXMgZnVuY3Rpb24gaW4gaW1wbGVtZW50YXRpb24gY2xhc3Nlcy5cbi8vICdjaHVuaycgaXMgYW4gaW5wdXQgY2h1bmsuXG4vL1xuLy8gQ2FsbCBgcHVzaChuZXdDaHVuaylgIHRvIHBhc3MgYWxvbmcgdHJhbnNmb3JtZWQgb3V0cHV0XG4vLyB0byB0aGUgcmVhZGFibGUgc2lkZS4gIFlvdSBtYXkgY2FsbCAncHVzaCcgemVybyBvciBtb3JlIHRpbWVzLlxuLy9cbi8vIENhbGwgYGNiKGVycilgIHdoZW4geW91IGFyZSBkb25lIHdpdGggdGhpcyBjaHVuay4gIElmIHlvdSBwYXNzXG4vLyBhbiBlcnJvciwgdGhlbiB0aGF0J2xsIHB1dCB0aGUgaHVydCBvbiB0aGUgd2hvbGUgb3BlcmF0aW9uLiAgSWYgeW91XG4vLyBuZXZlciBjYWxsIGNiKCksIHRoZW4geW91J2xsIG5ldmVyIGdldCBhbm90aGVyIGNodW5rLlxuVHJhbnNmb3JtLnByb3RvdHlwZS5fdHJhbnNmb3JtID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQnKTtcbn07XG5cblRyYW5zZm9ybS5wcm90b3R5cGUuX3dyaXRlID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgdmFyIHRzID0gdGhpcy5fdHJhbnNmb3JtU3RhdGU7XG4gIHRzLndyaXRlY2IgPSBjYjtcbiAgdHMud3JpdGVjaHVuayA9IGNodW5rO1xuICB0cy53cml0ZWVuY29kaW5nID0gZW5jb2Rpbmc7XG4gIGlmICghdHMudHJhbnNmb3JtaW5nKSB7XG4gICAgdmFyIHJzID0gdGhpcy5fcmVhZGFibGVTdGF0ZTtcbiAgICBpZiAodHMubmVlZFRyYW5zZm9ybSB8fCBycy5uZWVkUmVhZGFibGUgfHwgcnMubGVuZ3RoIDwgcnMuaGlnaFdhdGVyTWFyaykgdGhpcy5fcmVhZChycy5oaWdoV2F0ZXJNYXJrKTtcbiAgfVxufTtcblxuLy8gRG9lc24ndCBtYXR0ZXIgd2hhdCB0aGUgYXJncyBhcmUgaGVyZS5cbi8vIF90cmFuc2Zvcm0gZG9lcyBhbGwgdGhlIHdvcmsuXG4vLyBUaGF0IHdlIGdvdCBoZXJlIG1lYW5zIHRoYXQgdGhlIHJlYWRhYmxlIHNpZGUgd2FudHMgbW9yZSBkYXRhLlxuVHJhbnNmb3JtLnByb3RvdHlwZS5fcmVhZCA9IGZ1bmN0aW9uIChuKSB7XG4gIHZhciB0cyA9IHRoaXMuX3RyYW5zZm9ybVN0YXRlO1xuXG4gIGlmICh0cy53cml0ZWNodW5rICE9PSBudWxsICYmIHRzLndyaXRlY2IgJiYgIXRzLnRyYW5zZm9ybWluZykge1xuICAgIHRzLnRyYW5zZm9ybWluZyA9IHRydWU7XG4gICAgdGhpcy5fdHJhbnNmb3JtKHRzLndyaXRlY2h1bmssIHRzLndyaXRlZW5jb2RpbmcsIHRzLmFmdGVyVHJhbnNmb3JtKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBtYXJrIHRoYXQgd2UgbmVlZCBhIHRyYW5zZm9ybSwgc28gdGhhdCBhbnkgZGF0YSB0aGF0IGNvbWVzIGluXG4gICAgLy8gd2lsbCBnZXQgcHJvY2Vzc2VkLCBub3cgdGhhdCB3ZSd2ZSBhc2tlZCBmb3IgaXQuXG4gICAgdHMubmVlZFRyYW5zZm9ybSA9IHRydWU7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGRvbmUoc3RyZWFtLCBlcikge1xuICBpZiAoZXIpIHJldHVybiBzdHJlYW0uZW1pdCgnZXJyb3InLCBlcik7XG5cbiAgLy8gaWYgdGhlcmUncyBub3RoaW5nIGluIHRoZSB3cml0ZSBidWZmZXIsIHRoZW4gdGhhdCBtZWFuc1xuICAvLyB0aGF0IG5vdGhpbmcgbW9yZSB3aWxsIGV2ZXIgYmUgcHJvdmlkZWRcbiAgdmFyIHdzID0gc3RyZWFtLl93cml0YWJsZVN0YXRlO1xuICB2YXIgdHMgPSBzdHJlYW0uX3RyYW5zZm9ybVN0YXRlO1xuXG4gIGlmICh3cy5sZW5ndGgpIHRocm93IG5ldyBFcnJvcignQ2FsbGluZyB0cmFuc2Zvcm0gZG9uZSB3aGVuIHdzLmxlbmd0aCAhPSAwJyk7XG5cbiAgaWYgKHRzLnRyYW5zZm9ybWluZykgdGhyb3cgbmV3IEVycm9yKCdDYWxsaW5nIHRyYW5zZm9ybSBkb25lIHdoZW4gc3RpbGwgdHJhbnNmb3JtaW5nJyk7XG5cbiAgcmV0dXJuIHN0cmVhbS5wdXNoKG51bGwpO1xufVxuIiwgIlxuaW1wb3J0IHtUcmFuc2Zvcm19IGZyb20gJy4vdHJhbnNmb3JtJztcblxuaW1wb3J0IHtpbmhlcml0c30gZnJvbSAndXRpbCc7XG5pbmhlcml0cyhQYXNzVGhyb3VnaCwgVHJhbnNmb3JtKTtcbmV4cG9ydCBkZWZhdWx0IFBhc3NUaHJvdWdoO1xuZXhwb3J0IGZ1bmN0aW9uIFBhc3NUaHJvdWdoKG9wdGlvbnMpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFBhc3NUaHJvdWdoKSkgcmV0dXJuIG5ldyBQYXNzVGhyb3VnaChvcHRpb25zKTtcblxuICBUcmFuc2Zvcm0uY2FsbCh0aGlzLCBvcHRpb25zKTtcbn1cblxuUGFzc1Rocm91Z2gucHJvdG90eXBlLl90cmFuc2Zvcm0gPSBmdW5jdGlvbiAoY2h1bmssIGVuY29kaW5nLCBjYikge1xuICBjYihudWxsLCBjaHVuayk7XG59O1xuIiwgImltcG9ydCBFRSBmcm9tICdldmVudHMnO1xuaW1wb3J0IHtpbmhlcml0c30gZnJvbSAndXRpbCc7XG5cbmltcG9ydCB7RHVwbGV4fSBmcm9tICcuL3JlYWRhYmxlLXN0cmVhbS9kdXBsZXguanMnO1xuaW1wb3J0IHtSZWFkYWJsZX0gZnJvbSAnLi9yZWFkYWJsZS1zdHJlYW0vcmVhZGFibGUuanMnO1xuaW1wb3J0IHtXcml0YWJsZX0gZnJvbSAnLi9yZWFkYWJsZS1zdHJlYW0vd3JpdGFibGUuanMnO1xuaW1wb3J0IHtUcmFuc2Zvcm19IGZyb20gJy4vcmVhZGFibGUtc3RyZWFtL3RyYW5zZm9ybS5qcyc7XG5pbXBvcnQge1Bhc3NUaHJvdWdofSBmcm9tICcuL3JlYWRhYmxlLXN0cmVhbS9wYXNzdGhyb3VnaC5qcyc7XG5pbmhlcml0cyhTdHJlYW0sIEVFKTtcblN0cmVhbS5SZWFkYWJsZSA9IFJlYWRhYmxlO1xuU3RyZWFtLldyaXRhYmxlID0gV3JpdGFibGU7XG5TdHJlYW0uRHVwbGV4ID0gRHVwbGV4O1xuU3RyZWFtLlRyYW5zZm9ybSA9IFRyYW5zZm9ybTtcblN0cmVhbS5QYXNzVGhyb3VnaCA9IFBhc3NUaHJvdWdoO1xuXG4vLyBCYWNrd2FyZHMtY29tcGF0IHdpdGggbm9kZSAwLjQueFxuU3RyZWFtLlN0cmVhbSA9IFN0cmVhbTtcblxuZXhwb3J0IGRlZmF1bHQgU3RyZWFtO1xuZXhwb3J0IHtSZWFkYWJsZSxXcml0YWJsZSxEdXBsZXgsVHJhbnNmb3JtLFBhc3NUaHJvdWdoLFN0cmVhbX1cblxuLy8gb2xkLXN0eWxlIHN0cmVhbXMuICBOb3RlIHRoYXQgdGhlIHBpcGUgbWV0aG9kICh0aGUgb25seSByZWxldmFudFxuLy8gcGFydCBvZiB0aGlzIGNsYXNzKSBpcyBvdmVycmlkZGVuIGluIHRoZSBSZWFkYWJsZSBjbGFzcy5cblxuZnVuY3Rpb24gU3RyZWFtKCkge1xuICBFRS5jYWxsKHRoaXMpO1xufVxuXG5TdHJlYW0ucHJvdG90eXBlLnBpcGUgPSBmdW5jdGlvbihkZXN0LCBvcHRpb25zKSB7XG4gIHZhciBzb3VyY2UgPSB0aGlzO1xuXG4gIGZ1bmN0aW9uIG9uZGF0YShjaHVuaykge1xuICAgIGlmIChkZXN0LndyaXRhYmxlKSB7XG4gICAgICBpZiAoZmFsc2UgPT09IGRlc3Qud3JpdGUoY2h1bmspICYmIHNvdXJjZS5wYXVzZSkge1xuICAgICAgICBzb3VyY2UucGF1c2UoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzb3VyY2Uub24oJ2RhdGEnLCBvbmRhdGEpO1xuXG4gIGZ1bmN0aW9uIG9uZHJhaW4oKSB7XG4gICAgaWYgKHNvdXJjZS5yZWFkYWJsZSAmJiBzb3VyY2UucmVzdW1lKSB7XG4gICAgICBzb3VyY2UucmVzdW1lKCk7XG4gICAgfVxuICB9XG5cbiAgZGVzdC5vbignZHJhaW4nLCBvbmRyYWluKTtcblxuICAvLyBJZiB0aGUgJ2VuZCcgb3B0aW9uIGlzIG5vdCBzdXBwbGllZCwgZGVzdC5lbmQoKSB3aWxsIGJlIGNhbGxlZCB3aGVuXG4gIC8vIHNvdXJjZSBnZXRzIHRoZSAnZW5kJyBvciAnY2xvc2UnIGV2ZW50cy4gIE9ubHkgZGVzdC5lbmQoKSBvbmNlLlxuICBpZiAoIWRlc3QuX2lzU3RkaW8gJiYgKCFvcHRpb25zIHx8IG9wdGlvbnMuZW5kICE9PSBmYWxzZSkpIHtcbiAgICBzb3VyY2Uub24oJ2VuZCcsIG9uZW5kKTtcbiAgICBzb3VyY2Uub24oJ2Nsb3NlJywgb25jbG9zZSk7XG4gIH1cblxuICB2YXIgZGlkT25FbmQgPSBmYWxzZTtcbiAgZnVuY3Rpb24gb25lbmQoKSB7XG4gICAgaWYgKGRpZE9uRW5kKSByZXR1cm47XG4gICAgZGlkT25FbmQgPSB0cnVlO1xuXG4gICAgZGVzdC5lbmQoKTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gb25jbG9zZSgpIHtcbiAgICBpZiAoZGlkT25FbmQpIHJldHVybjtcbiAgICBkaWRPbkVuZCA9IHRydWU7XG5cbiAgICBpZiAodHlwZW9mIGRlc3QuZGVzdHJveSA9PT0gJ2Z1bmN0aW9uJykgZGVzdC5kZXN0cm95KCk7XG4gIH1cblxuICAvLyBkb24ndCBsZWF2ZSBkYW5nbGluZyBwaXBlcyB3aGVuIHRoZXJlIGFyZSBlcnJvcnMuXG4gIGZ1bmN0aW9uIG9uZXJyb3IoZXIpIHtcbiAgICBjbGVhbnVwKCk7XG4gICAgaWYgKEVFLmxpc3RlbmVyQ291bnQodGhpcywgJ2Vycm9yJykgPT09IDApIHtcbiAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgc3RyZWFtIGVycm9yIGluIHBpcGUuXG4gICAgfVxuICB9XG5cbiAgc291cmNlLm9uKCdlcnJvcicsIG9uZXJyb3IpO1xuICBkZXN0Lm9uKCdlcnJvcicsIG9uZXJyb3IpO1xuXG4gIC8vIHJlbW92ZSBhbGwgdGhlIGV2ZW50IGxpc3RlbmVycyB0aGF0IHdlcmUgYWRkZWQuXG4gIGZ1bmN0aW9uIGNsZWFudXAoKSB7XG4gICAgc291cmNlLnJlbW92ZUxpc3RlbmVyKCdkYXRhJywgb25kYXRhKTtcbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdkcmFpbicsIG9uZHJhaW4pO1xuXG4gICAgc291cmNlLnJlbW92ZUxpc3RlbmVyKCdlbmQnLCBvbmVuZCk7XG4gICAgc291cmNlLnJlbW92ZUxpc3RlbmVyKCdjbG9zZScsIG9uY2xvc2UpO1xuXG4gICAgc291cmNlLnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIG9uZXJyb3IpO1xuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgb25lcnJvcik7XG5cbiAgICBzb3VyY2UucmVtb3ZlTGlzdGVuZXIoJ2VuZCcsIGNsZWFudXApO1xuICAgIHNvdXJjZS5yZW1vdmVMaXN0ZW5lcignY2xvc2UnLCBjbGVhbnVwKTtcblxuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2Nsb3NlJywgY2xlYW51cCk7XG4gIH1cblxuICBzb3VyY2Uub24oJ2VuZCcsIGNsZWFudXApO1xuICBzb3VyY2Uub24oJ2Nsb3NlJywgY2xlYW51cCk7XG5cbiAgZGVzdC5vbignY2xvc2UnLCBjbGVhbnVwKTtcblxuICBkZXN0LmVtaXQoJ3BpcGUnLCBzb3VyY2UpO1xuXG4gIC8vIEFsbG93IGZvciB1bml4LWxpa2UgdXNhZ2U6IEEucGlwZShCKS5waXBlKEMpXG4gIHJldHVybiBkZXN0O1xufTtcbiIsICJpbXBvcnQgbXNnIGZyb20gJy4vbWVzc2FnZXMnO1xuaW1wb3J0IHpzdHJlYW0gZnJvbSAnLi96c3RyZWFtJztcbmltcG9ydCB7ZGVmbGF0ZUluaXQyLCBkZWZsYXRlRW5kLCBkZWZsYXRlUmVzZXQsIGRlZmxhdGV9IGZyb20gJy4vZGVmbGF0ZSc7XG5pbXBvcnQge2luZmxhdGVJbml0MiwgaW5mbGF0ZSwgaW5mbGF0ZUVuZCwgaW5mbGF0ZVJlc2V0fSBmcm9tICcuL2luZmxhdGUnO1xuLy8gaW1wb3J0IGNvbnN0YW50cyBmcm9tICcuL2NvbnN0YW50cyc7XG5cblxuLy8gemxpYiBtb2Rlc1xuZXhwb3J0IHZhciBOT05FID0gMDtcbmV4cG9ydCB2YXIgREVGTEFURSA9IDE7XG5leHBvcnQgdmFyIElORkxBVEUgPSAyO1xuZXhwb3J0IHZhciBHWklQID0gMztcbmV4cG9ydCB2YXIgR1VOWklQID0gNDtcbmV4cG9ydCB2YXIgREVGTEFURVJBVyA9IDU7XG5leHBvcnQgdmFyIElORkxBVEVSQVcgPSA2O1xuZXhwb3J0IHZhciBVTlpJUCA9IDc7XG5leHBvcnQgdmFyIFpfTk9fRkxVU0g9ICAgICAgICAgMCxcbiAgWl9QQVJUSUFMX0ZMVVNIPSAgICAxLFxuICBaX1NZTkNfRkxVU0g9ICAgIDIsXG4gIFpfRlVMTF9GTFVTSD0gICAgICAgMyxcbiAgWl9GSU5JU0g9ICAgICAgIDQsXG4gIFpfQkxPQ0s9ICAgICAgICAgICA1LFxuICBaX1RSRUVTPSAgICAgICAgICAgIDYsXG5cbiAgLyogUmV0dXJuIGNvZGVzIGZvciB0aGUgY29tcHJlc3Npb24vZGVjb21wcmVzc2lvbiBmdW5jdGlvbnMuIE5lZ2F0aXZlIHZhbHVlc1xuICAqIGFyZSBlcnJvcnMsIHBvc2l0aXZlIHZhbHVlcyBhcmUgdXNlZCBmb3Igc3BlY2lhbCBidXQgbm9ybWFsIGV2ZW50cy5cbiAgKi9cbiAgWl9PSz0gICAgICAgICAgICAgICAwLFxuICBaX1NUUkVBTV9FTkQ9ICAgICAgIDEsXG4gIFpfTkVFRF9ESUNUPSAgICAgIDIsXG4gIFpfRVJSTk89ICAgICAgIC0xLFxuICBaX1NUUkVBTV9FUlJPUj0gICAtMixcbiAgWl9EQVRBX0VSUk9SPSAgICAtMyxcbiAgLy9aX01FTV9FUlJPUjogICAgIC00LFxuICBaX0JVRl9FUlJPUj0gICAgLTUsXG4gIC8vWl9WRVJTSU9OX0VSUk9SOiAtNixcblxuICAvKiBjb21wcmVzc2lvbiBsZXZlbHMgKi9cbiAgWl9OT19DT01QUkVTU0lPTj0gICAgICAgICAwLFxuICBaX0JFU1RfU1BFRUQ9ICAgICAgICAgICAgIDEsXG4gIFpfQkVTVF9DT01QUkVTU0lPTj0gICAgICAgOSxcbiAgWl9ERUZBVUxUX0NPTVBSRVNTSU9OPSAgIC0xLFxuXG5cbiAgWl9GSUxURVJFRD0gICAgICAgICAgICAgICAxLFxuICBaX0hVRkZNQU5fT05MWT0gICAgICAgICAgIDIsXG4gIFpfUkxFPSAgICAgICAgICAgICAgICAgICAgMyxcbiAgWl9GSVhFRD0gICAgICAgICAgICAgICAgICA0LFxuICBaX0RFRkFVTFRfU1RSQVRFR1k9ICAgICAgIDAsXG5cbiAgLyogUG9zc2libGUgdmFsdWVzIG9mIHRoZSBkYXRhX3R5cGUgZmllbGQgKHRob3VnaCBzZWUgaW5mbGF0ZSgpKSAqL1xuICBaX0JJTkFSWT0gICAgICAgICAgICAgICAgIDAsXG4gIFpfVEVYVD0gICAgICAgICAgICAgICAgICAgMSxcbiAgLy9aX0FTQ0lJOiAgICAgICAgICAgICAgICAxLCAvLyA9IFpfVEVYVCAoZGVwcmVjYXRlZClcbiAgWl9VTktOT1dOPSAgICAgICAgICAgICAgICAyLFxuXG4gIC8qIFRoZSBkZWZsYXRlIGNvbXByZXNzaW9uIG1ldGhvZCAqL1xuICBaX0RFRkxBVEVEPSAgICAgICAgICAgICAgIDg7XG5leHBvcnQgZnVuY3Rpb24gWmxpYihtb2RlKSB7XG4gIGlmIChtb2RlIDwgREVGTEFURSB8fCBtb2RlID4gVU5aSVApXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQmFkIGFyZ3VtZW50Jyk7XG5cbiAgdGhpcy5tb2RlID0gbW9kZTtcbiAgdGhpcy5pbml0X2RvbmUgPSBmYWxzZTtcbiAgdGhpcy53cml0ZV9pbl9wcm9ncmVzcyA9IGZhbHNlO1xuICB0aGlzLnBlbmRpbmdfY2xvc2UgPSBmYWxzZTtcbiAgdGhpcy53aW5kb3dCaXRzID0gMDtcbiAgdGhpcy5sZXZlbCA9IDA7XG4gIHRoaXMubWVtTGV2ZWwgPSAwO1xuICB0aGlzLnN0cmF0ZWd5ID0gMDtcbiAgdGhpcy5kaWN0aW9uYXJ5ID0gbnVsbDtcbn1cblxuWmxpYi5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKHdpbmRvd0JpdHMsIGxldmVsLCBtZW1MZXZlbCwgc3RyYXRlZ3ksIGRpY3Rpb25hcnkpIHtcbiAgdGhpcy53aW5kb3dCaXRzID0gd2luZG93Qml0cztcbiAgdGhpcy5sZXZlbCA9IGxldmVsO1xuICB0aGlzLm1lbUxldmVsID0gbWVtTGV2ZWw7XG4gIHRoaXMuc3RyYXRlZ3kgPSBzdHJhdGVneTtcbiAgLy8gZGljdGlvbmFyeSBub3Qgc3VwcG9ydGVkLlxuXG4gIGlmICh0aGlzLm1vZGUgPT09IEdaSVAgfHwgdGhpcy5tb2RlID09PSBHVU5aSVApXG4gICAgdGhpcy53aW5kb3dCaXRzICs9IDE2O1xuXG4gIGlmICh0aGlzLm1vZGUgPT09IFVOWklQKVxuICAgIHRoaXMud2luZG93Qml0cyArPSAzMjtcblxuICBpZiAodGhpcy5tb2RlID09PSBERUZMQVRFUkFXIHx8IHRoaXMubW9kZSA9PT0gSU5GTEFURVJBVylcbiAgICB0aGlzLndpbmRvd0JpdHMgPSAtdGhpcy53aW5kb3dCaXRzO1xuXG4gIHRoaXMuc3RybSA9IG5ldyB6c3RyZWFtKCk7XG4gIHZhciBzdGF0dXM7XG4gIHN3aXRjaCAodGhpcy5tb2RlKSB7XG4gIGNhc2UgREVGTEFURTpcbiAgY2FzZSBHWklQOlxuICBjYXNlIERFRkxBVEVSQVc6XG4gICAgc3RhdHVzID0gZGVmbGF0ZUluaXQyKFxuICAgICAgdGhpcy5zdHJtLFxuICAgICAgdGhpcy5sZXZlbCxcbiAgICAgIFpfREVGTEFURUQsXG4gICAgICB0aGlzLndpbmRvd0JpdHMsXG4gICAgICB0aGlzLm1lbUxldmVsLFxuICAgICAgdGhpcy5zdHJhdGVneVxuICAgICk7XG4gICAgYnJlYWs7XG4gIGNhc2UgSU5GTEFURTpcbiAgY2FzZSBHVU5aSVA6XG4gIGNhc2UgSU5GTEFURVJBVzpcbiAgY2FzZSBVTlpJUDpcbiAgICBzdGF0dXMgID0gaW5mbGF0ZUluaXQyKFxuICAgICAgdGhpcy5zdHJtLFxuICAgICAgdGhpcy53aW5kb3dCaXRzXG4gICAgKTtcbiAgICBicmVhaztcbiAgZGVmYXVsdDpcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gbW9kZSAnICsgdGhpcy5tb2RlKTtcbiAgfVxuXG4gIGlmIChzdGF0dXMgIT09IFpfT0spIHtcbiAgICB0aGlzLl9lcnJvcihzdGF0dXMpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMud3JpdGVfaW5fcHJvZ3Jlc3MgPSBmYWxzZTtcbiAgdGhpcy5pbml0X2RvbmUgPSB0cnVlO1xufTtcblxuWmxpYi5wcm90b3R5cGUucGFyYW1zID0gZnVuY3Rpb24oKSB7XG4gIHRocm93IG5ldyBFcnJvcignZGVmbGF0ZVBhcmFtcyBOb3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5abGliLnByb3RvdHlwZS5fd3JpdGVDaGVjayA9IGZ1bmN0aW9uKCkge1xuICBpZiAoIXRoaXMuaW5pdF9kb25lKVxuICAgIHRocm93IG5ldyBFcnJvcignd3JpdGUgYmVmb3JlIGluaXQnKTtcblxuICBpZiAodGhpcy5tb2RlID09PSBOT05FKVxuICAgIHRocm93IG5ldyBFcnJvcignYWxyZWFkeSBmaW5hbGl6ZWQnKTtcblxuICBpZiAodGhpcy53cml0ZV9pbl9wcm9ncmVzcylcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3dyaXRlIGFscmVhZHkgaW4gcHJvZ3Jlc3MnKTtcblxuICBpZiAodGhpcy5wZW5kaW5nX2Nsb3NlKVxuICAgIHRocm93IG5ldyBFcnJvcignY2xvc2UgaXMgcGVuZGluZycpO1xufTtcblxuWmxpYi5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbihmbHVzaCwgaW5wdXQsIGluX29mZiwgaW5fbGVuLCBvdXQsIG91dF9vZmYsIG91dF9sZW4pIHtcbiAgdGhpcy5fd3JpdGVDaGVjaygpO1xuICB0aGlzLndyaXRlX2luX3Byb2dyZXNzID0gdHJ1ZTtcblxuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24oKSB7XG4gICAgc2VsZi53cml0ZV9pbl9wcm9ncmVzcyA9IGZhbHNlO1xuICAgIHZhciByZXMgPSBzZWxmLl93cml0ZShmbHVzaCwgaW5wdXQsIGluX29mZiwgaW5fbGVuLCBvdXQsIG91dF9vZmYsIG91dF9sZW4pO1xuICAgIHNlbGYuY2FsbGJhY2socmVzWzBdLCByZXNbMV0pO1xuXG4gICAgaWYgKHNlbGYucGVuZGluZ19jbG9zZSlcbiAgICAgIHNlbGYuY2xvc2UoKTtcbiAgfSk7XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBzZXQgbWV0aG9kIGZvciBOb2RlIGJ1ZmZlcnMsIHVzZWQgYnkgcGFrb1xuZnVuY3Rpb24gYnVmZmVyU2V0KGRhdGEsIG9mZnNldCkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICB0aGlzW29mZnNldCArIGldID0gZGF0YVtpXTtcbiAgfVxufVxuXG5abGliLnByb3RvdHlwZS53cml0ZVN5bmMgPSBmdW5jdGlvbihmbHVzaCwgaW5wdXQsIGluX29mZiwgaW5fbGVuLCBvdXQsIG91dF9vZmYsIG91dF9sZW4pIHtcbiAgdGhpcy5fd3JpdGVDaGVjaygpO1xuICByZXR1cm4gdGhpcy5fd3JpdGUoZmx1c2gsIGlucHV0LCBpbl9vZmYsIGluX2xlbiwgb3V0LCBvdXRfb2ZmLCBvdXRfbGVuKTtcbn07XG5cblpsaWIucHJvdG90eXBlLl93cml0ZSA9IGZ1bmN0aW9uKGZsdXNoLCBpbnB1dCwgaW5fb2ZmLCBpbl9sZW4sIG91dCwgb3V0X29mZiwgb3V0X2xlbikge1xuICB0aGlzLndyaXRlX2luX3Byb2dyZXNzID0gdHJ1ZTtcblxuICBpZiAoZmx1c2ggIT09IFpfTk9fRkxVU0ggJiZcbiAgICAgIGZsdXNoICE9PSBaX1BBUlRJQUxfRkxVU0ggJiZcbiAgICAgIGZsdXNoICE9PSBaX1NZTkNfRkxVU0ggJiZcbiAgICAgIGZsdXNoICE9PSBaX0ZVTExfRkxVU0ggJiZcbiAgICAgIGZsdXNoICE9PSBaX0ZJTklTSCAmJlxuICAgICAgZmx1c2ggIT09IFpfQkxPQ0spIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgZmx1c2ggdmFsdWUnKTtcbiAgfVxuXG4gIGlmIChpbnB1dCA9PSBudWxsKSB7XG4gICAgaW5wdXQgPSBuZXcgQnVmZmVyKDApO1xuICAgIGluX2xlbiA9IDA7XG4gICAgaW5fb2ZmID0gMDtcbiAgfVxuXG4gIGlmIChvdXQuX3NldClcbiAgICBvdXQuc2V0ID0gb3V0Ll9zZXQ7XG4gIGVsc2VcbiAgICBvdXQuc2V0ID0gYnVmZmVyU2V0O1xuXG4gIHZhciBzdHJtID0gdGhpcy5zdHJtO1xuICBzdHJtLmF2YWlsX2luID0gaW5fbGVuO1xuICBzdHJtLmlucHV0ID0gaW5wdXQ7XG4gIHN0cm0ubmV4dF9pbiA9IGluX29mZjtcbiAgc3RybS5hdmFpbF9vdXQgPSBvdXRfbGVuO1xuICBzdHJtLm91dHB1dCA9IG91dDtcbiAgc3RybS5uZXh0X291dCA9IG91dF9vZmY7XG4gIHZhciBzdGF0dXM7XG4gIHN3aXRjaCAodGhpcy5tb2RlKSB7XG4gIGNhc2UgREVGTEFURTpcbiAgY2FzZSBHWklQOlxuICBjYXNlIERFRkxBVEVSQVc6XG4gICAgc3RhdHVzID0gZGVmbGF0ZShzdHJtLCBmbHVzaCk7XG4gICAgYnJlYWs7XG4gIGNhc2UgVU5aSVA6XG4gIGNhc2UgSU5GTEFURTpcbiAgY2FzZSBHVU5aSVA6XG4gIGNhc2UgSU5GTEFURVJBVzpcbiAgICBzdGF0dXMgPSBpbmZsYXRlKHN0cm0sIGZsdXNoKTtcbiAgICBicmVhaztcbiAgZGVmYXVsdDpcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gbW9kZSAnICsgdGhpcy5tb2RlKTtcbiAgfVxuXG4gIGlmIChzdGF0dXMgIT09IFpfU1RSRUFNX0VORCAmJiBzdGF0dXMgIT09IFpfT0spIHtcbiAgICB0aGlzLl9lcnJvcihzdGF0dXMpO1xuICB9XG5cbiAgdGhpcy53cml0ZV9pbl9wcm9ncmVzcyA9IGZhbHNlO1xuICByZXR1cm4gW3N0cm0uYXZhaWxfaW4sIHN0cm0uYXZhaWxfb3V0XTtcbn07XG5cblpsaWIucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLndyaXRlX2luX3Byb2dyZXNzKSB7XG4gICAgdGhpcy5wZW5kaW5nX2Nsb3NlID0gdHJ1ZTtcbiAgICByZXR1cm47XG4gIH1cblxuICB0aGlzLnBlbmRpbmdfY2xvc2UgPSBmYWxzZTtcblxuICBpZiAodGhpcy5tb2RlID09PSBERUZMQVRFIHx8IHRoaXMubW9kZSA9PT0gR1pJUCB8fCB0aGlzLm1vZGUgPT09IERFRkxBVEVSQVcpIHtcbiAgICBkZWZsYXRlRW5kKHRoaXMuc3RybSk7XG4gIH0gZWxzZSB7XG4gICAgaW5mbGF0ZUVuZCh0aGlzLnN0cm0pO1xuICB9XG5cbiAgdGhpcy5tb2RlID0gTk9ORTtcbn07XG52YXIgc3RhdHVzXG5abGliLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICBzd2l0Y2ggKHRoaXMubW9kZSkge1xuICBjYXNlIERFRkxBVEU6XG4gIGNhc2UgREVGTEFURVJBVzpcbiAgICBzdGF0dXMgPSBkZWZsYXRlUmVzZXQodGhpcy5zdHJtKTtcbiAgICBicmVhaztcbiAgY2FzZSBJTkZMQVRFOlxuICBjYXNlIElORkxBVEVSQVc6XG4gICAgc3RhdHVzID0gaW5mbGF0ZVJlc2V0KHRoaXMuc3RybSk7XG4gICAgYnJlYWs7XG4gIH1cblxuICBpZiAoc3RhdHVzICE9PSBaX09LKSB7XG4gICAgdGhpcy5fZXJyb3Ioc3RhdHVzKTtcbiAgfVxufTtcblxuWmxpYi5wcm90b3R5cGUuX2Vycm9yID0gZnVuY3Rpb24oc3RhdHVzKSB7XG4gIHRoaXMub25lcnJvcihtc2dbc3RhdHVzXSArICc6ICcgKyB0aGlzLnN0cm0ubXNnLCBzdGF0dXMpO1xuXG4gIHRoaXMud3JpdGVfaW5fcHJvZ3Jlc3MgPSBmYWxzZTtcbiAgaWYgKHRoaXMucGVuZGluZ19jbG9zZSlcbiAgICB0aGlzLmNsb3NlKCk7XG59O1xuIiwgImV4cG9ydCBkZWZhdWx0IHtcbiAgMjogICAgICAnbmVlZCBkaWN0aW9uYXJ5JywgICAgIC8qIFpfTkVFRF9ESUNUICAgICAgIDIgICovXG4gIDE6ICAgICAgJ3N0cmVhbSBlbmQnLCAgICAgICAgICAvKiBaX1NUUkVBTV9FTkQgICAgICAxICAqL1xuICAwOiAgICAgICcnLCAgICAgICAgICAgICAgICAgICAgLyogWl9PSyAgICAgICAgICAgICAgMCAgKi9cbiAgJy0xJzogICAnZmlsZSBlcnJvcicsICAgICAgICAgIC8qIFpfRVJSTk8gICAgICAgICAoLTEpICovXG4gICctMic6ICAgJ3N0cmVhbSBlcnJvcicsICAgICAgICAvKiBaX1NUUkVBTV9FUlJPUiAgKC0yKSAqL1xuICAnLTMnOiAgICdkYXRhIGVycm9yJywgICAgICAgICAgLyogWl9EQVRBX0VSUk9SICAgICgtMykgKi9cbiAgJy00JzogICAnaW5zdWZmaWNpZW50IG1lbW9yeScsIC8qIFpfTUVNX0VSUk9SICAgICAoLTQpICovXG4gICctNSc6ICAgJ2J1ZmZlciBlcnJvcicsICAgICAgICAvKiBaX0JVRl9FUlJPUiAgICAgKC01KSAqL1xuICAnLTYnOiAgICdpbmNvbXBhdGlibGUgdmVyc2lvbicgLyogWl9WRVJTSU9OX0VSUk9SICgtNikgKi9cbn07XG4iLCAiXG5cbmZ1bmN0aW9uIFpTdHJlYW0oKSB7XG4gIC8qIG5leHQgaW5wdXQgYnl0ZSAqL1xuICB0aGlzLmlucHV0ID0gbnVsbDsgLy8gSlMgc3BlY2lmaWMsIGJlY2F1c2Ugd2UgaGF2ZSBubyBwb2ludGVyc1xuICB0aGlzLm5leHRfaW4gPSAwO1xuICAvKiBudW1iZXIgb2YgYnl0ZXMgYXZhaWxhYmxlIGF0IGlucHV0ICovXG4gIHRoaXMuYXZhaWxfaW4gPSAwO1xuICAvKiB0b3RhbCBudW1iZXIgb2YgaW5wdXQgYnl0ZXMgcmVhZCBzbyBmYXIgKi9cbiAgdGhpcy50b3RhbF9pbiA9IDA7XG4gIC8qIG5leHQgb3V0cHV0IGJ5dGUgc2hvdWxkIGJlIHB1dCB0aGVyZSAqL1xuICB0aGlzLm91dHB1dCA9IG51bGw7IC8vIEpTIHNwZWNpZmljLCBiZWNhdXNlIHdlIGhhdmUgbm8gcG9pbnRlcnNcbiAgdGhpcy5uZXh0X291dCA9IDA7XG4gIC8qIHJlbWFpbmluZyBmcmVlIHNwYWNlIGF0IG91dHB1dCAqL1xuICB0aGlzLmF2YWlsX291dCA9IDA7XG4gIC8qIHRvdGFsIG51bWJlciBvZiBieXRlcyBvdXRwdXQgc28gZmFyICovXG4gIHRoaXMudG90YWxfb3V0ID0gMDtcbiAgLyogbGFzdCBlcnJvciBtZXNzYWdlLCBOVUxMIGlmIG5vIGVycm9yICovXG4gIHRoaXMubXNnID0gJycvKlpfTlVMTCovO1xuICAvKiBub3QgdmlzaWJsZSBieSBhcHBsaWNhdGlvbnMgKi9cbiAgdGhpcy5zdGF0ZSA9IG51bGw7XG4gIC8qIGJlc3QgZ3Vlc3MgYWJvdXQgdGhlIGRhdGEgdHlwZTogYmluYXJ5IG9yIHRleHQgKi9cbiAgdGhpcy5kYXRhX3R5cGUgPSAyLypaX1VOS05PV04qLztcbiAgLyogYWRsZXIzMiB2YWx1ZSBvZiB0aGUgdW5jb21wcmVzc2VkIGRhdGEgKi9cbiAgdGhpcy5hZGxlciA9IDA7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFpTdHJlYW07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG5cbnZhciBUWVBFRF9PSyA9ICAodHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnKSAmJlxuICAgICAgICAgICAgICAgICh0eXBlb2YgVWludDE2QXJyYXkgIT09ICd1bmRlZmluZWQnKSAmJlxuICAgICAgICAgICAgICAgICh0eXBlb2YgSW50MzJBcnJheSAhPT0gJ3VuZGVmaW5lZCcpO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ24ob2JqIC8qZnJvbTEsIGZyb20yLCBmcm9tMywgLi4uKi8pIHtcbiAgdmFyIHNvdXJjZXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICB3aGlsZSAoc291cmNlcy5sZW5ndGgpIHtcbiAgICB2YXIgc291cmNlID0gc291cmNlcy5zaGlmdCgpO1xuICAgIGlmICghc291cmNlKSB7IGNvbnRpbnVlOyB9XG5cbiAgICBpZiAodHlwZW9mIHNvdXJjZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3Ioc291cmNlICsgJ211c3QgYmUgbm9uLW9iamVjdCcpO1xuICAgIH1cblxuICAgIGZvciAodmFyIHAgaW4gc291cmNlKSB7XG4gICAgICBpZiAoc291cmNlLmhhc093blByb3BlcnR5KHApKSB7XG4gICAgICAgIG9ialtwXSA9IHNvdXJjZVtwXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG5cbi8vIHJlZHVjZSBidWZmZXIgc2l6ZSwgYXZvaWRpbmcgbWVtIGNvcHlcbmV4cG9ydCBmdW5jdGlvbiBzaHJpbmtCdWYoYnVmLCBzaXplKSB7XG4gIGlmIChidWYubGVuZ3RoID09PSBzaXplKSB7IHJldHVybiBidWY7IH1cbiAgaWYgKGJ1Zi5zdWJhcnJheSkgeyByZXR1cm4gYnVmLnN1YmFycmF5KDAsIHNpemUpOyB9XG4gIGJ1Zi5sZW5ndGggPSBzaXplO1xuICByZXR1cm4gYnVmO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFycmF5U2V0KGRlc3QsIHNyYywgc3JjX29mZnMsIGxlbiwgZGVzdF9vZmZzKSB7XG4gIGlmIChzcmMuc3ViYXJyYXkgJiYgZGVzdC5zdWJhcnJheSkge1xuICAgIGRlc3Quc2V0KHNyYy5zdWJhcnJheShzcmNfb2Zmcywgc3JjX29mZnMgKyBsZW4pLCBkZXN0X29mZnMpO1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBGYWxsYmFjayB0byBvcmRpbmFyeSBhcnJheVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgZGVzdFtkZXN0X29mZnMgKyBpXSA9IHNyY1tzcmNfb2ZmcyArIGldO1xuICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZmxhdHRlbkNodW5rcyhjaHVua3MpIHtcbiAgdmFyIGksIGwsIGxlbiwgcG9zLCBjaHVuaywgcmVzdWx0O1xuXG4gIC8vIGNhbGN1bGF0ZSBkYXRhIGxlbmd0aFxuICBsZW4gPSAwO1xuICBmb3IgKGkgPSAwLCBsID0gY2h1bmtzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGxlbiArPSBjaHVua3NbaV0ubGVuZ3RoO1xuICB9XG5cbiAgLy8gam9pbiBjaHVua3NcbiAgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkobGVuKTtcbiAgcG9zID0gMDtcbiAgZm9yIChpID0gMCwgbCA9IGNodW5rcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBjaHVuayA9IGNodW5rc1tpXTtcbiAgICByZXN1bHQuc2V0KGNodW5rLCBwb3MpO1xuICAgIHBvcyArPSBjaHVuay5sZW5ndGg7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5cbmV4cG9ydCB2YXIgQnVmOCA9IFVpbnQ4QXJyYXk7XG5leHBvcnQgdmFyIEJ1ZjE2ID0gVWludDE2QXJyYXk7XG5leHBvcnQgdmFyIEJ1ZjMyID0gSW50MzJBcnJheTtcbi8vIEVuYWJsZS9EaXNhYmxlIHR5cGVkIGFycmF5cyB1c2UsIGZvciB0ZXN0aW5nXG4vL1xuIiwgIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHthcnJheVNldH0gZnJvbSAnLi91dGlscyc7XG5cbi8qIFB1YmxpYyBjb25zdGFudHMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG5cbi8vdmFyIFpfRklMVEVSRUQgICAgICAgICAgPSAxO1xuLy92YXIgWl9IVUZGTUFOX09OTFkgICAgICA9IDI7XG4vL3ZhciBaX1JMRSAgICAgICAgICAgICAgID0gMztcbnZhciBaX0ZJWEVEID0gNDtcbi8vdmFyIFpfREVGQVVMVF9TVFJBVEVHWSAgPSAwO1xuXG4vKiBQb3NzaWJsZSB2YWx1ZXMgb2YgdGhlIGRhdGFfdHlwZSBmaWVsZCAodGhvdWdoIHNlZSBpbmZsYXRlKCkpICovXG52YXIgWl9CSU5BUlkgPSAwO1xudmFyIFpfVEVYVCA9IDE7XG4vL3ZhciBaX0FTQ0lJICAgICAgICAgICAgID0gMTsgLy8gPSBaX1RFWFRcbnZhciBaX1VOS05PV04gPSAyO1xuXG4vKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG5cbmZ1bmN0aW9uIHplcm8oYnVmKSB7XG4gIHZhciBsZW4gPSBidWYubGVuZ3RoO1xuICB3aGlsZSAoLS1sZW4gPj0gMCkge1xuICAgIGJ1ZltsZW5dID0gMDtcbiAgfVxufVxuXG4vLyBGcm9tIHp1dGlsLmhcblxudmFyIFNUT1JFRF9CTE9DSyA9IDA7XG52YXIgU1RBVElDX1RSRUVTID0gMTtcbnZhciBEWU5fVFJFRVMgPSAyO1xuLyogVGhlIHRocmVlIGtpbmRzIG9mIGJsb2NrIHR5cGUgKi9cblxudmFyIE1JTl9NQVRDSCA9IDM7XG52YXIgTUFYX01BVENIID0gMjU4O1xuLyogVGhlIG1pbmltdW0gYW5kIG1heGltdW0gbWF0Y2ggbGVuZ3RocyAqL1xuXG4vLyBGcm9tIGRlZmxhdGUuaFxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBJbnRlcm5hbCBjb21wcmVzc2lvbiBzdGF0ZS5cbiAqL1xuXG52YXIgTEVOR1RIX0NPREVTID0gMjk7XG4vKiBudW1iZXIgb2YgbGVuZ3RoIGNvZGVzLCBub3QgY291bnRpbmcgdGhlIHNwZWNpYWwgRU5EX0JMT0NLIGNvZGUgKi9cblxudmFyIExJVEVSQUxTID0gMjU2O1xuLyogbnVtYmVyIG9mIGxpdGVyYWwgYnl0ZXMgMC4uMjU1ICovXG5cbnZhciBMX0NPREVTID0gTElURVJBTFMgKyAxICsgTEVOR1RIX0NPREVTO1xuLyogbnVtYmVyIG9mIExpdGVyYWwgb3IgTGVuZ3RoIGNvZGVzLCBpbmNsdWRpbmcgdGhlIEVORF9CTE9DSyBjb2RlICovXG5cbnZhciBEX0NPREVTID0gMzA7XG4vKiBudW1iZXIgb2YgZGlzdGFuY2UgY29kZXMgKi9cblxudmFyIEJMX0NPREVTID0gMTk7XG4vKiBudW1iZXIgb2YgY29kZXMgdXNlZCB0byB0cmFuc2ZlciB0aGUgYml0IGxlbmd0aHMgKi9cblxudmFyIEhFQVBfU0laRSA9IDIgKiBMX0NPREVTICsgMTtcbi8qIG1heGltdW0gaGVhcCBzaXplICovXG5cbnZhciBNQVhfQklUUyA9IDE1O1xuLyogQWxsIGNvZGVzIG11c3Qgbm90IGV4Y2VlZCBNQVhfQklUUyBiaXRzICovXG5cbnZhciBCdWZfc2l6ZSA9IDE2O1xuLyogc2l6ZSBvZiBiaXQgYnVmZmVyIGluIGJpX2J1ZiAqL1xuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29uc3RhbnRzXG4gKi9cblxudmFyIE1BWF9CTF9CSVRTID0gNztcbi8qIEJpdCBsZW5ndGggY29kZXMgbXVzdCBub3QgZXhjZWVkIE1BWF9CTF9CSVRTIGJpdHMgKi9cblxudmFyIEVORF9CTE9DSyA9IDI1Njtcbi8qIGVuZCBvZiBibG9jayBsaXRlcmFsIGNvZGUgKi9cblxudmFyIFJFUF8zXzYgPSAxNjtcbi8qIHJlcGVhdCBwcmV2aW91cyBiaXQgbGVuZ3RoIDMtNiB0aW1lcyAoMiBiaXRzIG9mIHJlcGVhdCBjb3VudCkgKi9cblxudmFyIFJFUFpfM18xMCA9IDE3O1xuLyogcmVwZWF0IGEgemVybyBsZW5ndGggMy0xMCB0aW1lcyAgKDMgYml0cyBvZiByZXBlYXQgY291bnQpICovXG5cbnZhciBSRVBaXzExXzEzOCA9IDE4O1xuLyogcmVwZWF0IGEgemVybyBsZW5ndGggMTEtMTM4IHRpbWVzICAoNyBiaXRzIG9mIHJlcGVhdCBjb3VudCkgKi9cblxuLyogZXNsaW50LWRpc2FibGUgY29tbWEtc3BhY2luZyxhcnJheS1icmFja2V0LXNwYWNpbmcgKi9cbnZhciBleHRyYV9sYml0cyA9IC8qIGV4dHJhIGJpdHMgZm9yIGVhY2ggbGVuZ3RoIGNvZGUgKi8gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDEsIDEsIDEsIDEsIDIsIDIsIDIsIDIsIDMsIDMsIDMsIDMsIDQsIDQsIDQsIDQsIDUsIDUsIDUsIDUsIDBdO1xuXG52YXIgZXh0cmFfZGJpdHMgPSAvKiBleHRyYSBiaXRzIGZvciBlYWNoIGRpc3RhbmNlIGNvZGUgKi8gWzAsIDAsIDAsIDAsIDEsIDEsIDIsIDIsIDMsIDMsIDQsIDQsIDUsIDUsIDYsIDYsIDcsIDcsIDgsIDgsIDksIDksIDEwLCAxMCwgMTEsIDExLCAxMiwgMTIsIDEzLCAxM107XG5cbnZhciBleHRyYV9ibGJpdHMgPSAvKiBleHRyYSBiaXRzIGZvciBlYWNoIGJpdCBsZW5ndGggY29kZSAqLyBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMiwgMywgN107XG5cbnZhciBibF9vcmRlciA9IFsxNiwgMTcsIDE4LCAwLCA4LCA3LCA5LCA2LCAxMCwgNSwgMTEsIDQsIDEyLCAzLCAxMywgMiwgMTQsIDEsIDE1XTtcbi8qIGVzbGludC1lbmFibGUgY29tbWEtc3BhY2luZyxhcnJheS1icmFja2V0LXNwYWNpbmcgKi9cblxuLyogVGhlIGxlbmd0aHMgb2YgdGhlIGJpdCBsZW5ndGggY29kZXMgYXJlIHNlbnQgaW4gb3JkZXIgb2YgZGVjcmVhc2luZ1xuICogcHJvYmFiaWxpdHksIHRvIGF2b2lkIHRyYW5zbWl0dGluZyB0aGUgbGVuZ3RocyBmb3IgdW51c2VkIGJpdCBsZW5ndGggY29kZXMuXG4gKi9cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBMb2NhbCBkYXRhLiBUaGVzZSBhcmUgaW5pdGlhbGl6ZWQgb25seSBvbmNlLlxuICovXG5cbi8vIFdlIHByZS1maWxsIGFycmF5cyB3aXRoIDAgdG8gYXZvaWQgdW5pbml0aWFsaXplZCBnYXBzXG5cbnZhciBESVNUX0NPREVfTEVOID0gNTEyOyAvKiBzZWUgZGVmaW5pdGlvbiBvZiBhcnJheSBkaXN0X2NvZGUgYmVsb3cgKi9cblxuLy8gISEhISBVc2UgZmxhdCBhcnJheSBpbnNkZWFkIG9mIHN0cnVjdHVyZSwgRnJlcSA9IGkqMiwgTGVuID0gaSoyKzFcbnZhciBzdGF0aWNfbHRyZWUgPSBuZXcgQXJyYXkoKExfQ09ERVMgKyAyKSAqIDIpO1xuemVybyhzdGF0aWNfbHRyZWUpO1xuLyogVGhlIHN0YXRpYyBsaXRlcmFsIHRyZWUuIFNpbmNlIHRoZSBiaXQgbGVuZ3RocyBhcmUgaW1wb3NlZCwgdGhlcmUgaXMgbm9cbiAqIG5lZWQgZm9yIHRoZSBMX0NPREVTIGV4dHJhIGNvZGVzIHVzZWQgZHVyaW5nIGhlYXAgY29uc3RydWN0aW9uLiBIb3dldmVyXG4gKiBUaGUgY29kZXMgMjg2IGFuZCAyODcgYXJlIG5lZWRlZCB0byBidWlsZCBhIGNhbm9uaWNhbCB0cmVlIChzZWUgX3RyX2luaXRcbiAqIGJlbG93KS5cbiAqL1xuXG52YXIgc3RhdGljX2R0cmVlID0gbmV3IEFycmF5KERfQ09ERVMgKiAyKTtcbnplcm8oc3RhdGljX2R0cmVlKTtcbi8qIFRoZSBzdGF0aWMgZGlzdGFuY2UgdHJlZS4gKEFjdHVhbGx5IGEgdHJpdmlhbCB0cmVlIHNpbmNlIGFsbCBjb2RlcyB1c2VcbiAqIDUgYml0cy4pXG4gKi9cblxudmFyIF9kaXN0X2NvZGUgPSBuZXcgQXJyYXkoRElTVF9DT0RFX0xFTik7XG56ZXJvKF9kaXN0X2NvZGUpO1xuLyogRGlzdGFuY2UgY29kZXMuIFRoZSBmaXJzdCAyNTYgdmFsdWVzIGNvcnJlc3BvbmQgdG8gdGhlIGRpc3RhbmNlc1xuICogMyAuLiAyNTgsIHRoZSBsYXN0IDI1NiB2YWx1ZXMgY29ycmVzcG9uZCB0byB0aGUgdG9wIDggYml0cyBvZlxuICogdGhlIDE1IGJpdCBkaXN0YW5jZXMuXG4gKi9cblxudmFyIF9sZW5ndGhfY29kZSA9IG5ldyBBcnJheShNQVhfTUFUQ0ggLSBNSU5fTUFUQ0ggKyAxKTtcbnplcm8oX2xlbmd0aF9jb2RlKTtcbi8qIGxlbmd0aCBjb2RlIGZvciBlYWNoIG5vcm1hbGl6ZWQgbWF0Y2ggbGVuZ3RoICgwID09IE1JTl9NQVRDSCkgKi9cblxudmFyIGJhc2VfbGVuZ3RoID0gbmV3IEFycmF5KExFTkdUSF9DT0RFUyk7XG56ZXJvKGJhc2VfbGVuZ3RoKTtcbi8qIEZpcnN0IG5vcm1hbGl6ZWQgbGVuZ3RoIGZvciBlYWNoIGNvZGUgKDAgPSBNSU5fTUFUQ0gpICovXG5cbnZhciBiYXNlX2Rpc3QgPSBuZXcgQXJyYXkoRF9DT0RFUyk7XG56ZXJvKGJhc2VfZGlzdCk7XG4vKiBGaXJzdCBub3JtYWxpemVkIGRpc3RhbmNlIGZvciBlYWNoIGNvZGUgKDAgPSBkaXN0YW5jZSBvZiAxKSAqL1xuXG5cbmZ1bmN0aW9uIFN0YXRpY1RyZWVEZXNjKHN0YXRpY190cmVlLCBleHRyYV9iaXRzLCBleHRyYV9iYXNlLCBlbGVtcywgbWF4X2xlbmd0aCkge1xuXG4gIHRoaXMuc3RhdGljX3RyZWUgPSBzdGF0aWNfdHJlZTsgLyogc3RhdGljIHRyZWUgb3IgTlVMTCAqL1xuICB0aGlzLmV4dHJhX2JpdHMgPSBleHRyYV9iaXRzOyAvKiBleHRyYSBiaXRzIGZvciBlYWNoIGNvZGUgb3IgTlVMTCAqL1xuICB0aGlzLmV4dHJhX2Jhc2UgPSBleHRyYV9iYXNlOyAvKiBiYXNlIGluZGV4IGZvciBleHRyYV9iaXRzICovXG4gIHRoaXMuZWxlbXMgPSBlbGVtczsgLyogbWF4IG51bWJlciBvZiBlbGVtZW50cyBpbiB0aGUgdHJlZSAqL1xuICB0aGlzLm1heF9sZW5ndGggPSBtYXhfbGVuZ3RoOyAvKiBtYXggYml0IGxlbmd0aCBmb3IgdGhlIGNvZGVzICovXG5cbiAgLy8gc2hvdyBpZiBgc3RhdGljX3RyZWVgIGhhcyBkYXRhIG9yIGR1bW15IC0gbmVlZGVkIGZvciBtb25vbW9ycGhpYyBvYmplY3RzXG4gIHRoaXMuaGFzX3N0cmVlID0gc3RhdGljX3RyZWUgJiYgc3RhdGljX3RyZWUubGVuZ3RoO1xufVxuXG5cbnZhciBzdGF0aWNfbF9kZXNjO1xudmFyIHN0YXRpY19kX2Rlc2M7XG52YXIgc3RhdGljX2JsX2Rlc2M7XG5cblxuZnVuY3Rpb24gVHJlZURlc2MoZHluX3RyZWUsIHN0YXRfZGVzYykge1xuICB0aGlzLmR5bl90cmVlID0gZHluX3RyZWU7IC8qIHRoZSBkeW5hbWljIHRyZWUgKi9cbiAgdGhpcy5tYXhfY29kZSA9IDA7IC8qIGxhcmdlc3QgY29kZSB3aXRoIG5vbiB6ZXJvIGZyZXF1ZW5jeSAqL1xuICB0aGlzLnN0YXRfZGVzYyA9IHN0YXRfZGVzYzsgLyogdGhlIGNvcnJlc3BvbmRpbmcgc3RhdGljIHRyZWUgKi9cbn1cblxuXG5cbmZ1bmN0aW9uIGRfY29kZShkaXN0KSB7XG4gIHJldHVybiBkaXN0IDwgMjU2ID8gX2Rpc3RfY29kZVtkaXN0XSA6IF9kaXN0X2NvZGVbMjU2ICsgKGRpc3QgPj4+IDcpXTtcbn1cblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIE91dHB1dCBhIHNob3J0IExTQiBmaXJzdCBvbiB0aGUgc3RyZWFtLlxuICogSU4gYXNzZXJ0aW9uOiB0aGVyZSBpcyBlbm91Z2ggcm9vbSBpbiBwZW5kaW5nQnVmLlxuICovXG5mdW5jdGlvbiBwdXRfc2hvcnQocywgdykge1xuICAvLyAgICBwdXRfYnl0ZShzLCAodWNoKSgodykgJiAweGZmKSk7XG4gIC8vICAgIHB1dF9ieXRlKHMsICh1Y2gpKCh1c2gpKHcpID4+IDgpKTtcbiAgcy5wZW5kaW5nX2J1ZltzLnBlbmRpbmcrK10gPSAodykgJiAweGZmO1xuICBzLnBlbmRpbmdfYnVmW3MucGVuZGluZysrXSA9ICh3ID4+PiA4KSAmIDB4ZmY7XG59XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBTZW5kIGEgdmFsdWUgb24gYSBnaXZlbiBudW1iZXIgb2YgYml0cy5cbiAqIElOIGFzc2VydGlvbjogbGVuZ3RoIDw9IDE2IGFuZCB2YWx1ZSBmaXRzIGluIGxlbmd0aCBiaXRzLlxuICovXG5mdW5jdGlvbiBzZW5kX2JpdHMocywgdmFsdWUsIGxlbmd0aCkge1xuICBpZiAocy5iaV92YWxpZCA+IChCdWZfc2l6ZSAtIGxlbmd0aCkpIHtcbiAgICBzLmJpX2J1ZiB8PSAodmFsdWUgPDwgcy5iaV92YWxpZCkgJiAweGZmZmY7XG4gICAgcHV0X3Nob3J0KHMsIHMuYmlfYnVmKTtcbiAgICBzLmJpX2J1ZiA9IHZhbHVlID4+IChCdWZfc2l6ZSAtIHMuYmlfdmFsaWQpO1xuICAgIHMuYmlfdmFsaWQgKz0gbGVuZ3RoIC0gQnVmX3NpemU7XG4gIH0gZWxzZSB7XG4gICAgcy5iaV9idWYgfD0gKHZhbHVlIDw8IHMuYmlfdmFsaWQpICYgMHhmZmZmO1xuICAgIHMuYmlfdmFsaWQgKz0gbGVuZ3RoO1xuICB9XG59XG5cblxuZnVuY3Rpb24gc2VuZF9jb2RlKHMsIGMsIHRyZWUpIHtcbiAgc2VuZF9iaXRzKHMsIHRyZWVbYyAqIDJdIC8qLkNvZGUqLyAsIHRyZWVbYyAqIDIgKyAxXSAvKi5MZW4qLyApO1xufVxuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogUmV2ZXJzZSB0aGUgZmlyc3QgbGVuIGJpdHMgb2YgYSBjb2RlLCB1c2luZyBzdHJhaWdodGZvcndhcmQgY29kZSAoYSBmYXN0ZXJcbiAqIG1ldGhvZCB3b3VsZCB1c2UgYSB0YWJsZSlcbiAqIElOIGFzc2VydGlvbjogMSA8PSBsZW4gPD0gMTVcbiAqL1xuZnVuY3Rpb24gYmlfcmV2ZXJzZShjb2RlLCBsZW4pIHtcbiAgdmFyIHJlcyA9IDA7XG4gIGRvIHtcbiAgICByZXMgfD0gY29kZSAmIDE7XG4gICAgY29kZSA+Pj49IDE7XG4gICAgcmVzIDw8PSAxO1xuICB9IHdoaWxlICgtLWxlbiA+IDApO1xuICByZXR1cm4gcmVzID4+PiAxO1xufVxuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogRmx1c2ggdGhlIGJpdCBidWZmZXIsIGtlZXBpbmcgYXQgbW9zdCA3IGJpdHMgaW4gaXQuXG4gKi9cbmZ1bmN0aW9uIGJpX2ZsdXNoKHMpIHtcbiAgaWYgKHMuYmlfdmFsaWQgPT09IDE2KSB7XG4gICAgcHV0X3Nob3J0KHMsIHMuYmlfYnVmKTtcbiAgICBzLmJpX2J1ZiA9IDA7XG4gICAgcy5iaV92YWxpZCA9IDA7XG5cbiAgfSBlbHNlIGlmIChzLmJpX3ZhbGlkID49IDgpIHtcbiAgICBzLnBlbmRpbmdfYnVmW3MucGVuZGluZysrXSA9IHMuYmlfYnVmICYgMHhmZjtcbiAgICBzLmJpX2J1ZiA+Pj0gODtcbiAgICBzLmJpX3ZhbGlkIC09IDg7XG4gIH1cbn1cblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvbXB1dGUgdGhlIG9wdGltYWwgYml0IGxlbmd0aHMgZm9yIGEgdHJlZSBhbmQgdXBkYXRlIHRoZSB0b3RhbCBiaXQgbGVuZ3RoXG4gKiBmb3IgdGhlIGN1cnJlbnQgYmxvY2suXG4gKiBJTiBhc3NlcnRpb246IHRoZSBmaWVsZHMgZnJlcSBhbmQgZGFkIGFyZSBzZXQsIGhlYXBbaGVhcF9tYXhdIGFuZFxuICogICAgYWJvdmUgYXJlIHRoZSB0cmVlIG5vZGVzIHNvcnRlZCBieSBpbmNyZWFzaW5nIGZyZXF1ZW5jeS5cbiAqIE9VVCBhc3NlcnRpb25zOiB0aGUgZmllbGQgbGVuIGlzIHNldCB0byB0aGUgb3B0aW1hbCBiaXQgbGVuZ3RoLCB0aGVcbiAqICAgICBhcnJheSBibF9jb3VudCBjb250YWlucyB0aGUgZnJlcXVlbmNpZXMgZm9yIGVhY2ggYml0IGxlbmd0aC5cbiAqICAgICBUaGUgbGVuZ3RoIG9wdF9sZW4gaXMgdXBkYXRlZDsgc3RhdGljX2xlbiBpcyBhbHNvIHVwZGF0ZWQgaWYgc3RyZWUgaXNcbiAqICAgICBub3QgbnVsbC5cbiAqL1xuZnVuY3Rpb24gZ2VuX2JpdGxlbihzLCBkZXNjKSB7XG4vLyAgICBkZWZsYXRlX3N0YXRlICpzO1xuLy8gICAgdHJlZV9kZXNjICpkZXNjOyAgICAvKiB0aGUgdHJlZSBkZXNjcmlwdG9yICovXG4gIHZhciB0cmVlID0gZGVzYy5keW5fdHJlZTtcbiAgdmFyIG1heF9jb2RlID0gZGVzYy5tYXhfY29kZTtcbiAgdmFyIHN0cmVlID0gZGVzYy5zdGF0X2Rlc2Muc3RhdGljX3RyZWU7XG4gIHZhciBoYXNfc3RyZWUgPSBkZXNjLnN0YXRfZGVzYy5oYXNfc3RyZWU7XG4gIHZhciBleHRyYSA9IGRlc2Muc3RhdF9kZXNjLmV4dHJhX2JpdHM7XG4gIHZhciBiYXNlID0gZGVzYy5zdGF0X2Rlc2MuZXh0cmFfYmFzZTtcbiAgdmFyIG1heF9sZW5ndGggPSBkZXNjLnN0YXRfZGVzYy5tYXhfbGVuZ3RoO1xuICB2YXIgaDsgLyogaGVhcCBpbmRleCAqL1xuICB2YXIgbiwgbTsgLyogaXRlcmF0ZSBvdmVyIHRoZSB0cmVlIGVsZW1lbnRzICovXG4gIHZhciBiaXRzOyAvKiBiaXQgbGVuZ3RoICovXG4gIHZhciB4Yml0czsgLyogZXh0cmEgYml0cyAqL1xuICB2YXIgZjsgLyogZnJlcXVlbmN5ICovXG4gIHZhciBvdmVyZmxvdyA9IDA7IC8qIG51bWJlciBvZiBlbGVtZW50cyB3aXRoIGJpdCBsZW5ndGggdG9vIGxhcmdlICovXG5cbiAgZm9yIChiaXRzID0gMDsgYml0cyA8PSBNQVhfQklUUzsgYml0cysrKSB7XG4gICAgcy5ibF9jb3VudFtiaXRzXSA9IDA7XG4gIH1cblxuICAvKiBJbiBhIGZpcnN0IHBhc3MsIGNvbXB1dGUgdGhlIG9wdGltYWwgYml0IGxlbmd0aHMgKHdoaWNoIG1heVxuICAgKiBvdmVyZmxvdyBpbiB0aGUgY2FzZSBvZiB0aGUgYml0IGxlbmd0aCB0cmVlKS5cbiAgICovXG4gIHRyZWVbcy5oZWFwW3MuaGVhcF9tYXhdICogMiArIDFdIC8qLkxlbiovID0gMDsgLyogcm9vdCBvZiB0aGUgaGVhcCAqL1xuXG4gIGZvciAoaCA9IHMuaGVhcF9tYXggKyAxOyBoIDwgSEVBUF9TSVpFOyBoKyspIHtcbiAgICBuID0gcy5oZWFwW2hdO1xuICAgIGJpdHMgPSB0cmVlW3RyZWVbbiAqIDIgKyAxXSAvKi5EYWQqLyAqIDIgKyAxXSAvKi5MZW4qLyArIDE7XG4gICAgaWYgKGJpdHMgPiBtYXhfbGVuZ3RoKSB7XG4gICAgICBiaXRzID0gbWF4X2xlbmd0aDtcbiAgICAgIG92ZXJmbG93Kys7XG4gICAgfVxuICAgIHRyZWVbbiAqIDIgKyAxXSAvKi5MZW4qLyA9IGJpdHM7XG4gICAgLyogV2Ugb3ZlcndyaXRlIHRyZWVbbl0uRGFkIHdoaWNoIGlzIG5vIGxvbmdlciBuZWVkZWQgKi9cblxuICAgIGlmIChuID4gbWF4X2NvZGUpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH0gLyogbm90IGEgbGVhZiBub2RlICovXG5cbiAgICBzLmJsX2NvdW50W2JpdHNdKys7XG4gICAgeGJpdHMgPSAwO1xuICAgIGlmIChuID49IGJhc2UpIHtcbiAgICAgIHhiaXRzID0gZXh0cmFbbiAtIGJhc2VdO1xuICAgIH1cbiAgICBmID0gdHJlZVtuICogMl0gLyouRnJlcSovIDtcbiAgICBzLm9wdF9sZW4gKz0gZiAqIChiaXRzICsgeGJpdHMpO1xuICAgIGlmIChoYXNfc3RyZWUpIHtcbiAgICAgIHMuc3RhdGljX2xlbiArPSBmICogKHN0cmVlW24gKiAyICsgMV0gLyouTGVuKi8gKyB4Yml0cyk7XG4gICAgfVxuICB9XG4gIGlmIChvdmVyZmxvdyA9PT0gMCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIFRyYWNlKChzdGRlcnIsXCJcXG5iaXQgbGVuZ3RoIG92ZXJmbG93XFxuXCIpKTtcbiAgLyogVGhpcyBoYXBwZW5zIGZvciBleGFtcGxlIG9uIG9iajIgYW5kIHBpYyBvZiB0aGUgQ2FsZ2FyeSBjb3JwdXMgKi9cblxuICAvKiBGaW5kIHRoZSBmaXJzdCBiaXQgbGVuZ3RoIHdoaWNoIGNvdWxkIGluY3JlYXNlOiAqL1xuICBkbyB7XG4gICAgYml0cyA9IG1heF9sZW5ndGggLSAxO1xuICAgIHdoaWxlIChzLmJsX2NvdW50W2JpdHNdID09PSAwKSB7XG4gICAgICBiaXRzLS07XG4gICAgfVxuICAgIHMuYmxfY291bnRbYml0c10tLTsgLyogbW92ZSBvbmUgbGVhZiBkb3duIHRoZSB0cmVlICovXG4gICAgcy5ibF9jb3VudFtiaXRzICsgMV0gKz0gMjsgLyogbW92ZSBvbmUgb3ZlcmZsb3cgaXRlbSBhcyBpdHMgYnJvdGhlciAqL1xuICAgIHMuYmxfY291bnRbbWF4X2xlbmd0aF0tLTtcbiAgICAvKiBUaGUgYnJvdGhlciBvZiB0aGUgb3ZlcmZsb3cgaXRlbSBhbHNvIG1vdmVzIG9uZSBzdGVwIHVwLFxuICAgICAqIGJ1dCB0aGlzIGRvZXMgbm90IGFmZmVjdCBibF9jb3VudFttYXhfbGVuZ3RoXVxuICAgICAqL1xuICAgIG92ZXJmbG93IC09IDI7XG4gIH0gd2hpbGUgKG92ZXJmbG93ID4gMCk7XG5cbiAgLyogTm93IHJlY29tcHV0ZSBhbGwgYml0IGxlbmd0aHMsIHNjYW5uaW5nIGluIGluY3JlYXNpbmcgZnJlcXVlbmN5LlxuICAgKiBoIGlzIHN0aWxsIGVxdWFsIHRvIEhFQVBfU0laRS4gKEl0IGlzIHNpbXBsZXIgdG8gcmVjb25zdHJ1Y3QgYWxsXG4gICAqIGxlbmd0aHMgaW5zdGVhZCBvZiBmaXhpbmcgb25seSB0aGUgd3Jvbmcgb25lcy4gVGhpcyBpZGVhIGlzIHRha2VuXG4gICAqIGZyb20gJ2FyJyB3cml0dGVuIGJ5IEhhcnVoaWtvIE9rdW11cmEuKVxuICAgKi9cbiAgZm9yIChiaXRzID0gbWF4X2xlbmd0aDsgYml0cyAhPT0gMDsgYml0cy0tKSB7XG4gICAgbiA9IHMuYmxfY291bnRbYml0c107XG4gICAgd2hpbGUgKG4gIT09IDApIHtcbiAgICAgIG0gPSBzLmhlYXBbLS1oXTtcbiAgICAgIGlmIChtID4gbWF4X2NvZGUpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAodHJlZVttICogMiArIDFdIC8qLkxlbiovICE9PSBiaXRzKSB7XG4gICAgICAgIC8vIFRyYWNlKChzdGRlcnIsXCJjb2RlICVkIGJpdHMgJWQtPiVkXFxuXCIsIG0sIHRyZWVbbV0uTGVuLCBiaXRzKSk7XG4gICAgICAgIHMub3B0X2xlbiArPSAoYml0cyAtIHRyZWVbbSAqIDIgKyAxXSAvKi5MZW4qLyApICogdHJlZVttICogMl0gLyouRnJlcSovIDtcbiAgICAgICAgdHJlZVttICogMiArIDFdIC8qLkxlbiovID0gYml0cztcbiAgICAgIH1cbiAgICAgIG4tLTtcbiAgICB9XG4gIH1cbn1cblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEdlbmVyYXRlIHRoZSBjb2RlcyBmb3IgYSBnaXZlbiB0cmVlIGFuZCBiaXQgY291bnRzICh3aGljaCBuZWVkIG5vdCBiZVxuICogb3B0aW1hbCkuXG4gKiBJTiBhc3NlcnRpb246IHRoZSBhcnJheSBibF9jb3VudCBjb250YWlucyB0aGUgYml0IGxlbmd0aCBzdGF0aXN0aWNzIGZvclxuICogdGhlIGdpdmVuIHRyZWUgYW5kIHRoZSBmaWVsZCBsZW4gaXMgc2V0IGZvciBhbGwgdHJlZSBlbGVtZW50cy5cbiAqIE9VVCBhc3NlcnRpb246IHRoZSBmaWVsZCBjb2RlIGlzIHNldCBmb3IgYWxsIHRyZWUgZWxlbWVudHMgb2Ygbm9uXG4gKiAgICAgemVybyBjb2RlIGxlbmd0aC5cbiAqL1xuZnVuY3Rpb24gZ2VuX2NvZGVzKHRyZWUsIG1heF9jb2RlLCBibF9jb3VudCkge1xuLy8gICAgY3RfZGF0YSAqdHJlZTsgICAgICAgICAgICAgLyogdGhlIHRyZWUgdG8gZGVjb3JhdGUgKi9cbi8vICAgIGludCBtYXhfY29kZTsgICAgICAgICAgICAgIC8qIGxhcmdlc3QgY29kZSB3aXRoIG5vbiB6ZXJvIGZyZXF1ZW5jeSAqL1xuLy8gICAgdXNoZiAqYmxfY291bnQ7ICAgICAgICAgICAgLyogbnVtYmVyIG9mIGNvZGVzIGF0IGVhY2ggYml0IGxlbmd0aCAqL1xuXG4gIHZhciBuZXh0X2NvZGUgPSBuZXcgQXJyYXkoTUFYX0JJVFMgKyAxKTsgLyogbmV4dCBjb2RlIHZhbHVlIGZvciBlYWNoIGJpdCBsZW5ndGggKi9cbiAgdmFyIGNvZGUgPSAwOyAvKiBydW5uaW5nIGNvZGUgdmFsdWUgKi9cbiAgdmFyIGJpdHM7IC8qIGJpdCBpbmRleCAqL1xuICB2YXIgbjsgLyogY29kZSBpbmRleCAqL1xuXG4gIC8qIFRoZSBkaXN0cmlidXRpb24gY291bnRzIGFyZSBmaXJzdCB1c2VkIHRvIGdlbmVyYXRlIHRoZSBjb2RlIHZhbHVlc1xuICAgKiB3aXRob3V0IGJpdCByZXZlcnNhbC5cbiAgICovXG4gIGZvciAoYml0cyA9IDE7IGJpdHMgPD0gTUFYX0JJVFM7IGJpdHMrKykge1xuICAgIG5leHRfY29kZVtiaXRzXSA9IGNvZGUgPSAoY29kZSArIGJsX2NvdW50W2JpdHMgLSAxXSkgPDwgMTtcbiAgfVxuICAvKiBDaGVjayB0aGF0IHRoZSBiaXQgY291bnRzIGluIGJsX2NvdW50IGFyZSBjb25zaXN0ZW50LiBUaGUgbGFzdCBjb2RlXG4gICAqIG11c3QgYmUgYWxsIG9uZXMuXG4gICAqL1xuICAvL0Fzc2VydCAoY29kZSArIGJsX2NvdW50W01BWF9CSVRTXS0xID09ICgxPDxNQVhfQklUUyktMSxcbiAgLy8gICAgICAgIFwiaW5jb25zaXN0ZW50IGJpdCBjb3VudHNcIik7XG4gIC8vVHJhY2V2KChzdGRlcnIsXCJcXG5nZW5fY29kZXM6IG1heF9jb2RlICVkIFwiLCBtYXhfY29kZSkpO1xuXG4gIGZvciAobiA9IDA7IG4gPD0gbWF4X2NvZGU7IG4rKykge1xuICAgIHZhciBsZW4gPSB0cmVlW24gKiAyICsgMV0gLyouTGVuKi8gO1xuICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICAvKiBOb3cgcmV2ZXJzZSB0aGUgYml0cyAqL1xuICAgIHRyZWVbbiAqIDJdIC8qLkNvZGUqLyA9IGJpX3JldmVyc2UobmV4dF9jb2RlW2xlbl0rKywgbGVuKTtcblxuICAgIC8vVHJhY2Vjdih0cmVlICE9IHN0YXRpY19sdHJlZSwgKHN0ZGVycixcIlxcbm4gJTNkICVjIGwgJTJkIGMgJTR4ICgleCkgXCIsXG4gICAgLy8gICAgIG4sIChpc2dyYXBoKG4pID8gbiA6ICcgJyksIGxlbiwgdHJlZVtuXS5Db2RlLCBuZXh0X2NvZGVbbGVuXS0xKSk7XG4gIH1cbn1cblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEluaXRpYWxpemUgdGhlIHZhcmlvdXMgJ2NvbnN0YW50JyB0YWJsZXMuXG4gKi9cbmZ1bmN0aW9uIHRyX3N0YXRpY19pbml0KCkge1xuICB2YXIgbjsgLyogaXRlcmF0ZXMgb3ZlciB0cmVlIGVsZW1lbnRzICovXG4gIHZhciBiaXRzOyAvKiBiaXQgY291bnRlciAqL1xuICB2YXIgbGVuZ3RoOyAvKiBsZW5ndGggdmFsdWUgKi9cbiAgdmFyIGNvZGU7IC8qIGNvZGUgdmFsdWUgKi9cbiAgdmFyIGRpc3Q7IC8qIGRpc3RhbmNlIGluZGV4ICovXG4gIHZhciBibF9jb3VudCA9IG5ldyBBcnJheShNQVhfQklUUyArIDEpO1xuICAvKiBudW1iZXIgb2YgY29kZXMgYXQgZWFjaCBiaXQgbGVuZ3RoIGZvciBhbiBvcHRpbWFsIHRyZWUgKi9cblxuICAvLyBkbyBjaGVjayBpbiBfdHJfaW5pdCgpXG4gIC8vaWYgKHN0YXRpY19pbml0X2RvbmUpIHJldHVybjtcblxuICAvKiBGb3Igc29tZSBlbWJlZGRlZCB0YXJnZXRzLCBnbG9iYWwgdmFyaWFibGVzIGFyZSBub3QgaW5pdGlhbGl6ZWQ6ICovXG4gIC8qI2lmZGVmIE5PX0lOSVRfR0xPQkFMX1BPSU5URVJTXG4gICAgc3RhdGljX2xfZGVzYy5zdGF0aWNfdHJlZSA9IHN0YXRpY19sdHJlZTtcbiAgICBzdGF0aWNfbF9kZXNjLmV4dHJhX2JpdHMgPSBleHRyYV9sYml0cztcbiAgICBzdGF0aWNfZF9kZXNjLnN0YXRpY190cmVlID0gc3RhdGljX2R0cmVlO1xuICAgIHN0YXRpY19kX2Rlc2MuZXh0cmFfYml0cyA9IGV4dHJhX2RiaXRzO1xuICAgIHN0YXRpY19ibF9kZXNjLmV4dHJhX2JpdHMgPSBleHRyYV9ibGJpdHM7XG4gICNlbmRpZiovXG5cbiAgLyogSW5pdGlhbGl6ZSB0aGUgbWFwcGluZyBsZW5ndGggKDAuLjI1NSkgLT4gbGVuZ3RoIGNvZGUgKDAuLjI4KSAqL1xuICBsZW5ndGggPSAwO1xuICBmb3IgKGNvZGUgPSAwOyBjb2RlIDwgTEVOR1RIX0NPREVTIC0gMTsgY29kZSsrKSB7XG4gICAgYmFzZV9sZW5ndGhbY29kZV0gPSBsZW5ndGg7XG4gICAgZm9yIChuID0gMDsgbiA8ICgxIDw8IGV4dHJhX2xiaXRzW2NvZGVdKTsgbisrKSB7XG4gICAgICBfbGVuZ3RoX2NvZGVbbGVuZ3RoKytdID0gY29kZTtcbiAgICB9XG4gIH1cbiAgLy9Bc3NlcnQgKGxlbmd0aCA9PSAyNTYsIFwidHJfc3RhdGljX2luaXQ6IGxlbmd0aCAhPSAyNTZcIik7XG4gIC8qIE5vdGUgdGhhdCB0aGUgbGVuZ3RoIDI1NSAobWF0Y2ggbGVuZ3RoIDI1OCkgY2FuIGJlIHJlcHJlc2VudGVkXG4gICAqIGluIHR3byBkaWZmZXJlbnQgd2F5czogY29kZSAyODQgKyA1IGJpdHMgb3IgY29kZSAyODUsIHNvIHdlXG4gICAqIG92ZXJ3cml0ZSBsZW5ndGhfY29kZVsyNTVdIHRvIHVzZSB0aGUgYmVzdCBlbmNvZGluZzpcbiAgICovXG4gIF9sZW5ndGhfY29kZVtsZW5ndGggLSAxXSA9IGNvZGU7XG5cbiAgLyogSW5pdGlhbGl6ZSB0aGUgbWFwcGluZyBkaXN0ICgwLi4zMkspIC0+IGRpc3QgY29kZSAoMC4uMjkpICovXG4gIGRpc3QgPSAwO1xuICBmb3IgKGNvZGUgPSAwOyBjb2RlIDwgMTY7IGNvZGUrKykge1xuICAgIGJhc2VfZGlzdFtjb2RlXSA9IGRpc3Q7XG4gICAgZm9yIChuID0gMDsgbiA8ICgxIDw8IGV4dHJhX2RiaXRzW2NvZGVdKTsgbisrKSB7XG4gICAgICBfZGlzdF9jb2RlW2Rpc3QrK10gPSBjb2RlO1xuICAgIH1cbiAgfVxuICAvL0Fzc2VydCAoZGlzdCA9PSAyNTYsIFwidHJfc3RhdGljX2luaXQ6IGRpc3QgIT0gMjU2XCIpO1xuICBkaXN0ID4+PSA3OyAvKiBmcm9tIG5vdyBvbiwgYWxsIGRpc3RhbmNlcyBhcmUgZGl2aWRlZCBieSAxMjggKi9cbiAgZm9yICg7IGNvZGUgPCBEX0NPREVTOyBjb2RlKyspIHtcbiAgICBiYXNlX2Rpc3RbY29kZV0gPSBkaXN0IDw8IDc7XG4gICAgZm9yIChuID0gMDsgbiA8ICgxIDw8IChleHRyYV9kYml0c1tjb2RlXSAtIDcpKTsgbisrKSB7XG4gICAgICBfZGlzdF9jb2RlWzI1NiArIGRpc3QrK10gPSBjb2RlO1xuICAgIH1cbiAgfVxuICAvL0Fzc2VydCAoZGlzdCA9PSAyNTYsIFwidHJfc3RhdGljX2luaXQ6IDI1NitkaXN0ICE9IDUxMlwiKTtcblxuICAvKiBDb25zdHJ1Y3QgdGhlIGNvZGVzIG9mIHRoZSBzdGF0aWMgbGl0ZXJhbCB0cmVlICovXG4gIGZvciAoYml0cyA9IDA7IGJpdHMgPD0gTUFYX0JJVFM7IGJpdHMrKykge1xuICAgIGJsX2NvdW50W2JpdHNdID0gMDtcbiAgfVxuXG4gIG4gPSAwO1xuICB3aGlsZSAobiA8PSAxNDMpIHtcbiAgICBzdGF0aWNfbHRyZWVbbiAqIDIgKyAxXSAvKi5MZW4qLyA9IDg7XG4gICAgbisrO1xuICAgIGJsX2NvdW50WzhdKys7XG4gIH1cbiAgd2hpbGUgKG4gPD0gMjU1KSB7XG4gICAgc3RhdGljX2x0cmVlW24gKiAyICsgMV0gLyouTGVuKi8gPSA5O1xuICAgIG4rKztcbiAgICBibF9jb3VudFs5XSsrO1xuICB9XG4gIHdoaWxlIChuIDw9IDI3OSkge1xuICAgIHN0YXRpY19sdHJlZVtuICogMiArIDFdIC8qLkxlbiovID0gNztcbiAgICBuKys7XG4gICAgYmxfY291bnRbN10rKztcbiAgfVxuICB3aGlsZSAobiA8PSAyODcpIHtcbiAgICBzdGF0aWNfbHRyZWVbbiAqIDIgKyAxXSAvKi5MZW4qLyA9IDg7XG4gICAgbisrO1xuICAgIGJsX2NvdW50WzhdKys7XG4gIH1cbiAgLyogQ29kZXMgMjg2IGFuZCAyODcgZG8gbm90IGV4aXN0LCBidXQgd2UgbXVzdCBpbmNsdWRlIHRoZW0gaW4gdGhlXG4gICAqIHRyZWUgY29uc3RydWN0aW9uIHRvIGdldCBhIGNhbm9uaWNhbCBIdWZmbWFuIHRyZWUgKGxvbmdlc3QgY29kZVxuICAgKiBhbGwgb25lcylcbiAgICovXG4gIGdlbl9jb2RlcyhzdGF0aWNfbHRyZWUsIExfQ09ERVMgKyAxLCBibF9jb3VudCk7XG5cbiAgLyogVGhlIHN0YXRpYyBkaXN0YW5jZSB0cmVlIGlzIHRyaXZpYWw6ICovXG4gIGZvciAobiA9IDA7IG4gPCBEX0NPREVTOyBuKyspIHtcbiAgICBzdGF0aWNfZHRyZWVbbiAqIDIgKyAxXSAvKi5MZW4qLyA9IDU7XG4gICAgc3RhdGljX2R0cmVlW24gKiAyXSAvKi5Db2RlKi8gPSBiaV9yZXZlcnNlKG4sIDUpO1xuICB9XG5cbiAgLy8gTm93IGRhdGEgcmVhZHkgYW5kIHdlIGNhbiBpbml0IHN0YXRpYyB0cmVlc1xuICBzdGF0aWNfbF9kZXNjID0gbmV3IFN0YXRpY1RyZWVEZXNjKHN0YXRpY19sdHJlZSwgZXh0cmFfbGJpdHMsIExJVEVSQUxTICsgMSwgTF9DT0RFUywgTUFYX0JJVFMpO1xuICBzdGF0aWNfZF9kZXNjID0gbmV3IFN0YXRpY1RyZWVEZXNjKHN0YXRpY19kdHJlZSwgZXh0cmFfZGJpdHMsIDAsIERfQ09ERVMsIE1BWF9CSVRTKTtcbiAgc3RhdGljX2JsX2Rlc2MgPSBuZXcgU3RhdGljVHJlZURlc2MobmV3IEFycmF5KDApLCBleHRyYV9ibGJpdHMsIDAsIEJMX0NPREVTLCBNQVhfQkxfQklUUyk7XG5cbiAgLy9zdGF0aWNfaW5pdF9kb25lID0gdHJ1ZTtcbn1cblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEluaXRpYWxpemUgYSBuZXcgYmxvY2suXG4gKi9cbmZ1bmN0aW9uIGluaXRfYmxvY2socykge1xuICB2YXIgbjsgLyogaXRlcmF0ZXMgb3ZlciB0cmVlIGVsZW1lbnRzICovXG5cbiAgLyogSW5pdGlhbGl6ZSB0aGUgdHJlZXMuICovXG4gIGZvciAobiA9IDA7IG4gPCBMX0NPREVTOyBuKyspIHtcbiAgICBzLmR5bl9sdHJlZVtuICogMl0gLyouRnJlcSovID0gMDtcbiAgfVxuICBmb3IgKG4gPSAwOyBuIDwgRF9DT0RFUzsgbisrKSB7XG4gICAgcy5keW5fZHRyZWVbbiAqIDJdIC8qLkZyZXEqLyA9IDA7XG4gIH1cbiAgZm9yIChuID0gMDsgbiA8IEJMX0NPREVTOyBuKyspIHtcbiAgICBzLmJsX3RyZWVbbiAqIDJdIC8qLkZyZXEqLyA9IDA7XG4gIH1cblxuICBzLmR5bl9sdHJlZVtFTkRfQkxPQ0sgKiAyXSAvKi5GcmVxKi8gPSAxO1xuICBzLm9wdF9sZW4gPSBzLnN0YXRpY19sZW4gPSAwO1xuICBzLmxhc3RfbGl0ID0gcy5tYXRjaGVzID0gMDtcbn1cblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEZsdXNoIHRoZSBiaXQgYnVmZmVyIGFuZCBhbGlnbiB0aGUgb3V0cHV0IG9uIGEgYnl0ZSBib3VuZGFyeVxuICovXG5mdW5jdGlvbiBiaV93aW5kdXAocykge1xuICBpZiAocy5iaV92YWxpZCA+IDgpIHtcbiAgICBwdXRfc2hvcnQocywgcy5iaV9idWYpO1xuICB9IGVsc2UgaWYgKHMuYmlfdmFsaWQgPiAwKSB7XG4gICAgLy9wdXRfYnl0ZShzLCAoQnl0ZSlzLT5iaV9idWYpO1xuICAgIHMucGVuZGluZ19idWZbcy5wZW5kaW5nKytdID0gcy5iaV9idWY7XG4gIH1cbiAgcy5iaV9idWYgPSAwO1xuICBzLmJpX3ZhbGlkID0gMDtcbn1cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5IGEgc3RvcmVkIGJsb2NrLCBzdG9yaW5nIGZpcnN0IHRoZSBsZW5ndGggYW5kIGl0c1xuICogb25lJ3MgY29tcGxlbWVudCBpZiByZXF1ZXN0ZWQuXG4gKi9cbmZ1bmN0aW9uIGNvcHlfYmxvY2socywgYnVmLCBsZW4sIGhlYWRlcikge1xuLy9EZWZsYXRlU3RhdGUgKnM7XG4vL2NoYXJmICAgICpidWY7ICAgIC8qIHRoZSBpbnB1dCBkYXRhICovXG4vL3Vuc2lnbmVkIGxlbjsgICAgIC8qIGl0cyBsZW5ndGggKi9cbi8vaW50ICAgICAgaGVhZGVyOyAgLyogdHJ1ZSBpZiBibG9jayBoZWFkZXIgbXVzdCBiZSB3cml0dGVuICovXG5cbiAgYmlfd2luZHVwKHMpOyAvKiBhbGlnbiBvbiBieXRlIGJvdW5kYXJ5ICovXG5cbiAgaWYgKGhlYWRlcikge1xuICAgIHB1dF9zaG9ydChzLCBsZW4pO1xuICAgIHB1dF9zaG9ydChzLCB+bGVuKTtcbiAgfVxuICAvLyAgd2hpbGUgKGxlbi0tKSB7XG4gIC8vICAgIHB1dF9ieXRlKHMsICpidWYrKyk7XG4gIC8vICB9XG4gIGFycmF5U2V0KHMucGVuZGluZ19idWYsIHMud2luZG93LCBidWYsIGxlbiwgcy5wZW5kaW5nKTtcbiAgcy5wZW5kaW5nICs9IGxlbjtcbn1cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb21wYXJlcyB0byBzdWJ0cmVlcywgdXNpbmcgdGhlIHRyZWUgZGVwdGggYXMgdGllIGJyZWFrZXIgd2hlblxuICogdGhlIHN1YnRyZWVzIGhhdmUgZXF1YWwgZnJlcXVlbmN5LiBUaGlzIG1pbmltaXplcyB0aGUgd29yc3QgY2FzZSBsZW5ndGguXG4gKi9cbmZ1bmN0aW9uIHNtYWxsZXIodHJlZSwgbiwgbSwgZGVwdGgpIHtcbiAgdmFyIF9uMiA9IG4gKiAyO1xuICB2YXIgX20yID0gbSAqIDI7XG4gIHJldHVybiAodHJlZVtfbjJdIC8qLkZyZXEqLyA8IHRyZWVbX20yXSAvKi5GcmVxKi8gfHxcbiAgICAodHJlZVtfbjJdIC8qLkZyZXEqLyA9PT0gdHJlZVtfbTJdIC8qLkZyZXEqLyAmJiBkZXB0aFtuXSA8PSBkZXB0aFttXSkpO1xufVxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIFJlc3RvcmUgdGhlIGhlYXAgcHJvcGVydHkgYnkgbW92aW5nIGRvd24gdGhlIHRyZWUgc3RhcnRpbmcgYXQgbm9kZSBrLFxuICogZXhjaGFuZ2luZyBhIG5vZGUgd2l0aCB0aGUgc21hbGxlc3Qgb2YgaXRzIHR3byBzb25zIGlmIG5lY2Vzc2FyeSwgc3RvcHBpbmdcbiAqIHdoZW4gdGhlIGhlYXAgcHJvcGVydHkgaXMgcmUtZXN0YWJsaXNoZWQgKGVhY2ggZmF0aGVyIHNtYWxsZXIgdGhhbiBpdHNcbiAqIHR3byBzb25zKS5cbiAqL1xuZnVuY3Rpb24gcHFkb3duaGVhcChzLCB0cmVlLCBrKVxuLy8gICAgZGVmbGF0ZV9zdGF0ZSAqcztcbi8vICAgIGN0X2RhdGEgKnRyZWU7ICAvKiB0aGUgdHJlZSB0byByZXN0b3JlICovXG4vLyAgICBpbnQgazsgICAgICAgICAgICAgICAvKiBub2RlIHRvIG1vdmUgZG93biAqL1xue1xuICB2YXIgdiA9IHMuaGVhcFtrXTtcbiAgdmFyIGogPSBrIDw8IDE7IC8qIGxlZnQgc29uIG9mIGsgKi9cbiAgd2hpbGUgKGogPD0gcy5oZWFwX2xlbikge1xuICAgIC8qIFNldCBqIHRvIHRoZSBzbWFsbGVzdCBvZiB0aGUgdHdvIHNvbnM6ICovXG4gICAgaWYgKGogPCBzLmhlYXBfbGVuICYmXG4gICAgICBzbWFsbGVyKHRyZWUsIHMuaGVhcFtqICsgMV0sIHMuaGVhcFtqXSwgcy5kZXB0aCkpIHtcbiAgICAgIGorKztcbiAgICB9XG4gICAgLyogRXhpdCBpZiB2IGlzIHNtYWxsZXIgdGhhbiBib3RoIHNvbnMgKi9cbiAgICBpZiAoc21hbGxlcih0cmVlLCB2LCBzLmhlYXBbal0sIHMuZGVwdGgpKSB7XG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICAvKiBFeGNoYW5nZSB2IHdpdGggdGhlIHNtYWxsZXN0IHNvbiAqL1xuICAgIHMuaGVhcFtrXSA9IHMuaGVhcFtqXTtcbiAgICBrID0gajtcblxuICAgIC8qIEFuZCBjb250aW51ZSBkb3duIHRoZSB0cmVlLCBzZXR0aW5nIGogdG8gdGhlIGxlZnQgc29uIG9mIGsgKi9cbiAgICBqIDw8PSAxO1xuICB9XG4gIHMuaGVhcFtrXSA9IHY7XG59XG5cblxuLy8gaW5saW5lZCBtYW51YWxseVxuLy8gdmFyIFNNQUxMRVNUID0gMTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBTZW5kIHRoZSBibG9jayBkYXRhIGNvbXByZXNzZWQgdXNpbmcgdGhlIGdpdmVuIEh1ZmZtYW4gdHJlZXNcbiAqL1xuZnVuY3Rpb24gY29tcHJlc3NfYmxvY2socywgbHRyZWUsIGR0cmVlKVxuLy8gICAgZGVmbGF0ZV9zdGF0ZSAqcztcbi8vICAgIGNvbnN0IGN0X2RhdGEgKmx0cmVlOyAvKiBsaXRlcmFsIHRyZWUgKi9cbi8vICAgIGNvbnN0IGN0X2RhdGEgKmR0cmVlOyAvKiBkaXN0YW5jZSB0cmVlICovXG57XG4gIHZhciBkaXN0OyAvKiBkaXN0YW5jZSBvZiBtYXRjaGVkIHN0cmluZyAqL1xuICB2YXIgbGM7IC8qIG1hdGNoIGxlbmd0aCBvciB1bm1hdGNoZWQgY2hhciAoaWYgZGlzdCA9PSAwKSAqL1xuICB2YXIgbHggPSAwOyAvKiBydW5uaW5nIGluZGV4IGluIGxfYnVmICovXG4gIHZhciBjb2RlOyAvKiB0aGUgY29kZSB0byBzZW5kICovXG4gIHZhciBleHRyYTsgLyogbnVtYmVyIG9mIGV4dHJhIGJpdHMgdG8gc2VuZCAqL1xuXG4gIGlmIChzLmxhc3RfbGl0ICE9PSAwKSB7XG4gICAgZG8ge1xuICAgICAgZGlzdCA9IChzLnBlbmRpbmdfYnVmW3MuZF9idWYgKyBseCAqIDJdIDw8IDgpIHwgKHMucGVuZGluZ19idWZbcy5kX2J1ZiArIGx4ICogMiArIDFdKTtcbiAgICAgIGxjID0gcy5wZW5kaW5nX2J1ZltzLmxfYnVmICsgbHhdO1xuICAgICAgbHgrKztcblxuICAgICAgaWYgKGRpc3QgPT09IDApIHtcbiAgICAgICAgc2VuZF9jb2RlKHMsIGxjLCBsdHJlZSk7IC8qIHNlbmQgYSBsaXRlcmFsIGJ5dGUgKi9cbiAgICAgICAgLy9UcmFjZWN2KGlzZ3JhcGgobGMpLCAoc3RkZXJyLFwiICclYycgXCIsIGxjKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvKiBIZXJlLCBsYyBpcyB0aGUgbWF0Y2ggbGVuZ3RoIC0gTUlOX01BVENIICovXG4gICAgICAgIGNvZGUgPSBfbGVuZ3RoX2NvZGVbbGNdO1xuICAgICAgICBzZW5kX2NvZGUocywgY29kZSArIExJVEVSQUxTICsgMSwgbHRyZWUpOyAvKiBzZW5kIHRoZSBsZW5ndGggY29kZSAqL1xuICAgICAgICBleHRyYSA9IGV4dHJhX2xiaXRzW2NvZGVdO1xuICAgICAgICBpZiAoZXh0cmEgIT09IDApIHtcbiAgICAgICAgICBsYyAtPSBiYXNlX2xlbmd0aFtjb2RlXTtcbiAgICAgICAgICBzZW5kX2JpdHMocywgbGMsIGV4dHJhKTsgLyogc2VuZCB0aGUgZXh0cmEgbGVuZ3RoIGJpdHMgKi9cbiAgICAgICAgfVxuICAgICAgICBkaXN0LS07IC8qIGRpc3QgaXMgbm93IHRoZSBtYXRjaCBkaXN0YW5jZSAtIDEgKi9cbiAgICAgICAgY29kZSA9IGRfY29kZShkaXN0KTtcbiAgICAgICAgLy9Bc3NlcnQgKGNvZGUgPCBEX0NPREVTLCBcImJhZCBkX2NvZGVcIik7XG5cbiAgICAgICAgc2VuZF9jb2RlKHMsIGNvZGUsIGR0cmVlKTsgLyogc2VuZCB0aGUgZGlzdGFuY2UgY29kZSAqL1xuICAgICAgICBleHRyYSA9IGV4dHJhX2RiaXRzW2NvZGVdO1xuICAgICAgICBpZiAoZXh0cmEgIT09IDApIHtcbiAgICAgICAgICBkaXN0IC09IGJhc2VfZGlzdFtjb2RlXTtcbiAgICAgICAgICBzZW5kX2JpdHMocywgZGlzdCwgZXh0cmEpOyAvKiBzZW5kIHRoZSBleHRyYSBkaXN0YW5jZSBiaXRzICovXG4gICAgICAgIH1cbiAgICAgIH0gLyogbGl0ZXJhbCBvciBtYXRjaCBwYWlyID8gKi9cblxuICAgICAgLyogQ2hlY2sgdGhhdCB0aGUgb3ZlcmxheSBiZXR3ZWVuIHBlbmRpbmdfYnVmIGFuZCBkX2J1ZitsX2J1ZiBpcyBvazogKi9cbiAgICAgIC8vQXNzZXJ0KCh1SW50KShzLT5wZW5kaW5nKSA8IHMtPmxpdF9idWZzaXplICsgMipseCxcbiAgICAgIC8vICAgICAgIFwicGVuZGluZ0J1ZiBvdmVyZmxvd1wiKTtcblxuICAgIH0gd2hpbGUgKGx4IDwgcy5sYXN0X2xpdCk7XG4gIH1cblxuICBzZW5kX2NvZGUocywgRU5EX0JMT0NLLCBsdHJlZSk7XG59XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb25zdHJ1Y3Qgb25lIEh1ZmZtYW4gdHJlZSBhbmQgYXNzaWducyB0aGUgY29kZSBiaXQgc3RyaW5ncyBhbmQgbGVuZ3Rocy5cbiAqIFVwZGF0ZSB0aGUgdG90YWwgYml0IGxlbmd0aCBmb3IgdGhlIGN1cnJlbnQgYmxvY2suXG4gKiBJTiBhc3NlcnRpb246IHRoZSBmaWVsZCBmcmVxIGlzIHNldCBmb3IgYWxsIHRyZWUgZWxlbWVudHMuXG4gKiBPVVQgYXNzZXJ0aW9uczogdGhlIGZpZWxkcyBsZW4gYW5kIGNvZGUgYXJlIHNldCB0byB0aGUgb3B0aW1hbCBiaXQgbGVuZ3RoXG4gKiAgICAgYW5kIGNvcnJlc3BvbmRpbmcgY29kZS4gVGhlIGxlbmd0aCBvcHRfbGVuIGlzIHVwZGF0ZWQ7IHN0YXRpY19sZW4gaXNcbiAqICAgICBhbHNvIHVwZGF0ZWQgaWYgc3RyZWUgaXMgbm90IG51bGwuIFRoZSBmaWVsZCBtYXhfY29kZSBpcyBzZXQuXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkX3RyZWUocywgZGVzYylcbi8vICAgIGRlZmxhdGVfc3RhdGUgKnM7XG4vLyAgICB0cmVlX2Rlc2MgKmRlc2M7IC8qIHRoZSB0cmVlIGRlc2NyaXB0b3IgKi9cbntcbiAgdmFyIHRyZWUgPSBkZXNjLmR5bl90cmVlO1xuICB2YXIgc3RyZWUgPSBkZXNjLnN0YXRfZGVzYy5zdGF0aWNfdHJlZTtcbiAgdmFyIGhhc19zdHJlZSA9IGRlc2Muc3RhdF9kZXNjLmhhc19zdHJlZTtcbiAgdmFyIGVsZW1zID0gZGVzYy5zdGF0X2Rlc2MuZWxlbXM7XG4gIHZhciBuLCBtOyAvKiBpdGVyYXRlIG92ZXIgaGVhcCBlbGVtZW50cyAqL1xuICB2YXIgbWF4X2NvZGUgPSAtMTsgLyogbGFyZ2VzdCBjb2RlIHdpdGggbm9uIHplcm8gZnJlcXVlbmN5ICovXG4gIHZhciBub2RlOyAvKiBuZXcgbm9kZSBiZWluZyBjcmVhdGVkICovXG5cbiAgLyogQ29uc3RydWN0IHRoZSBpbml0aWFsIGhlYXAsIHdpdGggbGVhc3QgZnJlcXVlbnQgZWxlbWVudCBpblxuICAgKiBoZWFwW1NNQUxMRVNUXS4gVGhlIHNvbnMgb2YgaGVhcFtuXSBhcmUgaGVhcFsyKm5dIGFuZCBoZWFwWzIqbisxXS5cbiAgICogaGVhcFswXSBpcyBub3QgdXNlZC5cbiAgICovXG4gIHMuaGVhcF9sZW4gPSAwO1xuICBzLmhlYXBfbWF4ID0gSEVBUF9TSVpFO1xuXG4gIGZvciAobiA9IDA7IG4gPCBlbGVtczsgbisrKSB7XG4gICAgaWYgKHRyZWVbbiAqIDJdIC8qLkZyZXEqLyAhPT0gMCkge1xuICAgICAgcy5oZWFwWysrcy5oZWFwX2xlbl0gPSBtYXhfY29kZSA9IG47XG4gICAgICBzLmRlcHRoW25dID0gMDtcblxuICAgIH0gZWxzZSB7XG4gICAgICB0cmVlW24gKiAyICsgMV0gLyouTGVuKi8gPSAwO1xuICAgIH1cbiAgfVxuXG4gIC8qIFRoZSBwa3ppcCBmb3JtYXQgcmVxdWlyZXMgdGhhdCBhdCBsZWFzdCBvbmUgZGlzdGFuY2UgY29kZSBleGlzdHMsXG4gICAqIGFuZCB0aGF0IGF0IGxlYXN0IG9uZSBiaXQgc2hvdWxkIGJlIHNlbnQgZXZlbiBpZiB0aGVyZSBpcyBvbmx5IG9uZVxuICAgKiBwb3NzaWJsZSBjb2RlLiBTbyB0byBhdm9pZCBzcGVjaWFsIGNoZWNrcyBsYXRlciBvbiB3ZSBmb3JjZSBhdCBsZWFzdFxuICAgKiB0d28gY29kZXMgb2Ygbm9uIHplcm8gZnJlcXVlbmN5LlxuICAgKi9cbiAgd2hpbGUgKHMuaGVhcF9sZW4gPCAyKSB7XG4gICAgbm9kZSA9IHMuaGVhcFsrK3MuaGVhcF9sZW5dID0gKG1heF9jb2RlIDwgMiA/ICsrbWF4X2NvZGUgOiAwKTtcbiAgICB0cmVlW25vZGUgKiAyXSAvKi5GcmVxKi8gPSAxO1xuICAgIHMuZGVwdGhbbm9kZV0gPSAwO1xuICAgIHMub3B0X2xlbi0tO1xuXG4gICAgaWYgKGhhc19zdHJlZSkge1xuICAgICAgcy5zdGF0aWNfbGVuIC09IHN0cmVlW25vZGUgKiAyICsgMV0gLyouTGVuKi8gO1xuICAgIH1cbiAgICAvKiBub2RlIGlzIDAgb3IgMSBzbyBpdCBkb2VzIG5vdCBoYXZlIGV4dHJhIGJpdHMgKi9cbiAgfVxuICBkZXNjLm1heF9jb2RlID0gbWF4X2NvZGU7XG5cbiAgLyogVGhlIGVsZW1lbnRzIGhlYXBbaGVhcF9sZW4vMisxIC4uIGhlYXBfbGVuXSBhcmUgbGVhdmVzIG9mIHRoZSB0cmVlLFxuICAgKiBlc3RhYmxpc2ggc3ViLWhlYXBzIG9mIGluY3JlYXNpbmcgbGVuZ3RoczpcbiAgICovXG4gIGZvciAobiA9IChzLmhlYXBfbGVuID4+IDEgLyppbnQgLzIqLyApOyBuID49IDE7IG4tLSkge1xuICAgIHBxZG93bmhlYXAocywgdHJlZSwgbik7XG4gIH1cblxuICAvKiBDb25zdHJ1Y3QgdGhlIEh1ZmZtYW4gdHJlZSBieSByZXBlYXRlZGx5IGNvbWJpbmluZyB0aGUgbGVhc3QgdHdvXG4gICAqIGZyZXF1ZW50IG5vZGVzLlxuICAgKi9cbiAgbm9kZSA9IGVsZW1zOyAvKiBuZXh0IGludGVybmFsIG5vZGUgb2YgdGhlIHRyZWUgKi9cbiAgZG8ge1xuICAgIC8vcHFyZW1vdmUocywgdHJlZSwgbik7ICAvKiBuID0gbm9kZSBvZiBsZWFzdCBmcmVxdWVuY3kgKi9cbiAgICAvKioqIHBxcmVtb3ZlICoqKi9cbiAgICBuID0gcy5oZWFwWzEgLypTTUFMTEVTVCovIF07XG4gICAgcy5oZWFwWzEgLypTTUFMTEVTVCovIF0gPSBzLmhlYXBbcy5oZWFwX2xlbi0tXTtcbiAgICBwcWRvd25oZWFwKHMsIHRyZWUsIDEgLypTTUFMTEVTVCovICk7XG4gICAgLyoqKi9cblxuICAgIG0gPSBzLmhlYXBbMSAvKlNNQUxMRVNUKi8gXTsgLyogbSA9IG5vZGUgb2YgbmV4dCBsZWFzdCBmcmVxdWVuY3kgKi9cblxuICAgIHMuaGVhcFstLXMuaGVhcF9tYXhdID0gbjsgLyoga2VlcCB0aGUgbm9kZXMgc29ydGVkIGJ5IGZyZXF1ZW5jeSAqL1xuICAgIHMuaGVhcFstLXMuaGVhcF9tYXhdID0gbTtcblxuICAgIC8qIENyZWF0ZSBhIG5ldyBub2RlIGZhdGhlciBvZiBuIGFuZCBtICovXG4gICAgdHJlZVtub2RlICogMl0gLyouRnJlcSovID0gdHJlZVtuICogMl0gLyouRnJlcSovICsgdHJlZVttICogMl0gLyouRnJlcSovIDtcbiAgICBzLmRlcHRoW25vZGVdID0gKHMuZGVwdGhbbl0gPj0gcy5kZXB0aFttXSA/IHMuZGVwdGhbbl0gOiBzLmRlcHRoW21dKSArIDE7XG4gICAgdHJlZVtuICogMiArIDFdIC8qLkRhZCovID0gdHJlZVttICogMiArIDFdIC8qLkRhZCovID0gbm9kZTtcblxuICAgIC8qIGFuZCBpbnNlcnQgdGhlIG5ldyBub2RlIGluIHRoZSBoZWFwICovXG4gICAgcy5oZWFwWzEgLypTTUFMTEVTVCovIF0gPSBub2RlKys7XG4gICAgcHFkb3duaGVhcChzLCB0cmVlLCAxIC8qU01BTExFU1QqLyApO1xuXG4gIH0gd2hpbGUgKHMuaGVhcF9sZW4gPj0gMik7XG5cbiAgcy5oZWFwWy0tcy5oZWFwX21heF0gPSBzLmhlYXBbMSAvKlNNQUxMRVNUKi8gXTtcblxuICAvKiBBdCB0aGlzIHBvaW50LCB0aGUgZmllbGRzIGZyZXEgYW5kIGRhZCBhcmUgc2V0LiBXZSBjYW4gbm93XG4gICAqIGdlbmVyYXRlIHRoZSBiaXQgbGVuZ3Rocy5cbiAgICovXG4gIGdlbl9iaXRsZW4ocywgZGVzYyk7XG5cbiAgLyogVGhlIGZpZWxkIGxlbiBpcyBub3cgc2V0LCB3ZSBjYW4gZ2VuZXJhdGUgdGhlIGJpdCBjb2RlcyAqL1xuICBnZW5fY29kZXModHJlZSwgbWF4X2NvZGUsIHMuYmxfY291bnQpO1xufVxuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogU2NhbiBhIGxpdGVyYWwgb3IgZGlzdGFuY2UgdHJlZSB0byBkZXRlcm1pbmUgdGhlIGZyZXF1ZW5jaWVzIG9mIHRoZSBjb2Rlc1xuICogaW4gdGhlIGJpdCBsZW5ndGggdHJlZS5cbiAqL1xuZnVuY3Rpb24gc2Nhbl90cmVlKHMsIHRyZWUsIG1heF9jb2RlKVxuLy8gICAgZGVmbGF0ZV9zdGF0ZSAqcztcbi8vICAgIGN0X2RhdGEgKnRyZWU7ICAgLyogdGhlIHRyZWUgdG8gYmUgc2Nhbm5lZCAqL1xuLy8gICAgaW50IG1heF9jb2RlOyAgICAvKiBhbmQgaXRzIGxhcmdlc3QgY29kZSBvZiBub24gemVybyBmcmVxdWVuY3kgKi9cbntcbiAgdmFyIG47IC8qIGl0ZXJhdGVzIG92ZXIgYWxsIHRyZWUgZWxlbWVudHMgKi9cbiAgdmFyIHByZXZsZW4gPSAtMTsgLyogbGFzdCBlbWl0dGVkIGxlbmd0aCAqL1xuICB2YXIgY3VybGVuOyAvKiBsZW5ndGggb2YgY3VycmVudCBjb2RlICovXG5cbiAgdmFyIG5leHRsZW4gPSB0cmVlWzAgKiAyICsgMV0gLyouTGVuKi8gOyAvKiBsZW5ndGggb2YgbmV4dCBjb2RlICovXG5cbiAgdmFyIGNvdW50ID0gMDsgLyogcmVwZWF0IGNvdW50IG9mIHRoZSBjdXJyZW50IGNvZGUgKi9cbiAgdmFyIG1heF9jb3VudCA9IDc7IC8qIG1heCByZXBlYXQgY291bnQgKi9cbiAgdmFyIG1pbl9jb3VudCA9IDQ7IC8qIG1pbiByZXBlYXQgY291bnQgKi9cblxuICBpZiAobmV4dGxlbiA9PT0gMCkge1xuICAgIG1heF9jb3VudCA9IDEzODtcbiAgICBtaW5fY291bnQgPSAzO1xuICB9XG4gIHRyZWVbKG1heF9jb2RlICsgMSkgKiAyICsgMV0gLyouTGVuKi8gPSAweGZmZmY7IC8qIGd1YXJkICovXG5cbiAgZm9yIChuID0gMDsgbiA8PSBtYXhfY29kZTsgbisrKSB7XG4gICAgY3VybGVuID0gbmV4dGxlbjtcbiAgICBuZXh0bGVuID0gdHJlZVsobiArIDEpICogMiArIDFdIC8qLkxlbiovIDtcblxuICAgIGlmICgrK2NvdW50IDwgbWF4X2NvdW50ICYmIGN1cmxlbiA9PT0gbmV4dGxlbikge1xuICAgICAgY29udGludWU7XG5cbiAgICB9IGVsc2UgaWYgKGNvdW50IDwgbWluX2NvdW50KSB7XG4gICAgICBzLmJsX3RyZWVbY3VybGVuICogMl0gLyouRnJlcSovICs9IGNvdW50O1xuXG4gICAgfSBlbHNlIGlmIChjdXJsZW4gIT09IDApIHtcblxuICAgICAgaWYgKGN1cmxlbiAhPT0gcHJldmxlbikge1xuICAgICAgICBzLmJsX3RyZWVbY3VybGVuICogMl0gLyouRnJlcSovICsrO1xuICAgICAgfVxuICAgICAgcy5ibF90cmVlW1JFUF8zXzYgKiAyXSAvKi5GcmVxKi8gKys7XG5cbiAgICB9IGVsc2UgaWYgKGNvdW50IDw9IDEwKSB7XG4gICAgICBzLmJsX3RyZWVbUkVQWl8zXzEwICogMl0gLyouRnJlcSovICsrO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIHMuYmxfdHJlZVtSRVBaXzExXzEzOCAqIDJdIC8qLkZyZXEqLyArKztcbiAgICB9XG5cbiAgICBjb3VudCA9IDA7XG4gICAgcHJldmxlbiA9IGN1cmxlbjtcblxuICAgIGlmIChuZXh0bGVuID09PSAwKSB7XG4gICAgICBtYXhfY291bnQgPSAxMzg7XG4gICAgICBtaW5fY291bnQgPSAzO1xuXG4gICAgfSBlbHNlIGlmIChjdXJsZW4gPT09IG5leHRsZW4pIHtcbiAgICAgIG1heF9jb3VudCA9IDY7XG4gICAgICBtaW5fY291bnQgPSAzO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIG1heF9jb3VudCA9IDc7XG4gICAgICBtaW5fY291bnQgPSA0O1xuICAgIH1cbiAgfVxufVxuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogU2VuZCBhIGxpdGVyYWwgb3IgZGlzdGFuY2UgdHJlZSBpbiBjb21wcmVzc2VkIGZvcm0sIHVzaW5nIHRoZSBjb2RlcyBpblxuICogYmxfdHJlZS5cbiAqL1xuZnVuY3Rpb24gc2VuZF90cmVlKHMsIHRyZWUsIG1heF9jb2RlKVxuLy8gICAgZGVmbGF0ZV9zdGF0ZSAqcztcbi8vICAgIGN0X2RhdGEgKnRyZWU7IC8qIHRoZSB0cmVlIHRvIGJlIHNjYW5uZWQgKi9cbi8vICAgIGludCBtYXhfY29kZTsgICAgICAgLyogYW5kIGl0cyBsYXJnZXN0IGNvZGUgb2Ygbm9uIHplcm8gZnJlcXVlbmN5ICovXG57XG4gIHZhciBuOyAvKiBpdGVyYXRlcyBvdmVyIGFsbCB0cmVlIGVsZW1lbnRzICovXG4gIHZhciBwcmV2bGVuID0gLTE7IC8qIGxhc3QgZW1pdHRlZCBsZW5ndGggKi9cbiAgdmFyIGN1cmxlbjsgLyogbGVuZ3RoIG9mIGN1cnJlbnQgY29kZSAqL1xuXG4gIHZhciBuZXh0bGVuID0gdHJlZVswICogMiArIDFdIC8qLkxlbiovIDsgLyogbGVuZ3RoIG9mIG5leHQgY29kZSAqL1xuXG4gIHZhciBjb3VudCA9IDA7IC8qIHJlcGVhdCBjb3VudCBvZiB0aGUgY3VycmVudCBjb2RlICovXG4gIHZhciBtYXhfY291bnQgPSA3OyAvKiBtYXggcmVwZWF0IGNvdW50ICovXG4gIHZhciBtaW5fY291bnQgPSA0OyAvKiBtaW4gcmVwZWF0IGNvdW50ICovXG5cbiAgLyogdHJlZVttYXhfY29kZSsxXS5MZW4gPSAtMTsgKi9cbiAgLyogZ3VhcmQgYWxyZWFkeSBzZXQgKi9cbiAgaWYgKG5leHRsZW4gPT09IDApIHtcbiAgICBtYXhfY291bnQgPSAxMzg7XG4gICAgbWluX2NvdW50ID0gMztcbiAgfVxuXG4gIGZvciAobiA9IDA7IG4gPD0gbWF4X2NvZGU7IG4rKykge1xuICAgIGN1cmxlbiA9IG5leHRsZW47XG4gICAgbmV4dGxlbiA9IHRyZWVbKG4gKyAxKSAqIDIgKyAxXSAvKi5MZW4qLyA7XG5cbiAgICBpZiAoKytjb3VudCA8IG1heF9jb3VudCAmJiBjdXJsZW4gPT09IG5leHRsZW4pIHtcbiAgICAgIGNvbnRpbnVlO1xuXG4gICAgfSBlbHNlIGlmIChjb3VudCA8IG1pbl9jb3VudCkge1xuICAgICAgZG8ge1xuICAgICAgICBzZW5kX2NvZGUocywgY3VybGVuLCBzLmJsX3RyZWUpO1xuICAgICAgfSB3aGlsZSAoLS1jb3VudCAhPT0gMCk7XG5cbiAgICB9IGVsc2UgaWYgKGN1cmxlbiAhPT0gMCkge1xuICAgICAgaWYgKGN1cmxlbiAhPT0gcHJldmxlbikge1xuICAgICAgICBzZW5kX2NvZGUocywgY3VybGVuLCBzLmJsX3RyZWUpO1xuICAgICAgICBjb3VudC0tO1xuICAgICAgfVxuICAgICAgLy9Bc3NlcnQoY291bnQgPj0gMyAmJiBjb3VudCA8PSA2LCBcIiAzXzY/XCIpO1xuICAgICAgc2VuZF9jb2RlKHMsIFJFUF8zXzYsIHMuYmxfdHJlZSk7XG4gICAgICBzZW5kX2JpdHMocywgY291bnQgLSAzLCAyKTtcblxuICAgIH0gZWxzZSBpZiAoY291bnQgPD0gMTApIHtcbiAgICAgIHNlbmRfY29kZShzLCBSRVBaXzNfMTAsIHMuYmxfdHJlZSk7XG4gICAgICBzZW5kX2JpdHMocywgY291bnQgLSAzLCAzKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICBzZW5kX2NvZGUocywgUkVQWl8xMV8xMzgsIHMuYmxfdHJlZSk7XG4gICAgICBzZW5kX2JpdHMocywgY291bnQgLSAxMSwgNyk7XG4gICAgfVxuXG4gICAgY291bnQgPSAwO1xuICAgIHByZXZsZW4gPSBjdXJsZW47XG4gICAgaWYgKG5leHRsZW4gPT09IDApIHtcbiAgICAgIG1heF9jb3VudCA9IDEzODtcbiAgICAgIG1pbl9jb3VudCA9IDM7XG5cbiAgICB9IGVsc2UgaWYgKGN1cmxlbiA9PT0gbmV4dGxlbikge1xuICAgICAgbWF4X2NvdW50ID0gNjtcbiAgICAgIG1pbl9jb3VudCA9IDM7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgbWF4X2NvdW50ID0gNztcbiAgICAgIG1pbl9jb3VudCA9IDQ7XG4gICAgfVxuICB9XG59XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb25zdHJ1Y3QgdGhlIEh1ZmZtYW4gdHJlZSBmb3IgdGhlIGJpdCBsZW5ndGhzIGFuZCByZXR1cm4gdGhlIGluZGV4IGluXG4gKiBibF9vcmRlciBvZiB0aGUgbGFzdCBiaXQgbGVuZ3RoIGNvZGUgdG8gc2VuZC5cbiAqL1xuZnVuY3Rpb24gYnVpbGRfYmxfdHJlZShzKSB7XG4gIHZhciBtYXhfYmxpbmRleDsgLyogaW5kZXggb2YgbGFzdCBiaXQgbGVuZ3RoIGNvZGUgb2Ygbm9uIHplcm8gZnJlcSAqL1xuXG4gIC8qIERldGVybWluZSB0aGUgYml0IGxlbmd0aCBmcmVxdWVuY2llcyBmb3IgbGl0ZXJhbCBhbmQgZGlzdGFuY2UgdHJlZXMgKi9cbiAgc2Nhbl90cmVlKHMsIHMuZHluX2x0cmVlLCBzLmxfZGVzYy5tYXhfY29kZSk7XG4gIHNjYW5fdHJlZShzLCBzLmR5bl9kdHJlZSwgcy5kX2Rlc2MubWF4X2NvZGUpO1xuXG4gIC8qIEJ1aWxkIHRoZSBiaXQgbGVuZ3RoIHRyZWU6ICovXG4gIGJ1aWxkX3RyZWUocywgcy5ibF9kZXNjKTtcbiAgLyogb3B0X2xlbiBub3cgaW5jbHVkZXMgdGhlIGxlbmd0aCBvZiB0aGUgdHJlZSByZXByZXNlbnRhdGlvbnMsIGV4Y2VwdFxuICAgKiB0aGUgbGVuZ3RocyBvZiB0aGUgYml0IGxlbmd0aHMgY29kZXMgYW5kIHRoZSA1KzUrNCBiaXRzIGZvciB0aGUgY291bnRzLlxuICAgKi9cblxuICAvKiBEZXRlcm1pbmUgdGhlIG51bWJlciBvZiBiaXQgbGVuZ3RoIGNvZGVzIHRvIHNlbmQuIFRoZSBwa3ppcCBmb3JtYXRcbiAgICogcmVxdWlyZXMgdGhhdCBhdCBsZWFzdCA0IGJpdCBsZW5ndGggY29kZXMgYmUgc2VudC4gKGFwcG5vdGUudHh0IHNheXNcbiAgICogMyBidXQgdGhlIGFjdHVhbCB2YWx1ZSB1c2VkIGlzIDQuKVxuICAgKi9cbiAgZm9yIChtYXhfYmxpbmRleCA9IEJMX0NPREVTIC0gMTsgbWF4X2JsaW5kZXggPj0gMzsgbWF4X2JsaW5kZXgtLSkge1xuICAgIGlmIChzLmJsX3RyZWVbYmxfb3JkZXJbbWF4X2JsaW5kZXhdICogMiArIDFdIC8qLkxlbiovICE9PSAwKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgLyogVXBkYXRlIG9wdF9sZW4gdG8gaW5jbHVkZSB0aGUgYml0IGxlbmd0aCB0cmVlIGFuZCBjb3VudHMgKi9cbiAgcy5vcHRfbGVuICs9IDMgKiAobWF4X2JsaW5kZXggKyAxKSArIDUgKyA1ICsgNDtcbiAgLy9UcmFjZXYoKHN0ZGVyciwgXCJcXG5keW4gdHJlZXM6IGR5biAlbGQsIHN0YXQgJWxkXCIsXG4gIC8vICAgICAgICBzLT5vcHRfbGVuLCBzLT5zdGF0aWNfbGVuKSk7XG5cbiAgcmV0dXJuIG1heF9ibGluZGV4O1xufVxuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogU2VuZCB0aGUgaGVhZGVyIGZvciBhIGJsb2NrIHVzaW5nIGR5bmFtaWMgSHVmZm1hbiB0cmVlczogdGhlIGNvdW50cywgdGhlXG4gKiBsZW5ndGhzIG9mIHRoZSBiaXQgbGVuZ3RoIGNvZGVzLCB0aGUgbGl0ZXJhbCB0cmVlIGFuZCB0aGUgZGlzdGFuY2UgdHJlZS5cbiAqIElOIGFzc2VydGlvbjogbGNvZGVzID49IDI1NywgZGNvZGVzID49IDEsIGJsY29kZXMgPj0gNC5cbiAqL1xuZnVuY3Rpb24gc2VuZF9hbGxfdHJlZXMocywgbGNvZGVzLCBkY29kZXMsIGJsY29kZXMpXG4vLyAgICBkZWZsYXRlX3N0YXRlICpzO1xuLy8gICAgaW50IGxjb2RlcywgZGNvZGVzLCBibGNvZGVzOyAvKiBudW1iZXIgb2YgY29kZXMgZm9yIGVhY2ggdHJlZSAqL1xue1xuICB2YXIgcmFuazsgLyogaW5kZXggaW4gYmxfb3JkZXIgKi9cblxuICAvL0Fzc2VydCAobGNvZGVzID49IDI1NyAmJiBkY29kZXMgPj0gMSAmJiBibGNvZGVzID49IDQsIFwibm90IGVub3VnaCBjb2Rlc1wiKTtcbiAgLy9Bc3NlcnQgKGxjb2RlcyA8PSBMX0NPREVTICYmIGRjb2RlcyA8PSBEX0NPREVTICYmIGJsY29kZXMgPD0gQkxfQ09ERVMsXG4gIC8vICAgICAgICBcInRvbyBtYW55IGNvZGVzXCIpO1xuICAvL1RyYWNldigoc3RkZXJyLCBcIlxcbmJsIGNvdW50czogXCIpKTtcbiAgc2VuZF9iaXRzKHMsIGxjb2RlcyAtIDI1NywgNSk7IC8qIG5vdCArMjU1IGFzIHN0YXRlZCBpbiBhcHBub3RlLnR4dCAqL1xuICBzZW5kX2JpdHMocywgZGNvZGVzIC0gMSwgNSk7XG4gIHNlbmRfYml0cyhzLCBibGNvZGVzIC0gNCwgNCk7IC8qIG5vdCAtMyBhcyBzdGF0ZWQgaW4gYXBwbm90ZS50eHQgKi9cbiAgZm9yIChyYW5rID0gMDsgcmFuayA8IGJsY29kZXM7IHJhbmsrKykge1xuICAgIC8vVHJhY2V2KChzdGRlcnIsIFwiXFxuYmwgY29kZSAlMmQgXCIsIGJsX29yZGVyW3JhbmtdKSk7XG4gICAgc2VuZF9iaXRzKHMsIHMuYmxfdHJlZVtibF9vcmRlcltyYW5rXSAqIDIgKyAxXSAvKi5MZW4qLyAsIDMpO1xuICB9XG4gIC8vVHJhY2V2KChzdGRlcnIsIFwiXFxuYmwgdHJlZTogc2VudCAlbGRcIiwgcy0+Yml0c19zZW50KSk7XG5cbiAgc2VuZF90cmVlKHMsIHMuZHluX2x0cmVlLCBsY29kZXMgLSAxKTsgLyogbGl0ZXJhbCB0cmVlICovXG4gIC8vVHJhY2V2KChzdGRlcnIsIFwiXFxubGl0IHRyZWU6IHNlbnQgJWxkXCIsIHMtPmJpdHNfc2VudCkpO1xuXG4gIHNlbmRfdHJlZShzLCBzLmR5bl9kdHJlZSwgZGNvZGVzIC0gMSk7IC8qIGRpc3RhbmNlIHRyZWUgKi9cbiAgLy9UcmFjZXYoKHN0ZGVyciwgXCJcXG5kaXN0IHRyZWU6IHNlbnQgJWxkXCIsIHMtPmJpdHNfc2VudCkpO1xufVxuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ2hlY2sgaWYgdGhlIGRhdGEgdHlwZSBpcyBURVhUIG9yIEJJTkFSWSwgdXNpbmcgdGhlIGZvbGxvd2luZyBhbGdvcml0aG06XG4gKiAtIFRFWFQgaWYgdGhlIHR3byBjb25kaXRpb25zIGJlbG93IGFyZSBzYXRpc2ZpZWQ6XG4gKiAgICBhKSBUaGVyZSBhcmUgbm8gbm9uLXBvcnRhYmxlIGNvbnRyb2wgY2hhcmFjdGVycyBiZWxvbmdpbmcgdG8gdGhlXG4gKiAgICAgICBcImJsYWNrIGxpc3RcIiAoMC4uNiwgMTQuLjI1LCAyOC4uMzEpLlxuICogICAgYikgVGhlcmUgaXMgYXQgbGVhc3Qgb25lIHByaW50YWJsZSBjaGFyYWN0ZXIgYmVsb25naW5nIHRvIHRoZVxuICogICAgICAgXCJ3aGl0ZSBsaXN0XCIgKDkge1RBQn0sIDEwIHtMRn0sIDEzIHtDUn0sIDMyLi4yNTUpLlxuICogLSBCSU5BUlkgb3RoZXJ3aXNlLlxuICogLSBUaGUgZm9sbG93aW5nIHBhcnRpYWxseS1wb3J0YWJsZSBjb250cm9sIGNoYXJhY3RlcnMgZm9ybSBhXG4gKiAgIFwiZ3JheSBsaXN0XCIgdGhhdCBpcyBpZ25vcmVkIGluIHRoaXMgZGV0ZWN0aW9uIGFsZ29yaXRobTpcbiAqICAgKDcge0JFTH0sIDgge0JTfSwgMTEge1ZUfSwgMTIge0ZGfSwgMjYge1NVQn0sIDI3IHtFU0N9KS5cbiAqIElOIGFzc2VydGlvbjogdGhlIGZpZWxkcyBGcmVxIG9mIGR5bl9sdHJlZSBhcmUgc2V0LlxuICovXG5mdW5jdGlvbiBkZXRlY3RfZGF0YV90eXBlKHMpIHtcbiAgLyogYmxhY2tfbWFzayBpcyB0aGUgYml0IG1hc2sgb2YgYmxhY2stbGlzdGVkIGJ5dGVzXG4gICAqIHNldCBiaXRzIDAuLjYsIDE0Li4yNSwgYW5kIDI4Li4zMVxuICAgKiAweGYzZmZjMDdmID0gYmluYXJ5IDExMTEwMDExMTExMTExMTExMTAwMDAwMDAxMTExMTExXG4gICAqL1xuICB2YXIgYmxhY2tfbWFzayA9IDB4ZjNmZmMwN2Y7XG4gIHZhciBuO1xuXG4gIC8qIENoZWNrIGZvciBub24tdGV4dHVhbCAoXCJibGFjay1saXN0ZWRcIikgYnl0ZXMuICovXG4gIGZvciAobiA9IDA7IG4gPD0gMzE7IG4rKywgYmxhY2tfbWFzayA+Pj49IDEpIHtcbiAgICBpZiAoKGJsYWNrX21hc2sgJiAxKSAmJiAocy5keW5fbHRyZWVbbiAqIDJdIC8qLkZyZXEqLyAhPT0gMCkpIHtcbiAgICAgIHJldHVybiBaX0JJTkFSWTtcbiAgICB9XG4gIH1cblxuICAvKiBDaGVjayBmb3IgdGV4dHVhbCAoXCJ3aGl0ZS1saXN0ZWRcIikgYnl0ZXMuICovXG4gIGlmIChzLmR5bl9sdHJlZVs5ICogMl0gLyouRnJlcSovICE9PSAwIHx8IHMuZHluX2x0cmVlWzEwICogMl0gLyouRnJlcSovICE9PSAwIHx8XG4gICAgcy5keW5fbHRyZWVbMTMgKiAyXSAvKi5GcmVxKi8gIT09IDApIHtcbiAgICByZXR1cm4gWl9URVhUO1xuICB9XG4gIGZvciAobiA9IDMyOyBuIDwgTElURVJBTFM7IG4rKykge1xuICAgIGlmIChzLmR5bl9sdHJlZVtuICogMl0gLyouRnJlcSovICE9PSAwKSB7XG4gICAgICByZXR1cm4gWl9URVhUO1xuICAgIH1cbiAgfVxuXG4gIC8qIFRoZXJlIGFyZSBubyBcImJsYWNrLWxpc3RlZFwiIG9yIFwid2hpdGUtbGlzdGVkXCIgYnl0ZXM6XG4gICAqIHRoaXMgc3RyZWFtIGVpdGhlciBpcyBlbXB0eSBvciBoYXMgdG9sZXJhdGVkIChcImdyYXktbGlzdGVkXCIpIGJ5dGVzIG9ubHkuXG4gICAqL1xuICByZXR1cm4gWl9CSU5BUlk7XG59XG5cblxudmFyIHN0YXRpY19pbml0X2RvbmUgPSBmYWxzZTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBJbml0aWFsaXplIHRoZSB0cmVlIGRhdGEgc3RydWN0dXJlcyBmb3IgYSBuZXcgemxpYiBzdHJlYW0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBfdHJfaW5pdChzKSB7XG5cbiAgaWYgKCFzdGF0aWNfaW5pdF9kb25lKSB7XG4gICAgdHJfc3RhdGljX2luaXQoKTtcbiAgICBzdGF0aWNfaW5pdF9kb25lID0gdHJ1ZTtcbiAgfVxuXG4gIHMubF9kZXNjID0gbmV3IFRyZWVEZXNjKHMuZHluX2x0cmVlLCBzdGF0aWNfbF9kZXNjKTtcbiAgcy5kX2Rlc2MgPSBuZXcgVHJlZURlc2Mocy5keW5fZHRyZWUsIHN0YXRpY19kX2Rlc2MpO1xuICBzLmJsX2Rlc2MgPSBuZXcgVHJlZURlc2Mocy5ibF90cmVlLCBzdGF0aWNfYmxfZGVzYyk7XG5cbiAgcy5iaV9idWYgPSAwO1xuICBzLmJpX3ZhbGlkID0gMDtcblxuICAvKiBJbml0aWFsaXplIHRoZSBmaXJzdCBibG9jayBvZiB0aGUgZmlyc3QgZmlsZTogKi9cbiAgaW5pdF9ibG9jayhzKTtcbn1cblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIFNlbmQgYSBzdG9yZWQgYmxvY2tcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIF90cl9zdG9yZWRfYmxvY2socywgYnVmLCBzdG9yZWRfbGVuLCBsYXN0KVxuLy9EZWZsYXRlU3RhdGUgKnM7XG4vL2NoYXJmICpidWY7ICAgICAgIC8qIGlucHV0IGJsb2NrICovXG4vL3VsZyBzdG9yZWRfbGVuOyAgIC8qIGxlbmd0aCBvZiBpbnB1dCBibG9jayAqL1xuLy9pbnQgbGFzdDsgICAgICAgICAvKiBvbmUgaWYgdGhpcyBpcyB0aGUgbGFzdCBibG9jayBmb3IgYSBmaWxlICovXG57XG4gIHNlbmRfYml0cyhzLCAoU1RPUkVEX0JMT0NLIDw8IDEpICsgKGxhc3QgPyAxIDogMCksIDMpOyAvKiBzZW5kIGJsb2NrIHR5cGUgKi9cbiAgY29weV9ibG9jayhzLCBidWYsIHN0b3JlZF9sZW4sIHRydWUpOyAvKiB3aXRoIGhlYWRlciAqL1xufVxuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogU2VuZCBvbmUgZW1wdHkgc3RhdGljIGJsb2NrIHRvIGdpdmUgZW5vdWdoIGxvb2thaGVhZCBmb3IgaW5mbGF0ZS5cbiAqIFRoaXMgdGFrZXMgMTAgYml0cywgb2Ygd2hpY2ggNyBtYXkgcmVtYWluIGluIHRoZSBiaXQgYnVmZmVyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gX3RyX2FsaWduKHMpIHtcbiAgc2VuZF9iaXRzKHMsIFNUQVRJQ19UUkVFUyA8PCAxLCAzKTtcbiAgc2VuZF9jb2RlKHMsIEVORF9CTE9DSywgc3RhdGljX2x0cmVlKTtcbiAgYmlfZmx1c2gocyk7XG59XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBEZXRlcm1pbmUgdGhlIGJlc3QgZW5jb2RpbmcgZm9yIHRoZSBjdXJyZW50IGJsb2NrOiBkeW5hbWljIHRyZWVzLCBzdGF0aWNcbiAqIHRyZWVzIG9yIHN0b3JlLCBhbmQgb3V0cHV0IHRoZSBlbmNvZGVkIGJsb2NrIHRvIHRoZSB6aXAgZmlsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIF90cl9mbHVzaF9ibG9jayhzLCBidWYsIHN0b3JlZF9sZW4sIGxhc3QpXG4vL0RlZmxhdGVTdGF0ZSAqcztcbi8vY2hhcmYgKmJ1ZjsgICAgICAgLyogaW5wdXQgYmxvY2ssIG9yIE5VTEwgaWYgdG9vIG9sZCAqL1xuLy91bGcgc3RvcmVkX2xlbjsgICAvKiBsZW5ndGggb2YgaW5wdXQgYmxvY2sgKi9cbi8vaW50IGxhc3Q7ICAgICAgICAgLyogb25lIGlmIHRoaXMgaXMgdGhlIGxhc3QgYmxvY2sgZm9yIGEgZmlsZSAqL1xue1xuICB2YXIgb3B0X2xlbmIsIHN0YXRpY19sZW5iOyAvKiBvcHRfbGVuIGFuZCBzdGF0aWNfbGVuIGluIGJ5dGVzICovXG4gIHZhciBtYXhfYmxpbmRleCA9IDA7IC8qIGluZGV4IG9mIGxhc3QgYml0IGxlbmd0aCBjb2RlIG9mIG5vbiB6ZXJvIGZyZXEgKi9cblxuICAvKiBCdWlsZCB0aGUgSHVmZm1hbiB0cmVlcyB1bmxlc3MgYSBzdG9yZWQgYmxvY2sgaXMgZm9yY2VkICovXG4gIGlmIChzLmxldmVsID4gMCkge1xuXG4gICAgLyogQ2hlY2sgaWYgdGhlIGZpbGUgaXMgYmluYXJ5IG9yIHRleHQgKi9cbiAgICBpZiAocy5zdHJtLmRhdGFfdHlwZSA9PT0gWl9VTktOT1dOKSB7XG4gICAgICBzLnN0cm0uZGF0YV90eXBlID0gZGV0ZWN0X2RhdGFfdHlwZShzKTtcbiAgICB9XG5cbiAgICAvKiBDb25zdHJ1Y3QgdGhlIGxpdGVyYWwgYW5kIGRpc3RhbmNlIHRyZWVzICovXG4gICAgYnVpbGRfdHJlZShzLCBzLmxfZGVzYyk7XG4gICAgLy8gVHJhY2V2KChzdGRlcnIsIFwiXFxubGl0IGRhdGE6IGR5biAlbGQsIHN0YXQgJWxkXCIsIHMtPm9wdF9sZW4sXG4gICAgLy8gICAgICAgIHMtPnN0YXRpY19sZW4pKTtcblxuICAgIGJ1aWxkX3RyZWUocywgcy5kX2Rlc2MpO1xuICAgIC8vIFRyYWNldigoc3RkZXJyLCBcIlxcbmRpc3QgZGF0YTogZHluICVsZCwgc3RhdCAlbGRcIiwgcy0+b3B0X2xlbixcbiAgICAvLyAgICAgICAgcy0+c3RhdGljX2xlbikpO1xuICAgIC8qIEF0IHRoaXMgcG9pbnQsIG9wdF9sZW4gYW5kIHN0YXRpY19sZW4gYXJlIHRoZSB0b3RhbCBiaXQgbGVuZ3RocyBvZlxuICAgICAqIHRoZSBjb21wcmVzc2VkIGJsb2NrIGRhdGEsIGV4Y2x1ZGluZyB0aGUgdHJlZSByZXByZXNlbnRhdGlvbnMuXG4gICAgICovXG5cbiAgICAvKiBCdWlsZCB0aGUgYml0IGxlbmd0aCB0cmVlIGZvciB0aGUgYWJvdmUgdHdvIHRyZWVzLCBhbmQgZ2V0IHRoZSBpbmRleFxuICAgICAqIGluIGJsX29yZGVyIG9mIHRoZSBsYXN0IGJpdCBsZW5ndGggY29kZSB0byBzZW5kLlxuICAgICAqL1xuICAgIG1heF9ibGluZGV4ID0gYnVpbGRfYmxfdHJlZShzKTtcblxuICAgIC8qIERldGVybWluZSB0aGUgYmVzdCBlbmNvZGluZy4gQ29tcHV0ZSB0aGUgYmxvY2sgbGVuZ3RocyBpbiBieXRlcy4gKi9cbiAgICBvcHRfbGVuYiA9IChzLm9wdF9sZW4gKyAzICsgNykgPj4+IDM7XG4gICAgc3RhdGljX2xlbmIgPSAocy5zdGF0aWNfbGVuICsgMyArIDcpID4+PiAzO1xuXG4gICAgLy8gVHJhY2V2KChzdGRlcnIsIFwiXFxub3B0ICVsdSglbHUpIHN0YXQgJWx1KCVsdSkgc3RvcmVkICVsdSBsaXQgJXUgXCIsXG4gICAgLy8gICAgICAgIG9wdF9sZW5iLCBzLT5vcHRfbGVuLCBzdGF0aWNfbGVuYiwgcy0+c3RhdGljX2xlbiwgc3RvcmVkX2xlbixcbiAgICAvLyAgICAgICAgcy0+bGFzdF9saXQpKTtcblxuICAgIGlmIChzdGF0aWNfbGVuYiA8PSBvcHRfbGVuYikge1xuICAgICAgb3B0X2xlbmIgPSBzdGF0aWNfbGVuYjtcbiAgICB9XG5cbiAgfSBlbHNlIHtcbiAgICAvLyBBc3NlcnQoYnVmICE9IChjaGFyKikwLCBcImxvc3QgYnVmXCIpO1xuICAgIG9wdF9sZW5iID0gc3RhdGljX2xlbmIgPSBzdG9yZWRfbGVuICsgNTsgLyogZm9yY2UgYSBzdG9yZWQgYmxvY2sgKi9cbiAgfVxuXG4gIGlmICgoc3RvcmVkX2xlbiArIDQgPD0gb3B0X2xlbmIpICYmIChidWYgIT09IC0xKSkge1xuICAgIC8qIDQ6IHR3byB3b3JkcyBmb3IgdGhlIGxlbmd0aHMgKi9cblxuICAgIC8qIFRoZSB0ZXN0IGJ1ZiAhPSBOVUxMIGlzIG9ubHkgbmVjZXNzYXJ5IGlmIExJVF9CVUZTSVpFID4gV1NJWkUuXG4gICAgICogT3RoZXJ3aXNlIHdlIGNhbid0IGhhdmUgcHJvY2Vzc2VkIG1vcmUgdGhhbiBXU0laRSBpbnB1dCBieXRlcyBzaW5jZVxuICAgICAqIHRoZSBsYXN0IGJsb2NrIGZsdXNoLCBiZWNhdXNlIGNvbXByZXNzaW9uIHdvdWxkIGhhdmUgYmVlblxuICAgICAqIHN1Y2Nlc3NmdWwuIElmIExJVF9CVUZTSVpFIDw9IFdTSVpFLCBpdCBpcyBuZXZlciB0b28gbGF0ZSB0b1xuICAgICAqIHRyYW5zZm9ybSBhIGJsb2NrIGludG8gYSBzdG9yZWQgYmxvY2suXG4gICAgICovXG4gICAgX3RyX3N0b3JlZF9ibG9jayhzLCBidWYsIHN0b3JlZF9sZW4sIGxhc3QpO1xuXG4gIH0gZWxzZSBpZiAocy5zdHJhdGVneSA9PT0gWl9GSVhFRCB8fCBzdGF0aWNfbGVuYiA9PT0gb3B0X2xlbmIpIHtcblxuICAgIHNlbmRfYml0cyhzLCAoU1RBVElDX1RSRUVTIDw8IDEpICsgKGxhc3QgPyAxIDogMCksIDMpO1xuICAgIGNvbXByZXNzX2Jsb2NrKHMsIHN0YXRpY19sdHJlZSwgc3RhdGljX2R0cmVlKTtcblxuICB9IGVsc2Uge1xuICAgIHNlbmRfYml0cyhzLCAoRFlOX1RSRUVTIDw8IDEpICsgKGxhc3QgPyAxIDogMCksIDMpO1xuICAgIHNlbmRfYWxsX3RyZWVzKHMsIHMubF9kZXNjLm1heF9jb2RlICsgMSwgcy5kX2Rlc2MubWF4X2NvZGUgKyAxLCBtYXhfYmxpbmRleCArIDEpO1xuICAgIGNvbXByZXNzX2Jsb2NrKHMsIHMuZHluX2x0cmVlLCBzLmR5bl9kdHJlZSk7XG4gIH1cbiAgLy8gQXNzZXJ0IChzLT5jb21wcmVzc2VkX2xlbiA9PSBzLT5iaXRzX3NlbnQsIFwiYmFkIGNvbXByZXNzZWQgc2l6ZVwiKTtcbiAgLyogVGhlIGFib3ZlIGNoZWNrIGlzIG1hZGUgbW9kIDJeMzIsIGZvciBmaWxlcyBsYXJnZXIgdGhhbiA1MTIgTUJcbiAgICogYW5kIHVMb25nIGltcGxlbWVudGVkIG9uIDMyIGJpdHMuXG4gICAqL1xuICBpbml0X2Jsb2NrKHMpO1xuXG4gIGlmIChsYXN0KSB7XG4gICAgYmlfd2luZHVwKHMpO1xuICB9XG4gIC8vIFRyYWNldigoc3RkZXJyLFwiXFxuY29tcHJsZW4gJWx1KCVsdSkgXCIsIHMtPmNvbXByZXNzZWRfbGVuPj4zLFxuICAvLyAgICAgICBzLT5jb21wcmVzc2VkX2xlbi03Kmxhc3QpKTtcbn1cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBTYXZlIHRoZSBtYXRjaCBpbmZvIGFuZCB0YWxseSB0aGUgZnJlcXVlbmN5IGNvdW50cy4gUmV0dXJuIHRydWUgaWZcbiAqIHRoZSBjdXJyZW50IGJsb2NrIG11c3QgYmUgZmx1c2hlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIF90cl90YWxseShzLCBkaXN0LCBsYylcbi8vICAgIGRlZmxhdGVfc3RhdGUgKnM7XG4vLyAgICB1bnNpZ25lZCBkaXN0OyAgLyogZGlzdGFuY2Ugb2YgbWF0Y2hlZCBzdHJpbmcgKi9cbi8vICAgIHVuc2lnbmVkIGxjOyAgICAvKiBtYXRjaCBsZW5ndGgtTUlOX01BVENIIG9yIHVubWF0Y2hlZCBjaGFyIChpZiBkaXN0PT0wKSAqL1xue1xuICAvL3ZhciBvdXRfbGVuZ3RoLCBpbl9sZW5ndGgsIGRjb2RlO1xuXG4gIHMucGVuZGluZ19idWZbcy5kX2J1ZiArIHMubGFzdF9saXQgKiAyXSA9IChkaXN0ID4+PiA4KSAmIDB4ZmY7XG4gIHMucGVuZGluZ19idWZbcy5kX2J1ZiArIHMubGFzdF9saXQgKiAyICsgMV0gPSBkaXN0ICYgMHhmZjtcblxuICBzLnBlbmRpbmdfYnVmW3MubF9idWYgKyBzLmxhc3RfbGl0XSA9IGxjICYgMHhmZjtcbiAgcy5sYXN0X2xpdCsrO1xuXG4gIGlmIChkaXN0ID09PSAwKSB7XG4gICAgLyogbGMgaXMgdGhlIHVubWF0Y2hlZCBjaGFyICovXG4gICAgcy5keW5fbHRyZWVbbGMgKiAyXSAvKi5GcmVxKi8gKys7XG4gIH0gZWxzZSB7XG4gICAgcy5tYXRjaGVzKys7XG4gICAgLyogSGVyZSwgbGMgaXMgdGhlIG1hdGNoIGxlbmd0aCAtIE1JTl9NQVRDSCAqL1xuICAgIGRpc3QtLTsgLyogZGlzdCA9IG1hdGNoIGRpc3RhbmNlIC0gMSAqL1xuICAgIC8vQXNzZXJ0KCh1c2gpZGlzdCA8ICh1c2gpTUFYX0RJU1QocykgJiZcbiAgICAvLyAgICAgICAodXNoKWxjIDw9ICh1c2gpKE1BWF9NQVRDSC1NSU5fTUFUQ0gpICYmXG4gICAgLy8gICAgICAgKHVzaClkX2NvZGUoZGlzdCkgPCAodXNoKURfQ09ERVMsICBcIl90cl90YWxseTogYmFkIG1hdGNoXCIpO1xuXG4gICAgcy5keW5fbHRyZWVbKF9sZW5ndGhfY29kZVtsY10gKyBMSVRFUkFMUyArIDEpICogMl0gLyouRnJlcSovICsrO1xuICAgIHMuZHluX2R0cmVlW2RfY29kZShkaXN0KSAqIDJdIC8qLkZyZXEqLyArKztcbiAgfVxuXG4gIC8vICghKSBUaGlzIGJsb2NrIGlzIGRpc2FibGVkIGluIHpsaWIgZGVmYWlsdHMsXG4gIC8vIGRvbid0IGVuYWJsZSBpdCBmb3IgYmluYXJ5IGNvbXBhdGliaWxpdHlcblxuICAvLyNpZmRlZiBUUlVOQ0FURV9CTE9DS1xuICAvLyAgLyogVHJ5IHRvIGd1ZXNzIGlmIGl0IGlzIHByb2ZpdGFibGUgdG8gc3RvcCB0aGUgY3VycmVudCBibG9jayBoZXJlICovXG4gIC8vICBpZiAoKHMubGFzdF9saXQgJiAweDFmZmYpID09PSAwICYmIHMubGV2ZWwgPiAyKSB7XG4gIC8vICAgIC8qIENvbXB1dGUgYW4gdXBwZXIgYm91bmQgZm9yIHRoZSBjb21wcmVzc2VkIGxlbmd0aCAqL1xuICAvLyAgICBvdXRfbGVuZ3RoID0gcy5sYXN0X2xpdCo4O1xuICAvLyAgICBpbl9sZW5ndGggPSBzLnN0cnN0YXJ0IC0gcy5ibG9ja19zdGFydDtcbiAgLy9cbiAgLy8gICAgZm9yIChkY29kZSA9IDA7IGRjb2RlIDwgRF9DT0RFUzsgZGNvZGUrKykge1xuICAvLyAgICAgIG91dF9sZW5ndGggKz0gcy5keW5fZHRyZWVbZGNvZGUqMl0vKi5GcmVxKi8gKiAoNSArIGV4dHJhX2RiaXRzW2Rjb2RlXSk7XG4gIC8vICAgIH1cbiAgLy8gICAgb3V0X2xlbmd0aCA+Pj49IDM7XG4gIC8vICAgIC8vVHJhY2V2KChzdGRlcnIsXCJcXG5sYXN0X2xpdCAldSwgaW4gJWxkLCBvdXQgfiVsZCglbGQlJSkgXCIsXG4gIC8vICAgIC8vICAgICAgIHMtPmxhc3RfbGl0LCBpbl9sZW5ndGgsIG91dF9sZW5ndGgsXG4gIC8vICAgIC8vICAgICAgIDEwMEwgLSBvdXRfbGVuZ3RoKjEwMEwvaW5fbGVuZ3RoKSk7XG4gIC8vICAgIGlmIChzLm1hdGNoZXMgPCAocy5sYXN0X2xpdD4+MSkvKmludCAvMiovICYmIG91dF9sZW5ndGggPCAoaW5fbGVuZ3RoPj4xKS8qaW50IC8yKi8pIHtcbiAgLy8gICAgICByZXR1cm4gdHJ1ZTtcbiAgLy8gICAgfVxuICAvLyAgfVxuICAvLyNlbmRpZlxuXG4gIHJldHVybiAocy5sYXN0X2xpdCA9PT0gcy5saXRfYnVmc2l6ZSAtIDEpO1xuICAvKiBXZSBhdm9pZCBlcXVhbGl0eSB3aXRoIGxpdF9idWZzaXplIGJlY2F1c2Ugb2Ygd3JhcGFyb3VuZCBhdCA2NEtcbiAgICogb24gMTYgYml0IG1hY2hpbmVzIGFuZCBiZWNhdXNlIHN0b3JlZCBibG9ja3MgYXJlIHJlc3RyaWN0ZWQgdG9cbiAgICogNjRLLTEgYnl0ZXMuXG4gICAqL1xufVxuIiwgIlxuLy8gTm90ZTogYWRsZXIzMiB0YWtlcyAxMiUgZm9yIGxldmVsIDAgYW5kIDIlIGZvciBsZXZlbCA2LlxuLy8gSXQgZG9lc24ndCB3b3J0aCB0byBtYWtlIGFkZGl0aW9uYWwgb3B0aW1pemF0aW9uYSBhcyBpbiBvcmlnaW5hbC5cbi8vIFNtYWxsIHNpemUgaXMgcHJlZmVyYWJsZS5cblxuZnVuY3Rpb24gYWRsZXIzMihhZGxlciwgYnVmLCBsZW4sIHBvcykge1xuICB2YXIgczEgPSAoYWRsZXIgJiAweGZmZmYpIHwwLFxuICAgICAgczIgPSAoKGFkbGVyID4+PiAxNikgJiAweGZmZmYpIHwwLFxuICAgICAgbiA9IDA7XG5cbiAgd2hpbGUgKGxlbiAhPT0gMCkge1xuICAgIC8vIFNldCBsaW1pdCB+IHR3aWNlIGxlc3MgdGhhbiA1NTUyLCB0byBrZWVwXG4gICAgLy8gczIgaW4gMzEtYml0cywgYmVjYXVzZSB3ZSBmb3JjZSBzaWduZWQgaW50cy5cbiAgICAvLyBpbiBvdGhlciBjYXNlICU9IHdpbGwgZmFpbC5cbiAgICBuID0gbGVuID4gMjAwMCA/IDIwMDAgOiBsZW47XG4gICAgbGVuIC09IG47XG5cbiAgICBkbyB7XG4gICAgICBzMSA9IChzMSArIGJ1Zltwb3MrK10pIHwwO1xuICAgICAgczIgPSAoczIgKyBzMSkgfDA7XG4gICAgfSB3aGlsZSAoLS1uKTtcblxuICAgIHMxICU9IDY1NTIxO1xuICAgIHMyICU9IDY1NTIxO1xuICB9XG5cbiAgcmV0dXJuIChzMSB8IChzMiA8PCAxNikpIHwwO1xufVxuXG5cbmV4cG9ydCBkZWZhdWx0IGFkbGVyMzI7XG4iLCAiXG4vLyBOb3RlOiB3ZSBjYW4ndCBnZXQgc2lnbmlmaWNhbnQgc3BlZWQgYm9vc3QgaGVyZS5cbi8vIFNvIHdyaXRlIGNvZGUgdG8gbWluaW1pemUgc2l6ZSAtIG5vIHByZWdlbmVyYXRlZCB0YWJsZXNcbi8vIGFuZCBhcnJheSB0b29scyBkZXBlbmRlbmNpZXMuXG5cblxuLy8gVXNlIG9yZGluYXJ5IGFycmF5LCBzaW5jZSB1bnR5cGVkIG1ha2VzIG5vIGJvb3N0IGhlcmVcbmZ1bmN0aW9uIG1ha2VUYWJsZSgpIHtcbiAgdmFyIGMsIHRhYmxlID0gW107XG5cbiAgZm9yICh2YXIgbiA9IDA7IG4gPCAyNTY7IG4rKykge1xuICAgIGMgPSBuO1xuICAgIGZvciAodmFyIGsgPSAwOyBrIDwgODsgaysrKSB7XG4gICAgICBjID0gKChjICYgMSkgPyAoMHhFREI4ODMyMCBeIChjID4+PiAxKSkgOiAoYyA+Pj4gMSkpO1xuICAgIH1cbiAgICB0YWJsZVtuXSA9IGM7XG4gIH1cblxuICByZXR1cm4gdGFibGU7XG59XG5cbi8vIENyZWF0ZSB0YWJsZSBvbiBsb2FkLiBKdXN0IDI1NSBzaWduZWQgbG9uZ3MuIE5vdCBhIHByb2JsZW0uXG52YXIgY3JjVGFibGUgPSBtYWtlVGFibGUoKTtcblxuXG5mdW5jdGlvbiBjcmMzMihjcmMsIGJ1ZiwgbGVuLCBwb3MpIHtcbiAgdmFyIHQgPSBjcmNUYWJsZSxcbiAgICAgIGVuZCA9IHBvcyArIGxlbjtcblxuICBjcmMgXj0gLTE7XG5cbiAgZm9yICh2YXIgaSA9IHBvczsgaSA8IGVuZDsgaSsrKSB7XG4gICAgY3JjID0gKGNyYyA+Pj4gOCkgXiB0WyhjcmMgXiBidWZbaV0pICYgMHhGRl07XG4gIH1cblxuICByZXR1cm4gKGNyYyBeICgtMSkpOyAvLyA+Pj4gMDtcbn1cblxuXG5leHBvcnQgZGVmYXVsdCBjcmMzMjtcbiIsICJcbmltcG9ydCB7QnVmOCxCdWYxNixhcnJheVNldH0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQge190cl9mbHVzaF9ibG9jaywgX3RyX3RhbGx5LCBfdHJfaW5pdCwgX3RyX2FsaWduLCBfdHJfc3RvcmVkX2Jsb2NrfSBmcm9tICcuL3RyZWVzJztcbmltcG9ydCBhZGxlcjMyIGZyb20gJy4vYWRsZXIzMic7XG5pbXBvcnQgY3JjMzIgZnJvbSAnLi9jcmMzMic7XG5pbXBvcnQgbXNnIGZyb20gJy4vbWVzc2FnZXMnO1xuXG4vKiBQdWJsaWMgY29uc3RhbnRzID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuXG4vKiBBbGxvd2VkIGZsdXNoIHZhbHVlczsgc2VlIGRlZmxhdGUoKSBhbmQgaW5mbGF0ZSgpIGJlbG93IGZvciBkZXRhaWxzICovXG52YXIgWl9OT19GTFVTSCA9IDA7XG52YXIgWl9QQVJUSUFMX0ZMVVNIID0gMTtcbi8vdmFyIFpfU1lOQ19GTFVTSCAgICA9IDI7XG52YXIgWl9GVUxMX0ZMVVNIID0gMztcbnZhciBaX0ZJTklTSCA9IDQ7XG52YXIgWl9CTE9DSyA9IDU7XG4vL3ZhciBaX1RSRUVTICAgICAgICAgPSA2O1xuXG5cbi8qIFJldHVybiBjb2RlcyBmb3IgdGhlIGNvbXByZXNzaW9uL2RlY29tcHJlc3Npb24gZnVuY3Rpb25zLiBOZWdhdGl2ZSB2YWx1ZXNcbiAqIGFyZSBlcnJvcnMsIHBvc2l0aXZlIHZhbHVlcyBhcmUgdXNlZCBmb3Igc3BlY2lhbCBidXQgbm9ybWFsIGV2ZW50cy5cbiAqL1xudmFyIFpfT0sgPSAwO1xudmFyIFpfU1RSRUFNX0VORCA9IDE7XG4vL3ZhciBaX05FRURfRElDVCAgICAgPSAyO1xuLy92YXIgWl9FUlJOTyAgICAgICAgID0gLTE7XG52YXIgWl9TVFJFQU1fRVJST1IgPSAtMjtcbnZhciBaX0RBVEFfRVJST1IgPSAtMztcbi8vdmFyIFpfTUVNX0VSUk9SICAgICA9IC00O1xudmFyIFpfQlVGX0VSUk9SID0gLTU7XG4vL3ZhciBaX1ZFUlNJT05fRVJST1IgPSAtNjtcblxuXG4vKiBjb21wcmVzc2lvbiBsZXZlbHMgKi9cbi8vdmFyIFpfTk9fQ09NUFJFU1NJT04gICAgICA9IDA7XG4vL3ZhciBaX0JFU1RfU1BFRUQgICAgICAgICAgPSAxO1xuLy92YXIgWl9CRVNUX0NPTVBSRVNTSU9OICAgID0gOTtcbnZhciBaX0RFRkFVTFRfQ09NUFJFU1NJT04gPSAtMTtcblxuXG52YXIgWl9GSUxURVJFRCA9IDE7XG52YXIgWl9IVUZGTUFOX09OTFkgPSAyO1xudmFyIFpfUkxFID0gMztcbnZhciBaX0ZJWEVEID0gNDtcbnZhciBaX0RFRkFVTFRfU1RSQVRFR1kgPSAwO1xuXG4vKiBQb3NzaWJsZSB2YWx1ZXMgb2YgdGhlIGRhdGFfdHlwZSBmaWVsZCAodGhvdWdoIHNlZSBpbmZsYXRlKCkpICovXG4vL3ZhciBaX0JJTkFSWSAgICAgICAgICAgICAgPSAwO1xuLy92YXIgWl9URVhUICAgICAgICAgICAgICAgID0gMTtcbi8vdmFyIFpfQVNDSUkgICAgICAgICAgICAgICA9IDE7IC8vID0gWl9URVhUXG52YXIgWl9VTktOT1dOID0gMjtcblxuXG4vKiBUaGUgZGVmbGF0ZSBjb21wcmVzc2lvbiBtZXRob2QgKi9cbnZhciBaX0RFRkxBVEVEID0gODtcblxuLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuXG52YXIgTUFYX01FTV9MRVZFTCA9IDk7XG4vKiBNYXhpbXVtIHZhbHVlIGZvciBtZW1MZXZlbCBpbiBkZWZsYXRlSW5pdDIgKi9cbnZhciBNQVhfV0JJVFMgPSAxNTtcbi8qIDMySyBMWjc3IHdpbmRvdyAqL1xudmFyIERFRl9NRU1fTEVWRUwgPSA4O1xuXG5cbnZhciBMRU5HVEhfQ09ERVMgPSAyOTtcbi8qIG51bWJlciBvZiBsZW5ndGggY29kZXMsIG5vdCBjb3VudGluZyB0aGUgc3BlY2lhbCBFTkRfQkxPQ0sgY29kZSAqL1xudmFyIExJVEVSQUxTID0gMjU2O1xuLyogbnVtYmVyIG9mIGxpdGVyYWwgYnl0ZXMgMC4uMjU1ICovXG52YXIgTF9DT0RFUyA9IExJVEVSQUxTICsgMSArIExFTkdUSF9DT0RFUztcbi8qIG51bWJlciBvZiBMaXRlcmFsIG9yIExlbmd0aCBjb2RlcywgaW5jbHVkaW5nIHRoZSBFTkRfQkxPQ0sgY29kZSAqL1xudmFyIERfQ09ERVMgPSAzMDtcbi8qIG51bWJlciBvZiBkaXN0YW5jZSBjb2RlcyAqL1xudmFyIEJMX0NPREVTID0gMTk7XG4vKiBudW1iZXIgb2YgY29kZXMgdXNlZCB0byB0cmFuc2ZlciB0aGUgYml0IGxlbmd0aHMgKi9cbnZhciBIRUFQX1NJWkUgPSAyICogTF9DT0RFUyArIDE7XG4vKiBtYXhpbXVtIGhlYXAgc2l6ZSAqL1xudmFyIE1BWF9CSVRTID0gMTU7XG4vKiBBbGwgY29kZXMgbXVzdCBub3QgZXhjZWVkIE1BWF9CSVRTIGJpdHMgKi9cblxudmFyIE1JTl9NQVRDSCA9IDM7XG52YXIgTUFYX01BVENIID0gMjU4O1xudmFyIE1JTl9MT09LQUhFQUQgPSAoTUFYX01BVENIICsgTUlOX01BVENIICsgMSk7XG5cbnZhciBQUkVTRVRfRElDVCA9IDB4MjA7XG5cbnZhciBJTklUX1NUQVRFID0gNDI7XG52YXIgRVhUUkFfU1RBVEUgPSA2OTtcbnZhciBOQU1FX1NUQVRFID0gNzM7XG52YXIgQ09NTUVOVF9TVEFURSA9IDkxO1xudmFyIEhDUkNfU1RBVEUgPSAxMDM7XG52YXIgQlVTWV9TVEFURSA9IDExMztcbnZhciBGSU5JU0hfU1RBVEUgPSA2NjY7XG5cbnZhciBCU19ORUVEX01PUkUgPSAxOyAvKiBibG9jayBub3QgY29tcGxldGVkLCBuZWVkIG1vcmUgaW5wdXQgb3IgbW9yZSBvdXRwdXQgKi9cbnZhciBCU19CTE9DS19ET05FID0gMjsgLyogYmxvY2sgZmx1c2ggcGVyZm9ybWVkICovXG52YXIgQlNfRklOSVNIX1NUQVJURUQgPSAzOyAvKiBmaW5pc2ggc3RhcnRlZCwgbmVlZCBvbmx5IG1vcmUgb3V0cHV0IGF0IG5leHQgZGVmbGF0ZSAqL1xudmFyIEJTX0ZJTklTSF9ET05FID0gNDsgLyogZmluaXNoIGRvbmUsIGFjY2VwdCBubyBtb3JlIGlucHV0IG9yIG91dHB1dCAqL1xuXG52YXIgT1NfQ09ERSA9IDB4MDM7IC8vIFVuaXggOikgLiBEb24ndCBkZXRlY3QsIHVzZSB0aGlzIGRlZmF1bHQuXG5cbmZ1bmN0aW9uIGVycihzdHJtLCBlcnJvckNvZGUpIHtcbiAgc3RybS5tc2cgPSBtc2dbZXJyb3JDb2RlXTtcbiAgcmV0dXJuIGVycm9yQ29kZTtcbn1cblxuZnVuY3Rpb24gcmFuayhmKSB7XG4gIHJldHVybiAoKGYpIDw8IDEpIC0gKChmKSA+IDQgPyA5IDogMCk7XG59XG5cbmZ1bmN0aW9uIHplcm8oYnVmKSB7XG4gIHZhciBsZW4gPSBidWYubGVuZ3RoO1xuICB3aGlsZSAoLS1sZW4gPj0gMCkge1xuICAgIGJ1ZltsZW5dID0gMDtcbiAgfVxufVxuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEZsdXNoIGFzIG11Y2ggcGVuZGluZyBvdXRwdXQgYXMgcG9zc2libGUuIEFsbCBkZWZsYXRlKCkgb3V0cHV0IGdvZXNcbiAqIHRocm91Z2ggdGhpcyBmdW5jdGlvbiBzbyBzb21lIGFwcGxpY2F0aW9ucyBtYXkgd2lzaCB0byBtb2RpZnkgaXRcbiAqIHRvIGF2b2lkIGFsbG9jYXRpbmcgYSBsYXJnZSBzdHJtLT5vdXRwdXQgYnVmZmVyIGFuZCBjb3B5aW5nIGludG8gaXQuXG4gKiAoU2VlIGFsc28gcmVhZF9idWYoKSkuXG4gKi9cbmZ1bmN0aW9uIGZsdXNoX3BlbmRpbmcoc3RybSkge1xuICB2YXIgcyA9IHN0cm0uc3RhdGU7XG5cbiAgLy9fdHJfZmx1c2hfYml0cyhzKTtcbiAgdmFyIGxlbiA9IHMucGVuZGluZztcbiAgaWYgKGxlbiA+IHN0cm0uYXZhaWxfb3V0KSB7XG4gICAgbGVuID0gc3RybS5hdmFpbF9vdXQ7XG4gIH1cbiAgaWYgKGxlbiA9PT0gMCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGFycmF5U2V0KHN0cm0ub3V0cHV0LCBzLnBlbmRpbmdfYnVmLCBzLnBlbmRpbmdfb3V0LCBsZW4sIHN0cm0ubmV4dF9vdXQpO1xuICBzdHJtLm5leHRfb3V0ICs9IGxlbjtcbiAgcy5wZW5kaW5nX291dCArPSBsZW47XG4gIHN0cm0udG90YWxfb3V0ICs9IGxlbjtcbiAgc3RybS5hdmFpbF9vdXQgLT0gbGVuO1xuICBzLnBlbmRpbmcgLT0gbGVuO1xuICBpZiAocy5wZW5kaW5nID09PSAwKSB7XG4gICAgcy5wZW5kaW5nX291dCA9IDA7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBmbHVzaF9ibG9ja19vbmx5KHMsIGxhc3QpIHtcbiAgX3RyX2ZsdXNoX2Jsb2NrKHMsIChzLmJsb2NrX3N0YXJ0ID49IDAgPyBzLmJsb2NrX3N0YXJ0IDogLTEpLCBzLnN0cnN0YXJ0IC0gcy5ibG9ja19zdGFydCwgbGFzdCk7XG4gIHMuYmxvY2tfc3RhcnQgPSBzLnN0cnN0YXJ0O1xuICBmbHVzaF9wZW5kaW5nKHMuc3RybSk7XG59XG5cblxuZnVuY3Rpb24gcHV0X2J5dGUocywgYikge1xuICBzLnBlbmRpbmdfYnVmW3MucGVuZGluZysrXSA9IGI7XG59XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogUHV0IGEgc2hvcnQgaW4gdGhlIHBlbmRpbmcgYnVmZmVyLiBUaGUgMTYtYml0IHZhbHVlIGlzIHB1dCBpbiBNU0Igb3JkZXIuXG4gKiBJTiBhc3NlcnRpb246IHRoZSBzdHJlYW0gc3RhdGUgaXMgY29ycmVjdCBhbmQgdGhlcmUgaXMgZW5vdWdoIHJvb20gaW5cbiAqIHBlbmRpbmdfYnVmLlxuICovXG5mdW5jdGlvbiBwdXRTaG9ydE1TQihzLCBiKSB7XG4gIC8vICBwdXRfYnl0ZShzLCAoQnl0ZSkoYiA+PiA4KSk7XG4gIC8vICBwdXRfYnl0ZShzLCAoQnl0ZSkoYiAmIDB4ZmYpKTtcbiAgcy5wZW5kaW5nX2J1ZltzLnBlbmRpbmcrK10gPSAoYiA+Pj4gOCkgJiAweGZmO1xuICBzLnBlbmRpbmdfYnVmW3MucGVuZGluZysrXSA9IGIgJiAweGZmO1xufVxuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogUmVhZCBhIG5ldyBidWZmZXIgZnJvbSB0aGUgY3VycmVudCBpbnB1dCBzdHJlYW0sIHVwZGF0ZSB0aGUgYWRsZXIzMlxuICogYW5kIHRvdGFsIG51bWJlciBvZiBieXRlcyByZWFkLiAgQWxsIGRlZmxhdGUoKSBpbnB1dCBnb2VzIHRocm91Z2hcbiAqIHRoaXMgZnVuY3Rpb24gc28gc29tZSBhcHBsaWNhdGlvbnMgbWF5IHdpc2ggdG8gbW9kaWZ5IGl0IHRvIGF2b2lkXG4gKiBhbGxvY2F0aW5nIGEgbGFyZ2Ugc3RybS0+aW5wdXQgYnVmZmVyIGFuZCBjb3B5aW5nIGZyb20gaXQuXG4gKiAoU2VlIGFsc28gZmx1c2hfcGVuZGluZygpKS5cbiAqL1xuZnVuY3Rpb24gcmVhZF9idWYoc3RybSwgYnVmLCBzdGFydCwgc2l6ZSkge1xuICB2YXIgbGVuID0gc3RybS5hdmFpbF9pbjtcblxuICBpZiAobGVuID4gc2l6ZSkge1xuICAgIGxlbiA9IHNpemU7XG4gIH1cbiAgaWYgKGxlbiA9PT0gMCkge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgc3RybS5hdmFpbF9pbiAtPSBsZW47XG5cbiAgLy8gem1lbWNweShidWYsIHN0cm0tPm5leHRfaW4sIGxlbik7XG4gIGFycmF5U2V0KGJ1Ziwgc3RybS5pbnB1dCwgc3RybS5uZXh0X2luLCBsZW4sIHN0YXJ0KTtcbiAgaWYgKHN0cm0uc3RhdGUud3JhcCA9PT0gMSkge1xuICAgIHN0cm0uYWRsZXIgPSBhZGxlcjMyKHN0cm0uYWRsZXIsIGJ1ZiwgbGVuLCBzdGFydCk7XG4gIH0gZWxzZSBpZiAoc3RybS5zdGF0ZS53cmFwID09PSAyKSB7XG4gICAgc3RybS5hZGxlciA9IGNyYzMyKHN0cm0uYWRsZXIsIGJ1ZiwgbGVuLCBzdGFydCk7XG4gIH1cblxuICBzdHJtLm5leHRfaW4gKz0gbGVuO1xuICBzdHJtLnRvdGFsX2luICs9IGxlbjtcblxuICByZXR1cm4gbGVuO1xufVxuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogU2V0IG1hdGNoX3N0YXJ0IHRvIHRoZSBsb25nZXN0IG1hdGNoIHN0YXJ0aW5nIGF0IHRoZSBnaXZlbiBzdHJpbmcgYW5kXG4gKiByZXR1cm4gaXRzIGxlbmd0aC4gTWF0Y2hlcyBzaG9ydGVyIG9yIGVxdWFsIHRvIHByZXZfbGVuZ3RoIGFyZSBkaXNjYXJkZWQsXG4gKiBpbiB3aGljaCBjYXNlIHRoZSByZXN1bHQgaXMgZXF1YWwgdG8gcHJldl9sZW5ndGggYW5kIG1hdGNoX3N0YXJ0IGlzXG4gKiBnYXJiYWdlLlxuICogSU4gYXNzZXJ0aW9uczogY3VyX21hdGNoIGlzIHRoZSBoZWFkIG9mIHRoZSBoYXNoIGNoYWluIGZvciB0aGUgY3VycmVudFxuICogICBzdHJpbmcgKHN0cnN0YXJ0KSBhbmQgaXRzIGRpc3RhbmNlIGlzIDw9IE1BWF9ESVNULCBhbmQgcHJldl9sZW5ndGggPj0gMVxuICogT1VUIGFzc2VydGlvbjogdGhlIG1hdGNoIGxlbmd0aCBpcyBub3QgZ3JlYXRlciB0aGFuIHMtPmxvb2thaGVhZC5cbiAqL1xuZnVuY3Rpb24gbG9uZ2VzdF9tYXRjaChzLCBjdXJfbWF0Y2gpIHtcbiAgdmFyIGNoYWluX2xlbmd0aCA9IHMubWF4X2NoYWluX2xlbmd0aDsgLyogbWF4IGhhc2ggY2hhaW4gbGVuZ3RoICovXG4gIHZhciBzY2FuID0gcy5zdHJzdGFydDsgLyogY3VycmVudCBzdHJpbmcgKi9cbiAgdmFyIG1hdGNoOyAvKiBtYXRjaGVkIHN0cmluZyAqL1xuICB2YXIgbGVuOyAvKiBsZW5ndGggb2YgY3VycmVudCBtYXRjaCAqL1xuICB2YXIgYmVzdF9sZW4gPSBzLnByZXZfbGVuZ3RoOyAvKiBiZXN0IG1hdGNoIGxlbmd0aCBzbyBmYXIgKi9cbiAgdmFyIG5pY2VfbWF0Y2ggPSBzLm5pY2VfbWF0Y2g7IC8qIHN0b3AgaWYgbWF0Y2ggbG9uZyBlbm91Z2ggKi9cbiAgdmFyIGxpbWl0ID0gKHMuc3Ryc3RhcnQgPiAocy53X3NpemUgLSBNSU5fTE9PS0FIRUFEKSkgP1xuICAgIHMuc3Ryc3RhcnQgLSAocy53X3NpemUgLSBNSU5fTE9PS0FIRUFEKSA6IDAgLypOSUwqLyA7XG5cbiAgdmFyIF93aW4gPSBzLndpbmRvdzsgLy8gc2hvcnRjdXRcblxuICB2YXIgd21hc2sgPSBzLndfbWFzaztcbiAgdmFyIHByZXYgPSBzLnByZXY7XG5cbiAgLyogU3RvcCB3aGVuIGN1cl9tYXRjaCBiZWNvbWVzIDw9IGxpbWl0LiBUbyBzaW1wbGlmeSB0aGUgY29kZSxcbiAgICogd2UgcHJldmVudCBtYXRjaGVzIHdpdGggdGhlIHN0cmluZyBvZiB3aW5kb3cgaW5kZXggMC5cbiAgICovXG5cbiAgdmFyIHN0cmVuZCA9IHMuc3Ryc3RhcnQgKyBNQVhfTUFUQ0g7XG4gIHZhciBzY2FuX2VuZDEgPSBfd2luW3NjYW4gKyBiZXN0X2xlbiAtIDFdO1xuICB2YXIgc2Nhbl9lbmQgPSBfd2luW3NjYW4gKyBiZXN0X2xlbl07XG5cbiAgLyogVGhlIGNvZGUgaXMgb3B0aW1pemVkIGZvciBIQVNIX0JJVFMgPj0gOCBhbmQgTUFYX01BVENILTIgbXVsdGlwbGUgb2YgMTYuXG4gICAqIEl0IGlzIGVhc3kgdG8gZ2V0IHJpZCBvZiB0aGlzIG9wdGltaXphdGlvbiBpZiBuZWNlc3NhcnkuXG4gICAqL1xuICAvLyBBc3NlcnQocy0+aGFzaF9iaXRzID49IDggJiYgTUFYX01BVENIID09IDI1OCwgXCJDb2RlIHRvbyBjbGV2ZXJcIik7XG5cbiAgLyogRG8gbm90IHdhc3RlIHRvbyBtdWNoIHRpbWUgaWYgd2UgYWxyZWFkeSBoYXZlIGEgZ29vZCBtYXRjaDogKi9cbiAgaWYgKHMucHJldl9sZW5ndGggPj0gcy5nb29kX21hdGNoKSB7XG4gICAgY2hhaW5fbGVuZ3RoID4+PSAyO1xuICB9XG4gIC8qIERvIG5vdCBsb29rIGZvciBtYXRjaGVzIGJleW9uZCB0aGUgZW5kIG9mIHRoZSBpbnB1dC4gVGhpcyBpcyBuZWNlc3NhcnlcbiAgICogdG8gbWFrZSBkZWZsYXRlIGRldGVybWluaXN0aWMuXG4gICAqL1xuICBpZiAobmljZV9tYXRjaCA+IHMubG9va2FoZWFkKSB7XG4gICAgbmljZV9tYXRjaCA9IHMubG9va2FoZWFkO1xuICB9XG5cbiAgLy8gQXNzZXJ0KCh1bGcpcy0+c3Ryc3RhcnQgPD0gcy0+d2luZG93X3NpemUtTUlOX0xPT0tBSEVBRCwgXCJuZWVkIGxvb2thaGVhZFwiKTtcblxuICBkbyB7XG4gICAgLy8gQXNzZXJ0KGN1cl9tYXRjaCA8IHMtPnN0cnN0YXJ0LCBcIm5vIGZ1dHVyZVwiKTtcbiAgICBtYXRjaCA9IGN1cl9tYXRjaDtcblxuICAgIC8qIFNraXAgdG8gbmV4dCBtYXRjaCBpZiB0aGUgbWF0Y2ggbGVuZ3RoIGNhbm5vdCBpbmNyZWFzZVxuICAgICAqIG9yIGlmIHRoZSBtYXRjaCBsZW5ndGggaXMgbGVzcyB0aGFuIDIuICBOb3RlIHRoYXQgdGhlIGNoZWNrcyBiZWxvd1xuICAgICAqIGZvciBpbnN1ZmZpY2llbnQgbG9va2FoZWFkIG9ubHkgb2NjdXIgb2NjYXNpb25hbGx5IGZvciBwZXJmb3JtYW5jZVxuICAgICAqIHJlYXNvbnMuICBUaGVyZWZvcmUgdW5pbml0aWFsaXplZCBtZW1vcnkgd2lsbCBiZSBhY2Nlc3NlZCwgYW5kXG4gICAgICogY29uZGl0aW9uYWwganVtcHMgd2lsbCBiZSBtYWRlIHRoYXQgZGVwZW5kIG9uIHRob3NlIHZhbHVlcy5cbiAgICAgKiBIb3dldmVyIHRoZSBsZW5ndGggb2YgdGhlIG1hdGNoIGlzIGxpbWl0ZWQgdG8gdGhlIGxvb2thaGVhZCwgc29cbiAgICAgKiB0aGUgb3V0cHV0IG9mIGRlZmxhdGUgaXMgbm90IGFmZmVjdGVkIGJ5IHRoZSB1bmluaXRpYWxpemVkIHZhbHVlcy5cbiAgICAgKi9cblxuICAgIGlmIChfd2luW21hdGNoICsgYmVzdF9sZW5dICE9PSBzY2FuX2VuZCB8fFxuICAgICAgX3dpblttYXRjaCArIGJlc3RfbGVuIC0gMV0gIT09IHNjYW5fZW5kMSB8fFxuICAgICAgX3dpblttYXRjaF0gIT09IF93aW5bc2Nhbl0gfHxcbiAgICAgIF93aW5bKyttYXRjaF0gIT09IF93aW5bc2NhbiArIDFdKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvKiBUaGUgY2hlY2sgYXQgYmVzdF9sZW4tMSBjYW4gYmUgcmVtb3ZlZCBiZWNhdXNlIGl0IHdpbGwgYmUgbWFkZVxuICAgICAqIGFnYWluIGxhdGVyLiAoVGhpcyBoZXVyaXN0aWMgaXMgbm90IGFsd2F5cyBhIHdpbi4pXG4gICAgICogSXQgaXMgbm90IG5lY2Vzc2FyeSB0byBjb21wYXJlIHNjYW5bMl0gYW5kIG1hdGNoWzJdIHNpbmNlIHRoZXlcbiAgICAgKiBhcmUgYWx3YXlzIGVxdWFsIHdoZW4gdGhlIG90aGVyIGJ5dGVzIG1hdGNoLCBnaXZlbiB0aGF0XG4gICAgICogdGhlIGhhc2gga2V5cyBhcmUgZXF1YWwgYW5kIHRoYXQgSEFTSF9CSVRTID49IDguXG4gICAgICovXG4gICAgc2NhbiArPSAyO1xuICAgIG1hdGNoKys7XG4gICAgLy8gQXNzZXJ0KCpzY2FuID09ICptYXRjaCwgXCJtYXRjaFsyXT9cIik7XG5cbiAgICAvKiBXZSBjaGVjayBmb3IgaW5zdWZmaWNpZW50IGxvb2thaGVhZCBvbmx5IGV2ZXJ5IDh0aCBjb21wYXJpc29uO1xuICAgICAqIHRoZSAyNTZ0aCBjaGVjayB3aWxsIGJlIG1hZGUgYXQgc3Ryc3RhcnQrMjU4LlxuICAgICAqL1xuICAgIGRvIHtcbiAgICAgIC8qanNoaW50IG5vZW1wdHk6ZmFsc2UqL1xuICAgIH0gd2hpbGUgKF93aW5bKytzY2FuXSA9PT0gX3dpblsrK21hdGNoXSAmJiBfd2luWysrc2Nhbl0gPT09IF93aW5bKyttYXRjaF0gJiZcbiAgICAgIF93aW5bKytzY2FuXSA9PT0gX3dpblsrK21hdGNoXSAmJiBfd2luWysrc2Nhbl0gPT09IF93aW5bKyttYXRjaF0gJiZcbiAgICAgIF93aW5bKytzY2FuXSA9PT0gX3dpblsrK21hdGNoXSAmJiBfd2luWysrc2Nhbl0gPT09IF93aW5bKyttYXRjaF0gJiZcbiAgICAgIF93aW5bKytzY2FuXSA9PT0gX3dpblsrK21hdGNoXSAmJiBfd2luWysrc2Nhbl0gPT09IF93aW5bKyttYXRjaF0gJiZcbiAgICAgIHNjYW4gPCBzdHJlbmQpO1xuXG4gICAgLy8gQXNzZXJ0KHNjYW4gPD0gcy0+d2luZG93Kyh1bnNpZ25lZCkocy0+d2luZG93X3NpemUtMSksIFwid2lsZCBzY2FuXCIpO1xuXG4gICAgbGVuID0gTUFYX01BVENIIC0gKHN0cmVuZCAtIHNjYW4pO1xuICAgIHNjYW4gPSBzdHJlbmQgLSBNQVhfTUFUQ0g7XG5cbiAgICBpZiAobGVuID4gYmVzdF9sZW4pIHtcbiAgICAgIHMubWF0Y2hfc3RhcnQgPSBjdXJfbWF0Y2g7XG4gICAgICBiZXN0X2xlbiA9IGxlbjtcbiAgICAgIGlmIChsZW4gPj0gbmljZV9tYXRjaCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHNjYW5fZW5kMSA9IF93aW5bc2NhbiArIGJlc3RfbGVuIC0gMV07XG4gICAgICBzY2FuX2VuZCA9IF93aW5bc2NhbiArIGJlc3RfbGVuXTtcbiAgICB9XG4gIH0gd2hpbGUgKChjdXJfbWF0Y2ggPSBwcmV2W2N1cl9tYXRjaCAmIHdtYXNrXSkgPiBsaW1pdCAmJiAtLWNoYWluX2xlbmd0aCAhPT0gMCk7XG5cbiAgaWYgKGJlc3RfbGVuIDw9IHMubG9va2FoZWFkKSB7XG4gICAgcmV0dXJuIGJlc3RfbGVuO1xuICB9XG4gIHJldHVybiBzLmxvb2thaGVhZDtcbn1cblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEZpbGwgdGhlIHdpbmRvdyB3aGVuIHRoZSBsb29rYWhlYWQgYmVjb21lcyBpbnN1ZmZpY2llbnQuXG4gKiBVcGRhdGVzIHN0cnN0YXJ0IGFuZCBsb29rYWhlYWQuXG4gKlxuICogSU4gYXNzZXJ0aW9uOiBsb29rYWhlYWQgPCBNSU5fTE9PS0FIRUFEXG4gKiBPVVQgYXNzZXJ0aW9uczogc3Ryc3RhcnQgPD0gd2luZG93X3NpemUtTUlOX0xPT0tBSEVBRFxuICogICAgQXQgbGVhc3Qgb25lIGJ5dGUgaGFzIGJlZW4gcmVhZCwgb3IgYXZhaWxfaW4gPT0gMDsgcmVhZHMgYXJlXG4gKiAgICBwZXJmb3JtZWQgZm9yIGF0IGxlYXN0IHR3byBieXRlcyAocmVxdWlyZWQgZm9yIHRoZSB6aXAgdHJhbnNsYXRlX2VvbFxuICogICAgb3B0aW9uIC0tIG5vdCBzdXBwb3J0ZWQgaGVyZSkuXG4gKi9cbmZ1bmN0aW9uIGZpbGxfd2luZG93KHMpIHtcbiAgdmFyIF93X3NpemUgPSBzLndfc2l6ZTtcbiAgdmFyIHAsIG4sIG0sIG1vcmUsIHN0cjtcblxuICAvL0Fzc2VydChzLT5sb29rYWhlYWQgPCBNSU5fTE9PS0FIRUFELCBcImFscmVhZHkgZW5vdWdoIGxvb2thaGVhZFwiKTtcblxuICBkbyB7XG4gICAgbW9yZSA9IHMud2luZG93X3NpemUgLSBzLmxvb2thaGVhZCAtIHMuc3Ryc3RhcnQ7XG5cbiAgICAvLyBKUyBpbnRzIGhhdmUgMzIgYml0LCBibG9jayBiZWxvdyBub3QgbmVlZGVkXG4gICAgLyogRGVhbCB3aXRoICFAIyQlIDY0SyBsaW1pdDogKi9cbiAgICAvL2lmIChzaXplb2YoaW50KSA8PSAyKSB7XG4gICAgLy8gICAgaWYgKG1vcmUgPT0gMCAmJiBzLT5zdHJzdGFydCA9PSAwICYmIHMtPmxvb2thaGVhZCA9PSAwKSB7XG4gICAgLy8gICAgICAgIG1vcmUgPSB3c2l6ZTtcbiAgICAvL1xuICAgIC8vICB9IGVsc2UgaWYgKG1vcmUgPT0gKHVuc2lnbmVkKSgtMSkpIHtcbiAgICAvLyAgICAgICAgLyogVmVyeSB1bmxpa2VseSwgYnV0IHBvc3NpYmxlIG9uIDE2IGJpdCBtYWNoaW5lIGlmXG4gICAgLy8gICAgICAgICAqIHN0cnN0YXJ0ID09IDAgJiYgbG9va2FoZWFkID09IDEgKGlucHV0IGRvbmUgYSBieXRlIGF0IHRpbWUpXG4gICAgLy8gICAgICAgICAqL1xuICAgIC8vICAgICAgICBtb3JlLS07XG4gICAgLy8gICAgfVxuICAgIC8vfVxuXG5cbiAgICAvKiBJZiB0aGUgd2luZG93IGlzIGFsbW9zdCBmdWxsIGFuZCB0aGVyZSBpcyBpbnN1ZmZpY2llbnQgbG9va2FoZWFkLFxuICAgICAqIG1vdmUgdGhlIHVwcGVyIGhhbGYgdG8gdGhlIGxvd2VyIG9uZSB0byBtYWtlIHJvb20gaW4gdGhlIHVwcGVyIGhhbGYuXG4gICAgICovXG4gICAgaWYgKHMuc3Ryc3RhcnQgPj0gX3dfc2l6ZSArIChfd19zaXplIC0gTUlOX0xPT0tBSEVBRCkpIHtcblxuICAgICAgYXJyYXlTZXQocy53aW5kb3csIHMud2luZG93LCBfd19zaXplLCBfd19zaXplLCAwKTtcbiAgICAgIHMubWF0Y2hfc3RhcnQgLT0gX3dfc2l6ZTtcbiAgICAgIHMuc3Ryc3RhcnQgLT0gX3dfc2l6ZTtcbiAgICAgIC8qIHdlIG5vdyBoYXZlIHN0cnN0YXJ0ID49IE1BWF9ESVNUICovXG4gICAgICBzLmJsb2NrX3N0YXJ0IC09IF93X3NpemU7XG5cbiAgICAgIC8qIFNsaWRlIHRoZSBoYXNoIHRhYmxlIChjb3VsZCBiZSBhdm9pZGVkIHdpdGggMzIgYml0IHZhbHVlc1xuICAgICAgIGF0IHRoZSBleHBlbnNlIG9mIG1lbW9yeSB1c2FnZSkuIFdlIHNsaWRlIGV2ZW4gd2hlbiBsZXZlbCA9PSAwXG4gICAgICAgdG8ga2VlcCB0aGUgaGFzaCB0YWJsZSBjb25zaXN0ZW50IGlmIHdlIHN3aXRjaCBiYWNrIHRvIGxldmVsID4gMFxuICAgICAgIGxhdGVyLiAoVXNpbmcgbGV2ZWwgMCBwZXJtYW5lbnRseSBpcyBub3QgYW4gb3B0aW1hbCB1c2FnZSBvZlxuICAgICAgIHpsaWIsIHNvIHdlIGRvbid0IGNhcmUgYWJvdXQgdGhpcyBwYXRob2xvZ2ljYWwgY2FzZS4pXG4gICAgICAgKi9cblxuICAgICAgbiA9IHMuaGFzaF9zaXplO1xuICAgICAgcCA9IG47XG4gICAgICBkbyB7XG4gICAgICAgIG0gPSBzLmhlYWRbLS1wXTtcbiAgICAgICAgcy5oZWFkW3BdID0gKG0gPj0gX3dfc2l6ZSA/IG0gLSBfd19zaXplIDogMCk7XG4gICAgICB9IHdoaWxlICgtLW4pO1xuXG4gICAgICBuID0gX3dfc2l6ZTtcbiAgICAgIHAgPSBuO1xuICAgICAgZG8ge1xuICAgICAgICBtID0gcy5wcmV2Wy0tcF07XG4gICAgICAgIHMucHJldltwXSA9IChtID49IF93X3NpemUgPyBtIC0gX3dfc2l6ZSA6IDApO1xuICAgICAgICAvKiBJZiBuIGlzIG5vdCBvbiBhbnkgaGFzaCBjaGFpbiwgcHJldltuXSBpcyBnYXJiYWdlIGJ1dFxuICAgICAgICAgKiBpdHMgdmFsdWUgd2lsbCBuZXZlciBiZSB1c2VkLlxuICAgICAgICAgKi9cbiAgICAgIH0gd2hpbGUgKC0tbik7XG5cbiAgICAgIG1vcmUgKz0gX3dfc2l6ZTtcbiAgICB9XG4gICAgaWYgKHMuc3RybS5hdmFpbF9pbiA9PT0gMCkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgLyogSWYgdGhlcmUgd2FzIG5vIHNsaWRpbmc6XG4gICAgICogICAgc3Ryc3RhcnQgPD0gV1NJWkUrTUFYX0RJU1QtMSAmJiBsb29rYWhlYWQgPD0gTUlOX0xPT0tBSEVBRCAtIDEgJiZcbiAgICAgKiAgICBtb3JlID09IHdpbmRvd19zaXplIC0gbG9va2FoZWFkIC0gc3Ryc3RhcnRcbiAgICAgKiA9PiBtb3JlID49IHdpbmRvd19zaXplIC0gKE1JTl9MT09LQUhFQUQtMSArIFdTSVpFICsgTUFYX0RJU1QtMSlcbiAgICAgKiA9PiBtb3JlID49IHdpbmRvd19zaXplIC0gMipXU0laRSArIDJcbiAgICAgKiBJbiB0aGUgQklHX01FTSBvciBNTUFQIGNhc2UgKG5vdCB5ZXQgc3VwcG9ydGVkKSxcbiAgICAgKiAgIHdpbmRvd19zaXplID09IGlucHV0X3NpemUgKyBNSU5fTE9PS0FIRUFEICAmJlxuICAgICAqICAgc3Ryc3RhcnQgKyBzLT5sb29rYWhlYWQgPD0gaW5wdXRfc2l6ZSA9PiBtb3JlID49IE1JTl9MT09LQUhFQUQuXG4gICAgICogT3RoZXJ3aXNlLCB3aW5kb3dfc2l6ZSA9PSAyKldTSVpFIHNvIG1vcmUgPj0gMi5cbiAgICAgKiBJZiB0aGVyZSB3YXMgc2xpZGluZywgbW9yZSA+PSBXU0laRS4gU28gaW4gYWxsIGNhc2VzLCBtb3JlID49IDIuXG4gICAgICovXG4gICAgLy9Bc3NlcnQobW9yZSA+PSAyLCBcIm1vcmUgPCAyXCIpO1xuICAgIG4gPSByZWFkX2J1ZihzLnN0cm0sIHMud2luZG93LCBzLnN0cnN0YXJ0ICsgcy5sb29rYWhlYWQsIG1vcmUpO1xuICAgIHMubG9va2FoZWFkICs9IG47XG5cbiAgICAvKiBJbml0aWFsaXplIHRoZSBoYXNoIHZhbHVlIG5vdyB0aGF0IHdlIGhhdmUgc29tZSBpbnB1dDogKi9cbiAgICBpZiAocy5sb29rYWhlYWQgKyBzLmluc2VydCA+PSBNSU5fTUFUQ0gpIHtcbiAgICAgIHN0ciA9IHMuc3Ryc3RhcnQgLSBzLmluc2VydDtcbiAgICAgIHMuaW5zX2ggPSBzLndpbmRvd1tzdHJdO1xuXG4gICAgICAvKiBVUERBVEVfSEFTSChzLCBzLT5pbnNfaCwgcy0+d2luZG93W3N0ciArIDFdKTsgKi9cbiAgICAgIHMuaW5zX2ggPSAoKHMuaW5zX2ggPDwgcy5oYXNoX3NoaWZ0KSBeIHMud2luZG93W3N0ciArIDFdKSAmIHMuaGFzaF9tYXNrO1xuICAgICAgLy8jaWYgTUlOX01BVENIICE9IDNcbiAgICAgIC8vICAgICAgICBDYWxsIHVwZGF0ZV9oYXNoKCkgTUlOX01BVENILTMgbW9yZSB0aW1lc1xuICAgICAgLy8jZW5kaWZcbiAgICAgIHdoaWxlIChzLmluc2VydCkge1xuICAgICAgICAvKiBVUERBVEVfSEFTSChzLCBzLT5pbnNfaCwgcy0+d2luZG93W3N0ciArIE1JTl9NQVRDSC0xXSk7ICovXG4gICAgICAgIHMuaW5zX2ggPSAoKHMuaW5zX2ggPDwgcy5oYXNoX3NoaWZ0KSBeIHMud2luZG93W3N0ciArIE1JTl9NQVRDSCAtIDFdKSAmIHMuaGFzaF9tYXNrO1xuXG4gICAgICAgIHMucHJldltzdHIgJiBzLndfbWFza10gPSBzLmhlYWRbcy5pbnNfaF07XG4gICAgICAgIHMuaGVhZFtzLmluc19oXSA9IHN0cjtcbiAgICAgICAgc3RyKys7XG4gICAgICAgIHMuaW5zZXJ0LS07XG4gICAgICAgIGlmIChzLmxvb2thaGVhZCArIHMuaW5zZXJ0IDwgTUlOX01BVENIKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLyogSWYgdGhlIHdob2xlIGlucHV0IGhhcyBsZXNzIHRoYW4gTUlOX01BVENIIGJ5dGVzLCBpbnNfaCBpcyBnYXJiYWdlLFxuICAgICAqIGJ1dCB0aGlzIGlzIG5vdCBpbXBvcnRhbnQgc2luY2Ugb25seSBsaXRlcmFsIGJ5dGVzIHdpbGwgYmUgZW1pdHRlZC5cbiAgICAgKi9cblxuICB9IHdoaWxlIChzLmxvb2thaGVhZCA8IE1JTl9MT09LQUhFQUQgJiYgcy5zdHJtLmF2YWlsX2luICE9PSAwKTtcblxuICAvKiBJZiB0aGUgV0lOX0lOSVQgYnl0ZXMgYWZ0ZXIgdGhlIGVuZCBvZiB0aGUgY3VycmVudCBkYXRhIGhhdmUgbmV2ZXIgYmVlblxuICAgKiB3cml0dGVuLCB0aGVuIHplcm8gdGhvc2UgYnl0ZXMgaW4gb3JkZXIgdG8gYXZvaWQgbWVtb3J5IGNoZWNrIHJlcG9ydHMgb2ZcbiAgICogdGhlIHVzZSBvZiB1bmluaXRpYWxpemVkIChvciB1bmluaXRpYWxpc2VkIGFzIEp1bGlhbiB3cml0ZXMpIGJ5dGVzIGJ5XG4gICAqIHRoZSBsb25nZXN0IG1hdGNoIHJvdXRpbmVzLiAgVXBkYXRlIHRoZSBoaWdoIHdhdGVyIG1hcmsgZm9yIHRoZSBuZXh0XG4gICAqIHRpbWUgdGhyb3VnaCBoZXJlLiAgV0lOX0lOSVQgaXMgc2V0IHRvIE1BWF9NQVRDSCBzaW5jZSB0aGUgbG9uZ2VzdCBtYXRjaFxuICAgKiByb3V0aW5lcyBhbGxvdyBzY2FubmluZyB0byBzdHJzdGFydCArIE1BWF9NQVRDSCwgaWdub3JpbmcgbG9va2FoZWFkLlxuICAgKi9cbiAgLy8gIGlmIChzLmhpZ2hfd2F0ZXIgPCBzLndpbmRvd19zaXplKSB7XG4gIC8vICAgIHZhciBjdXJyID0gcy5zdHJzdGFydCArIHMubG9va2FoZWFkO1xuICAvLyAgICB2YXIgaW5pdCA9IDA7XG4gIC8vXG4gIC8vICAgIGlmIChzLmhpZ2hfd2F0ZXIgPCBjdXJyKSB7XG4gIC8vICAgICAgLyogUHJldmlvdXMgaGlnaCB3YXRlciBtYXJrIGJlbG93IGN1cnJlbnQgZGF0YSAtLSB6ZXJvIFdJTl9JTklUXG4gIC8vICAgICAgICogYnl0ZXMgb3IgdXAgdG8gZW5kIG9mIHdpbmRvdywgd2hpY2hldmVyIGlzIGxlc3MuXG4gIC8vICAgICAgICovXG4gIC8vICAgICAgaW5pdCA9IHMud2luZG93X3NpemUgLSBjdXJyO1xuICAvLyAgICAgIGlmIChpbml0ID4gV0lOX0lOSVQpXG4gIC8vICAgICAgICBpbml0ID0gV0lOX0lOSVQ7XG4gIC8vICAgICAgem1lbXplcm8ocy0+d2luZG93ICsgY3VyciwgKHVuc2lnbmVkKWluaXQpO1xuICAvLyAgICAgIHMtPmhpZ2hfd2F0ZXIgPSBjdXJyICsgaW5pdDtcbiAgLy8gICAgfVxuICAvLyAgICBlbHNlIGlmIChzLT5oaWdoX3dhdGVyIDwgKHVsZyljdXJyICsgV0lOX0lOSVQpIHtcbiAgLy8gICAgICAvKiBIaWdoIHdhdGVyIG1hcmsgYXQgb3IgYWJvdmUgY3VycmVudCBkYXRhLCBidXQgYmVsb3cgY3VycmVudCBkYXRhXG4gIC8vICAgICAgICogcGx1cyBXSU5fSU5JVCAtLSB6ZXJvIG91dCB0byBjdXJyZW50IGRhdGEgcGx1cyBXSU5fSU5JVCwgb3IgdXBcbiAgLy8gICAgICAgKiB0byBlbmQgb2Ygd2luZG93LCB3aGljaGV2ZXIgaXMgbGVzcy5cbiAgLy8gICAgICAgKi9cbiAgLy8gICAgICBpbml0ID0gKHVsZyljdXJyICsgV0lOX0lOSVQgLSBzLT5oaWdoX3dhdGVyO1xuICAvLyAgICAgIGlmIChpbml0ID4gcy0+d2luZG93X3NpemUgLSBzLT5oaWdoX3dhdGVyKVxuICAvLyAgICAgICAgaW5pdCA9IHMtPndpbmRvd19zaXplIC0gcy0+aGlnaF93YXRlcjtcbiAgLy8gICAgICB6bWVtemVybyhzLT53aW5kb3cgKyBzLT5oaWdoX3dhdGVyLCAodW5zaWduZWQpaW5pdCk7XG4gIC8vICAgICAgcy0+aGlnaF93YXRlciArPSBpbml0O1xuICAvLyAgICB9XG4gIC8vICB9XG4gIC8vXG4gIC8vICBBc3NlcnQoKHVsZylzLT5zdHJzdGFydCA8PSBzLT53aW5kb3dfc2l6ZSAtIE1JTl9MT09LQUhFQUQsXG4gIC8vICAgIFwibm90IGVub3VnaCByb29tIGZvciBzZWFyY2hcIik7XG59XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weSB3aXRob3V0IGNvbXByZXNzaW9uIGFzIG11Y2ggYXMgcG9zc2libGUgZnJvbSB0aGUgaW5wdXQgc3RyZWFtLCByZXR1cm5cbiAqIHRoZSBjdXJyZW50IGJsb2NrIHN0YXRlLlxuICogVGhpcyBmdW5jdGlvbiBkb2VzIG5vdCBpbnNlcnQgbmV3IHN0cmluZ3MgaW4gdGhlIGRpY3Rpb25hcnkgc2luY2VcbiAqIHVuY29tcHJlc3NpYmxlIGRhdGEgaXMgcHJvYmFibHkgbm90IHVzZWZ1bC4gVGhpcyBmdW5jdGlvbiBpcyB1c2VkXG4gKiBvbmx5IGZvciB0aGUgbGV2ZWw9MCBjb21wcmVzc2lvbiBvcHRpb24uXG4gKiBOT1RFOiB0aGlzIGZ1bmN0aW9uIHNob3VsZCBiZSBvcHRpbWl6ZWQgdG8gYXZvaWQgZXh0cmEgY29weWluZyBmcm9tXG4gKiB3aW5kb3cgdG8gcGVuZGluZ19idWYuXG4gKi9cbmZ1bmN0aW9uIGRlZmxhdGVfc3RvcmVkKHMsIGZsdXNoKSB7XG4gIC8qIFN0b3JlZCBibG9ja3MgYXJlIGxpbWl0ZWQgdG8gMHhmZmZmIGJ5dGVzLCBwZW5kaW5nX2J1ZiBpcyBsaW1pdGVkXG4gICAqIHRvIHBlbmRpbmdfYnVmX3NpemUsIGFuZCBlYWNoIHN0b3JlZCBibG9jayBoYXMgYSA1IGJ5dGUgaGVhZGVyOlxuICAgKi9cbiAgdmFyIG1heF9ibG9ja19zaXplID0gMHhmZmZmO1xuXG4gIGlmIChtYXhfYmxvY2tfc2l6ZSA+IHMucGVuZGluZ19idWZfc2l6ZSAtIDUpIHtcbiAgICBtYXhfYmxvY2tfc2l6ZSA9IHMucGVuZGluZ19idWZfc2l6ZSAtIDU7XG4gIH1cblxuICAvKiBDb3B5IGFzIG11Y2ggYXMgcG9zc2libGUgZnJvbSBpbnB1dCB0byBvdXRwdXQ6ICovXG4gIGZvciAoOzspIHtcbiAgICAvKiBGaWxsIHRoZSB3aW5kb3cgYXMgbXVjaCBhcyBwb3NzaWJsZTogKi9cbiAgICBpZiAocy5sb29rYWhlYWQgPD0gMSkge1xuXG4gICAgICAvL0Fzc2VydChzLT5zdHJzdGFydCA8IHMtPndfc2l6ZStNQVhfRElTVChzKSB8fFxuICAgICAgLy8gIHMtPmJsb2NrX3N0YXJ0ID49IChsb25nKXMtPndfc2l6ZSwgXCJzbGlkZSB0b28gbGF0ZVwiKTtcbiAgICAgIC8vICAgICAgaWYgKCEocy5zdHJzdGFydCA8IHMud19zaXplICsgKHMud19zaXplIC0gTUlOX0xPT0tBSEVBRCkgfHxcbiAgICAgIC8vICAgICAgICBzLmJsb2NrX3N0YXJ0ID49IHMud19zaXplKSkge1xuICAgICAgLy8gICAgICAgIHRocm93ICBuZXcgRXJyb3IoXCJzbGlkZSB0b28gbGF0ZVwiKTtcbiAgICAgIC8vICAgICAgfVxuXG4gICAgICBmaWxsX3dpbmRvdyhzKTtcbiAgICAgIGlmIChzLmxvb2thaGVhZCA9PT0gMCAmJiBmbHVzaCA9PT0gWl9OT19GTFVTSCkge1xuICAgICAgICByZXR1cm4gQlNfTkVFRF9NT1JFO1xuICAgICAgfVxuXG4gICAgICBpZiAocy5sb29rYWhlYWQgPT09IDApIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICAvKiBmbHVzaCB0aGUgY3VycmVudCBibG9jayAqL1xuICAgIH1cbiAgICAvL0Fzc2VydChzLT5ibG9ja19zdGFydCA+PSAwTCwgXCJibG9jayBnb25lXCIpO1xuICAgIC8vICAgIGlmIChzLmJsb2NrX3N0YXJ0IDwgMCkgdGhyb3cgbmV3IEVycm9yKFwiYmxvY2sgZ29uZVwiKTtcblxuICAgIHMuc3Ryc3RhcnQgKz0gcy5sb29rYWhlYWQ7XG4gICAgcy5sb29rYWhlYWQgPSAwO1xuXG4gICAgLyogRW1pdCBhIHN0b3JlZCBibG9jayBpZiBwZW5kaW5nX2J1ZiB3aWxsIGJlIGZ1bGw6ICovXG4gICAgdmFyIG1heF9zdGFydCA9IHMuYmxvY2tfc3RhcnQgKyBtYXhfYmxvY2tfc2l6ZTtcblxuICAgIGlmIChzLnN0cnN0YXJ0ID09PSAwIHx8IHMuc3Ryc3RhcnQgPj0gbWF4X3N0YXJ0KSB7XG4gICAgICAvKiBzdHJzdGFydCA9PSAwIGlzIHBvc3NpYmxlIHdoZW4gd3JhcGFyb3VuZCBvbiAxNi1iaXQgbWFjaGluZSAqL1xuICAgICAgcy5sb29rYWhlYWQgPSBzLnN0cnN0YXJ0IC0gbWF4X3N0YXJ0O1xuICAgICAgcy5zdHJzdGFydCA9IG1heF9zdGFydDtcbiAgICAgIC8qKiogRkxVU0hfQkxPQ0socywgMCk7ICoqKi9cbiAgICAgIGZsdXNoX2Jsb2NrX29ubHkocywgZmFsc2UpO1xuICAgICAgaWYgKHMuc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIEJTX05FRURfTU9SRTtcbiAgICAgIH1cbiAgICAgIC8qKiovXG5cblxuICAgIH1cbiAgICAvKiBGbHVzaCBpZiB3ZSBtYXkgaGF2ZSB0byBzbGlkZSwgb3RoZXJ3aXNlIGJsb2NrX3N0YXJ0IG1heSBiZWNvbWVcbiAgICAgKiBuZWdhdGl2ZSBhbmQgdGhlIGRhdGEgd2lsbCBiZSBnb25lOlxuICAgICAqL1xuICAgIGlmIChzLnN0cnN0YXJ0IC0gcy5ibG9ja19zdGFydCA+PSAocy53X3NpemUgLSBNSU5fTE9PS0FIRUFEKSkge1xuICAgICAgLyoqKiBGTFVTSF9CTE9DSyhzLCAwKTsgKioqL1xuICAgICAgZmx1c2hfYmxvY2tfb25seShzLCBmYWxzZSk7XG4gICAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gQlNfTkVFRF9NT1JFO1xuICAgICAgfVxuICAgICAgLyoqKi9cbiAgICB9XG4gIH1cblxuICBzLmluc2VydCA9IDA7XG5cbiAgaWYgKGZsdXNoID09PSBaX0ZJTklTSCkge1xuICAgIC8qKiogRkxVU0hfQkxPQ0socywgMSk7ICoqKi9cbiAgICBmbHVzaF9ibG9ja19vbmx5KHMsIHRydWUpO1xuICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICByZXR1cm4gQlNfRklOSVNIX1NUQVJURUQ7XG4gICAgfVxuICAgIC8qKiovXG4gICAgcmV0dXJuIEJTX0ZJTklTSF9ET05FO1xuICB9XG5cbiAgaWYgKHMuc3Ryc3RhcnQgPiBzLmJsb2NrX3N0YXJ0KSB7XG4gICAgLyoqKiBGTFVTSF9CTE9DSyhzLCAwKTsgKioqL1xuICAgIGZsdXNoX2Jsb2NrX29ubHkocywgZmFsc2UpO1xuICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICByZXR1cm4gQlNfTkVFRF9NT1JFO1xuICAgIH1cbiAgICAvKioqL1xuICB9XG5cbiAgcmV0dXJuIEJTX05FRURfTU9SRTtcbn1cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb21wcmVzcyBhcyBtdWNoIGFzIHBvc3NpYmxlIGZyb20gdGhlIGlucHV0IHN0cmVhbSwgcmV0dXJuIHRoZSBjdXJyZW50XG4gKiBibG9jayBzdGF0ZS5cbiAqIFRoaXMgZnVuY3Rpb24gZG9lcyBub3QgcGVyZm9ybSBsYXp5IGV2YWx1YXRpb24gb2YgbWF0Y2hlcyBhbmQgaW5zZXJ0c1xuICogbmV3IHN0cmluZ3MgaW4gdGhlIGRpY3Rpb25hcnkgb25seSBmb3IgdW5tYXRjaGVkIHN0cmluZ3Mgb3IgZm9yIHNob3J0XG4gKiBtYXRjaGVzLiBJdCBpcyB1c2VkIG9ubHkgZm9yIHRoZSBmYXN0IGNvbXByZXNzaW9uIG9wdGlvbnMuXG4gKi9cbmZ1bmN0aW9uIGRlZmxhdGVfZmFzdChzLCBmbHVzaCkge1xuICB2YXIgaGFzaF9oZWFkOyAvKiBoZWFkIG9mIHRoZSBoYXNoIGNoYWluICovXG4gIHZhciBiZmx1c2g7IC8qIHNldCBpZiBjdXJyZW50IGJsb2NrIG11c3QgYmUgZmx1c2hlZCAqL1xuXG4gIGZvciAoOzspIHtcbiAgICAvKiBNYWtlIHN1cmUgdGhhdCB3ZSBhbHdheXMgaGF2ZSBlbm91Z2ggbG9va2FoZWFkLCBleGNlcHRcbiAgICAgKiBhdCB0aGUgZW5kIG9mIHRoZSBpbnB1dCBmaWxlLiBXZSBuZWVkIE1BWF9NQVRDSCBieXRlc1xuICAgICAqIGZvciB0aGUgbmV4dCBtYXRjaCwgcGx1cyBNSU5fTUFUQ0ggYnl0ZXMgdG8gaW5zZXJ0IHRoZVxuICAgICAqIHN0cmluZyBmb2xsb3dpbmcgdGhlIG5leHQgbWF0Y2guXG4gICAgICovXG4gICAgaWYgKHMubG9va2FoZWFkIDwgTUlOX0xPT0tBSEVBRCkge1xuICAgICAgZmlsbF93aW5kb3cocyk7XG4gICAgICBpZiAocy5sb29rYWhlYWQgPCBNSU5fTE9PS0FIRUFEICYmIGZsdXNoID09PSBaX05PX0ZMVVNIKSB7XG4gICAgICAgIHJldHVybiBCU19ORUVEX01PUkU7XG4gICAgICB9XG4gICAgICBpZiAocy5sb29rYWhlYWQgPT09IDApIHtcbiAgICAgICAgYnJlYWs7IC8qIGZsdXNoIHRoZSBjdXJyZW50IGJsb2NrICovXG4gICAgICB9XG4gICAgfVxuXG4gICAgLyogSW5zZXJ0IHRoZSBzdHJpbmcgd2luZG93W3N0cnN0YXJ0IC4uIHN0cnN0YXJ0KzJdIGluIHRoZVxuICAgICAqIGRpY3Rpb25hcnksIGFuZCBzZXQgaGFzaF9oZWFkIHRvIHRoZSBoZWFkIG9mIHRoZSBoYXNoIGNoYWluOlxuICAgICAqL1xuICAgIGhhc2hfaGVhZCA9IDAgLypOSUwqLyA7XG4gICAgaWYgKHMubG9va2FoZWFkID49IE1JTl9NQVRDSCkge1xuICAgICAgLyoqKiBJTlNFUlRfU1RSSU5HKHMsIHMuc3Ryc3RhcnQsIGhhc2hfaGVhZCk7ICoqKi9cbiAgICAgIHMuaW5zX2ggPSAoKHMuaW5zX2ggPDwgcy5oYXNoX3NoaWZ0KSBeIHMud2luZG93W3Muc3Ryc3RhcnQgKyBNSU5fTUFUQ0ggLSAxXSkgJiBzLmhhc2hfbWFzaztcbiAgICAgIGhhc2hfaGVhZCA9IHMucHJldltzLnN0cnN0YXJ0ICYgcy53X21hc2tdID0gcy5oZWFkW3MuaW5zX2hdO1xuICAgICAgcy5oZWFkW3MuaW5zX2hdID0gcy5zdHJzdGFydDtcbiAgICAgIC8qKiovXG4gICAgfVxuXG4gICAgLyogRmluZCB0aGUgbG9uZ2VzdCBtYXRjaCwgZGlzY2FyZGluZyB0aG9zZSA8PSBwcmV2X2xlbmd0aC5cbiAgICAgKiBBdCB0aGlzIHBvaW50IHdlIGhhdmUgYWx3YXlzIG1hdGNoX2xlbmd0aCA8IE1JTl9NQVRDSFxuICAgICAqL1xuICAgIGlmIChoYXNoX2hlYWQgIT09IDAgLypOSUwqLyAmJiAoKHMuc3Ryc3RhcnQgLSBoYXNoX2hlYWQpIDw9IChzLndfc2l6ZSAtIE1JTl9MT09LQUhFQUQpKSkge1xuICAgICAgLyogVG8gc2ltcGxpZnkgdGhlIGNvZGUsIHdlIHByZXZlbnQgbWF0Y2hlcyB3aXRoIHRoZSBzdHJpbmdcbiAgICAgICAqIG9mIHdpbmRvdyBpbmRleCAwIChpbiBwYXJ0aWN1bGFyIHdlIGhhdmUgdG8gYXZvaWQgYSBtYXRjaFxuICAgICAgICogb2YgdGhlIHN0cmluZyB3aXRoIGl0c2VsZiBhdCB0aGUgc3RhcnQgb2YgdGhlIGlucHV0IGZpbGUpLlxuICAgICAgICovXG4gICAgICBzLm1hdGNoX2xlbmd0aCA9IGxvbmdlc3RfbWF0Y2gocywgaGFzaF9oZWFkKTtcbiAgICAgIC8qIGxvbmdlc3RfbWF0Y2goKSBzZXRzIG1hdGNoX3N0YXJ0ICovXG4gICAgfVxuICAgIGlmIChzLm1hdGNoX2xlbmd0aCA+PSBNSU5fTUFUQ0gpIHtcbiAgICAgIC8vIGNoZWNrX21hdGNoKHMsIHMuc3Ryc3RhcnQsIHMubWF0Y2hfc3RhcnQsIHMubWF0Y2hfbGVuZ3RoKTsgLy8gZm9yIGRlYnVnIG9ubHlcblxuICAgICAgLyoqKiBfdHJfdGFsbHlfZGlzdChzLCBzLnN0cnN0YXJ0IC0gcy5tYXRjaF9zdGFydCxcbiAgICAgICAgICAgICAgICAgICAgIHMubWF0Y2hfbGVuZ3RoIC0gTUlOX01BVENILCBiZmx1c2gpOyAqKiovXG4gICAgICBiZmx1c2ggPSBfdHJfdGFsbHkocywgcy5zdHJzdGFydCAtIHMubWF0Y2hfc3RhcnQsIHMubWF0Y2hfbGVuZ3RoIC0gTUlOX01BVENIKTtcblxuICAgICAgcy5sb29rYWhlYWQgLT0gcy5tYXRjaF9sZW5ndGg7XG5cbiAgICAgIC8qIEluc2VydCBuZXcgc3RyaW5ncyBpbiB0aGUgaGFzaCB0YWJsZSBvbmx5IGlmIHRoZSBtYXRjaCBsZW5ndGhcbiAgICAgICAqIGlzIG5vdCB0b28gbGFyZ2UuIFRoaXMgc2F2ZXMgdGltZSBidXQgZGVncmFkZXMgY29tcHJlc3Npb24uXG4gICAgICAgKi9cbiAgICAgIGlmIChzLm1hdGNoX2xlbmd0aCA8PSBzLm1heF9sYXp5X21hdGNoIC8qbWF4X2luc2VydF9sZW5ndGgqLyAmJiBzLmxvb2thaGVhZCA+PSBNSU5fTUFUQ0gpIHtcbiAgICAgICAgcy5tYXRjaF9sZW5ndGgtLTsgLyogc3RyaW5nIGF0IHN0cnN0YXJ0IGFscmVhZHkgaW4gdGFibGUgKi9cbiAgICAgICAgZG8ge1xuICAgICAgICAgIHMuc3Ryc3RhcnQrKztcbiAgICAgICAgICAvKioqIElOU0VSVF9TVFJJTkcocywgcy5zdHJzdGFydCwgaGFzaF9oZWFkKTsgKioqL1xuICAgICAgICAgIHMuaW5zX2ggPSAoKHMuaW5zX2ggPDwgcy5oYXNoX3NoaWZ0KSBeIHMud2luZG93W3Muc3Ryc3RhcnQgKyBNSU5fTUFUQ0ggLSAxXSkgJiBzLmhhc2hfbWFzaztcbiAgICAgICAgICBoYXNoX2hlYWQgPSBzLnByZXZbcy5zdHJzdGFydCAmIHMud19tYXNrXSA9IHMuaGVhZFtzLmluc19oXTtcbiAgICAgICAgICBzLmhlYWRbcy5pbnNfaF0gPSBzLnN0cnN0YXJ0O1xuICAgICAgICAgIC8qKiovXG4gICAgICAgICAgLyogc3Ryc3RhcnQgbmV2ZXIgZXhjZWVkcyBXU0laRS1NQVhfTUFUQ0gsIHNvIHRoZXJlIGFyZVxuICAgICAgICAgICAqIGFsd2F5cyBNSU5fTUFUQ0ggYnl0ZXMgYWhlYWQuXG4gICAgICAgICAgICovXG4gICAgICAgIH0gd2hpbGUgKC0tcy5tYXRjaF9sZW5ndGggIT09IDApO1xuICAgICAgICBzLnN0cnN0YXJ0Kys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzLnN0cnN0YXJ0ICs9IHMubWF0Y2hfbGVuZ3RoO1xuICAgICAgICBzLm1hdGNoX2xlbmd0aCA9IDA7XG4gICAgICAgIHMuaW5zX2ggPSBzLndpbmRvd1tzLnN0cnN0YXJ0XTtcbiAgICAgICAgLyogVVBEQVRFX0hBU0gocywgcy5pbnNfaCwgcy53aW5kb3dbcy5zdHJzdGFydCsxXSk7ICovXG4gICAgICAgIHMuaW5zX2ggPSAoKHMuaW5zX2ggPDwgcy5oYXNoX3NoaWZ0KSBeIHMud2luZG93W3Muc3Ryc3RhcnQgKyAxXSkgJiBzLmhhc2hfbWFzaztcblxuICAgICAgICAvLyNpZiBNSU5fTUFUQ0ggIT0gM1xuICAgICAgICAvLyAgICAgICAgICAgICAgICBDYWxsIFVQREFURV9IQVNIKCkgTUlOX01BVENILTMgbW9yZSB0aW1lc1xuICAgICAgICAvLyNlbmRpZlxuICAgICAgICAvKiBJZiBsb29rYWhlYWQgPCBNSU5fTUFUQ0gsIGluc19oIGlzIGdhcmJhZ2UsIGJ1dCBpdCBkb2VzIG5vdFxuICAgICAgICAgKiBtYXR0ZXIgc2luY2UgaXQgd2lsbCBiZSByZWNvbXB1dGVkIGF0IG5leHQgZGVmbGF0ZSBjYWxsLlxuICAgICAgICAgKi9cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLyogTm8gbWF0Y2gsIG91dHB1dCBhIGxpdGVyYWwgYnl0ZSAqL1xuICAgICAgLy9UcmFjZXZ2KChzdGRlcnIsXCIlY1wiLCBzLndpbmRvd1tzLnN0cnN0YXJ0XSkpO1xuICAgICAgLyoqKiBfdHJfdGFsbHlfbGl0KHMsIHMud2luZG93W3Muc3Ryc3RhcnRdLCBiZmx1c2gpOyAqKiovXG4gICAgICBiZmx1c2ggPSBfdHJfdGFsbHkocywgMCwgcy53aW5kb3dbcy5zdHJzdGFydF0pO1xuXG4gICAgICBzLmxvb2thaGVhZC0tO1xuICAgICAgcy5zdHJzdGFydCsrO1xuICAgIH1cbiAgICBpZiAoYmZsdXNoKSB7XG4gICAgICAvKioqIEZMVVNIX0JMT0NLKHMsIDApOyAqKiovXG4gICAgICBmbHVzaF9ibG9ja19vbmx5KHMsIGZhbHNlKTtcbiAgICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICAgIHJldHVybiBCU19ORUVEX01PUkU7XG4gICAgICB9XG4gICAgICAvKioqL1xuICAgIH1cbiAgfVxuICBzLmluc2VydCA9ICgocy5zdHJzdGFydCA8IChNSU5fTUFUQ0ggLSAxKSkgPyBzLnN0cnN0YXJ0IDogTUlOX01BVENIIC0gMSk7XG4gIGlmIChmbHVzaCA9PT0gWl9GSU5JU0gpIHtcbiAgICAvKioqIEZMVVNIX0JMT0NLKHMsIDEpOyAqKiovXG4gICAgZmx1c2hfYmxvY2tfb25seShzLCB0cnVlKTtcbiAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgcmV0dXJuIEJTX0ZJTklTSF9TVEFSVEVEO1xuICAgIH1cbiAgICAvKioqL1xuICAgIHJldHVybiBCU19GSU5JU0hfRE9ORTtcbiAgfVxuICBpZiAocy5sYXN0X2xpdCkge1xuICAgIC8qKiogRkxVU0hfQkxPQ0socywgMCk7ICoqKi9cbiAgICBmbHVzaF9ibG9ja19vbmx5KHMsIGZhbHNlKTtcbiAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgcmV0dXJuIEJTX05FRURfTU9SRTtcbiAgICB9XG4gICAgLyoqKi9cbiAgfVxuICByZXR1cm4gQlNfQkxPQ0tfRE9ORTtcbn1cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBTYW1lIGFzIGFib3ZlLCBidXQgYWNoaWV2ZXMgYmV0dGVyIGNvbXByZXNzaW9uLiBXZSB1c2UgYSBsYXp5XG4gKiBldmFsdWF0aW9uIGZvciBtYXRjaGVzOiBhIG1hdGNoIGlzIGZpbmFsbHkgYWRvcHRlZCBvbmx5IGlmIHRoZXJlIGlzXG4gKiBubyBiZXR0ZXIgbWF0Y2ggYXQgdGhlIG5leHQgd2luZG93IHBvc2l0aW9uLlxuICovXG5mdW5jdGlvbiBkZWZsYXRlX3Nsb3cocywgZmx1c2gpIHtcbiAgdmFyIGhhc2hfaGVhZDsgLyogaGVhZCBvZiBoYXNoIGNoYWluICovXG4gIHZhciBiZmx1c2g7IC8qIHNldCBpZiBjdXJyZW50IGJsb2NrIG11c3QgYmUgZmx1c2hlZCAqL1xuXG4gIHZhciBtYXhfaW5zZXJ0O1xuXG4gIC8qIFByb2Nlc3MgdGhlIGlucHV0IGJsb2NrLiAqL1xuICBmb3IgKDs7KSB7XG4gICAgLyogTWFrZSBzdXJlIHRoYXQgd2UgYWx3YXlzIGhhdmUgZW5vdWdoIGxvb2thaGVhZCwgZXhjZXB0XG4gICAgICogYXQgdGhlIGVuZCBvZiB0aGUgaW5wdXQgZmlsZS4gV2UgbmVlZCBNQVhfTUFUQ0ggYnl0ZXNcbiAgICAgKiBmb3IgdGhlIG5leHQgbWF0Y2gsIHBsdXMgTUlOX01BVENIIGJ5dGVzIHRvIGluc2VydCB0aGVcbiAgICAgKiBzdHJpbmcgZm9sbG93aW5nIHRoZSBuZXh0IG1hdGNoLlxuICAgICAqL1xuICAgIGlmIChzLmxvb2thaGVhZCA8IE1JTl9MT09LQUhFQUQpIHtcbiAgICAgIGZpbGxfd2luZG93KHMpO1xuICAgICAgaWYgKHMubG9va2FoZWFkIDwgTUlOX0xPT0tBSEVBRCAmJiBmbHVzaCA9PT0gWl9OT19GTFVTSCkge1xuICAgICAgICByZXR1cm4gQlNfTkVFRF9NT1JFO1xuICAgICAgfVxuICAgICAgaWYgKHMubG9va2FoZWFkID09PSAwKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfSAvKiBmbHVzaCB0aGUgY3VycmVudCBibG9jayAqL1xuICAgIH1cblxuICAgIC8qIEluc2VydCB0aGUgc3RyaW5nIHdpbmRvd1tzdHJzdGFydCAuLiBzdHJzdGFydCsyXSBpbiB0aGVcbiAgICAgKiBkaWN0aW9uYXJ5LCBhbmQgc2V0IGhhc2hfaGVhZCB0byB0aGUgaGVhZCBvZiB0aGUgaGFzaCBjaGFpbjpcbiAgICAgKi9cbiAgICBoYXNoX2hlYWQgPSAwIC8qTklMKi8gO1xuICAgIGlmIChzLmxvb2thaGVhZCA+PSBNSU5fTUFUQ0gpIHtcbiAgICAgIC8qKiogSU5TRVJUX1NUUklORyhzLCBzLnN0cnN0YXJ0LCBoYXNoX2hlYWQpOyAqKiovXG4gICAgICBzLmluc19oID0gKChzLmluc19oIDw8IHMuaGFzaF9zaGlmdCkgXiBzLndpbmRvd1tzLnN0cnN0YXJ0ICsgTUlOX01BVENIIC0gMV0pICYgcy5oYXNoX21hc2s7XG4gICAgICBoYXNoX2hlYWQgPSBzLnByZXZbcy5zdHJzdGFydCAmIHMud19tYXNrXSA9IHMuaGVhZFtzLmluc19oXTtcbiAgICAgIHMuaGVhZFtzLmluc19oXSA9IHMuc3Ryc3RhcnQ7XG4gICAgICAvKioqL1xuICAgIH1cblxuICAgIC8qIEZpbmQgdGhlIGxvbmdlc3QgbWF0Y2gsIGRpc2NhcmRpbmcgdGhvc2UgPD0gcHJldl9sZW5ndGguXG4gICAgICovXG4gICAgcy5wcmV2X2xlbmd0aCA9IHMubWF0Y2hfbGVuZ3RoO1xuICAgIHMucHJldl9tYXRjaCA9IHMubWF0Y2hfc3RhcnQ7XG4gICAgcy5tYXRjaF9sZW5ndGggPSBNSU5fTUFUQ0ggLSAxO1xuXG4gICAgaWYgKGhhc2hfaGVhZCAhPT0gMCAvKk5JTCovICYmIHMucHJldl9sZW5ndGggPCBzLm1heF9sYXp5X21hdGNoICYmXG4gICAgICBzLnN0cnN0YXJ0IC0gaGFzaF9oZWFkIDw9IChzLndfc2l6ZSAtIE1JTl9MT09LQUhFQUQpIC8qTUFYX0RJU1QocykqLyApIHtcbiAgICAgIC8qIFRvIHNpbXBsaWZ5IHRoZSBjb2RlLCB3ZSBwcmV2ZW50IG1hdGNoZXMgd2l0aCB0aGUgc3RyaW5nXG4gICAgICAgKiBvZiB3aW5kb3cgaW5kZXggMCAoaW4gcGFydGljdWxhciB3ZSBoYXZlIHRvIGF2b2lkIGEgbWF0Y2hcbiAgICAgICAqIG9mIHRoZSBzdHJpbmcgd2l0aCBpdHNlbGYgYXQgdGhlIHN0YXJ0IG9mIHRoZSBpbnB1dCBmaWxlKS5cbiAgICAgICAqL1xuICAgICAgcy5tYXRjaF9sZW5ndGggPSBsb25nZXN0X21hdGNoKHMsIGhhc2hfaGVhZCk7XG4gICAgICAvKiBsb25nZXN0X21hdGNoKCkgc2V0cyBtYXRjaF9zdGFydCAqL1xuXG4gICAgICBpZiAocy5tYXRjaF9sZW5ndGggPD0gNSAmJlxuICAgICAgICAocy5zdHJhdGVneSA9PT0gWl9GSUxURVJFRCB8fCAocy5tYXRjaF9sZW5ndGggPT09IE1JTl9NQVRDSCAmJiBzLnN0cnN0YXJ0IC0gcy5tYXRjaF9zdGFydCA+IDQwOTYgLypUT09fRkFSKi8gKSkpIHtcblxuICAgICAgICAvKiBJZiBwcmV2X21hdGNoIGlzIGFsc28gTUlOX01BVENILCBtYXRjaF9zdGFydCBpcyBnYXJiYWdlXG4gICAgICAgICAqIGJ1dCB3ZSB3aWxsIGlnbm9yZSB0aGUgY3VycmVudCBtYXRjaCBhbnl3YXkuXG4gICAgICAgICAqL1xuICAgICAgICBzLm1hdGNoX2xlbmd0aCA9IE1JTl9NQVRDSCAtIDE7XG4gICAgICB9XG4gICAgfVxuICAgIC8qIElmIHRoZXJlIHdhcyBhIG1hdGNoIGF0IHRoZSBwcmV2aW91cyBzdGVwIGFuZCB0aGUgY3VycmVudFxuICAgICAqIG1hdGNoIGlzIG5vdCBiZXR0ZXIsIG91dHB1dCB0aGUgcHJldmlvdXMgbWF0Y2g6XG4gICAgICovXG4gICAgaWYgKHMucHJldl9sZW5ndGggPj0gTUlOX01BVENIICYmIHMubWF0Y2hfbGVuZ3RoIDw9IHMucHJldl9sZW5ndGgpIHtcbiAgICAgIG1heF9pbnNlcnQgPSBzLnN0cnN0YXJ0ICsgcy5sb29rYWhlYWQgLSBNSU5fTUFUQ0g7XG4gICAgICAvKiBEbyBub3QgaW5zZXJ0IHN0cmluZ3MgaW4gaGFzaCB0YWJsZSBiZXlvbmQgdGhpcy4gKi9cblxuICAgICAgLy9jaGVja19tYXRjaChzLCBzLnN0cnN0YXJ0LTEsIHMucHJldl9tYXRjaCwgcy5wcmV2X2xlbmd0aCk7XG5cbiAgICAgIC8qKipfdHJfdGFsbHlfZGlzdChzLCBzLnN0cnN0YXJ0IC0gMSAtIHMucHJldl9tYXRjaCxcbiAgICAgICAgICAgICAgICAgICAgIHMucHJldl9sZW5ndGggLSBNSU5fTUFUQ0gsIGJmbHVzaCk7KioqL1xuICAgICAgYmZsdXNoID0gX3RyX3RhbGx5KHMsIHMuc3Ryc3RhcnQgLSAxIC0gcy5wcmV2X21hdGNoLCBzLnByZXZfbGVuZ3RoIC0gTUlOX01BVENIKTtcbiAgICAgIC8qIEluc2VydCBpbiBoYXNoIHRhYmxlIGFsbCBzdHJpbmdzIHVwIHRvIHRoZSBlbmQgb2YgdGhlIG1hdGNoLlxuICAgICAgICogc3Ryc3RhcnQtMSBhbmQgc3Ryc3RhcnQgYXJlIGFscmVhZHkgaW5zZXJ0ZWQuIElmIHRoZXJlIGlzIG5vdFxuICAgICAgICogZW5vdWdoIGxvb2thaGVhZCwgdGhlIGxhc3QgdHdvIHN0cmluZ3MgYXJlIG5vdCBpbnNlcnRlZCBpblxuICAgICAgICogdGhlIGhhc2ggdGFibGUuXG4gICAgICAgKi9cbiAgICAgIHMubG9va2FoZWFkIC09IHMucHJldl9sZW5ndGggLSAxO1xuICAgICAgcy5wcmV2X2xlbmd0aCAtPSAyO1xuICAgICAgZG8ge1xuICAgICAgICBpZiAoKytzLnN0cnN0YXJ0IDw9IG1heF9pbnNlcnQpIHtcbiAgICAgICAgICAvKioqIElOU0VSVF9TVFJJTkcocywgcy5zdHJzdGFydCwgaGFzaF9oZWFkKTsgKioqL1xuICAgICAgICAgIHMuaW5zX2ggPSAoKHMuaW5zX2ggPDwgcy5oYXNoX3NoaWZ0KSBeIHMud2luZG93W3Muc3Ryc3RhcnQgKyBNSU5fTUFUQ0ggLSAxXSkgJiBzLmhhc2hfbWFzaztcbiAgICAgICAgICBoYXNoX2hlYWQgPSBzLnByZXZbcy5zdHJzdGFydCAmIHMud19tYXNrXSA9IHMuaGVhZFtzLmluc19oXTtcbiAgICAgICAgICBzLmhlYWRbcy5pbnNfaF0gPSBzLnN0cnN0YXJ0O1xuICAgICAgICAgIC8qKiovXG4gICAgICAgIH1cbiAgICAgIH0gd2hpbGUgKC0tcy5wcmV2X2xlbmd0aCAhPT0gMCk7XG4gICAgICBzLm1hdGNoX2F2YWlsYWJsZSA9IDA7XG4gICAgICBzLm1hdGNoX2xlbmd0aCA9IE1JTl9NQVRDSCAtIDE7XG4gICAgICBzLnN0cnN0YXJ0Kys7XG5cbiAgICAgIGlmIChiZmx1c2gpIHtcbiAgICAgICAgLyoqKiBGTFVTSF9CTE9DSyhzLCAwKTsgKioqL1xuICAgICAgICBmbHVzaF9ibG9ja19vbmx5KHMsIGZhbHNlKTtcbiAgICAgICAgaWYgKHMuc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gQlNfTkVFRF9NT1JFO1xuICAgICAgICB9XG4gICAgICAgIC8qKiovXG4gICAgICB9XG5cbiAgICB9IGVsc2UgaWYgKHMubWF0Y2hfYXZhaWxhYmxlKSB7XG4gICAgICAvKiBJZiB0aGVyZSB3YXMgbm8gbWF0Y2ggYXQgdGhlIHByZXZpb3VzIHBvc2l0aW9uLCBvdXRwdXQgYVxuICAgICAgICogc2luZ2xlIGxpdGVyYWwuIElmIHRoZXJlIHdhcyBhIG1hdGNoIGJ1dCB0aGUgY3VycmVudCBtYXRjaFxuICAgICAgICogaXMgbG9uZ2VyLCB0cnVuY2F0ZSB0aGUgcHJldmlvdXMgbWF0Y2ggdG8gYSBzaW5nbGUgbGl0ZXJhbC5cbiAgICAgICAqL1xuICAgICAgLy9UcmFjZXZ2KChzdGRlcnIsXCIlY1wiLCBzLT53aW5kb3dbcy0+c3Ryc3RhcnQtMV0pKTtcbiAgICAgIC8qKiogX3RyX3RhbGx5X2xpdChzLCBzLndpbmRvd1tzLnN0cnN0YXJ0LTFdLCBiZmx1c2gpOyAqKiovXG4gICAgICBiZmx1c2ggPSBfdHJfdGFsbHkocywgMCwgcy53aW5kb3dbcy5zdHJzdGFydCAtIDFdKTtcblxuICAgICAgaWYgKGJmbHVzaCkge1xuICAgICAgICAvKioqIEZMVVNIX0JMT0NLX09OTFkocywgMCkgKioqL1xuICAgICAgICBmbHVzaF9ibG9ja19vbmx5KHMsIGZhbHNlKTtcbiAgICAgICAgLyoqKi9cbiAgICAgIH1cbiAgICAgIHMuc3Ryc3RhcnQrKztcbiAgICAgIHMubG9va2FoZWFkLS07XG4gICAgICBpZiAocy5zdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gQlNfTkVFRF9NT1JFO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvKiBUaGVyZSBpcyBubyBwcmV2aW91cyBtYXRjaCB0byBjb21wYXJlIHdpdGgsIHdhaXQgZm9yXG4gICAgICAgKiB0aGUgbmV4dCBzdGVwIHRvIGRlY2lkZS5cbiAgICAgICAqL1xuICAgICAgcy5tYXRjaF9hdmFpbGFibGUgPSAxO1xuICAgICAgcy5zdHJzdGFydCsrO1xuICAgICAgcy5sb29rYWhlYWQtLTtcbiAgICB9XG4gIH1cbiAgLy9Bc3NlcnQgKGZsdXNoICE9IFpfTk9fRkxVU0gsIFwibm8gZmx1c2g/XCIpO1xuICBpZiAocy5tYXRjaF9hdmFpbGFibGUpIHtcbiAgICAvL1RyYWNldnYoKHN0ZGVycixcIiVjXCIsIHMtPndpbmRvd1tzLT5zdHJzdGFydC0xXSkpO1xuICAgIC8qKiogX3RyX3RhbGx5X2xpdChzLCBzLndpbmRvd1tzLnN0cnN0YXJ0LTFdLCBiZmx1c2gpOyAqKiovXG4gICAgYmZsdXNoID0gX3RyX3RhbGx5KHMsIDAsIHMud2luZG93W3Muc3Ryc3RhcnQgLSAxXSk7XG5cbiAgICBzLm1hdGNoX2F2YWlsYWJsZSA9IDA7XG4gIH1cbiAgcy5pbnNlcnQgPSBzLnN0cnN0YXJ0IDwgTUlOX01BVENIIC0gMSA/IHMuc3Ryc3RhcnQgOiBNSU5fTUFUQ0ggLSAxO1xuICBpZiAoZmx1c2ggPT09IFpfRklOSVNIKSB7XG4gICAgLyoqKiBGTFVTSF9CTE9DSyhzLCAxKTsgKioqL1xuICAgIGZsdXNoX2Jsb2NrX29ubHkocywgdHJ1ZSk7XG4gICAgaWYgKHMuc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgIHJldHVybiBCU19GSU5JU0hfU1RBUlRFRDtcbiAgICB9XG4gICAgLyoqKi9cbiAgICByZXR1cm4gQlNfRklOSVNIX0RPTkU7XG4gIH1cbiAgaWYgKHMubGFzdF9saXQpIHtcbiAgICAvKioqIEZMVVNIX0JMT0NLKHMsIDApOyAqKiovXG4gICAgZmx1c2hfYmxvY2tfb25seShzLCBmYWxzZSk7XG4gICAgaWYgKHMuc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgIHJldHVybiBCU19ORUVEX01PUkU7XG4gICAgfVxuICAgIC8qKiovXG4gIH1cblxuICByZXR1cm4gQlNfQkxPQ0tfRE9ORTtcbn1cblxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEZvciBaX1JMRSwgc2ltcGx5IGxvb2sgZm9yIHJ1bnMgb2YgYnl0ZXMsIGdlbmVyYXRlIG1hdGNoZXMgb25seSBvZiBkaXN0YW5jZVxuICogb25lLiAgRG8gbm90IG1haW50YWluIGEgaGFzaCB0YWJsZS4gIChJdCB3aWxsIGJlIHJlZ2VuZXJhdGVkIGlmIHRoaXMgcnVuIG9mXG4gKiBkZWZsYXRlIHN3aXRjaGVzIGF3YXkgZnJvbSBaX1JMRS4pXG4gKi9cbmZ1bmN0aW9uIGRlZmxhdGVfcmxlKHMsIGZsdXNoKSB7XG4gIHZhciBiZmx1c2g7IC8qIHNldCBpZiBjdXJyZW50IGJsb2NrIG11c3QgYmUgZmx1c2hlZCAqL1xuICB2YXIgcHJldjsgLyogYnl0ZSBhdCBkaXN0YW5jZSBvbmUgdG8gbWF0Y2ggKi9cbiAgdmFyIHNjYW4sIHN0cmVuZDsgLyogc2NhbiBnb2VzIHVwIHRvIHN0cmVuZCBmb3IgbGVuZ3RoIG9mIHJ1biAqL1xuXG4gIHZhciBfd2luID0gcy53aW5kb3c7XG5cbiAgZm9yICg7Oykge1xuICAgIC8qIE1ha2Ugc3VyZSB0aGF0IHdlIGFsd2F5cyBoYXZlIGVub3VnaCBsb29rYWhlYWQsIGV4Y2VwdFxuICAgICAqIGF0IHRoZSBlbmQgb2YgdGhlIGlucHV0IGZpbGUuIFdlIG5lZWQgTUFYX01BVENIIGJ5dGVzXG4gICAgICogZm9yIHRoZSBsb25nZXN0IHJ1biwgcGx1cyBvbmUgZm9yIHRoZSB1bnJvbGxlZCBsb29wLlxuICAgICAqL1xuICAgIGlmIChzLmxvb2thaGVhZCA8PSBNQVhfTUFUQ0gpIHtcbiAgICAgIGZpbGxfd2luZG93KHMpO1xuICAgICAgaWYgKHMubG9va2FoZWFkIDw9IE1BWF9NQVRDSCAmJiBmbHVzaCA9PT0gWl9OT19GTFVTSCkge1xuICAgICAgICByZXR1cm4gQlNfTkVFRF9NT1JFO1xuICAgICAgfVxuICAgICAgaWYgKHMubG9va2FoZWFkID09PSAwKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfSAvKiBmbHVzaCB0aGUgY3VycmVudCBibG9jayAqL1xuICAgIH1cblxuICAgIC8qIFNlZSBob3cgbWFueSB0aW1lcyB0aGUgcHJldmlvdXMgYnl0ZSByZXBlYXRzICovXG4gICAgcy5tYXRjaF9sZW5ndGggPSAwO1xuICAgIGlmIChzLmxvb2thaGVhZCA+PSBNSU5fTUFUQ0ggJiYgcy5zdHJzdGFydCA+IDApIHtcbiAgICAgIHNjYW4gPSBzLnN0cnN0YXJ0IC0gMTtcbiAgICAgIHByZXYgPSBfd2luW3NjYW5dO1xuICAgICAgaWYgKHByZXYgPT09IF93aW5bKytzY2FuXSAmJiBwcmV2ID09PSBfd2luWysrc2Nhbl0gJiYgcHJldiA9PT0gX3dpblsrK3NjYW5dKSB7XG4gICAgICAgIHN0cmVuZCA9IHMuc3Ryc3RhcnQgKyBNQVhfTUFUQ0g7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAvKmpzaGludCBub2VtcHR5OmZhbHNlKi9cbiAgICAgICAgfSB3aGlsZSAocHJldiA9PT0gX3dpblsrK3NjYW5dICYmIHByZXYgPT09IF93aW5bKytzY2FuXSAmJlxuICAgICAgICAgIHByZXYgPT09IF93aW5bKytzY2FuXSAmJiBwcmV2ID09PSBfd2luWysrc2Nhbl0gJiZcbiAgICAgICAgICBwcmV2ID09PSBfd2luWysrc2Nhbl0gJiYgcHJldiA9PT0gX3dpblsrK3NjYW5dICYmXG4gICAgICAgICAgcHJldiA9PT0gX3dpblsrK3NjYW5dICYmIHByZXYgPT09IF93aW5bKytzY2FuXSAmJlxuICAgICAgICAgIHNjYW4gPCBzdHJlbmQpO1xuICAgICAgICBzLm1hdGNoX2xlbmd0aCA9IE1BWF9NQVRDSCAtIChzdHJlbmQgLSBzY2FuKTtcbiAgICAgICAgaWYgKHMubWF0Y2hfbGVuZ3RoID4gcy5sb29rYWhlYWQpIHtcbiAgICAgICAgICBzLm1hdGNoX2xlbmd0aCA9IHMubG9va2FoZWFkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvL0Fzc2VydChzY2FuIDw9IHMtPndpbmRvdysodUludCkocy0+d2luZG93X3NpemUtMSksIFwid2lsZCBzY2FuXCIpO1xuICAgIH1cblxuICAgIC8qIEVtaXQgbWF0Y2ggaWYgaGF2ZSBydW4gb2YgTUlOX01BVENIIG9yIGxvbmdlciwgZWxzZSBlbWl0IGxpdGVyYWwgKi9cbiAgICBpZiAocy5tYXRjaF9sZW5ndGggPj0gTUlOX01BVENIKSB7XG4gICAgICAvL2NoZWNrX21hdGNoKHMsIHMuc3Ryc3RhcnQsIHMuc3Ryc3RhcnQgLSAxLCBzLm1hdGNoX2xlbmd0aCk7XG5cbiAgICAgIC8qKiogX3RyX3RhbGx5X2Rpc3QocywgMSwgcy5tYXRjaF9sZW5ndGggLSBNSU5fTUFUQ0gsIGJmbHVzaCk7ICoqKi9cbiAgICAgIGJmbHVzaCA9IF90cl90YWxseShzLCAxLCBzLm1hdGNoX2xlbmd0aCAtIE1JTl9NQVRDSCk7XG5cbiAgICAgIHMubG9va2FoZWFkIC09IHMubWF0Y2hfbGVuZ3RoO1xuICAgICAgcy5zdHJzdGFydCArPSBzLm1hdGNoX2xlbmd0aDtcbiAgICAgIHMubWF0Y2hfbGVuZ3RoID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgLyogTm8gbWF0Y2gsIG91dHB1dCBhIGxpdGVyYWwgYnl0ZSAqL1xuICAgICAgLy9UcmFjZXZ2KChzdGRlcnIsXCIlY1wiLCBzLT53aW5kb3dbcy0+c3Ryc3RhcnRdKSk7XG4gICAgICAvKioqIF90cl90YWxseV9saXQocywgcy53aW5kb3dbcy5zdHJzdGFydF0sIGJmbHVzaCk7ICoqKi9cbiAgICAgIGJmbHVzaCA9IF90cl90YWxseShzLCAwLCBzLndpbmRvd1tzLnN0cnN0YXJ0XSk7XG5cbiAgICAgIHMubG9va2FoZWFkLS07XG4gICAgICBzLnN0cnN0YXJ0Kys7XG4gICAgfVxuICAgIGlmIChiZmx1c2gpIHtcbiAgICAgIC8qKiogRkxVU0hfQkxPQ0socywgMCk7ICoqKi9cbiAgICAgIGZsdXNoX2Jsb2NrX29ubHkocywgZmFsc2UpO1xuICAgICAgaWYgKHMuc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIEJTX05FRURfTU9SRTtcbiAgICAgIH1cbiAgICAgIC8qKiovXG4gICAgfVxuICB9XG4gIHMuaW5zZXJ0ID0gMDtcbiAgaWYgKGZsdXNoID09PSBaX0ZJTklTSCkge1xuICAgIC8qKiogRkxVU0hfQkxPQ0socywgMSk7ICoqKi9cbiAgICBmbHVzaF9ibG9ja19vbmx5KHMsIHRydWUpO1xuICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICByZXR1cm4gQlNfRklOSVNIX1NUQVJURUQ7XG4gICAgfVxuICAgIC8qKiovXG4gICAgcmV0dXJuIEJTX0ZJTklTSF9ET05FO1xuICB9XG4gIGlmIChzLmxhc3RfbGl0KSB7XG4gICAgLyoqKiBGTFVTSF9CTE9DSyhzLCAwKTsgKioqL1xuICAgIGZsdXNoX2Jsb2NrX29ubHkocywgZmFsc2UpO1xuICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICByZXR1cm4gQlNfTkVFRF9NT1JFO1xuICAgIH1cbiAgICAvKioqL1xuICB9XG4gIHJldHVybiBCU19CTE9DS19ET05FO1xufVxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEZvciBaX0hVRkZNQU5fT05MWSwgZG8gbm90IGxvb2sgZm9yIG1hdGNoZXMuICBEbyBub3QgbWFpbnRhaW4gYSBoYXNoIHRhYmxlLlxuICogKEl0IHdpbGwgYmUgcmVnZW5lcmF0ZWQgaWYgdGhpcyBydW4gb2YgZGVmbGF0ZSBzd2l0Y2hlcyBhd2F5IGZyb20gSHVmZm1hbi4pXG4gKi9cbmZ1bmN0aW9uIGRlZmxhdGVfaHVmZihzLCBmbHVzaCkge1xuICB2YXIgYmZsdXNoOyAvKiBzZXQgaWYgY3VycmVudCBibG9jayBtdXN0IGJlIGZsdXNoZWQgKi9cblxuICBmb3IgKDs7KSB7XG4gICAgLyogTWFrZSBzdXJlIHRoYXQgd2UgaGF2ZSBhIGxpdGVyYWwgdG8gd3JpdGUuICovXG4gICAgaWYgKHMubG9va2FoZWFkID09PSAwKSB7XG4gICAgICBmaWxsX3dpbmRvdyhzKTtcbiAgICAgIGlmIChzLmxvb2thaGVhZCA9PT0gMCkge1xuICAgICAgICBpZiAoZmx1c2ggPT09IFpfTk9fRkxVU0gpIHtcbiAgICAgICAgICByZXR1cm4gQlNfTkVFRF9NT1JFO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrOyAvKiBmbHVzaCB0aGUgY3VycmVudCBibG9jayAqL1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qIE91dHB1dCBhIGxpdGVyYWwgYnl0ZSAqL1xuICAgIHMubWF0Y2hfbGVuZ3RoID0gMDtcbiAgICAvL1RyYWNldnYoKHN0ZGVycixcIiVjXCIsIHMtPndpbmRvd1tzLT5zdHJzdGFydF0pKTtcbiAgICAvKioqIF90cl90YWxseV9saXQocywgcy53aW5kb3dbcy5zdHJzdGFydF0sIGJmbHVzaCk7ICoqKi9cbiAgICBiZmx1c2ggPSBfdHJfdGFsbHkocywgMCwgcy53aW5kb3dbcy5zdHJzdGFydF0pO1xuICAgIHMubG9va2FoZWFkLS07XG4gICAgcy5zdHJzdGFydCsrO1xuICAgIGlmIChiZmx1c2gpIHtcbiAgICAgIC8qKiogRkxVU0hfQkxPQ0socywgMCk7ICoqKi9cbiAgICAgIGZsdXNoX2Jsb2NrX29ubHkocywgZmFsc2UpO1xuICAgICAgaWYgKHMuc3RybS5hdmFpbF9vdXQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIEJTX05FRURfTU9SRTtcbiAgICAgIH1cbiAgICAgIC8qKiovXG4gICAgfVxuICB9XG4gIHMuaW5zZXJ0ID0gMDtcbiAgaWYgKGZsdXNoID09PSBaX0ZJTklTSCkge1xuICAgIC8qKiogRkxVU0hfQkxPQ0socywgMSk7ICoqKi9cbiAgICBmbHVzaF9ibG9ja19vbmx5KHMsIHRydWUpO1xuICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICByZXR1cm4gQlNfRklOSVNIX1NUQVJURUQ7XG4gICAgfVxuICAgIC8qKiovXG4gICAgcmV0dXJuIEJTX0ZJTklTSF9ET05FO1xuICB9XG4gIGlmIChzLmxhc3RfbGl0KSB7XG4gICAgLyoqKiBGTFVTSF9CTE9DSyhzLCAwKTsgKioqL1xuICAgIGZsdXNoX2Jsb2NrX29ubHkocywgZmFsc2UpO1xuICAgIGlmIChzLnN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICByZXR1cm4gQlNfTkVFRF9NT1JFO1xuICAgIH1cbiAgICAvKioqL1xuICB9XG4gIHJldHVybiBCU19CTE9DS19ET05FO1xufVxuXG4vKiBWYWx1ZXMgZm9yIG1heF9sYXp5X21hdGNoLCBnb29kX21hdGNoIGFuZCBtYXhfY2hhaW5fbGVuZ3RoLCBkZXBlbmRpbmcgb25cbiAqIHRoZSBkZXNpcmVkIHBhY2sgbGV2ZWwgKDAuLjkpLiBUaGUgdmFsdWVzIGdpdmVuIGJlbG93IGhhdmUgYmVlbiB0dW5lZCB0b1xuICogZXhjbHVkZSB3b3JzdCBjYXNlIHBlcmZvcm1hbmNlIGZvciBwYXRob2xvZ2ljYWwgZmlsZXMuIEJldHRlciB2YWx1ZXMgbWF5IGJlXG4gKiBmb3VuZCBmb3Igc3BlY2lmaWMgZmlsZXMuXG4gKi9cbmZ1bmN0aW9uIENvbmZpZyhnb29kX2xlbmd0aCwgbWF4X2xhenksIG5pY2VfbGVuZ3RoLCBtYXhfY2hhaW4sIGZ1bmMpIHtcbiAgdGhpcy5nb29kX2xlbmd0aCA9IGdvb2RfbGVuZ3RoO1xuICB0aGlzLm1heF9sYXp5ID0gbWF4X2xhenk7XG4gIHRoaXMubmljZV9sZW5ndGggPSBuaWNlX2xlbmd0aDtcbiAgdGhpcy5tYXhfY2hhaW4gPSBtYXhfY2hhaW47XG4gIHRoaXMuZnVuYyA9IGZ1bmM7XG59XG5cbnZhciBjb25maWd1cmF0aW9uX3RhYmxlO1xuXG5jb25maWd1cmF0aW9uX3RhYmxlID0gW1xuICAvKiAgICAgIGdvb2QgbGF6eSBuaWNlIGNoYWluICovXG4gIG5ldyBDb25maWcoMCwgMCwgMCwgMCwgZGVmbGF0ZV9zdG9yZWQpLCAvKiAwIHN0b3JlIG9ubHkgKi9cbiAgbmV3IENvbmZpZyg0LCA0LCA4LCA0LCBkZWZsYXRlX2Zhc3QpLCAvKiAxIG1heCBzcGVlZCwgbm8gbGF6eSBtYXRjaGVzICovXG4gIG5ldyBDb25maWcoNCwgNSwgMTYsIDgsIGRlZmxhdGVfZmFzdCksIC8qIDIgKi9cbiAgbmV3IENvbmZpZyg0LCA2LCAzMiwgMzIsIGRlZmxhdGVfZmFzdCksIC8qIDMgKi9cblxuICBuZXcgQ29uZmlnKDQsIDQsIDE2LCAxNiwgZGVmbGF0ZV9zbG93KSwgLyogNCBsYXp5IG1hdGNoZXMgKi9cbiAgbmV3IENvbmZpZyg4LCAxNiwgMzIsIDMyLCBkZWZsYXRlX3Nsb3cpLCAvKiA1ICovXG4gIG5ldyBDb25maWcoOCwgMTYsIDEyOCwgMTI4LCBkZWZsYXRlX3Nsb3cpLCAvKiA2ICovXG4gIG5ldyBDb25maWcoOCwgMzIsIDEyOCwgMjU2LCBkZWZsYXRlX3Nsb3cpLCAvKiA3ICovXG4gIG5ldyBDb25maWcoMzIsIDEyOCwgMjU4LCAxMDI0LCBkZWZsYXRlX3Nsb3cpLCAvKiA4ICovXG4gIG5ldyBDb25maWcoMzIsIDI1OCwgMjU4LCA0MDk2LCBkZWZsYXRlX3Nsb3cpIC8qIDkgbWF4IGNvbXByZXNzaW9uICovXG5dO1xuXG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogSW5pdGlhbGl6ZSB0aGUgXCJsb25nZXN0IG1hdGNoXCIgcm91dGluZXMgZm9yIGEgbmV3IHpsaWIgc3RyZWFtXG4gKi9cbmZ1bmN0aW9uIGxtX2luaXQocykge1xuICBzLndpbmRvd19zaXplID0gMiAqIHMud19zaXplO1xuXG4gIC8qKiogQ0xFQVJfSEFTSChzKTsgKioqL1xuICB6ZXJvKHMuaGVhZCk7IC8vIEZpbGwgd2l0aCBOSUwgKD0gMCk7XG5cbiAgLyogU2V0IHRoZSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24gcGFyYW1ldGVyczpcbiAgICovXG4gIHMubWF4X2xhenlfbWF0Y2ggPSBjb25maWd1cmF0aW9uX3RhYmxlW3MubGV2ZWxdLm1heF9sYXp5O1xuICBzLmdvb2RfbWF0Y2ggPSBjb25maWd1cmF0aW9uX3RhYmxlW3MubGV2ZWxdLmdvb2RfbGVuZ3RoO1xuICBzLm5pY2VfbWF0Y2ggPSBjb25maWd1cmF0aW9uX3RhYmxlW3MubGV2ZWxdLm5pY2VfbGVuZ3RoO1xuICBzLm1heF9jaGFpbl9sZW5ndGggPSBjb25maWd1cmF0aW9uX3RhYmxlW3MubGV2ZWxdLm1heF9jaGFpbjtcblxuICBzLnN0cnN0YXJ0ID0gMDtcbiAgcy5ibG9ja19zdGFydCA9IDA7XG4gIHMubG9va2FoZWFkID0gMDtcbiAgcy5pbnNlcnQgPSAwO1xuICBzLm1hdGNoX2xlbmd0aCA9IHMucHJldl9sZW5ndGggPSBNSU5fTUFUQ0ggLSAxO1xuICBzLm1hdGNoX2F2YWlsYWJsZSA9IDA7XG4gIHMuaW5zX2ggPSAwO1xufVxuXG5cbmZ1bmN0aW9uIERlZmxhdGVTdGF0ZSgpIHtcbiAgdGhpcy5zdHJtID0gbnVsbDsgLyogcG9pbnRlciBiYWNrIHRvIHRoaXMgemxpYiBzdHJlYW0gKi9cbiAgdGhpcy5zdGF0dXMgPSAwOyAvKiBhcyB0aGUgbmFtZSBpbXBsaWVzICovXG4gIHRoaXMucGVuZGluZ19idWYgPSBudWxsOyAvKiBvdXRwdXQgc3RpbGwgcGVuZGluZyAqL1xuICB0aGlzLnBlbmRpbmdfYnVmX3NpemUgPSAwOyAvKiBzaXplIG9mIHBlbmRpbmdfYnVmICovXG4gIHRoaXMucGVuZGluZ19vdXQgPSAwOyAvKiBuZXh0IHBlbmRpbmcgYnl0ZSB0byBvdXRwdXQgdG8gdGhlIHN0cmVhbSAqL1xuICB0aGlzLnBlbmRpbmcgPSAwOyAvKiBuYiBvZiBieXRlcyBpbiB0aGUgcGVuZGluZyBidWZmZXIgKi9cbiAgdGhpcy53cmFwID0gMDsgLyogYml0IDAgdHJ1ZSBmb3IgemxpYiwgYml0IDEgdHJ1ZSBmb3IgZ3ppcCAqL1xuICB0aGlzLmd6aGVhZCA9IG51bGw7IC8qIGd6aXAgaGVhZGVyIGluZm9ybWF0aW9uIHRvIHdyaXRlICovXG4gIHRoaXMuZ3ppbmRleCA9IDA7IC8qIHdoZXJlIGluIGV4dHJhLCBuYW1lLCBvciBjb21tZW50ICovXG4gIHRoaXMubWV0aG9kID0gWl9ERUZMQVRFRDsgLyogY2FuIG9ubHkgYmUgREVGTEFURUQgKi9cbiAgdGhpcy5sYXN0X2ZsdXNoID0gLTE7IC8qIHZhbHVlIG9mIGZsdXNoIHBhcmFtIGZvciBwcmV2aW91cyBkZWZsYXRlIGNhbGwgKi9cblxuICB0aGlzLndfc2l6ZSA9IDA7IC8qIExaNzcgd2luZG93IHNpemUgKDMySyBieSBkZWZhdWx0KSAqL1xuICB0aGlzLndfYml0cyA9IDA7IC8qIGxvZzIod19zaXplKSAgKDguLjE2KSAqL1xuICB0aGlzLndfbWFzayA9IDA7IC8qIHdfc2l6ZSAtIDEgKi9cblxuICB0aGlzLndpbmRvdyA9IG51bGw7XG4gIC8qIFNsaWRpbmcgd2luZG93LiBJbnB1dCBieXRlcyBhcmUgcmVhZCBpbnRvIHRoZSBzZWNvbmQgaGFsZiBvZiB0aGUgd2luZG93LFxuICAgKiBhbmQgbW92ZSB0byB0aGUgZmlyc3QgaGFsZiBsYXRlciB0byBrZWVwIGEgZGljdGlvbmFyeSBvZiBhdCBsZWFzdCB3U2l6ZVxuICAgKiBieXRlcy4gV2l0aCB0aGlzIG9yZ2FuaXphdGlvbiwgbWF0Y2hlcyBhcmUgbGltaXRlZCB0byBhIGRpc3RhbmNlIG9mXG4gICAqIHdTaXplLU1BWF9NQVRDSCBieXRlcywgYnV0IHRoaXMgZW5zdXJlcyB0aGF0IElPIGlzIGFsd2F5c1xuICAgKiBwZXJmb3JtZWQgd2l0aCBhIGxlbmd0aCBtdWx0aXBsZSBvZiB0aGUgYmxvY2sgc2l6ZS5cbiAgICovXG5cbiAgdGhpcy53aW5kb3dfc2l6ZSA9IDA7XG4gIC8qIEFjdHVhbCBzaXplIG9mIHdpbmRvdzogMip3U2l6ZSwgZXhjZXB0IHdoZW4gdGhlIHVzZXIgaW5wdXQgYnVmZmVyXG4gICAqIGlzIGRpcmVjdGx5IHVzZWQgYXMgc2xpZGluZyB3aW5kb3cuXG4gICAqL1xuXG4gIHRoaXMucHJldiA9IG51bGw7XG4gIC8qIExpbmsgdG8gb2xkZXIgc3RyaW5nIHdpdGggc2FtZSBoYXNoIGluZGV4LiBUbyBsaW1pdCB0aGUgc2l6ZSBvZiB0aGlzXG4gICAqIGFycmF5IHRvIDY0SywgdGhpcyBsaW5rIGlzIG1haW50YWluZWQgb25seSBmb3IgdGhlIGxhc3QgMzJLIHN0cmluZ3MuXG4gICAqIEFuIGluZGV4IGluIHRoaXMgYXJyYXkgaXMgdGh1cyBhIHdpbmRvdyBpbmRleCBtb2R1bG8gMzJLLlxuICAgKi9cblxuICB0aGlzLmhlYWQgPSBudWxsOyAvKiBIZWFkcyBvZiB0aGUgaGFzaCBjaGFpbnMgb3IgTklMLiAqL1xuXG4gIHRoaXMuaW5zX2ggPSAwOyAvKiBoYXNoIGluZGV4IG9mIHN0cmluZyB0byBiZSBpbnNlcnRlZCAqL1xuICB0aGlzLmhhc2hfc2l6ZSA9IDA7IC8qIG51bWJlciBvZiBlbGVtZW50cyBpbiBoYXNoIHRhYmxlICovXG4gIHRoaXMuaGFzaF9iaXRzID0gMDsgLyogbG9nMihoYXNoX3NpemUpICovXG4gIHRoaXMuaGFzaF9tYXNrID0gMDsgLyogaGFzaF9zaXplLTEgKi9cblxuICB0aGlzLmhhc2hfc2hpZnQgPSAwO1xuICAvKiBOdW1iZXIgb2YgYml0cyBieSB3aGljaCBpbnNfaCBtdXN0IGJlIHNoaWZ0ZWQgYXQgZWFjaCBpbnB1dFxuICAgKiBzdGVwLiBJdCBtdXN0IGJlIHN1Y2ggdGhhdCBhZnRlciBNSU5fTUFUQ0ggc3RlcHMsIHRoZSBvbGRlc3RcbiAgICogYnl0ZSBubyBsb25nZXIgdGFrZXMgcGFydCBpbiB0aGUgaGFzaCBrZXksIHRoYXQgaXM6XG4gICAqICAgaGFzaF9zaGlmdCAqIE1JTl9NQVRDSCA+PSBoYXNoX2JpdHNcbiAgICovXG5cbiAgdGhpcy5ibG9ja19zdGFydCA9IDA7XG4gIC8qIFdpbmRvdyBwb3NpdGlvbiBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBjdXJyZW50IG91dHB1dCBibG9jay4gR2V0c1xuICAgKiBuZWdhdGl2ZSB3aGVuIHRoZSB3aW5kb3cgaXMgbW92ZWQgYmFja3dhcmRzLlxuICAgKi9cblxuICB0aGlzLm1hdGNoX2xlbmd0aCA9IDA7IC8qIGxlbmd0aCBvZiBiZXN0IG1hdGNoICovXG4gIHRoaXMucHJldl9tYXRjaCA9IDA7IC8qIHByZXZpb3VzIG1hdGNoICovXG4gIHRoaXMubWF0Y2hfYXZhaWxhYmxlID0gMDsgLyogc2V0IGlmIHByZXZpb3VzIG1hdGNoIGV4aXN0cyAqL1xuICB0aGlzLnN0cnN0YXJ0ID0gMDsgLyogc3RhcnQgb2Ygc3RyaW5nIHRvIGluc2VydCAqL1xuICB0aGlzLm1hdGNoX3N0YXJ0ID0gMDsgLyogc3RhcnQgb2YgbWF0Y2hpbmcgc3RyaW5nICovXG4gIHRoaXMubG9va2FoZWFkID0gMDsgLyogbnVtYmVyIG9mIHZhbGlkIGJ5dGVzIGFoZWFkIGluIHdpbmRvdyAqL1xuXG4gIHRoaXMucHJldl9sZW5ndGggPSAwO1xuICAvKiBMZW5ndGggb2YgdGhlIGJlc3QgbWF0Y2ggYXQgcHJldmlvdXMgc3RlcC4gTWF0Y2hlcyBub3QgZ3JlYXRlciB0aGFuIHRoaXNcbiAgICogYXJlIGRpc2NhcmRlZC4gVGhpcyBpcyB1c2VkIGluIHRoZSBsYXp5IG1hdGNoIGV2YWx1YXRpb24uXG4gICAqL1xuXG4gIHRoaXMubWF4X2NoYWluX2xlbmd0aCA9IDA7XG4gIC8qIFRvIHNwZWVkIHVwIGRlZmxhdGlvbiwgaGFzaCBjaGFpbnMgYXJlIG5ldmVyIHNlYXJjaGVkIGJleW9uZCB0aGlzXG4gICAqIGxlbmd0aC4gIEEgaGlnaGVyIGxpbWl0IGltcHJvdmVzIGNvbXByZXNzaW9uIHJhdGlvIGJ1dCBkZWdyYWRlcyB0aGVcbiAgICogc3BlZWQuXG4gICAqL1xuXG4gIHRoaXMubWF4X2xhenlfbWF0Y2ggPSAwO1xuICAvKiBBdHRlbXB0IHRvIGZpbmQgYSBiZXR0ZXIgbWF0Y2ggb25seSB3aGVuIHRoZSBjdXJyZW50IG1hdGNoIGlzIHN0cmljdGx5XG4gICAqIHNtYWxsZXIgdGhhbiB0aGlzIHZhbHVlLiBUaGlzIG1lY2hhbmlzbSBpcyB1c2VkIG9ubHkgZm9yIGNvbXByZXNzaW9uXG4gICAqIGxldmVscyA+PSA0LlxuICAgKi9cbiAgLy8gVGhhdCdzIGFsaWFzIHRvIG1heF9sYXp5X21hdGNoLCBkb24ndCB1c2UgZGlyZWN0bHlcbiAgLy90aGlzLm1heF9pbnNlcnRfbGVuZ3RoID0gMDtcbiAgLyogSW5zZXJ0IG5ldyBzdHJpbmdzIGluIHRoZSBoYXNoIHRhYmxlIG9ubHkgaWYgdGhlIG1hdGNoIGxlbmd0aCBpcyBub3RcbiAgICogZ3JlYXRlciB0aGFuIHRoaXMgbGVuZ3RoLiBUaGlzIHNhdmVzIHRpbWUgYnV0IGRlZ3JhZGVzIGNvbXByZXNzaW9uLlxuICAgKiBtYXhfaW5zZXJ0X2xlbmd0aCBpcyB1c2VkIG9ubHkgZm9yIGNvbXByZXNzaW9uIGxldmVscyA8PSAzLlxuICAgKi9cblxuICB0aGlzLmxldmVsID0gMDsgLyogY29tcHJlc3Npb24gbGV2ZWwgKDEuLjkpICovXG4gIHRoaXMuc3RyYXRlZ3kgPSAwOyAvKiBmYXZvciBvciBmb3JjZSBIdWZmbWFuIGNvZGluZyovXG5cbiAgdGhpcy5nb29kX21hdGNoID0gMDtcbiAgLyogVXNlIGEgZmFzdGVyIHNlYXJjaCB3aGVuIHRoZSBwcmV2aW91cyBtYXRjaCBpcyBsb25nZXIgdGhhbiB0aGlzICovXG5cbiAgdGhpcy5uaWNlX21hdGNoID0gMDsgLyogU3RvcCBzZWFyY2hpbmcgd2hlbiBjdXJyZW50IG1hdGNoIGV4Y2VlZHMgdGhpcyAqL1xuXG4gIC8qIHVzZWQgYnkgYzogKi9cblxuICAvKiBEaWRuJ3QgdXNlIGN0X2RhdGEgdHlwZWRlZiBiZWxvdyB0byBzdXBwcmVzcyBjb21waWxlciB3YXJuaW5nICovXG5cbiAgLy8gc3RydWN0IGN0X2RhdGFfcyBkeW5fbHRyZWVbSEVBUF9TSVpFXTsgICAvKiBsaXRlcmFsIGFuZCBsZW5ndGggdHJlZSAqL1xuICAvLyBzdHJ1Y3QgY3RfZGF0YV9zIGR5bl9kdHJlZVsyKkRfQ09ERVMrMV07IC8qIGRpc3RhbmNlIHRyZWUgKi9cbiAgLy8gc3RydWN0IGN0X2RhdGFfcyBibF90cmVlWzIqQkxfQ09ERVMrMV07ICAvKiBIdWZmbWFuIHRyZWUgZm9yIGJpdCBsZW5ndGhzICovXG5cbiAgLy8gVXNlIGZsYXQgYXJyYXkgb2YgRE9VQkxFIHNpemUsIHdpdGggaW50ZXJsZWF2ZWQgZmF0YSxcbiAgLy8gYmVjYXVzZSBKUyBkb2VzIG5vdCBzdXBwb3J0IGVmZmVjdGl2ZVxuICB0aGlzLmR5bl9sdHJlZSA9IG5ldyBCdWYxNihIRUFQX1NJWkUgKiAyKTtcbiAgdGhpcy5keW5fZHRyZWUgPSBuZXcgQnVmMTYoKDIgKiBEX0NPREVTICsgMSkgKiAyKTtcbiAgdGhpcy5ibF90cmVlID0gbmV3IEJ1ZjE2KCgyICogQkxfQ09ERVMgKyAxKSAqIDIpO1xuICB6ZXJvKHRoaXMuZHluX2x0cmVlKTtcbiAgemVybyh0aGlzLmR5bl9kdHJlZSk7XG4gIHplcm8odGhpcy5ibF90cmVlKTtcblxuICB0aGlzLmxfZGVzYyA9IG51bGw7IC8qIGRlc2MuIGZvciBsaXRlcmFsIHRyZWUgKi9cbiAgdGhpcy5kX2Rlc2MgPSBudWxsOyAvKiBkZXNjLiBmb3IgZGlzdGFuY2UgdHJlZSAqL1xuICB0aGlzLmJsX2Rlc2MgPSBudWxsOyAvKiBkZXNjLiBmb3IgYml0IGxlbmd0aCB0cmVlICovXG5cbiAgLy91c2ggYmxfY291bnRbTUFYX0JJVFMrMV07XG4gIHRoaXMuYmxfY291bnQgPSBuZXcgQnVmMTYoTUFYX0JJVFMgKyAxKTtcbiAgLyogbnVtYmVyIG9mIGNvZGVzIGF0IGVhY2ggYml0IGxlbmd0aCBmb3IgYW4gb3B0aW1hbCB0cmVlICovXG5cbiAgLy9pbnQgaGVhcFsyKkxfQ09ERVMrMV07ICAgICAgLyogaGVhcCB1c2VkIHRvIGJ1aWxkIHRoZSBIdWZmbWFuIHRyZWVzICovXG4gIHRoaXMuaGVhcCA9IG5ldyBCdWYxNigyICogTF9DT0RFUyArIDEpOyAvKiBoZWFwIHVzZWQgdG8gYnVpbGQgdGhlIEh1ZmZtYW4gdHJlZXMgKi9cbiAgemVybyh0aGlzLmhlYXApO1xuXG4gIHRoaXMuaGVhcF9sZW4gPSAwOyAvKiBudW1iZXIgb2YgZWxlbWVudHMgaW4gdGhlIGhlYXAgKi9cbiAgdGhpcy5oZWFwX21heCA9IDA7IC8qIGVsZW1lbnQgb2YgbGFyZ2VzdCBmcmVxdWVuY3kgKi9cbiAgLyogVGhlIHNvbnMgb2YgaGVhcFtuXSBhcmUgaGVhcFsyKm5dIGFuZCBoZWFwWzIqbisxXS4gaGVhcFswXSBpcyBub3QgdXNlZC5cbiAgICogVGhlIHNhbWUgaGVhcCBhcnJheSBpcyB1c2VkIHRvIGJ1aWxkIGFsbFxuICAgKi9cblxuICB0aGlzLmRlcHRoID0gbmV3IEJ1ZjE2KDIgKiBMX0NPREVTICsgMSk7IC8vdWNoIGRlcHRoWzIqTF9DT0RFUysxXTtcbiAgemVybyh0aGlzLmRlcHRoKTtcbiAgLyogRGVwdGggb2YgZWFjaCBzdWJ0cmVlIHVzZWQgYXMgdGllIGJyZWFrZXIgZm9yIHRyZWVzIG9mIGVxdWFsIGZyZXF1ZW5jeVxuICAgKi9cblxuICB0aGlzLmxfYnVmID0gMDsgLyogYnVmZmVyIGluZGV4IGZvciBsaXRlcmFscyBvciBsZW5ndGhzICovXG5cbiAgdGhpcy5saXRfYnVmc2l6ZSA9IDA7XG4gIC8qIFNpemUgb2YgbWF0Y2ggYnVmZmVyIGZvciBsaXRlcmFscy9sZW5ndGhzLiAgVGhlcmUgYXJlIDQgcmVhc29ucyBmb3JcbiAgICogbGltaXRpbmcgbGl0X2J1ZnNpemUgdG8gNjRLOlxuICAgKiAgIC0gZnJlcXVlbmNpZXMgY2FuIGJlIGtlcHQgaW4gMTYgYml0IGNvdW50ZXJzXG4gICAqICAgLSBpZiBjb21wcmVzc2lvbiBpcyBub3Qgc3VjY2Vzc2Z1bCBmb3IgdGhlIGZpcnN0IGJsb2NrLCBhbGwgaW5wdXRcbiAgICogICAgIGRhdGEgaXMgc3RpbGwgaW4gdGhlIHdpbmRvdyBzbyB3ZSBjYW4gc3RpbGwgZW1pdCBhIHN0b3JlZCBibG9jayBldmVuXG4gICAqICAgICB3aGVuIGlucHV0IGNvbWVzIGZyb20gc3RhbmRhcmQgaW5wdXQuICAoVGhpcyBjYW4gYWxzbyBiZSBkb25lIGZvclxuICAgKiAgICAgYWxsIGJsb2NrcyBpZiBsaXRfYnVmc2l6ZSBpcyBub3QgZ3JlYXRlciB0aGFuIDMySy4pXG4gICAqICAgLSBpZiBjb21wcmVzc2lvbiBpcyBub3Qgc3VjY2Vzc2Z1bCBmb3IgYSBmaWxlIHNtYWxsZXIgdGhhbiA2NEssIHdlIGNhblxuICAgKiAgICAgZXZlbiBlbWl0IGEgc3RvcmVkIGZpbGUgaW5zdGVhZCBvZiBhIHN0b3JlZCBibG9jayAoc2F2aW5nIDUgYnl0ZXMpLlxuICAgKiAgICAgVGhpcyBpcyBhcHBsaWNhYmxlIG9ubHkgZm9yIHppcCAobm90IGd6aXAgb3IgemxpYikuXG4gICAqICAgLSBjcmVhdGluZyBuZXcgSHVmZm1hbiB0cmVlcyBsZXNzIGZyZXF1ZW50bHkgbWF5IG5vdCBwcm92aWRlIGZhc3RcbiAgICogICAgIGFkYXB0YXRpb24gdG8gY2hhbmdlcyBpbiB0aGUgaW5wdXQgZGF0YSBzdGF0aXN0aWNzLiAoVGFrZSBmb3JcbiAgICogICAgIGV4YW1wbGUgYSBiaW5hcnkgZmlsZSB3aXRoIHBvb3JseSBjb21wcmVzc2libGUgY29kZSBmb2xsb3dlZCBieVxuICAgKiAgICAgYSBoaWdobHkgY29tcHJlc3NpYmxlIHN0cmluZyB0YWJsZS4pIFNtYWxsZXIgYnVmZmVyIHNpemVzIGdpdmVcbiAgICogICAgIGZhc3QgYWRhcHRhdGlvbiBidXQgaGF2ZSBvZiBjb3Vyc2UgdGhlIG92ZXJoZWFkIG9mIHRyYW5zbWl0dGluZ1xuICAgKiAgICAgdHJlZXMgbW9yZSBmcmVxdWVudGx5LlxuICAgKiAgIC0gSSBjYW4ndCBjb3VudCBhYm92ZSA0XG4gICAqL1xuXG4gIHRoaXMubGFzdF9saXQgPSAwOyAvKiBydW5uaW5nIGluZGV4IGluIGxfYnVmICovXG5cbiAgdGhpcy5kX2J1ZiA9IDA7XG4gIC8qIEJ1ZmZlciBpbmRleCBmb3IgZGlzdGFuY2VzLiBUbyBzaW1wbGlmeSB0aGUgY29kZSwgZF9idWYgYW5kIGxfYnVmIGhhdmVcbiAgICogdGhlIHNhbWUgbnVtYmVyIG9mIGVsZW1lbnRzLiBUbyB1c2UgZGlmZmVyZW50IGxlbmd0aHMsIGFuIGV4dHJhIGZsYWdcbiAgICogYXJyYXkgd291bGQgYmUgbmVjZXNzYXJ5LlxuICAgKi9cblxuICB0aGlzLm9wdF9sZW4gPSAwOyAvKiBiaXQgbGVuZ3RoIG9mIGN1cnJlbnQgYmxvY2sgd2l0aCBvcHRpbWFsIHRyZWVzICovXG4gIHRoaXMuc3RhdGljX2xlbiA9IDA7IC8qIGJpdCBsZW5ndGggb2YgY3VycmVudCBibG9jayB3aXRoIHN0YXRpYyB0cmVlcyAqL1xuICB0aGlzLm1hdGNoZXMgPSAwOyAvKiBudW1iZXIgb2Ygc3RyaW5nIG1hdGNoZXMgaW4gY3VycmVudCBibG9jayAqL1xuICB0aGlzLmluc2VydCA9IDA7IC8qIGJ5dGVzIGF0IGVuZCBvZiB3aW5kb3cgbGVmdCB0byBpbnNlcnQgKi9cblxuXG4gIHRoaXMuYmlfYnVmID0gMDtcbiAgLyogT3V0cHV0IGJ1ZmZlci4gYml0cyBhcmUgaW5zZXJ0ZWQgc3RhcnRpbmcgYXQgdGhlIGJvdHRvbSAobGVhc3RcbiAgICogc2lnbmlmaWNhbnQgYml0cykuXG4gICAqL1xuICB0aGlzLmJpX3ZhbGlkID0gMDtcbiAgLyogTnVtYmVyIG9mIHZhbGlkIGJpdHMgaW4gYmlfYnVmLiAgQWxsIGJpdHMgYWJvdmUgdGhlIGxhc3QgdmFsaWQgYml0XG4gICAqIGFyZSBhbHdheXMgemVyby5cbiAgICovXG5cbiAgLy8gVXNlZCBmb3Igd2luZG93IG1lbW9yeSBpbml0LiBXZSBzYWZlbHkgaWdub3JlIGl0IGZvciBKUy4gVGhhdCBtYWtlc1xuICAvLyBzZW5zZSBvbmx5IGZvciBwb2ludGVycyBhbmQgbWVtb3J5IGNoZWNrIHRvb2xzLlxuICAvL3RoaXMuaGlnaF93YXRlciA9IDA7XG4gIC8qIEhpZ2ggd2F0ZXIgbWFyayBvZmZzZXQgaW4gd2luZG93IGZvciBpbml0aWFsaXplZCBieXRlcyAtLSBieXRlcyBhYm92ZVxuICAgKiB0aGlzIGFyZSBzZXQgdG8gemVybyBpbiBvcmRlciB0byBhdm9pZCBtZW1vcnkgY2hlY2sgd2FybmluZ3Mgd2hlblxuICAgKiBsb25nZXN0IG1hdGNoIHJvdXRpbmVzIGFjY2VzcyBieXRlcyBwYXN0IHRoZSBpbnB1dC4gIFRoaXMgaXMgdGhlblxuICAgKiB1cGRhdGVkIHRvIHRoZSBuZXcgaGlnaCB3YXRlciBtYXJrLlxuICAgKi9cbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gZGVmbGF0ZVJlc2V0S2VlcChzdHJtKSB7XG4gIHZhciBzO1xuXG4gIGlmICghc3RybSB8fCAhc3RybS5zdGF0ZSkge1xuICAgIHJldHVybiBlcnIoc3RybSwgWl9TVFJFQU1fRVJST1IpO1xuICB9XG5cbiAgc3RybS50b3RhbF9pbiA9IHN0cm0udG90YWxfb3V0ID0gMDtcbiAgc3RybS5kYXRhX3R5cGUgPSBaX1VOS05PV047XG5cbiAgcyA9IHN0cm0uc3RhdGU7XG4gIHMucGVuZGluZyA9IDA7XG4gIHMucGVuZGluZ19vdXQgPSAwO1xuXG4gIGlmIChzLndyYXAgPCAwKSB7XG4gICAgcy53cmFwID0gLXMud3JhcDtcbiAgICAvKiB3YXMgbWFkZSBuZWdhdGl2ZSBieSBkZWZsYXRlKC4uLiwgWl9GSU5JU0gpOyAqL1xuICB9XG4gIHMuc3RhdHVzID0gKHMud3JhcCA/IElOSVRfU1RBVEUgOiBCVVNZX1NUQVRFKTtcbiAgc3RybS5hZGxlciA9IChzLndyYXAgPT09IDIpID9cbiAgICAwIC8vIGNyYzMyKDAsIFpfTlVMTCwgMClcbiAgICA6XG4gICAgMTsgLy8gYWRsZXIzMigwLCBaX05VTEwsIDApXG4gIHMubGFzdF9mbHVzaCA9IFpfTk9fRkxVU0g7XG4gIF90cl9pbml0KHMpO1xuICByZXR1cm4gWl9PSztcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gZGVmbGF0ZVJlc2V0KHN0cm0pIHtcbiAgdmFyIHJldCA9IGRlZmxhdGVSZXNldEtlZXAoc3RybSk7XG4gIGlmIChyZXQgPT09IFpfT0spIHtcbiAgICBsbV9pbml0KHN0cm0uc3RhdGUpO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGRlZmxhdGVTZXRIZWFkZXIoc3RybSwgaGVhZCkge1xuICBpZiAoIXN0cm0gfHwgIXN0cm0uc3RhdGUpIHtcbiAgICByZXR1cm4gWl9TVFJFQU1fRVJST1I7XG4gIH1cbiAgaWYgKHN0cm0uc3RhdGUud3JhcCAhPT0gMikge1xuICAgIHJldHVybiBaX1NUUkVBTV9FUlJPUjtcbiAgfVxuICBzdHJtLnN0YXRlLmd6aGVhZCA9IGhlYWQ7XG4gIHJldHVybiBaX09LO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBkZWZsYXRlSW5pdDIoc3RybSwgbGV2ZWwsIG1ldGhvZCwgd2luZG93Qml0cywgbWVtTGV2ZWwsIHN0cmF0ZWd5KSB7XG4gIGlmICghc3RybSkgeyAvLyA9PT0gWl9OVUxMXG4gICAgcmV0dXJuIFpfU1RSRUFNX0VSUk9SO1xuICB9XG4gIHZhciB3cmFwID0gMTtcblxuICBpZiAobGV2ZWwgPT09IFpfREVGQVVMVF9DT01QUkVTU0lPTikge1xuICAgIGxldmVsID0gNjtcbiAgfVxuXG4gIGlmICh3aW5kb3dCaXRzIDwgMCkgeyAvKiBzdXBwcmVzcyB6bGliIHdyYXBwZXIgKi9cbiAgICB3cmFwID0gMDtcbiAgICB3aW5kb3dCaXRzID0gLXdpbmRvd0JpdHM7XG4gIH0gZWxzZSBpZiAod2luZG93Qml0cyA+IDE1KSB7XG4gICAgd3JhcCA9IDI7IC8qIHdyaXRlIGd6aXAgd3JhcHBlciBpbnN0ZWFkICovXG4gICAgd2luZG93Qml0cyAtPSAxNjtcbiAgfVxuXG5cbiAgaWYgKG1lbUxldmVsIDwgMSB8fCBtZW1MZXZlbCA+IE1BWF9NRU1fTEVWRUwgfHwgbWV0aG9kICE9PSBaX0RFRkxBVEVEIHx8XG4gICAgd2luZG93Qml0cyA8IDggfHwgd2luZG93Qml0cyA+IDE1IHx8IGxldmVsIDwgMCB8fCBsZXZlbCA+IDkgfHxcbiAgICBzdHJhdGVneSA8IDAgfHwgc3RyYXRlZ3kgPiBaX0ZJWEVEKSB7XG4gICAgcmV0dXJuIGVycihzdHJtLCBaX1NUUkVBTV9FUlJPUik7XG4gIH1cblxuXG4gIGlmICh3aW5kb3dCaXRzID09PSA4KSB7XG4gICAgd2luZG93Qml0cyA9IDk7XG4gIH1cbiAgLyogdW50aWwgMjU2LWJ5dGUgd2luZG93IGJ1ZyBmaXhlZCAqL1xuXG4gIHZhciBzID0gbmV3IERlZmxhdGVTdGF0ZSgpO1xuXG4gIHN0cm0uc3RhdGUgPSBzO1xuICBzLnN0cm0gPSBzdHJtO1xuXG4gIHMud3JhcCA9IHdyYXA7XG4gIHMuZ3poZWFkID0gbnVsbDtcbiAgcy53X2JpdHMgPSB3aW5kb3dCaXRzO1xuICBzLndfc2l6ZSA9IDEgPDwgcy53X2JpdHM7XG4gIHMud19tYXNrID0gcy53X3NpemUgLSAxO1xuXG4gIHMuaGFzaF9iaXRzID0gbWVtTGV2ZWwgKyA3O1xuICBzLmhhc2hfc2l6ZSA9IDEgPDwgcy5oYXNoX2JpdHM7XG4gIHMuaGFzaF9tYXNrID0gcy5oYXNoX3NpemUgLSAxO1xuICBzLmhhc2hfc2hpZnQgPSB+figocy5oYXNoX2JpdHMgKyBNSU5fTUFUQ0ggLSAxKSAvIE1JTl9NQVRDSCk7XG5cbiAgcy53aW5kb3cgPSBuZXcgQnVmOChzLndfc2l6ZSAqIDIpO1xuICBzLmhlYWQgPSBuZXcgQnVmMTYocy5oYXNoX3NpemUpO1xuICBzLnByZXYgPSBuZXcgQnVmMTYocy53X3NpemUpO1xuXG4gIC8vIERvbid0IG5lZWQgbWVtIGluaXQgbWFnaWMgZm9yIEpTLlxuICAvL3MuaGlnaF93YXRlciA9IDA7ICAvKiBub3RoaW5nIHdyaXR0ZW4gdG8gcy0+d2luZG93IHlldCAqL1xuXG4gIHMubGl0X2J1ZnNpemUgPSAxIDw8IChtZW1MZXZlbCArIDYpOyAvKiAxNksgZWxlbWVudHMgYnkgZGVmYXVsdCAqL1xuXG4gIHMucGVuZGluZ19idWZfc2l6ZSA9IHMubGl0X2J1ZnNpemUgKiA0O1xuXG4gIC8vb3ZlcmxheSA9ICh1c2hmICopIFpBTExPQyhzdHJtLCBzLT5saXRfYnVmc2l6ZSwgc2l6ZW9mKHVzaCkrMik7XG4gIC8vcy0+cGVuZGluZ19idWYgPSAodWNoZiAqKSBvdmVybGF5O1xuICBzLnBlbmRpbmdfYnVmID0gbmV3IEJ1Zjgocy5wZW5kaW5nX2J1Zl9zaXplKTtcblxuICAvLyBJdCBpcyBvZmZzZXQgZnJvbSBgcy5wZW5kaW5nX2J1ZmAgKHNpemUgaXMgYHMubGl0X2J1ZnNpemUgKiAyYClcbiAgLy9zLT5kX2J1ZiA9IG92ZXJsYXkgKyBzLT5saXRfYnVmc2l6ZS9zaXplb2YodXNoKTtcbiAgcy5kX2J1ZiA9IDEgKiBzLmxpdF9idWZzaXplO1xuXG4gIC8vcy0+bF9idWYgPSBzLT5wZW5kaW5nX2J1ZiArICgxK3NpemVvZih1c2gpKSpzLT5saXRfYnVmc2l6ZTtcbiAgcy5sX2J1ZiA9ICgxICsgMikgKiBzLmxpdF9idWZzaXplO1xuXG4gIHMubGV2ZWwgPSBsZXZlbDtcbiAgcy5zdHJhdGVneSA9IHN0cmF0ZWd5O1xuICBzLm1ldGhvZCA9IG1ldGhvZDtcblxuICByZXR1cm4gZGVmbGF0ZVJlc2V0KHN0cm0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVmbGF0ZUluaXQoc3RybSwgbGV2ZWwpIHtcbiAgcmV0dXJuIGRlZmxhdGVJbml0MihzdHJtLCBsZXZlbCwgWl9ERUZMQVRFRCwgTUFYX1dCSVRTLCBERUZfTUVNX0xFVkVMLCBaX0RFRkFVTFRfU1RSQVRFR1kpO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBkZWZsYXRlKHN0cm0sIGZsdXNoKSB7XG4gIHZhciBvbGRfZmx1c2gsIHM7XG4gIHZhciBiZWcsIHZhbDsgLy8gZm9yIGd6aXAgaGVhZGVyIHdyaXRlIG9ubHlcblxuICBpZiAoIXN0cm0gfHwgIXN0cm0uc3RhdGUgfHxcbiAgICBmbHVzaCA+IFpfQkxPQ0sgfHwgZmx1c2ggPCAwKSB7XG4gICAgcmV0dXJuIHN0cm0gPyBlcnIoc3RybSwgWl9TVFJFQU1fRVJST1IpIDogWl9TVFJFQU1fRVJST1I7XG4gIH1cblxuICBzID0gc3RybS5zdGF0ZTtcblxuICBpZiAoIXN0cm0ub3V0cHV0IHx8XG4gICAgKCFzdHJtLmlucHV0ICYmIHN0cm0uYXZhaWxfaW4gIT09IDApIHx8XG4gICAgKHMuc3RhdHVzID09PSBGSU5JU0hfU1RBVEUgJiYgZmx1c2ggIT09IFpfRklOSVNIKSkge1xuICAgIHJldHVybiBlcnIoc3RybSwgKHN0cm0uYXZhaWxfb3V0ID09PSAwKSA/IFpfQlVGX0VSUk9SIDogWl9TVFJFQU1fRVJST1IpO1xuICB9XG5cbiAgcy5zdHJtID0gc3RybTsgLyoganVzdCBpbiBjYXNlICovXG4gIG9sZF9mbHVzaCA9IHMubGFzdF9mbHVzaDtcbiAgcy5sYXN0X2ZsdXNoID0gZmx1c2g7XG5cbiAgLyogV3JpdGUgdGhlIGhlYWRlciAqL1xuICBpZiAocy5zdGF0dXMgPT09IElOSVRfU1RBVEUpIHtcbiAgICBpZiAocy53cmFwID09PSAyKSB7XG4gICAgICAvLyBHWklQIGhlYWRlclxuICAgICAgc3RybS5hZGxlciA9IDA7IC8vY3JjMzIoMEwsIFpfTlVMTCwgMCk7XG4gICAgICBwdXRfYnl0ZShzLCAzMSk7XG4gICAgICBwdXRfYnl0ZShzLCAxMzkpO1xuICAgICAgcHV0X2J5dGUocywgOCk7XG4gICAgICBpZiAoIXMuZ3poZWFkKSB7IC8vIHMtPmd6aGVhZCA9PSBaX05VTExcbiAgICAgICAgcHV0X2J5dGUocywgMCk7XG4gICAgICAgIHB1dF9ieXRlKHMsIDApO1xuICAgICAgICBwdXRfYnl0ZShzLCAwKTtcbiAgICAgICAgcHV0X2J5dGUocywgMCk7XG4gICAgICAgIHB1dF9ieXRlKHMsIDApO1xuICAgICAgICBwdXRfYnl0ZShzLCBzLmxldmVsID09PSA5ID8gMiA6XG4gICAgICAgICAgKHMuc3RyYXRlZ3kgPj0gWl9IVUZGTUFOX09OTFkgfHwgcy5sZXZlbCA8IDIgP1xuICAgICAgICAgICAgNCA6IDApKTtcbiAgICAgICAgcHV0X2J5dGUocywgT1NfQ09ERSk7XG4gICAgICAgIHMuc3RhdHVzID0gQlVTWV9TVEFURTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHB1dF9ieXRlKHMsIChzLmd6aGVhZC50ZXh0ID8gMSA6IDApICtcbiAgICAgICAgICAocy5nemhlYWQuaGNyYyA/IDIgOiAwKSArXG4gICAgICAgICAgKCFzLmd6aGVhZC5leHRyYSA/IDAgOiA0KSArXG4gICAgICAgICAgKCFzLmd6aGVhZC5uYW1lID8gMCA6IDgpICtcbiAgICAgICAgICAoIXMuZ3poZWFkLmNvbW1lbnQgPyAwIDogMTYpXG4gICAgICAgICk7XG4gICAgICAgIHB1dF9ieXRlKHMsIHMuZ3poZWFkLnRpbWUgJiAweGZmKTtcbiAgICAgICAgcHV0X2J5dGUocywgKHMuZ3poZWFkLnRpbWUgPj4gOCkgJiAweGZmKTtcbiAgICAgICAgcHV0X2J5dGUocywgKHMuZ3poZWFkLnRpbWUgPj4gMTYpICYgMHhmZik7XG4gICAgICAgIHB1dF9ieXRlKHMsIChzLmd6aGVhZC50aW1lID4+IDI0KSAmIDB4ZmYpO1xuICAgICAgICBwdXRfYnl0ZShzLCBzLmxldmVsID09PSA5ID8gMiA6XG4gICAgICAgICAgKHMuc3RyYXRlZ3kgPj0gWl9IVUZGTUFOX09OTFkgfHwgcy5sZXZlbCA8IDIgP1xuICAgICAgICAgICAgNCA6IDApKTtcbiAgICAgICAgcHV0X2J5dGUocywgcy5nemhlYWQub3MgJiAweGZmKTtcbiAgICAgICAgaWYgKHMuZ3poZWFkLmV4dHJhICYmIHMuZ3poZWFkLmV4dHJhLmxlbmd0aCkge1xuICAgICAgICAgIHB1dF9ieXRlKHMsIHMuZ3poZWFkLmV4dHJhLmxlbmd0aCAmIDB4ZmYpO1xuICAgICAgICAgIHB1dF9ieXRlKHMsIChzLmd6aGVhZC5leHRyYS5sZW5ndGggPj4gOCkgJiAweGZmKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocy5nemhlYWQuaGNyYykge1xuICAgICAgICAgIHN0cm0uYWRsZXIgPSBjcmMzMihzdHJtLmFkbGVyLCBzLnBlbmRpbmdfYnVmLCBzLnBlbmRpbmcsIDApO1xuICAgICAgICB9XG4gICAgICAgIHMuZ3ppbmRleCA9IDA7XG4gICAgICAgIHMuc3RhdHVzID0gRVhUUkFfU1RBVEU7XG4gICAgICB9XG4gICAgfSBlbHNlIC8vIERFRkxBVEUgaGVhZGVyXG4gICAge1xuICAgICAgdmFyIGhlYWRlciA9IChaX0RFRkxBVEVEICsgKChzLndfYml0cyAtIDgpIDw8IDQpKSA8PCA4O1xuICAgICAgdmFyIGxldmVsX2ZsYWdzID0gLTE7XG5cbiAgICAgIGlmIChzLnN0cmF0ZWd5ID49IFpfSFVGRk1BTl9PTkxZIHx8IHMubGV2ZWwgPCAyKSB7XG4gICAgICAgIGxldmVsX2ZsYWdzID0gMDtcbiAgICAgIH0gZWxzZSBpZiAocy5sZXZlbCA8IDYpIHtcbiAgICAgICAgbGV2ZWxfZmxhZ3MgPSAxO1xuICAgICAgfSBlbHNlIGlmIChzLmxldmVsID09PSA2KSB7XG4gICAgICAgIGxldmVsX2ZsYWdzID0gMjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldmVsX2ZsYWdzID0gMztcbiAgICAgIH1cbiAgICAgIGhlYWRlciB8PSAobGV2ZWxfZmxhZ3MgPDwgNik7XG4gICAgICBpZiAocy5zdHJzdGFydCAhPT0gMCkge1xuICAgICAgICBoZWFkZXIgfD0gUFJFU0VUX0RJQ1Q7XG4gICAgICB9XG4gICAgICBoZWFkZXIgKz0gMzEgLSAoaGVhZGVyICUgMzEpO1xuXG4gICAgICBzLnN0YXR1cyA9IEJVU1lfU1RBVEU7XG4gICAgICBwdXRTaG9ydE1TQihzLCBoZWFkZXIpO1xuXG4gICAgICAvKiBTYXZlIHRoZSBhZGxlcjMyIG9mIHRoZSBwcmVzZXQgZGljdGlvbmFyeTogKi9cbiAgICAgIGlmIChzLnN0cnN0YXJ0ICE9PSAwKSB7XG4gICAgICAgIHB1dFNob3J0TVNCKHMsIHN0cm0uYWRsZXIgPj4+IDE2KTtcbiAgICAgICAgcHV0U2hvcnRNU0Iocywgc3RybS5hZGxlciAmIDB4ZmZmZik7XG4gICAgICB9XG4gICAgICBzdHJtLmFkbGVyID0gMTsgLy8gYWRsZXIzMigwTCwgWl9OVUxMLCAwKTtcbiAgICB9XG4gIH1cblxuICAvLyNpZmRlZiBHWklQXG4gIGlmIChzLnN0YXR1cyA9PT0gRVhUUkFfU1RBVEUpIHtcbiAgICBpZiAocy5nemhlYWQuZXh0cmEgLyogIT0gWl9OVUxMKi8gKSB7XG4gICAgICBiZWcgPSBzLnBlbmRpbmc7IC8qIHN0YXJ0IG9mIGJ5dGVzIHRvIHVwZGF0ZSBjcmMgKi9cblxuICAgICAgd2hpbGUgKHMuZ3ppbmRleCA8IChzLmd6aGVhZC5leHRyYS5sZW5ndGggJiAweGZmZmYpKSB7XG4gICAgICAgIGlmIChzLnBlbmRpbmcgPT09IHMucGVuZGluZ19idWZfc2l6ZSkge1xuICAgICAgICAgIGlmIChzLmd6aGVhZC5oY3JjICYmIHMucGVuZGluZyA+IGJlZykge1xuICAgICAgICAgICAgc3RybS5hZGxlciA9IGNyYzMyKHN0cm0uYWRsZXIsIHMucGVuZGluZ19idWYsIHMucGVuZGluZyAtIGJlZywgYmVnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZmx1c2hfcGVuZGluZyhzdHJtKTtcbiAgICAgICAgICBiZWcgPSBzLnBlbmRpbmc7XG4gICAgICAgICAgaWYgKHMucGVuZGluZyA9PT0gcy5wZW5kaW5nX2J1Zl9zaXplKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHV0X2J5dGUocywgcy5nemhlYWQuZXh0cmFbcy5nemluZGV4XSAmIDB4ZmYpO1xuICAgICAgICBzLmd6aW5kZXgrKztcbiAgICAgIH1cbiAgICAgIGlmIChzLmd6aGVhZC5oY3JjICYmIHMucGVuZGluZyA+IGJlZykge1xuICAgICAgICBzdHJtLmFkbGVyID0gY3JjMzIoc3RybS5hZGxlciwgcy5wZW5kaW5nX2J1Ziwgcy5wZW5kaW5nIC0gYmVnLCBiZWcpO1xuICAgICAgfVxuICAgICAgaWYgKHMuZ3ppbmRleCA9PT0gcy5nemhlYWQuZXh0cmEubGVuZ3RoKSB7XG4gICAgICAgIHMuZ3ppbmRleCA9IDA7XG4gICAgICAgIHMuc3RhdHVzID0gTkFNRV9TVEFURTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcy5zdGF0dXMgPSBOQU1FX1NUQVRFO1xuICAgIH1cbiAgfVxuICBpZiAocy5zdGF0dXMgPT09IE5BTUVfU1RBVEUpIHtcbiAgICBpZiAocy5nemhlYWQubmFtZSAvKiAhPSBaX05VTEwqLyApIHtcbiAgICAgIGJlZyA9IHMucGVuZGluZzsgLyogc3RhcnQgb2YgYnl0ZXMgdG8gdXBkYXRlIGNyYyAqL1xuICAgICAgLy9pbnQgdmFsO1xuXG4gICAgICBkbyB7XG4gICAgICAgIGlmIChzLnBlbmRpbmcgPT09IHMucGVuZGluZ19idWZfc2l6ZSkge1xuICAgICAgICAgIGlmIChzLmd6aGVhZC5oY3JjICYmIHMucGVuZGluZyA+IGJlZykge1xuICAgICAgICAgICAgc3RybS5hZGxlciA9IGNyYzMyKHN0cm0uYWRsZXIsIHMucGVuZGluZ19idWYsIHMucGVuZGluZyAtIGJlZywgYmVnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZmx1c2hfcGVuZGluZyhzdHJtKTtcbiAgICAgICAgICBiZWcgPSBzLnBlbmRpbmc7XG4gICAgICAgICAgaWYgKHMucGVuZGluZyA9PT0gcy5wZW5kaW5nX2J1Zl9zaXplKSB7XG4gICAgICAgICAgICB2YWwgPSAxO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEpTIHNwZWNpZmljOiBsaXR0bGUgbWFnaWMgdG8gYWRkIHplcm8gdGVybWluYXRvciB0byBlbmQgb2Ygc3RyaW5nXG4gICAgICAgIGlmIChzLmd6aW5kZXggPCBzLmd6aGVhZC5uYW1lLmxlbmd0aCkge1xuICAgICAgICAgIHZhbCA9IHMuZ3poZWFkLm5hbWUuY2hhckNvZGVBdChzLmd6aW5kZXgrKykgJiAweGZmO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcHV0X2J5dGUocywgdmFsKTtcbiAgICAgIH0gd2hpbGUgKHZhbCAhPT0gMCk7XG5cbiAgICAgIGlmIChzLmd6aGVhZC5oY3JjICYmIHMucGVuZGluZyA+IGJlZykge1xuICAgICAgICBzdHJtLmFkbGVyID0gY3JjMzIoc3RybS5hZGxlciwgcy5wZW5kaW5nX2J1Ziwgcy5wZW5kaW5nIC0gYmVnLCBiZWcpO1xuICAgICAgfVxuICAgICAgaWYgKHZhbCA9PT0gMCkge1xuICAgICAgICBzLmd6aW5kZXggPSAwO1xuICAgICAgICBzLnN0YXR1cyA9IENPTU1FTlRfU1RBVEU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHMuc3RhdHVzID0gQ09NTUVOVF9TVEFURTtcbiAgICB9XG4gIH1cbiAgaWYgKHMuc3RhdHVzID09PSBDT01NRU5UX1NUQVRFKSB7XG4gICAgaWYgKHMuZ3poZWFkLmNvbW1lbnQgLyogIT0gWl9OVUxMKi8gKSB7XG4gICAgICBiZWcgPSBzLnBlbmRpbmc7IC8qIHN0YXJ0IG9mIGJ5dGVzIHRvIHVwZGF0ZSBjcmMgKi9cbiAgICAgIC8vaW50IHZhbDtcblxuICAgICAgZG8ge1xuICAgICAgICBpZiAocy5wZW5kaW5nID09PSBzLnBlbmRpbmdfYnVmX3NpemUpIHtcbiAgICAgICAgICBpZiAocy5nemhlYWQuaGNyYyAmJiBzLnBlbmRpbmcgPiBiZWcpIHtcbiAgICAgICAgICAgIHN0cm0uYWRsZXIgPSBjcmMzMihzdHJtLmFkbGVyLCBzLnBlbmRpbmdfYnVmLCBzLnBlbmRpbmcgLSBiZWcsIGJlZyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZsdXNoX3BlbmRpbmcoc3RybSk7XG4gICAgICAgICAgYmVnID0gcy5wZW5kaW5nO1xuICAgICAgICAgIGlmIChzLnBlbmRpbmcgPT09IHMucGVuZGluZ19idWZfc2l6ZSkge1xuICAgICAgICAgICAgdmFsID0gMTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBKUyBzcGVjaWZpYzogbGl0dGxlIG1hZ2ljIHRvIGFkZCB6ZXJvIHRlcm1pbmF0b3IgdG8gZW5kIG9mIHN0cmluZ1xuICAgICAgICBpZiAocy5nemluZGV4IDwgcy5nemhlYWQuY29tbWVudC5sZW5ndGgpIHtcbiAgICAgICAgICB2YWwgPSBzLmd6aGVhZC5jb21tZW50LmNoYXJDb2RlQXQocy5nemluZGV4KyspICYgMHhmZjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YWwgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHB1dF9ieXRlKHMsIHZhbCk7XG4gICAgICB9IHdoaWxlICh2YWwgIT09IDApO1xuXG4gICAgICBpZiAocy5nemhlYWQuaGNyYyAmJiBzLnBlbmRpbmcgPiBiZWcpIHtcbiAgICAgICAgc3RybS5hZGxlciA9IGNyYzMyKHN0cm0uYWRsZXIsIHMucGVuZGluZ19idWYsIHMucGVuZGluZyAtIGJlZywgYmVnKTtcbiAgICAgIH1cbiAgICAgIGlmICh2YWwgPT09IDApIHtcbiAgICAgICAgcy5zdGF0dXMgPSBIQ1JDX1NUQVRFO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzLnN0YXR1cyA9IEhDUkNfU1RBVEU7XG4gICAgfVxuICB9XG4gIGlmIChzLnN0YXR1cyA9PT0gSENSQ19TVEFURSkge1xuICAgIGlmIChzLmd6aGVhZC5oY3JjKSB7XG4gICAgICBpZiAocy5wZW5kaW5nICsgMiA+IHMucGVuZGluZ19idWZfc2l6ZSkge1xuICAgICAgICBmbHVzaF9wZW5kaW5nKHN0cm0pO1xuICAgICAgfVxuICAgICAgaWYgKHMucGVuZGluZyArIDIgPD0gcy5wZW5kaW5nX2J1Zl9zaXplKSB7XG4gICAgICAgIHB1dF9ieXRlKHMsIHN0cm0uYWRsZXIgJiAweGZmKTtcbiAgICAgICAgcHV0X2J5dGUocywgKHN0cm0uYWRsZXIgPj4gOCkgJiAweGZmKTtcbiAgICAgICAgc3RybS5hZGxlciA9IDA7IC8vY3JjMzIoMEwsIFpfTlVMTCwgMCk7XG4gICAgICAgIHMuc3RhdHVzID0gQlVTWV9TVEFURTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcy5zdGF0dXMgPSBCVVNZX1NUQVRFO1xuICAgIH1cbiAgfVxuICAvLyNlbmRpZlxuXG4gIC8qIEZsdXNoIGFzIG11Y2ggcGVuZGluZyBvdXRwdXQgYXMgcG9zc2libGUgKi9cbiAgaWYgKHMucGVuZGluZyAhPT0gMCkge1xuICAgIGZsdXNoX3BlbmRpbmcoc3RybSk7XG4gICAgaWYgKHN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICAvKiBTaW5jZSBhdmFpbF9vdXQgaXMgMCwgZGVmbGF0ZSB3aWxsIGJlIGNhbGxlZCBhZ2FpbiB3aXRoXG4gICAgICAgKiBtb3JlIG91dHB1dCBzcGFjZSwgYnV0IHBvc3NpYmx5IHdpdGggYm90aCBwZW5kaW5nIGFuZFxuICAgICAgICogYXZhaWxfaW4gZXF1YWwgdG8gemVyby4gVGhlcmUgd29uJ3QgYmUgYW55dGhpbmcgdG8gZG8sXG4gICAgICAgKiBidXQgdGhpcyBpcyBub3QgYW4gZXJyb3Igc2l0dWF0aW9uIHNvIG1ha2Ugc3VyZSB3ZVxuICAgICAgICogcmV0dXJuIE9LIGluc3RlYWQgb2YgQlVGX0VSUk9SIGF0IG5leHQgY2FsbCBvZiBkZWZsYXRlOlxuICAgICAgICovXG4gICAgICBzLmxhc3RfZmx1c2ggPSAtMTtcbiAgICAgIHJldHVybiBaX09LO1xuICAgIH1cblxuICAgIC8qIE1ha2Ugc3VyZSB0aGVyZSBpcyBzb21ldGhpbmcgdG8gZG8gYW5kIGF2b2lkIGR1cGxpY2F0ZSBjb25zZWN1dGl2ZVxuICAgICAqIGZsdXNoZXMuIEZvciByZXBlYXRlZCBhbmQgdXNlbGVzcyBjYWxscyB3aXRoIFpfRklOSVNILCB3ZSBrZWVwXG4gICAgICogcmV0dXJuaW5nIFpfU1RSRUFNX0VORCBpbnN0ZWFkIG9mIFpfQlVGX0VSUk9SLlxuICAgICAqL1xuICB9IGVsc2UgaWYgKHN0cm0uYXZhaWxfaW4gPT09IDAgJiYgcmFuayhmbHVzaCkgPD0gcmFuayhvbGRfZmx1c2gpICYmXG4gICAgZmx1c2ggIT09IFpfRklOSVNIKSB7XG4gICAgcmV0dXJuIGVycihzdHJtLCBaX0JVRl9FUlJPUik7XG4gIH1cblxuICAvKiBVc2VyIG11c3Qgbm90IHByb3ZpZGUgbW9yZSBpbnB1dCBhZnRlciB0aGUgZmlyc3QgRklOSVNIOiAqL1xuICBpZiAocy5zdGF0dXMgPT09IEZJTklTSF9TVEFURSAmJiBzdHJtLmF2YWlsX2luICE9PSAwKSB7XG4gICAgcmV0dXJuIGVycihzdHJtLCBaX0JVRl9FUlJPUik7XG4gIH1cblxuICAvKiBTdGFydCBhIG5ldyBibG9jayBvciBjb250aW51ZSB0aGUgY3VycmVudCBvbmUuXG4gICAqL1xuICBpZiAoc3RybS5hdmFpbF9pbiAhPT0gMCB8fCBzLmxvb2thaGVhZCAhPT0gMCB8fFxuICAgIChmbHVzaCAhPT0gWl9OT19GTFVTSCAmJiBzLnN0YXR1cyAhPT0gRklOSVNIX1NUQVRFKSkge1xuICAgIHZhciBic3RhdGUgPSAocy5zdHJhdGVneSA9PT0gWl9IVUZGTUFOX09OTFkpID8gZGVmbGF0ZV9odWZmKHMsIGZsdXNoKSA6XG4gICAgICAocy5zdHJhdGVneSA9PT0gWl9STEUgPyBkZWZsYXRlX3JsZShzLCBmbHVzaCkgOlxuICAgICAgICBjb25maWd1cmF0aW9uX3RhYmxlW3MubGV2ZWxdLmZ1bmMocywgZmx1c2gpKTtcblxuICAgIGlmIChic3RhdGUgPT09IEJTX0ZJTklTSF9TVEFSVEVEIHx8IGJzdGF0ZSA9PT0gQlNfRklOSVNIX0RPTkUpIHtcbiAgICAgIHMuc3RhdHVzID0gRklOSVNIX1NUQVRFO1xuICAgIH1cbiAgICBpZiAoYnN0YXRlID09PSBCU19ORUVEX01PUkUgfHwgYnN0YXRlID09PSBCU19GSU5JU0hfU1RBUlRFRCkge1xuICAgICAgaWYgKHN0cm0uYXZhaWxfb3V0ID09PSAwKSB7XG4gICAgICAgIHMubGFzdF9mbHVzaCA9IC0xO1xuICAgICAgICAvKiBhdm9pZCBCVUZfRVJST1IgbmV4dCBjYWxsLCBzZWUgYWJvdmUgKi9cbiAgICAgIH1cbiAgICAgIHJldHVybiBaX09LO1xuICAgICAgLyogSWYgZmx1c2ggIT0gWl9OT19GTFVTSCAmJiBhdmFpbF9vdXQgPT0gMCwgdGhlIG5leHQgY2FsbFxuICAgICAgICogb2YgZGVmbGF0ZSBzaG91bGQgdXNlIHRoZSBzYW1lIGZsdXNoIHBhcmFtZXRlciB0byBtYWtlIHN1cmVcbiAgICAgICAqIHRoYXQgdGhlIGZsdXNoIGlzIGNvbXBsZXRlLiBTbyB3ZSBkb24ndCBoYXZlIHRvIG91dHB1dCBhblxuICAgICAgICogZW1wdHkgYmxvY2sgaGVyZSwgdGhpcyB3aWxsIGJlIGRvbmUgYXQgbmV4dCBjYWxsLiBUaGlzIGFsc29cbiAgICAgICAqIGVuc3VyZXMgdGhhdCBmb3IgYSB2ZXJ5IHNtYWxsIG91dHB1dCBidWZmZXIsIHdlIGVtaXQgYXQgbW9zdFxuICAgICAgICogb25lIGVtcHR5IGJsb2NrLlxuICAgICAgICovXG4gICAgfVxuICAgIGlmIChic3RhdGUgPT09IEJTX0JMT0NLX0RPTkUpIHtcbiAgICAgIGlmIChmbHVzaCA9PT0gWl9QQVJUSUFMX0ZMVVNIKSB7XG4gICAgICAgIF90cl9hbGlnbihzKTtcbiAgICAgIH0gZWxzZSBpZiAoZmx1c2ggIT09IFpfQkxPQ0spIHsgLyogRlVMTF9GTFVTSCBvciBTWU5DX0ZMVVNIICovXG5cbiAgICAgICAgX3RyX3N0b3JlZF9ibG9jayhzLCAwLCAwLCBmYWxzZSk7XG4gICAgICAgIC8qIEZvciBhIGZ1bGwgZmx1c2gsIHRoaXMgZW1wdHkgYmxvY2sgd2lsbCBiZSByZWNvZ25pemVkXG4gICAgICAgICAqIGFzIGEgc3BlY2lhbCBtYXJrZXIgYnkgaW5mbGF0ZV9zeW5jKCkuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAoZmx1c2ggPT09IFpfRlVMTF9GTFVTSCkge1xuICAgICAgICAgIC8qKiogQ0xFQVJfSEFTSChzKTsgKioqL1xuICAgICAgICAgIC8qIGZvcmdldCBoaXN0b3J5ICovXG4gICAgICAgICAgemVybyhzLmhlYWQpOyAvLyBGaWxsIHdpdGggTklMICg9IDApO1xuXG4gICAgICAgICAgaWYgKHMubG9va2FoZWFkID09PSAwKSB7XG4gICAgICAgICAgICBzLnN0cnN0YXJ0ID0gMDtcbiAgICAgICAgICAgIHMuYmxvY2tfc3RhcnQgPSAwO1xuICAgICAgICAgICAgcy5pbnNlcnQgPSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZmx1c2hfcGVuZGluZyhzdHJtKTtcbiAgICAgIGlmIChzdHJtLmF2YWlsX291dCA9PT0gMCkge1xuICAgICAgICBzLmxhc3RfZmx1c2ggPSAtMTsgLyogYXZvaWQgQlVGX0VSUk9SIGF0IG5leHQgY2FsbCwgc2VlIGFib3ZlICovXG4gICAgICAgIHJldHVybiBaX09LO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvL0Fzc2VydChzdHJtLT5hdmFpbF9vdXQgPiAwLCBcImJ1ZzJcIik7XG4gIC8vaWYgKHN0cm0uYXZhaWxfb3V0IDw9IDApIHsgdGhyb3cgbmV3IEVycm9yKFwiYnVnMlwiKTt9XG5cbiAgaWYgKGZsdXNoICE9PSBaX0ZJTklTSCkge1xuICAgIHJldHVybiBaX09LO1xuICB9XG4gIGlmIChzLndyYXAgPD0gMCkge1xuICAgIHJldHVybiBaX1NUUkVBTV9FTkQ7XG4gIH1cblxuICAvKiBXcml0ZSB0aGUgdHJhaWxlciAqL1xuICBpZiAocy53cmFwID09PSAyKSB7XG4gICAgcHV0X2J5dGUocywgc3RybS5hZGxlciAmIDB4ZmYpO1xuICAgIHB1dF9ieXRlKHMsIChzdHJtLmFkbGVyID4+IDgpICYgMHhmZik7XG4gICAgcHV0X2J5dGUocywgKHN0cm0uYWRsZXIgPj4gMTYpICYgMHhmZik7XG4gICAgcHV0X2J5dGUocywgKHN0cm0uYWRsZXIgPj4gMjQpICYgMHhmZik7XG4gICAgcHV0X2J5dGUocywgc3RybS50b3RhbF9pbiAmIDB4ZmYpO1xuICAgIHB1dF9ieXRlKHMsIChzdHJtLnRvdGFsX2luID4+IDgpICYgMHhmZik7XG4gICAgcHV0X2J5dGUocywgKHN0cm0udG90YWxfaW4gPj4gMTYpICYgMHhmZik7XG4gICAgcHV0X2J5dGUocywgKHN0cm0udG90YWxfaW4gPj4gMjQpICYgMHhmZik7XG4gIH0gZWxzZSB7XG4gICAgcHV0U2hvcnRNU0Iocywgc3RybS5hZGxlciA+Pj4gMTYpO1xuICAgIHB1dFNob3J0TVNCKHMsIHN0cm0uYWRsZXIgJiAweGZmZmYpO1xuICB9XG5cbiAgZmx1c2hfcGVuZGluZyhzdHJtKTtcbiAgLyogSWYgYXZhaWxfb3V0IGlzIHplcm8sIHRoZSBhcHBsaWNhdGlvbiB3aWxsIGNhbGwgZGVmbGF0ZSBhZ2FpblxuICAgKiB0byBmbHVzaCB0aGUgcmVzdC5cbiAgICovXG4gIGlmIChzLndyYXAgPiAwKSB7XG4gICAgcy53cmFwID0gLXMud3JhcDtcbiAgfVxuICAvKiB3cml0ZSB0aGUgdHJhaWxlciBvbmx5IG9uY2UhICovXG4gIHJldHVybiBzLnBlbmRpbmcgIT09IDAgPyBaX09LIDogWl9TVFJFQU1fRU5EO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVmbGF0ZUVuZChzdHJtKSB7XG4gIHZhciBzdGF0dXM7XG5cbiAgaWYgKCFzdHJtIC8qPT0gWl9OVUxMKi8gfHwgIXN0cm0uc3RhdGUgLyo9PSBaX05VTEwqLyApIHtcbiAgICByZXR1cm4gWl9TVFJFQU1fRVJST1I7XG4gIH1cblxuICBzdGF0dXMgPSBzdHJtLnN0YXRlLnN0YXR1cztcbiAgaWYgKHN0YXR1cyAhPT0gSU5JVF9TVEFURSAmJlxuICAgIHN0YXR1cyAhPT0gRVhUUkFfU1RBVEUgJiZcbiAgICBzdGF0dXMgIT09IE5BTUVfU1RBVEUgJiZcbiAgICBzdGF0dXMgIT09IENPTU1FTlRfU1RBVEUgJiZcbiAgICBzdGF0dXMgIT09IEhDUkNfU1RBVEUgJiZcbiAgICBzdGF0dXMgIT09IEJVU1lfU1RBVEUgJiZcbiAgICBzdGF0dXMgIT09IEZJTklTSF9TVEFURVxuICApIHtcbiAgICByZXR1cm4gZXJyKHN0cm0sIFpfU1RSRUFNX0VSUk9SKTtcbiAgfVxuXG4gIHN0cm0uc3RhdGUgPSBudWxsO1xuXG4gIHJldHVybiBzdGF0dXMgPT09IEJVU1lfU1RBVEUgPyBlcnIoc3RybSwgWl9EQVRBX0VSUk9SKSA6IFpfT0s7XG59XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogSW5pdGlhbGl6ZXMgdGhlIGNvbXByZXNzaW9uIGRpY3Rpb25hcnkgZnJvbSB0aGUgZ2l2ZW4gYnl0ZVxuICogc2VxdWVuY2Ugd2l0aG91dCBwcm9kdWNpbmcgYW55IGNvbXByZXNzZWQgb3V0cHV0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVmbGF0ZVNldERpY3Rpb25hcnkoc3RybSwgZGljdGlvbmFyeSkge1xuICB2YXIgZGljdExlbmd0aCA9IGRpY3Rpb25hcnkubGVuZ3RoO1xuXG4gIHZhciBzO1xuICB2YXIgc3RyLCBuO1xuICB2YXIgd3JhcDtcbiAgdmFyIGF2YWlsO1xuICB2YXIgbmV4dDtcbiAgdmFyIGlucHV0O1xuICB2YXIgdG1wRGljdDtcblxuICBpZiAoIXN0cm0gLyo9PSBaX05VTEwqLyB8fCAhc3RybS5zdGF0ZSAvKj09IFpfTlVMTCovICkge1xuICAgIHJldHVybiBaX1NUUkVBTV9FUlJPUjtcbiAgfVxuXG4gIHMgPSBzdHJtLnN0YXRlO1xuICB3cmFwID0gcy53cmFwO1xuXG4gIGlmICh3cmFwID09PSAyIHx8ICh3cmFwID09PSAxICYmIHMuc3RhdHVzICE9PSBJTklUX1NUQVRFKSB8fCBzLmxvb2thaGVhZCkge1xuICAgIHJldHVybiBaX1NUUkVBTV9FUlJPUjtcbiAgfVxuXG4gIC8qIHdoZW4gdXNpbmcgemxpYiB3cmFwcGVycywgY29tcHV0ZSBBZGxlci0zMiBmb3IgcHJvdmlkZWQgZGljdGlvbmFyeSAqL1xuICBpZiAod3JhcCA9PT0gMSkge1xuICAgIC8qIGFkbGVyMzIoc3RybS0+YWRsZXIsIGRpY3Rpb25hcnksIGRpY3RMZW5ndGgpOyAqL1xuICAgIHN0cm0uYWRsZXIgPSBhZGxlcjMyKHN0cm0uYWRsZXIsIGRpY3Rpb25hcnksIGRpY3RMZW5ndGgsIDApO1xuICB9XG5cbiAgcy53cmFwID0gMDsgLyogYXZvaWQgY29tcHV0aW5nIEFkbGVyLTMyIGluIHJlYWRfYnVmICovXG5cbiAgLyogaWYgZGljdGlvbmFyeSB3b3VsZCBmaWxsIHdpbmRvdywganVzdCByZXBsYWNlIHRoZSBoaXN0b3J5ICovXG4gIGlmIChkaWN0TGVuZ3RoID49IHMud19zaXplKSB7XG4gICAgaWYgKHdyYXAgPT09IDApIHsgLyogYWxyZWFkeSBlbXB0eSBvdGhlcndpc2UgKi9cbiAgICAgIC8qKiogQ0xFQVJfSEFTSChzKTsgKioqL1xuICAgICAgemVybyhzLmhlYWQpOyAvLyBGaWxsIHdpdGggTklMICg9IDApO1xuICAgICAgcy5zdHJzdGFydCA9IDA7XG4gICAgICBzLmJsb2NrX3N0YXJ0ID0gMDtcbiAgICAgIHMuaW5zZXJ0ID0gMDtcbiAgICB9XG4gICAgLyogdXNlIHRoZSB0YWlsICovXG4gICAgLy8gZGljdGlvbmFyeSA9IGRpY3Rpb25hcnkuc2xpY2UoZGljdExlbmd0aCAtIHMud19zaXplKTtcbiAgICB0bXBEaWN0ID0gbmV3IEJ1Zjgocy53X3NpemUpO1xuICAgIGFycmF5U2V0KHRtcERpY3QsIGRpY3Rpb25hcnksIGRpY3RMZW5ndGggLSBzLndfc2l6ZSwgcy53X3NpemUsIDApO1xuICAgIGRpY3Rpb25hcnkgPSB0bXBEaWN0O1xuICAgIGRpY3RMZW5ndGggPSBzLndfc2l6ZTtcbiAgfVxuICAvKiBpbnNlcnQgZGljdGlvbmFyeSBpbnRvIHdpbmRvdyBhbmQgaGFzaCAqL1xuICBhdmFpbCA9IHN0cm0uYXZhaWxfaW47XG4gIG5leHQgPSBzdHJtLm5leHRfaW47XG4gIGlucHV0ID0gc3RybS5pbnB1dDtcbiAgc3RybS5hdmFpbF9pbiA9IGRpY3RMZW5ndGg7XG4gIHN0cm0ubmV4dF9pbiA9IDA7XG4gIHN0cm0uaW5wdXQgPSBkaWN0aW9uYXJ5O1xuICBmaWxsX3dpbmRvdyhzKTtcbiAgd2hpbGUgKHMubG9va2FoZWFkID49IE1JTl9NQVRDSCkge1xuICAgIHN0ciA9IHMuc3Ryc3RhcnQ7XG4gICAgbiA9IHMubG9va2FoZWFkIC0gKE1JTl9NQVRDSCAtIDEpO1xuICAgIGRvIHtcbiAgICAgIC8qIFVQREFURV9IQVNIKHMsIHMtPmluc19oLCBzLT53aW5kb3dbc3RyICsgTUlOX01BVENILTFdKTsgKi9cbiAgICAgIHMuaW5zX2ggPSAoKHMuaW5zX2ggPDwgcy5oYXNoX3NoaWZ0KSBeIHMud2luZG93W3N0ciArIE1JTl9NQVRDSCAtIDFdKSAmIHMuaGFzaF9tYXNrO1xuXG4gICAgICBzLnByZXZbc3RyICYgcy53X21hc2tdID0gcy5oZWFkW3MuaW5zX2hdO1xuXG4gICAgICBzLmhlYWRbcy5pbnNfaF0gPSBzdHI7XG4gICAgICBzdHIrKztcbiAgICB9IHdoaWxlICgtLW4pO1xuICAgIHMuc3Ryc3RhcnQgPSBzdHI7XG4gICAgcy5sb29rYWhlYWQgPSBNSU5fTUFUQ0ggLSAxO1xuICAgIGZpbGxfd2luZG93KHMpO1xuICB9XG4gIHMuc3Ryc3RhcnQgKz0gcy5sb29rYWhlYWQ7XG4gIHMuYmxvY2tfc3RhcnQgPSBzLnN0cnN0YXJ0O1xuICBzLmluc2VydCA9IHMubG9va2FoZWFkO1xuICBzLmxvb2thaGVhZCA9IDA7XG4gIHMubWF0Y2hfbGVuZ3RoID0gcy5wcmV2X2xlbmd0aCA9IE1JTl9NQVRDSCAtIDE7XG4gIHMubWF0Y2hfYXZhaWxhYmxlID0gMDtcbiAgc3RybS5uZXh0X2luID0gbmV4dDtcbiAgc3RybS5pbnB1dCA9IGlucHV0O1xuICBzdHJtLmF2YWlsX2luID0gYXZhaWw7XG4gIHMud3JhcCA9IHdyYXA7XG4gIHJldHVybiBaX09LO1xufVxuXG5cbmV4cG9ydCB2YXIgZGVmbGF0ZUluZm8gPSAncGFrbyBkZWZsYXRlIChmcm9tIE5vZGVjYSBwcm9qZWN0KSc7XG5cbi8qIE5vdCBpbXBsZW1lbnRlZFxuZXhwb3J0cy5kZWZsYXRlQm91bmQgPSBkZWZsYXRlQm91bmQ7XG5leHBvcnRzLmRlZmxhdGVDb3B5ID0gZGVmbGF0ZUNvcHk7XG5leHBvcnRzLmRlZmxhdGVQYXJhbXMgPSBkZWZsYXRlUGFyYW1zO1xuZXhwb3J0cy5kZWZsYXRlUGVuZGluZyA9IGRlZmxhdGVQZW5kaW5nO1xuZXhwb3J0cy5kZWZsYXRlUHJpbWUgPSBkZWZsYXRlUHJpbWU7XG5leHBvcnRzLmRlZmxhdGVUdW5lID0gZGVmbGF0ZVR1bmU7XG4qL1xuIiwgIlxuLy8gU2VlIHN0YXRlIGRlZnMgZnJvbSBpbmZsYXRlLmpzXG52YXIgQkFEID0gMzA7ICAgICAgIC8qIGdvdCBhIGRhdGEgZXJyb3IgLS0gcmVtYWluIGhlcmUgdW50aWwgcmVzZXQgKi9cbnZhciBUWVBFID0gMTI7ICAgICAgLyogaTogd2FpdGluZyBmb3IgdHlwZSBiaXRzLCBpbmNsdWRpbmcgbGFzdC1mbGFnIGJpdCAqL1xuXG4vKlxuICAgRGVjb2RlIGxpdGVyYWwsIGxlbmd0aCwgYW5kIGRpc3RhbmNlIGNvZGVzIGFuZCB3cml0ZSBvdXQgdGhlIHJlc3VsdGluZ1xuICAgbGl0ZXJhbCBhbmQgbWF0Y2ggYnl0ZXMgdW50aWwgZWl0aGVyIG5vdCBlbm91Z2ggaW5wdXQgb3Igb3V0cHV0IGlzXG4gICBhdmFpbGFibGUsIGFuIGVuZC1vZi1ibG9jayBpcyBlbmNvdW50ZXJlZCwgb3IgYSBkYXRhIGVycm9yIGlzIGVuY291bnRlcmVkLlxuICAgV2hlbiBsYXJnZSBlbm91Z2ggaW5wdXQgYW5kIG91dHB1dCBidWZmZXJzIGFyZSBzdXBwbGllZCB0byBpbmZsYXRlKCksIGZvclxuICAgZXhhbXBsZSwgYSAxNksgaW5wdXQgYnVmZmVyIGFuZCBhIDY0SyBvdXRwdXQgYnVmZmVyLCBtb3JlIHRoYW4gOTUlIG9mIHRoZVxuICAgaW5mbGF0ZSBleGVjdXRpb24gdGltZSBpcyBzcGVudCBpbiB0aGlzIHJvdXRpbmUuXG5cbiAgIEVudHJ5IGFzc3VtcHRpb25zOlxuXG4gICAgICAgIHN0YXRlLm1vZGUgPT09IExFTlxuICAgICAgICBzdHJtLmF2YWlsX2luID49IDZcbiAgICAgICAgc3RybS5hdmFpbF9vdXQgPj0gMjU4XG4gICAgICAgIHN0YXJ0ID49IHN0cm0uYXZhaWxfb3V0XG4gICAgICAgIHN0YXRlLmJpdHMgPCA4XG5cbiAgIE9uIHJldHVybiwgc3RhdGUubW9kZSBpcyBvbmUgb2Y6XG5cbiAgICAgICAgTEVOIC0tIHJhbiBvdXQgb2YgZW5vdWdoIG91dHB1dCBzcGFjZSBvciBlbm91Z2ggYXZhaWxhYmxlIGlucHV0XG4gICAgICAgIFRZUEUgLS0gcmVhY2hlZCBlbmQgb2YgYmxvY2sgY29kZSwgaW5mbGF0ZSgpIHRvIGludGVycHJldCBuZXh0IGJsb2NrXG4gICAgICAgIEJBRCAtLSBlcnJvciBpbiBibG9jayBkYXRhXG5cbiAgIE5vdGVzOlxuXG4gICAgLSBUaGUgbWF4aW11bSBpbnB1dCBiaXRzIHVzZWQgYnkgYSBsZW5ndGgvZGlzdGFuY2UgcGFpciBpcyAxNSBiaXRzIGZvciB0aGVcbiAgICAgIGxlbmd0aCBjb2RlLCA1IGJpdHMgZm9yIHRoZSBsZW5ndGggZXh0cmEsIDE1IGJpdHMgZm9yIHRoZSBkaXN0YW5jZSBjb2RlLFxuICAgICAgYW5kIDEzIGJpdHMgZm9yIHRoZSBkaXN0YW5jZSBleHRyYS4gIFRoaXMgdG90YWxzIDQ4IGJpdHMsIG9yIHNpeCBieXRlcy5cbiAgICAgIFRoZXJlZm9yZSBpZiBzdHJtLmF2YWlsX2luID49IDYsIHRoZW4gdGhlcmUgaXMgZW5vdWdoIGlucHV0IHRvIGF2b2lkXG4gICAgICBjaGVja2luZyBmb3IgYXZhaWxhYmxlIGlucHV0IHdoaWxlIGRlY29kaW5nLlxuXG4gICAgLSBUaGUgbWF4aW11bSBieXRlcyB0aGF0IGEgc2luZ2xlIGxlbmd0aC9kaXN0YW5jZSBwYWlyIGNhbiBvdXRwdXQgaXMgMjU4XG4gICAgICBieXRlcywgd2hpY2ggaXMgdGhlIG1heGltdW0gbGVuZ3RoIHRoYXQgY2FuIGJlIGNvZGVkLiAgaW5mbGF0ZV9mYXN0KClcbiAgICAgIHJlcXVpcmVzIHN0cm0uYXZhaWxfb3V0ID49IDI1OCBmb3IgZWFjaCBsb29wIHRvIGF2b2lkIGNoZWNraW5nIGZvclxuICAgICAgb3V0cHV0IHNwYWNlLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbmZsYXRlX2Zhc3Qoc3RybSwgc3RhcnQpIHtcbiAgdmFyIHN0YXRlO1xuICB2YXIgX2luOyAgICAgICAgICAgICAgICAgICAgLyogbG9jYWwgc3RybS5pbnB1dCAqL1xuICB2YXIgbGFzdDsgICAgICAgICAgICAgICAgICAgLyogaGF2ZSBlbm91Z2ggaW5wdXQgd2hpbGUgaW4gPCBsYXN0ICovXG4gIHZhciBfb3V0OyAgICAgICAgICAgICAgICAgICAvKiBsb2NhbCBzdHJtLm91dHB1dCAqL1xuICB2YXIgYmVnOyAgICAgICAgICAgICAgICAgICAgLyogaW5mbGF0ZSgpJ3MgaW5pdGlhbCBzdHJtLm91dHB1dCAqL1xuICB2YXIgZW5kOyAgICAgICAgICAgICAgICAgICAgLyogd2hpbGUgb3V0IDwgZW5kLCBlbm91Z2ggc3BhY2UgYXZhaWxhYmxlICovXG4vLyNpZmRlZiBJTkZMQVRFX1NUUklDVFxuICB2YXIgZG1heDsgICAgICAgICAgICAgICAgICAgLyogbWF4aW11bSBkaXN0YW5jZSBmcm9tIHpsaWIgaGVhZGVyICovXG4vLyNlbmRpZlxuICB2YXIgd3NpemU7ICAgICAgICAgICAgICAgICAgLyogd2luZG93IHNpemUgb3IgemVybyBpZiBub3QgdXNpbmcgd2luZG93ICovXG4gIHZhciB3aGF2ZTsgICAgICAgICAgICAgICAgICAvKiB2YWxpZCBieXRlcyBpbiB0aGUgd2luZG93ICovXG4gIHZhciB3bmV4dDsgICAgICAgICAgICAgICAgICAvKiB3aW5kb3cgd3JpdGUgaW5kZXggKi9cbiAgLy8gVXNlIGBzX3dpbmRvd2AgaW5zdGVhZCBgd2luZG93YCwgYXZvaWQgY29uZmxpY3Qgd2l0aCBpbnN0cnVtZW50YXRpb24gdG9vbHNcbiAgdmFyIHNfd2luZG93OyAgICAgICAgICAgICAgIC8qIGFsbG9jYXRlZCBzbGlkaW5nIHdpbmRvdywgaWYgd3NpemUgIT0gMCAqL1xuICB2YXIgaG9sZDsgICAgICAgICAgICAgICAgICAgLyogbG9jYWwgc3RybS5ob2xkICovXG4gIHZhciBiaXRzOyAgICAgICAgICAgICAgICAgICAvKiBsb2NhbCBzdHJtLmJpdHMgKi9cbiAgdmFyIGxjb2RlOyAgICAgICAgICAgICAgICAgIC8qIGxvY2FsIHN0cm0ubGVuY29kZSAqL1xuICB2YXIgZGNvZGU7ICAgICAgICAgICAgICAgICAgLyogbG9jYWwgc3RybS5kaXN0Y29kZSAqL1xuICB2YXIgbG1hc2s7ICAgICAgICAgICAgICAgICAgLyogbWFzayBmb3IgZmlyc3QgbGV2ZWwgb2YgbGVuZ3RoIGNvZGVzICovXG4gIHZhciBkbWFzazsgICAgICAgICAgICAgICAgICAvKiBtYXNrIGZvciBmaXJzdCBsZXZlbCBvZiBkaXN0YW5jZSBjb2RlcyAqL1xuICB2YXIgaGVyZTsgICAgICAgICAgICAgICAgICAgLyogcmV0cmlldmVkIHRhYmxlIGVudHJ5ICovXG4gIHZhciBvcDsgICAgICAgICAgICAgICAgICAgICAvKiBjb2RlIGJpdHMsIG9wZXJhdGlvbiwgZXh0cmEgYml0cywgb3IgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qICB3aW5kb3cgcG9zaXRpb24sIHdpbmRvdyBieXRlcyB0byBjb3B5ICovXG4gIHZhciBsZW47ICAgICAgICAgICAgICAgICAgICAvKiBtYXRjaCBsZW5ndGgsIHVudXNlZCBieXRlcyAqL1xuICB2YXIgZGlzdDsgICAgICAgICAgICAgICAgICAgLyogbWF0Y2ggZGlzdGFuY2UgKi9cbiAgdmFyIGZyb207ICAgICAgICAgICAgICAgICAgIC8qIHdoZXJlIHRvIGNvcHkgbWF0Y2ggZnJvbSAqL1xuICB2YXIgZnJvbV9zb3VyY2U7XG5cblxuICB2YXIgaW5wdXQsIG91dHB1dDsgLy8gSlMgc3BlY2lmaWMsIGJlY2F1c2Ugd2UgaGF2ZSBubyBwb2ludGVyc1xuXG4gIC8qIGNvcHkgc3RhdGUgdG8gbG9jYWwgdmFyaWFibGVzICovXG4gIHN0YXRlID0gc3RybS5zdGF0ZTtcbiAgLy9oZXJlID0gc3RhdGUuaGVyZTtcbiAgX2luID0gc3RybS5uZXh0X2luO1xuICBpbnB1dCA9IHN0cm0uaW5wdXQ7XG4gIGxhc3QgPSBfaW4gKyAoc3RybS5hdmFpbF9pbiAtIDUpO1xuICBfb3V0ID0gc3RybS5uZXh0X291dDtcbiAgb3V0cHV0ID0gc3RybS5vdXRwdXQ7XG4gIGJlZyA9IF9vdXQgLSAoc3RhcnQgLSBzdHJtLmF2YWlsX291dCk7XG4gIGVuZCA9IF9vdXQgKyAoc3RybS5hdmFpbF9vdXQgLSAyNTcpO1xuLy8jaWZkZWYgSU5GTEFURV9TVFJJQ1RcbiAgZG1heCA9IHN0YXRlLmRtYXg7XG4vLyNlbmRpZlxuICB3c2l6ZSA9IHN0YXRlLndzaXplO1xuICB3aGF2ZSA9IHN0YXRlLndoYXZlO1xuICB3bmV4dCA9IHN0YXRlLnduZXh0O1xuICBzX3dpbmRvdyA9IHN0YXRlLndpbmRvdztcbiAgaG9sZCA9IHN0YXRlLmhvbGQ7XG4gIGJpdHMgPSBzdGF0ZS5iaXRzO1xuICBsY29kZSA9IHN0YXRlLmxlbmNvZGU7XG4gIGRjb2RlID0gc3RhdGUuZGlzdGNvZGU7XG4gIGxtYXNrID0gKDEgPDwgc3RhdGUubGVuYml0cykgLSAxO1xuICBkbWFzayA9ICgxIDw8IHN0YXRlLmRpc3RiaXRzKSAtIDE7XG5cblxuICAvKiBkZWNvZGUgbGl0ZXJhbHMgYW5kIGxlbmd0aC9kaXN0YW5jZXMgdW50aWwgZW5kLW9mLWJsb2NrIG9yIG5vdCBlbm91Z2hcbiAgICAgaW5wdXQgZGF0YSBvciBvdXRwdXQgc3BhY2UgKi9cblxuICB0b3A6XG4gIGRvIHtcbiAgICBpZiAoYml0cyA8IDE1KSB7XG4gICAgICBob2xkICs9IGlucHV0W19pbisrXSA8PCBiaXRzO1xuICAgICAgYml0cyArPSA4O1xuICAgICAgaG9sZCArPSBpbnB1dFtfaW4rK10gPDwgYml0cztcbiAgICAgIGJpdHMgKz0gODtcbiAgICB9XG5cbiAgICBoZXJlID0gbGNvZGVbaG9sZCAmIGxtYXNrXTtcblxuICAgIGRvbGVuOlxuICAgIGZvciAoOzspIHsgLy8gR290byBlbXVsYXRpb25cbiAgICAgIG9wID0gaGVyZSA+Pj4gMjQvKmhlcmUuYml0cyovO1xuICAgICAgaG9sZCA+Pj49IG9wO1xuICAgICAgYml0cyAtPSBvcDtcbiAgICAgIG9wID0gKGhlcmUgPj4+IDE2KSAmIDB4ZmYvKmhlcmUub3AqLztcbiAgICAgIGlmIChvcCA9PT0gMCkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgLyogbGl0ZXJhbCAqL1xuICAgICAgICAvL1RyYWNldnYoKHN0ZGVyciwgaGVyZS52YWwgPj0gMHgyMCAmJiBoZXJlLnZhbCA8IDB4N2YgP1xuICAgICAgICAvLyAgICAgICAgXCJpbmZsYXRlOiAgICAgICAgIGxpdGVyYWwgJyVjJ1xcblwiIDpcbiAgICAgICAgLy8gICAgICAgIFwiaW5mbGF0ZTogICAgICAgICBsaXRlcmFsIDB4JTAyeFxcblwiLCBoZXJlLnZhbCkpO1xuICAgICAgICBvdXRwdXRbX291dCsrXSA9IGhlcmUgJiAweGZmZmYvKmhlcmUudmFsKi87XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChvcCAmIDE2KSB7ICAgICAgICAgICAgICAgICAgICAgLyogbGVuZ3RoIGJhc2UgKi9cbiAgICAgICAgbGVuID0gaGVyZSAmIDB4ZmZmZi8qaGVyZS52YWwqLztcbiAgICAgICAgb3AgJj0gMTU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogbnVtYmVyIG9mIGV4dHJhIGJpdHMgKi9cbiAgICAgICAgaWYgKG9wKSB7XG4gICAgICAgICAgaWYgKGJpdHMgPCBvcCkge1xuICAgICAgICAgICAgaG9sZCArPSBpbnB1dFtfaW4rK10gPDwgYml0cztcbiAgICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGVuICs9IGhvbGQgJiAoKDEgPDwgb3ApIC0gMSk7XG4gICAgICAgICAgaG9sZCA+Pj49IG9wO1xuICAgICAgICAgIGJpdHMgLT0gb3A7XG4gICAgICAgIH1cbiAgICAgICAgLy9UcmFjZXZ2KChzdGRlcnIsIFwiaW5mbGF0ZTogICAgICAgICBsZW5ndGggJXVcXG5cIiwgbGVuKSk7XG4gICAgICAgIGlmIChiaXRzIDwgMTUpIHtcbiAgICAgICAgICBob2xkICs9IGlucHV0W19pbisrXSA8PCBiaXRzO1xuICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICBob2xkICs9IGlucHV0W19pbisrXSA8PCBiaXRzO1xuICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgfVxuICAgICAgICBoZXJlID0gZGNvZGVbaG9sZCAmIGRtYXNrXTtcblxuICAgICAgICBkb2Rpc3Q6XG4gICAgICAgIGZvciAoOzspIHsgLy8gZ290byBlbXVsYXRpb25cbiAgICAgICAgICBvcCA9IGhlcmUgPj4+IDI0LypoZXJlLmJpdHMqLztcbiAgICAgICAgICBob2xkID4+Pj0gb3A7XG4gICAgICAgICAgYml0cyAtPSBvcDtcbiAgICAgICAgICBvcCA9IChoZXJlID4+PiAxNikgJiAweGZmLypoZXJlLm9wKi87XG5cbiAgICAgICAgICBpZiAob3AgJiAxNikgeyAgICAgICAgICAgICAgICAgICAgICAvKiBkaXN0YW5jZSBiYXNlICovXG4gICAgICAgICAgICBkaXN0ID0gaGVyZSAmIDB4ZmZmZi8qaGVyZS52YWwqLztcbiAgICAgICAgICAgIG9wICY9IDE1OyAgICAgICAgICAgICAgICAgICAgICAgLyogbnVtYmVyIG9mIGV4dHJhIGJpdHMgKi9cbiAgICAgICAgICAgIGlmIChiaXRzIDwgb3ApIHtcbiAgICAgICAgICAgICAgaG9sZCArPSBpbnB1dFtfaW4rK10gPDwgYml0cztcbiAgICAgICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgICAgICBpZiAoYml0cyA8IG9wKSB7XG4gICAgICAgICAgICAgICAgaG9sZCArPSBpbnB1dFtfaW4rK10gPDwgYml0cztcbiAgICAgICAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpc3QgKz0gaG9sZCAmICgoMSA8PCBvcCkgLSAxKTtcbi8vI2lmZGVmIElORkxBVEVfU1RSSUNUXG4gICAgICAgICAgICBpZiAoZGlzdCA+IGRtYXgpIHtcbiAgICAgICAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBkaXN0YW5jZSB0b28gZmFyIGJhY2snO1xuICAgICAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgICAgICBicmVhayB0b3A7XG4gICAgICAgICAgICB9XG4vLyNlbmRpZlxuICAgICAgICAgICAgaG9sZCA+Pj49IG9wO1xuICAgICAgICAgICAgYml0cyAtPSBvcDtcbiAgICAgICAgICAgIC8vVHJhY2V2digoc3RkZXJyLCBcImluZmxhdGU6ICAgICAgICAgZGlzdGFuY2UgJXVcXG5cIiwgZGlzdCkpO1xuICAgICAgICAgICAgb3AgPSBfb3V0IC0gYmVnOyAgICAgICAgICAgICAgICAvKiBtYXggZGlzdGFuY2UgaW4gb3V0cHV0ICovXG4gICAgICAgICAgICBpZiAoZGlzdCA+IG9wKSB7ICAgICAgICAgICAgICAgIC8qIHNlZSBpZiBjb3B5IGZyb20gd2luZG93ICovXG4gICAgICAgICAgICAgIG9wID0gZGlzdCAtIG9wOyAgICAgICAgICAgICAgIC8qIGRpc3RhbmNlIGJhY2sgaW4gd2luZG93ICovXG4gICAgICAgICAgICAgIGlmIChvcCA+IHdoYXZlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLnNhbmUpIHtcbiAgICAgICAgICAgICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrJztcbiAgICAgICAgICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgICAgICAgICBicmVhayB0b3A7XG4gICAgICAgICAgICAgICAgfVxuXG4vLyAoISkgVGhpcyBibG9jayBpcyBkaXNhYmxlZCBpbiB6bGliIGRlZmFpbHRzLFxuLy8gZG9uJ3QgZW5hYmxlIGl0IGZvciBiaW5hcnkgY29tcGF0aWJpbGl0eVxuLy8jaWZkZWYgSU5GTEFURV9BTExPV19JTlZBTElEX0RJU1RBTkNFX1RPT0ZBUl9BUlJSXG4vLyAgICAgICAgICAgICAgICBpZiAobGVuIDw9IG9wIC0gd2hhdmUpIHtcbi8vICAgICAgICAgICAgICAgICAgZG8ge1xuLy8gICAgICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gMDtcbi8vICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoLS1sZW4pO1xuLy8gICAgICAgICAgICAgICAgICBjb250aW51ZSB0b3A7XG4vLyAgICAgICAgICAgICAgICB9XG4vLyAgICAgICAgICAgICAgICBsZW4gLT0gb3AgLSB3aGF2ZTtcbi8vICAgICAgICAgICAgICAgIGRvIHtcbi8vICAgICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSAwO1xuLy8gICAgICAgICAgICAgICAgfSB3aGlsZSAoLS1vcCA+IHdoYXZlKTtcbi8vICAgICAgICAgICAgICAgIGlmIChvcCA9PT0gMCkge1xuLy8gICAgICAgICAgICAgICAgICBmcm9tID0gX291dCAtIGRpc3Q7XG4vLyAgICAgICAgICAgICAgICAgIGRvIHtcbi8vICAgICAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IG91dHB1dFtmcm9tKytdO1xuLy8gICAgICAgICAgICAgICAgICB9IHdoaWxlICgtLWxlbik7XG4vLyAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIHRvcDtcbi8vICAgICAgICAgICAgICAgIH1cbi8vI2VuZGlmXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZnJvbSA9IDA7IC8vIHdpbmRvdyBpbmRleFxuICAgICAgICAgICAgICBmcm9tX3NvdXJjZSA9IHNfd2luZG93O1xuICAgICAgICAgICAgICBpZiAod25leHQgPT09IDApIHsgICAgICAgICAgIC8qIHZlcnkgY29tbW9uIGNhc2UgKi9cbiAgICAgICAgICAgICAgICBmcm9tICs9IHdzaXplIC0gb3A7XG4gICAgICAgICAgICAgICAgaWYgKG9wIDwgbGVuKSB7ICAgICAgICAgLyogc29tZSBmcm9tIHdpbmRvdyAqL1xuICAgICAgICAgICAgICAgICAgbGVuIC09IG9wO1xuICAgICAgICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IHNfd2luZG93W2Zyb20rK107XG4gICAgICAgICAgICAgICAgICB9IHdoaWxlICgtLW9wKTtcbiAgICAgICAgICAgICAgICAgIGZyb20gPSBfb3V0IC0gZGlzdDsgIC8qIHJlc3QgZnJvbSBvdXRwdXQgKi9cbiAgICAgICAgICAgICAgICAgIGZyb21fc291cmNlID0gb3V0cHV0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNlIGlmICh3bmV4dCA8IG9wKSB7ICAgICAgLyogd3JhcCBhcm91bmQgd2luZG93ICovXG4gICAgICAgICAgICAgICAgZnJvbSArPSB3c2l6ZSArIHduZXh0IC0gb3A7XG4gICAgICAgICAgICAgICAgb3AgLT0gd25leHQ7XG4gICAgICAgICAgICAgICAgaWYgKG9wIDwgbGVuKSB7ICAgICAgICAgLyogc29tZSBmcm9tIGVuZCBvZiB3aW5kb3cgKi9cbiAgICAgICAgICAgICAgICAgIGxlbiAtPSBvcDtcbiAgICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBzX3dpbmRvd1tmcm9tKytdO1xuICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoLS1vcCk7XG4gICAgICAgICAgICAgICAgICBmcm9tID0gMDtcbiAgICAgICAgICAgICAgICAgIGlmICh3bmV4dCA8IGxlbikgeyAgLyogc29tZSBmcm9tIHN0YXJ0IG9mIHdpbmRvdyAqL1xuICAgICAgICAgICAgICAgICAgICBvcCA9IHduZXh0O1xuICAgICAgICAgICAgICAgICAgICBsZW4gLT0gb3A7XG4gICAgICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IHNfd2luZG93W2Zyb20rK107XG4gICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKC0tb3ApO1xuICAgICAgICAgICAgICAgICAgICBmcm9tID0gX291dCAtIGRpc3Q7ICAgICAgLyogcmVzdCBmcm9tIG91dHB1dCAqL1xuICAgICAgICAgICAgICAgICAgICBmcm9tX3NvdXJjZSA9IG91dHB1dDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZWxzZSB7ICAgICAgICAgICAgICAgICAgICAgIC8qIGNvbnRpZ3VvdXMgaW4gd2luZG93ICovXG4gICAgICAgICAgICAgICAgZnJvbSArPSB3bmV4dCAtIG9wO1xuICAgICAgICAgICAgICAgIGlmIChvcCA8IGxlbikgeyAgICAgICAgIC8qIHNvbWUgZnJvbSB3aW5kb3cgKi9cbiAgICAgICAgICAgICAgICAgIGxlbiAtPSBvcDtcbiAgICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBzX3dpbmRvd1tmcm9tKytdO1xuICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoLS1vcCk7XG4gICAgICAgICAgICAgICAgICBmcm9tID0gX291dCAtIGRpc3Q7ICAvKiByZXN0IGZyb20gb3V0cHV0ICovXG4gICAgICAgICAgICAgICAgICBmcm9tX3NvdXJjZSA9IG91dHB1dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgd2hpbGUgKGxlbiA+IDIpIHtcbiAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IGZyb21fc291cmNlW2Zyb20rK107XG4gICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBmcm9tX3NvdXJjZVtmcm9tKytdO1xuICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gZnJvbV9zb3VyY2VbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICBsZW4gLT0gMztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAobGVuKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBmcm9tX3NvdXJjZVtmcm9tKytdO1xuICAgICAgICAgICAgICAgIGlmIChsZW4gPiAxKSB7XG4gICAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IGZyb21fc291cmNlW2Zyb20rK107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgZnJvbSA9IF9vdXQgLSBkaXN0OyAgICAgICAgICAvKiBjb3B5IGRpcmVjdCBmcm9tIG91dHB1dCAqL1xuICAgICAgICAgICAgICBkbyB7ICAgICAgICAgICAgICAgICAgICAgICAgLyogbWluaW11bSBsZW5ndGggaXMgdGhyZWUgKi9cbiAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IG91dHB1dFtmcm9tKytdO1xuICAgICAgICAgICAgICAgIG91dHB1dFtfb3V0KytdID0gb3V0cHV0W2Zyb20rK107XG4gICAgICAgICAgICAgICAgb3V0cHV0W19vdXQrK10gPSBvdXRwdXRbZnJvbSsrXTtcbiAgICAgICAgICAgICAgICBsZW4gLT0gMztcbiAgICAgICAgICAgICAgfSB3aGlsZSAobGVuID4gMik7XG4gICAgICAgICAgICAgIGlmIChsZW4pIHtcbiAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IG91dHB1dFtmcm9tKytdO1xuICAgICAgICAgICAgICAgIGlmIChsZW4gPiAxKSB7XG4gICAgICAgICAgICAgICAgICBvdXRwdXRbX291dCsrXSA9IG91dHB1dFtmcm9tKytdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmICgob3AgJiA2NCkgPT09IDApIHsgICAgICAgICAgLyogMm5kIGxldmVsIGRpc3RhbmNlIGNvZGUgKi9cbiAgICAgICAgICAgIGhlcmUgPSBkY29kZVsoaGVyZSAmIDB4ZmZmZikvKmhlcmUudmFsKi8gKyAoaG9sZCAmICgoMSA8PCBvcCkgLSAxKSldO1xuICAgICAgICAgICAgY29udGludWUgZG9kaXN0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgZGlzdGFuY2UgY29kZSc7XG4gICAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgICAgYnJlYWsgdG9wO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrOyAvLyBuZWVkIHRvIGVtdWxhdGUgZ290byB2aWEgXCJjb250aW51ZVwiXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKChvcCAmIDY0KSA9PT0gMCkgeyAgICAgICAgICAgICAgLyogMm5kIGxldmVsIGxlbmd0aCBjb2RlICovXG4gICAgICAgIGhlcmUgPSBsY29kZVsoaGVyZSAmIDB4ZmZmZikvKmhlcmUudmFsKi8gKyAoaG9sZCAmICgoMSA8PCBvcCkgLSAxKSldO1xuICAgICAgICBjb250aW51ZSBkb2xlbjtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKG9wICYgMzIpIHsgICAgICAgICAgICAgICAgICAgICAvKiBlbmQtb2YtYmxvY2sgKi9cbiAgICAgICAgLy9UcmFjZXZ2KChzdGRlcnIsIFwiaW5mbGF0ZTogICAgICAgICBlbmQgb2YgYmxvY2tcXG5cIikpO1xuICAgICAgICBzdGF0ZS5tb2RlID0gVFlQRTtcbiAgICAgICAgYnJlYWsgdG9wO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgbGl0ZXJhbC9sZW5ndGggY29kZSc7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgIGJyZWFrIHRvcDtcbiAgICAgIH1cblxuICAgICAgYnJlYWs7IC8vIG5lZWQgdG8gZW11bGF0ZSBnb3RvIHZpYSBcImNvbnRpbnVlXCJcbiAgICB9XG4gIH0gd2hpbGUgKF9pbiA8IGxhc3QgJiYgX291dCA8IGVuZCk7XG5cbiAgLyogcmV0dXJuIHVudXNlZCBieXRlcyAob24gZW50cnksIGJpdHMgPCA4LCBzbyBpbiB3b24ndCBnbyB0b28gZmFyIGJhY2spICovXG4gIGxlbiA9IGJpdHMgPj4gMztcbiAgX2luIC09IGxlbjtcbiAgYml0cyAtPSBsZW4gPDwgMztcbiAgaG9sZCAmPSAoMSA8PCBiaXRzKSAtIDE7XG5cbiAgLyogdXBkYXRlIHN0YXRlIGFuZCByZXR1cm4gKi9cbiAgc3RybS5uZXh0X2luID0gX2luO1xuICBzdHJtLm5leHRfb3V0ID0gX291dDtcbiAgc3RybS5hdmFpbF9pbiA9IChfaW4gPCBsYXN0ID8gNSArIChsYXN0IC0gX2luKSA6IDUgLSAoX2luIC0gbGFzdCkpO1xuICBzdHJtLmF2YWlsX291dCA9IChfb3V0IDwgZW5kID8gMjU3ICsgKGVuZCAtIF9vdXQpIDogMjU3IC0gKF9vdXQgLSBlbmQpKTtcbiAgc3RhdGUuaG9sZCA9IGhvbGQ7XG4gIHN0YXRlLmJpdHMgPSBiaXRzO1xuICByZXR1cm47XG59O1xuIiwgImltcG9ydCB7QnVmMTZ9IGZyb20gJy4vdXRpbHMnO1xudmFyIE1BWEJJVFMgPSAxNTtcbnZhciBFTk9VR0hfTEVOUyA9IDg1MjtcbnZhciBFTk9VR0hfRElTVFMgPSA1OTI7XG4vL3ZhciBFTk9VR0ggPSAoRU5PVUdIX0xFTlMrRU5PVUdIX0RJU1RTKTtcblxudmFyIENPREVTID0gMDtcbnZhciBMRU5TID0gMTtcbnZhciBESVNUUyA9IDI7XG5cbnZhciBsYmFzZSA9IFsgLyogTGVuZ3RoIGNvZGVzIDI1Ny4uMjg1IGJhc2UgKi9cbiAgMywgNCwgNSwgNiwgNywgOCwgOSwgMTAsIDExLCAxMywgMTUsIDE3LCAxOSwgMjMsIDI3LCAzMSxcbiAgMzUsIDQzLCA1MSwgNTksIDY3LCA4MywgOTksIDExNSwgMTMxLCAxNjMsIDE5NSwgMjI3LCAyNTgsIDAsIDBcbl07XG5cbnZhciBsZXh0ID0gWyAvKiBMZW5ndGggY29kZXMgMjU3Li4yODUgZXh0cmEgKi9cbiAgMTYsIDE2LCAxNiwgMTYsIDE2LCAxNiwgMTYsIDE2LCAxNywgMTcsIDE3LCAxNywgMTgsIDE4LCAxOCwgMTgsXG4gIDE5LCAxOSwgMTksIDE5LCAyMCwgMjAsIDIwLCAyMCwgMjEsIDIxLCAyMSwgMjEsIDE2LCA3MiwgNzhcbl07XG5cbnZhciBkYmFzZSA9IFsgLyogRGlzdGFuY2UgY29kZXMgMC4uMjkgYmFzZSAqL1xuICAxLCAyLCAzLCA0LCA1LCA3LCA5LCAxMywgMTcsIDI1LCAzMywgNDksIDY1LCA5NywgMTI5LCAxOTMsXG4gIDI1NywgMzg1LCA1MTMsIDc2OSwgMTAyNSwgMTUzNywgMjA0OSwgMzA3MywgNDA5NywgNjE0NSxcbiAgODE5MywgMTIyODksIDE2Mzg1LCAyNDU3NywgMCwgMFxuXTtcblxudmFyIGRleHQgPSBbIC8qIERpc3RhbmNlIGNvZGVzIDAuLjI5IGV4dHJhICovXG4gIDE2LCAxNiwgMTYsIDE2LCAxNywgMTcsIDE4LCAxOCwgMTksIDE5LCAyMCwgMjAsIDIxLCAyMSwgMjIsIDIyLFxuICAyMywgMjMsIDI0LCAyNCwgMjUsIDI1LCAyNiwgMjYsIDI3LCAyNyxcbiAgMjgsIDI4LCAyOSwgMjksIDY0LCA2NFxuXTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5mbGF0ZV90YWJsZSh0eXBlLCBsZW5zLCBsZW5zX2luZGV4LCBjb2RlcywgdGFibGUsIHRhYmxlX2luZGV4LCB3b3JrLCBvcHRzKSB7XG4gIHZhciBiaXRzID0gb3B0cy5iaXRzO1xuICAvL2hlcmUgPSBvcHRzLmhlcmU7IC8qIHRhYmxlIGVudHJ5IGZvciBkdXBsaWNhdGlvbiAqL1xuXG4gIHZhciBsZW4gPSAwOyAvKiBhIGNvZGUncyBsZW5ndGggaW4gYml0cyAqL1xuICB2YXIgc3ltID0gMDsgLyogaW5kZXggb2YgY29kZSBzeW1ib2xzICovXG4gIHZhciBtaW4gPSAwLFxuICAgIG1heCA9IDA7IC8qIG1pbmltdW0gYW5kIG1heGltdW0gY29kZSBsZW5ndGhzICovXG4gIHZhciByb290ID0gMDsgLyogbnVtYmVyIG9mIGluZGV4IGJpdHMgZm9yIHJvb3QgdGFibGUgKi9cbiAgdmFyIGN1cnIgPSAwOyAvKiBudW1iZXIgb2YgaW5kZXggYml0cyBmb3IgY3VycmVudCB0YWJsZSAqL1xuICB2YXIgZHJvcCA9IDA7IC8qIGNvZGUgYml0cyB0byBkcm9wIGZvciBzdWItdGFibGUgKi9cbiAgdmFyIGxlZnQgPSAwOyAvKiBudW1iZXIgb2YgcHJlZml4IGNvZGVzIGF2YWlsYWJsZSAqL1xuICB2YXIgdXNlZCA9IDA7IC8qIGNvZGUgZW50cmllcyBpbiB0YWJsZSB1c2VkICovXG4gIHZhciBodWZmID0gMDsgLyogSHVmZm1hbiBjb2RlICovXG4gIHZhciBpbmNyOyAvKiBmb3IgaW5jcmVtZW50aW5nIGNvZGUsIGluZGV4ICovXG4gIHZhciBmaWxsOyAvKiBpbmRleCBmb3IgcmVwbGljYXRpbmcgZW50cmllcyAqL1xuICB2YXIgbG93OyAvKiBsb3cgYml0cyBmb3IgY3VycmVudCByb290IGVudHJ5ICovXG4gIHZhciBtYXNrOyAvKiBtYXNrIGZvciBsb3cgcm9vdCBiaXRzICovXG4gIHZhciBuZXh0OyAvKiBuZXh0IGF2YWlsYWJsZSBzcGFjZSBpbiB0YWJsZSAqL1xuICB2YXIgYmFzZSA9IG51bGw7IC8qIGJhc2UgdmFsdWUgdGFibGUgdG8gdXNlICovXG4gIHZhciBiYXNlX2luZGV4ID0gMDtcbiAgLy8gIHZhciBzaG9leHRyYTsgICAgLyogZXh0cmEgYml0cyB0YWJsZSB0byB1c2UgKi9cbiAgdmFyIGVuZDsgLyogdXNlIGJhc2UgYW5kIGV4dHJhIGZvciBzeW1ib2wgPiBlbmQgKi9cbiAgdmFyIGNvdW50ID0gbmV3IEJ1ZjE2KE1BWEJJVFMgKyAxKTsgLy9bTUFYQklUUysxXTsgICAgLyogbnVtYmVyIG9mIGNvZGVzIG9mIGVhY2ggbGVuZ3RoICovXG4gIHZhciBvZmZzID0gbmV3IEJ1ZjE2KE1BWEJJVFMgKyAxKTsgLy9bTUFYQklUUysxXTsgICAgIC8qIG9mZnNldHMgaW4gdGFibGUgZm9yIGVhY2ggbGVuZ3RoICovXG4gIHZhciBleHRyYSA9IG51bGw7XG4gIHZhciBleHRyYV9pbmRleCA9IDA7XG5cbiAgdmFyIGhlcmVfYml0cywgaGVyZV9vcCwgaGVyZV92YWw7XG5cbiAgLypcbiAgIFByb2Nlc3MgYSBzZXQgb2YgY29kZSBsZW5ndGhzIHRvIGNyZWF0ZSBhIGNhbm9uaWNhbCBIdWZmbWFuIGNvZGUuICBUaGVcbiAgIGNvZGUgbGVuZ3RocyBhcmUgbGVuc1swLi5jb2Rlcy0xXS4gIEVhY2ggbGVuZ3RoIGNvcnJlc3BvbmRzIHRvIHRoZVxuICAgc3ltYm9scyAwLi5jb2Rlcy0xLiAgVGhlIEh1ZmZtYW4gY29kZSBpcyBnZW5lcmF0ZWQgYnkgZmlyc3Qgc29ydGluZyB0aGVcbiAgIHN5bWJvbHMgYnkgbGVuZ3RoIGZyb20gc2hvcnQgdG8gbG9uZywgYW5kIHJldGFpbmluZyB0aGUgc3ltYm9sIG9yZGVyXG4gICBmb3IgY29kZXMgd2l0aCBlcXVhbCBsZW5ndGhzLiAgVGhlbiB0aGUgY29kZSBzdGFydHMgd2l0aCBhbGwgemVybyBiaXRzXG4gICBmb3IgdGhlIGZpcnN0IGNvZGUgb2YgdGhlIHNob3J0ZXN0IGxlbmd0aCwgYW5kIHRoZSBjb2RlcyBhcmUgaW50ZWdlclxuICAgaW5jcmVtZW50cyBmb3IgdGhlIHNhbWUgbGVuZ3RoLCBhbmQgemVyb3MgYXJlIGFwcGVuZGVkIGFzIHRoZSBsZW5ndGhcbiAgIGluY3JlYXNlcy4gIEZvciB0aGUgZGVmbGF0ZSBmb3JtYXQsIHRoZXNlIGJpdHMgYXJlIHN0b3JlZCBiYWNrd2FyZHNcbiAgIGZyb20gdGhlaXIgbW9yZSBuYXR1cmFsIGludGVnZXIgaW5jcmVtZW50IG9yZGVyaW5nLCBhbmQgc28gd2hlbiB0aGVcbiAgIGRlY29kaW5nIHRhYmxlcyBhcmUgYnVpbHQgaW4gdGhlIGxhcmdlIGxvb3AgYmVsb3csIHRoZSBpbnRlZ2VyIGNvZGVzXG4gICBhcmUgaW5jcmVtZW50ZWQgYmFja3dhcmRzLlxuXG4gICBUaGlzIHJvdXRpbmUgYXNzdW1lcywgYnV0IGRvZXMgbm90IGNoZWNrLCB0aGF0IGFsbCBvZiB0aGUgZW50cmllcyBpblxuICAgbGVuc1tdIGFyZSBpbiB0aGUgcmFuZ2UgMC4uTUFYQklUUy4gIFRoZSBjYWxsZXIgbXVzdCBhc3N1cmUgdGhpcy5cbiAgIDEuLk1BWEJJVFMgaXMgaW50ZXJwcmV0ZWQgYXMgdGhhdCBjb2RlIGxlbmd0aC4gIHplcm8gbWVhbnMgdGhhdCB0aGF0XG4gICBzeW1ib2wgZG9lcyBub3Qgb2NjdXIgaW4gdGhpcyBjb2RlLlxuXG4gICBUaGUgY29kZXMgYXJlIHNvcnRlZCBieSBjb21wdXRpbmcgYSBjb3VudCBvZiBjb2RlcyBmb3IgZWFjaCBsZW5ndGgsXG4gICBjcmVhdGluZyBmcm9tIHRoYXQgYSB0YWJsZSBvZiBzdGFydGluZyBpbmRpY2VzIGZvciBlYWNoIGxlbmd0aCBpbiB0aGVcbiAgIHNvcnRlZCB0YWJsZSwgYW5kIHRoZW4gZW50ZXJpbmcgdGhlIHN5bWJvbHMgaW4gb3JkZXIgaW4gdGhlIHNvcnRlZFxuICAgdGFibGUuICBUaGUgc29ydGVkIHRhYmxlIGlzIHdvcmtbXSwgd2l0aCB0aGF0IHNwYWNlIGJlaW5nIHByb3ZpZGVkIGJ5XG4gICB0aGUgY2FsbGVyLlxuXG4gICBUaGUgbGVuZ3RoIGNvdW50cyBhcmUgdXNlZCBmb3Igb3RoZXIgcHVycG9zZXMgYXMgd2VsbCwgaS5lLiBmaW5kaW5nXG4gICB0aGUgbWluaW11bSBhbmQgbWF4aW11bSBsZW5ndGggY29kZXMsIGRldGVybWluaW5nIGlmIHRoZXJlIGFyZSBhbnlcbiAgIGNvZGVzIGF0IGFsbCwgY2hlY2tpbmcgZm9yIGEgdmFsaWQgc2V0IG9mIGxlbmd0aHMsIGFuZCBsb29raW5nIGFoZWFkXG4gICBhdCBsZW5ndGggY291bnRzIHRvIGRldGVybWluZSBzdWItdGFibGUgc2l6ZXMgd2hlbiBidWlsZGluZyB0aGVcbiAgIGRlY29kaW5nIHRhYmxlcy5cbiAgICovXG5cbiAgLyogYWNjdW11bGF0ZSBsZW5ndGhzIGZvciBjb2RlcyAoYXNzdW1lcyBsZW5zW10gYWxsIGluIDAuLk1BWEJJVFMpICovXG4gIGZvciAobGVuID0gMDsgbGVuIDw9IE1BWEJJVFM7IGxlbisrKSB7XG4gICAgY291bnRbbGVuXSA9IDA7XG4gIH1cbiAgZm9yIChzeW0gPSAwOyBzeW0gPCBjb2Rlczsgc3ltKyspIHtcbiAgICBjb3VudFtsZW5zW2xlbnNfaW5kZXggKyBzeW1dXSsrO1xuICB9XG5cbiAgLyogYm91bmQgY29kZSBsZW5ndGhzLCBmb3JjZSByb290IHRvIGJlIHdpdGhpbiBjb2RlIGxlbmd0aHMgKi9cbiAgcm9vdCA9IGJpdHM7XG4gIGZvciAobWF4ID0gTUFYQklUUzsgbWF4ID49IDE7IG1heC0tKSB7XG4gICAgaWYgKGNvdW50W21heF0gIT09IDApIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBpZiAocm9vdCA+IG1heCkge1xuICAgIHJvb3QgPSBtYXg7XG4gIH1cbiAgaWYgKG1heCA9PT0gMCkgeyAvKiBubyBzeW1ib2xzIHRvIGNvZGUgYXQgYWxsICovXG4gICAgLy90YWJsZS5vcFtvcHRzLnRhYmxlX2luZGV4XSA9IDY0OyAgLy9oZXJlLm9wID0gKHZhciBjaGFyKTY0OyAgICAvKiBpbnZhbGlkIGNvZGUgbWFya2VyICovXG4gICAgLy90YWJsZS5iaXRzW29wdHMudGFibGVfaW5kZXhdID0gMTsgICAvL2hlcmUuYml0cyA9ICh2YXIgY2hhcikxO1xuICAgIC8vdGFibGUudmFsW29wdHMudGFibGVfaW5kZXgrK10gPSAwOyAgIC8vaGVyZS52YWwgPSAodmFyIHNob3J0KTA7XG4gICAgdGFibGVbdGFibGVfaW5kZXgrK10gPSAoMSA8PCAyNCkgfCAoNjQgPDwgMTYpIHwgMDtcblxuXG4gICAgLy90YWJsZS5vcFtvcHRzLnRhYmxlX2luZGV4XSA9IDY0O1xuICAgIC8vdGFibGUuYml0c1tvcHRzLnRhYmxlX2luZGV4XSA9IDE7XG4gICAgLy90YWJsZS52YWxbb3B0cy50YWJsZV9pbmRleCsrXSA9IDA7XG4gICAgdGFibGVbdGFibGVfaW5kZXgrK10gPSAoMSA8PCAyNCkgfCAoNjQgPDwgMTYpIHwgMDtcblxuICAgIG9wdHMuYml0cyA9IDE7XG4gICAgcmV0dXJuIDA7IC8qIG5vIHN5bWJvbHMsIGJ1dCB3YWl0IGZvciBkZWNvZGluZyB0byByZXBvcnQgZXJyb3IgKi9cbiAgfVxuICBmb3IgKG1pbiA9IDE7IG1pbiA8IG1heDsgbWluKyspIHtcbiAgICBpZiAoY291bnRbbWluXSAhPT0gMCkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIGlmIChyb290IDwgbWluKSB7XG4gICAgcm9vdCA9IG1pbjtcbiAgfVxuXG4gIC8qIGNoZWNrIGZvciBhbiBvdmVyLXN1YnNjcmliZWQgb3IgaW5jb21wbGV0ZSBzZXQgb2YgbGVuZ3RocyAqL1xuICBsZWZ0ID0gMTtcbiAgZm9yIChsZW4gPSAxOyBsZW4gPD0gTUFYQklUUzsgbGVuKyspIHtcbiAgICBsZWZ0IDw8PSAxO1xuICAgIGxlZnQgLT0gY291bnRbbGVuXTtcbiAgICBpZiAobGVmdCA8IDApIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9IC8qIG92ZXItc3Vic2NyaWJlZCAqL1xuICB9XG4gIGlmIChsZWZ0ID4gMCAmJiAodHlwZSA9PT0gQ09ERVMgfHwgbWF4ICE9PSAxKSkge1xuICAgIHJldHVybiAtMTsgLyogaW5jb21wbGV0ZSBzZXQgKi9cbiAgfVxuXG4gIC8qIGdlbmVyYXRlIG9mZnNldHMgaW50byBzeW1ib2wgdGFibGUgZm9yIGVhY2ggbGVuZ3RoIGZvciBzb3J0aW5nICovXG4gIG9mZnNbMV0gPSAwO1xuICBmb3IgKGxlbiA9IDE7IGxlbiA8IE1BWEJJVFM7IGxlbisrKSB7XG4gICAgb2Zmc1tsZW4gKyAxXSA9IG9mZnNbbGVuXSArIGNvdW50W2xlbl07XG4gIH1cblxuICAvKiBzb3J0IHN5bWJvbHMgYnkgbGVuZ3RoLCBieSBzeW1ib2wgb3JkZXIgd2l0aGluIGVhY2ggbGVuZ3RoICovXG4gIGZvciAoc3ltID0gMDsgc3ltIDwgY29kZXM7IHN5bSsrKSB7XG4gICAgaWYgKGxlbnNbbGVuc19pbmRleCArIHN5bV0gIT09IDApIHtcbiAgICAgIHdvcmtbb2Zmc1tsZW5zW2xlbnNfaW5kZXggKyBzeW1dXSsrXSA9IHN5bTtcbiAgICB9XG4gIH1cblxuICAvKlxuICAgQ3JlYXRlIGFuZCBmaWxsIGluIGRlY29kaW5nIHRhYmxlcy4gIEluIHRoaXMgbG9vcCwgdGhlIHRhYmxlIGJlaW5nXG4gICBmaWxsZWQgaXMgYXQgbmV4dCBhbmQgaGFzIGN1cnIgaW5kZXggYml0cy4gIFRoZSBjb2RlIGJlaW5nIHVzZWQgaXMgaHVmZlxuICAgd2l0aCBsZW5ndGggbGVuLiAgVGhhdCBjb2RlIGlzIGNvbnZlcnRlZCB0byBhbiBpbmRleCBieSBkcm9wcGluZyBkcm9wXG4gICBiaXRzIG9mZiBvZiB0aGUgYm90dG9tLiAgRm9yIGNvZGVzIHdoZXJlIGxlbiBpcyBsZXNzIHRoYW4gZHJvcCArIGN1cnIsXG4gICB0aG9zZSB0b3AgZHJvcCArIGN1cnIgLSBsZW4gYml0cyBhcmUgaW5jcmVtZW50ZWQgdGhyb3VnaCBhbGwgdmFsdWVzIHRvXG4gICBmaWxsIHRoZSB0YWJsZSB3aXRoIHJlcGxpY2F0ZWQgZW50cmllcy5cblxuICAgcm9vdCBpcyB0aGUgbnVtYmVyIG9mIGluZGV4IGJpdHMgZm9yIHRoZSByb290IHRhYmxlLiAgV2hlbiBsZW4gZXhjZWVkc1xuICAgcm9vdCwgc3ViLXRhYmxlcyBhcmUgY3JlYXRlZCBwb2ludGVkIHRvIGJ5IHRoZSByb290IGVudHJ5IHdpdGggYW4gaW5kZXhcbiAgIG9mIHRoZSBsb3cgcm9vdCBiaXRzIG9mIGh1ZmYuICBUaGlzIGlzIHNhdmVkIGluIGxvdyB0byBjaGVjayBmb3Igd2hlbiBhXG4gICBuZXcgc3ViLXRhYmxlIHNob3VsZCBiZSBzdGFydGVkLiAgZHJvcCBpcyB6ZXJvIHdoZW4gdGhlIHJvb3QgdGFibGUgaXNcbiAgIGJlaW5nIGZpbGxlZCwgYW5kIGRyb3AgaXMgcm9vdCB3aGVuIHN1Yi10YWJsZXMgYXJlIGJlaW5nIGZpbGxlZC5cblxuICAgV2hlbiBhIG5ldyBzdWItdGFibGUgaXMgbmVlZGVkLCBpdCBpcyBuZWNlc3NhcnkgdG8gbG9vayBhaGVhZCBpbiB0aGVcbiAgIGNvZGUgbGVuZ3RocyB0byBkZXRlcm1pbmUgd2hhdCBzaXplIHN1Yi10YWJsZSBpcyBuZWVkZWQuICBUaGUgbGVuZ3RoXG4gICBjb3VudHMgYXJlIHVzZWQgZm9yIHRoaXMsIGFuZCBzbyBjb3VudFtdIGlzIGRlY3JlbWVudGVkIGFzIGNvZGVzIGFyZVxuICAgZW50ZXJlZCBpbiB0aGUgdGFibGVzLlxuXG4gICB1c2VkIGtlZXBzIHRyYWNrIG9mIGhvdyBtYW55IHRhYmxlIGVudHJpZXMgaGF2ZSBiZWVuIGFsbG9jYXRlZCBmcm9tIHRoZVxuICAgcHJvdmlkZWQgKnRhYmxlIHNwYWNlLiAgSXQgaXMgY2hlY2tlZCBmb3IgTEVOUyBhbmQgRElTVCB0YWJsZXMgYWdhaW5zdFxuICAgdGhlIGNvbnN0YW50cyBFTk9VR0hfTEVOUyBhbmQgRU5PVUdIX0RJU1RTIHRvIGd1YXJkIGFnYWluc3QgY2hhbmdlcyBpblxuICAgdGhlIGluaXRpYWwgcm9vdCB0YWJsZSBzaXplIGNvbnN0YW50cy4gIFNlZSB0aGUgY29tbWVudHMgaW4gaW5mdHJlZXMuaFxuICAgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG5cbiAgIHN5bSBpbmNyZW1lbnRzIHRocm91Z2ggYWxsIHN5bWJvbHMsIGFuZCB0aGUgbG9vcCB0ZXJtaW5hdGVzIHdoZW5cbiAgIGFsbCBjb2RlcyBvZiBsZW5ndGggbWF4LCBpLmUuIGFsbCBjb2RlcywgaGF2ZSBiZWVuIHByb2Nlc3NlZC4gIFRoaXNcbiAgIHJvdXRpbmUgcGVybWl0cyBpbmNvbXBsZXRlIGNvZGVzLCBzbyBhbm90aGVyIGxvb3AgYWZ0ZXIgdGhpcyBvbmUgZmlsbHNcbiAgIGluIHRoZSByZXN0IG9mIHRoZSBkZWNvZGluZyB0YWJsZXMgd2l0aCBpbnZhbGlkIGNvZGUgbWFya2Vycy5cbiAgICovXG5cbiAgLyogc2V0IHVwIGZvciBjb2RlIHR5cGUgKi9cbiAgLy8gcG9vciBtYW4gb3B0aW1pemF0aW9uIC0gdXNlIGlmLWVsc2UgaW5zdGVhZCBvZiBzd2l0Y2gsXG4gIC8vIHRvIGF2b2lkIGRlb3B0cyBpbiBvbGQgdjhcbiAgaWYgKHR5cGUgPT09IENPREVTKSB7XG4gICAgYmFzZSA9IGV4dHJhID0gd29yazsgLyogZHVtbXkgdmFsdWUtLW5vdCB1c2VkICovXG4gICAgZW5kID0gMTk7XG5cbiAgfSBlbHNlIGlmICh0eXBlID09PSBMRU5TKSB7XG4gICAgYmFzZSA9IGxiYXNlO1xuICAgIGJhc2VfaW5kZXggLT0gMjU3O1xuICAgIGV4dHJhID0gbGV4dDtcbiAgICBleHRyYV9pbmRleCAtPSAyNTc7XG4gICAgZW5kID0gMjU2O1xuXG4gIH0gZWxzZSB7IC8qIERJU1RTICovXG4gICAgYmFzZSA9IGRiYXNlO1xuICAgIGV4dHJhID0gZGV4dDtcbiAgICBlbmQgPSAtMTtcbiAgfVxuXG4gIC8qIGluaXRpYWxpemUgb3B0cyBmb3IgbG9vcCAqL1xuICBodWZmID0gMDsgLyogc3RhcnRpbmcgY29kZSAqL1xuICBzeW0gPSAwOyAvKiBzdGFydGluZyBjb2RlIHN5bWJvbCAqL1xuICBsZW4gPSBtaW47IC8qIHN0YXJ0aW5nIGNvZGUgbGVuZ3RoICovXG4gIG5leHQgPSB0YWJsZV9pbmRleDsgLyogY3VycmVudCB0YWJsZSB0byBmaWxsIGluICovXG4gIGN1cnIgPSByb290OyAvKiBjdXJyZW50IHRhYmxlIGluZGV4IGJpdHMgKi9cbiAgZHJvcCA9IDA7IC8qIGN1cnJlbnQgYml0cyB0byBkcm9wIGZyb20gY29kZSBmb3IgaW5kZXggKi9cbiAgbG93ID0gLTE7IC8qIHRyaWdnZXIgbmV3IHN1Yi10YWJsZSB3aGVuIGxlbiA+IHJvb3QgKi9cbiAgdXNlZCA9IDEgPDwgcm9vdDsgLyogdXNlIHJvb3QgdGFibGUgZW50cmllcyAqL1xuICBtYXNrID0gdXNlZCAtIDE7IC8qIG1hc2sgZm9yIGNvbXBhcmluZyBsb3cgKi9cblxuICAvKiBjaGVjayBhdmFpbGFibGUgdGFibGUgc3BhY2UgKi9cbiAgaWYgKCh0eXBlID09PSBMRU5TICYmIHVzZWQgPiBFTk9VR0hfTEVOUykgfHxcbiAgICAodHlwZSA9PT0gRElTVFMgJiYgdXNlZCA+IEVOT1VHSF9ESVNUUykpIHtcbiAgICByZXR1cm4gMTtcbiAgfVxuXG4gIHZhciBpID0gMDtcbiAgLyogcHJvY2VzcyBhbGwgY29kZXMgYW5kIG1ha2UgdGFibGUgZW50cmllcyAqL1xuICBmb3IgKDs7KSB7XG4gICAgaSsrO1xuICAgIC8qIGNyZWF0ZSB0YWJsZSBlbnRyeSAqL1xuICAgIGhlcmVfYml0cyA9IGxlbiAtIGRyb3A7XG4gICAgaWYgKHdvcmtbc3ltXSA8IGVuZCkge1xuICAgICAgaGVyZV9vcCA9IDA7XG4gICAgICBoZXJlX3ZhbCA9IHdvcmtbc3ltXTtcbiAgICB9IGVsc2UgaWYgKHdvcmtbc3ltXSA+IGVuZCkge1xuICAgICAgaGVyZV9vcCA9IGV4dHJhW2V4dHJhX2luZGV4ICsgd29ya1tzeW1dXTtcbiAgICAgIGhlcmVfdmFsID0gYmFzZVtiYXNlX2luZGV4ICsgd29ya1tzeW1dXTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGVyZV9vcCA9IDMyICsgNjQ7IC8qIGVuZCBvZiBibG9jayAqL1xuICAgICAgaGVyZV92YWwgPSAwO1xuICAgIH1cblxuICAgIC8qIHJlcGxpY2F0ZSBmb3IgdGhvc2UgaW5kaWNlcyB3aXRoIGxvdyBsZW4gYml0cyBlcXVhbCB0byBodWZmICovXG4gICAgaW5jciA9IDEgPDwgKGxlbiAtIGRyb3ApO1xuICAgIGZpbGwgPSAxIDw8IGN1cnI7XG4gICAgbWluID0gZmlsbDsgLyogc2F2ZSBvZmZzZXQgdG8gbmV4dCB0YWJsZSAqL1xuICAgIGRvIHtcbiAgICAgIGZpbGwgLT0gaW5jcjtcbiAgICAgIHRhYmxlW25leHQgKyAoaHVmZiA+PiBkcm9wKSArIGZpbGxdID0gKGhlcmVfYml0cyA8PCAyNCkgfCAoaGVyZV9vcCA8PCAxNikgfCBoZXJlX3ZhbCB8IDA7XG4gICAgfSB3aGlsZSAoZmlsbCAhPT0gMCk7XG5cbiAgICAvKiBiYWNrd2FyZHMgaW5jcmVtZW50IHRoZSBsZW4tYml0IGNvZGUgaHVmZiAqL1xuICAgIGluY3IgPSAxIDw8IChsZW4gLSAxKTtcbiAgICB3aGlsZSAoaHVmZiAmIGluY3IpIHtcbiAgICAgIGluY3IgPj49IDE7XG4gICAgfVxuICAgIGlmIChpbmNyICE9PSAwKSB7XG4gICAgICBodWZmICY9IGluY3IgLSAxO1xuICAgICAgaHVmZiArPSBpbmNyO1xuICAgIH0gZWxzZSB7XG4gICAgICBodWZmID0gMDtcbiAgICB9XG5cbiAgICAvKiBnbyB0byBuZXh0IHN5bWJvbCwgdXBkYXRlIGNvdW50LCBsZW4gKi9cbiAgICBzeW0rKztcbiAgICBpZiAoLS1jb3VudFtsZW5dID09PSAwKSB7XG4gICAgICBpZiAobGVuID09PSBtYXgpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBsZW4gPSBsZW5zW2xlbnNfaW5kZXggKyB3b3JrW3N5bV1dO1xuICAgIH1cblxuICAgIC8qIGNyZWF0ZSBuZXcgc3ViLXRhYmxlIGlmIG5lZWRlZCAqL1xuICAgIGlmIChsZW4gPiByb290ICYmIChodWZmICYgbWFzaykgIT09IGxvdykge1xuICAgICAgLyogaWYgZmlyc3QgdGltZSwgdHJhbnNpdGlvbiB0byBzdWItdGFibGVzICovXG4gICAgICBpZiAoZHJvcCA9PT0gMCkge1xuICAgICAgICBkcm9wID0gcm9vdDtcbiAgICAgIH1cblxuICAgICAgLyogaW5jcmVtZW50IHBhc3QgbGFzdCB0YWJsZSAqL1xuICAgICAgbmV4dCArPSBtaW47IC8qIGhlcmUgbWluIGlzIDEgPDwgY3VyciAqL1xuXG4gICAgICAvKiBkZXRlcm1pbmUgbGVuZ3RoIG9mIG5leHQgdGFibGUgKi9cbiAgICAgIGN1cnIgPSBsZW4gLSBkcm9wO1xuICAgICAgbGVmdCA9IDEgPDwgY3VycjtcbiAgICAgIHdoaWxlIChjdXJyICsgZHJvcCA8IG1heCkge1xuICAgICAgICBsZWZ0IC09IGNvdW50W2N1cnIgKyBkcm9wXTtcbiAgICAgICAgaWYgKGxlZnQgPD0gMCkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGN1cnIrKztcbiAgICAgICAgbGVmdCA8PD0gMTtcbiAgICAgIH1cblxuICAgICAgLyogY2hlY2sgZm9yIGVub3VnaCBzcGFjZSAqL1xuICAgICAgdXNlZCArPSAxIDw8IGN1cnI7XG4gICAgICBpZiAoKHR5cGUgPT09IExFTlMgJiYgdXNlZCA+IEVOT1VHSF9MRU5TKSB8fFxuICAgICAgICAodHlwZSA9PT0gRElTVFMgJiYgdXNlZCA+IEVOT1VHSF9ESVNUUykpIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICB9XG5cbiAgICAgIC8qIHBvaW50IGVudHJ5IGluIHJvb3QgdGFibGUgdG8gc3ViLXRhYmxlICovXG4gICAgICBsb3cgPSBodWZmICYgbWFzaztcbiAgICAgIC8qdGFibGUub3BbbG93XSA9IGN1cnI7XG4gICAgICB0YWJsZS5iaXRzW2xvd10gPSByb290O1xuICAgICAgdGFibGUudmFsW2xvd10gPSBuZXh0IC0gb3B0cy50YWJsZV9pbmRleDsqL1xuICAgICAgdGFibGVbbG93XSA9IChyb290IDw8IDI0KSB8IChjdXJyIDw8IDE2KSB8IChuZXh0IC0gdGFibGVfaW5kZXgpIHwgMDtcbiAgICB9XG4gIH1cblxuICAvKiBmaWxsIGluIHJlbWFpbmluZyB0YWJsZSBlbnRyeSBpZiBjb2RlIGlzIGluY29tcGxldGUgKGd1YXJhbnRlZWQgdG8gaGF2ZVxuICAgYXQgbW9zdCBvbmUgcmVtYWluaW5nIGVudHJ5LCBzaW5jZSBpZiB0aGUgY29kZSBpcyBpbmNvbXBsZXRlLCB0aGVcbiAgIG1heGltdW0gY29kZSBsZW5ndGggdGhhdCB3YXMgYWxsb3dlZCB0byBnZXQgdGhpcyBmYXIgaXMgb25lIGJpdCkgKi9cbiAgaWYgKGh1ZmYgIT09IDApIHtcbiAgICAvL3RhYmxlLm9wW25leHQgKyBodWZmXSA9IDY0OyAgICAgICAgICAgIC8qIGludmFsaWQgY29kZSBtYXJrZXIgKi9cbiAgICAvL3RhYmxlLmJpdHNbbmV4dCArIGh1ZmZdID0gbGVuIC0gZHJvcDtcbiAgICAvL3RhYmxlLnZhbFtuZXh0ICsgaHVmZl0gPSAwO1xuICAgIHRhYmxlW25leHQgKyBodWZmXSA9ICgobGVuIC0gZHJvcCkgPDwgMjQpIHwgKDY0IDw8IDE2KSB8IDA7XG4gIH1cblxuICAvKiBzZXQgcmV0dXJuIHBhcmFtZXRlcnMgKi9cbiAgLy9vcHRzLnRhYmxlX2luZGV4ICs9IHVzZWQ7XG4gIG9wdHMuYml0cyA9IHJvb3Q7XG4gIHJldHVybiAwO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7QnVmOCxCdWYxNixCdWYzMixhcnJheVNldH0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgYWRsZXIzMiBmcm9tICcuL2FkbGVyMzInO1xuaW1wb3J0IGNyYzMyIGZyb20gJy4vY3JjMzInO1xuaW1wb3J0IGluZmxhdGVfZmFzdCBmcm9tICcuL2luZmZhc3QnO1xuaW1wb3J0IGluZmxhdGVfdGFibGUgZnJvbSAnLi9pbmZ0cmVlcyc7XG5cbnZhciBDT0RFUyA9IDA7XG52YXIgTEVOUyA9IDE7XG52YXIgRElTVFMgPSAyO1xuXG4vKiBQdWJsaWMgY29uc3RhbnRzID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuXG4vKiBBbGxvd2VkIGZsdXNoIHZhbHVlczsgc2VlIGRlZmxhdGUoKSBhbmQgaW5mbGF0ZSgpIGJlbG93IGZvciBkZXRhaWxzICovXG4vL3ZhciBaX05PX0ZMVVNIICAgICAgPSAwO1xuLy92YXIgWl9QQVJUSUFMX0ZMVVNIID0gMTtcbi8vdmFyIFpfU1lOQ19GTFVTSCAgICA9IDI7XG4vL3ZhciBaX0ZVTExfRkxVU0ggICAgPSAzO1xudmFyIFpfRklOSVNIID0gNDtcbnZhciBaX0JMT0NLID0gNTtcbnZhciBaX1RSRUVTID0gNjtcblxuXG4vKiBSZXR1cm4gY29kZXMgZm9yIHRoZSBjb21wcmVzc2lvbi9kZWNvbXByZXNzaW9uIGZ1bmN0aW9ucy4gTmVnYXRpdmUgdmFsdWVzXG4gKiBhcmUgZXJyb3JzLCBwb3NpdGl2ZSB2YWx1ZXMgYXJlIHVzZWQgZm9yIHNwZWNpYWwgYnV0IG5vcm1hbCBldmVudHMuXG4gKi9cbnZhciBaX09LID0gMDtcbnZhciBaX1NUUkVBTV9FTkQgPSAxO1xudmFyIFpfTkVFRF9ESUNUID0gMjtcbi8vdmFyIFpfRVJSTk8gICAgICAgICA9IC0xO1xudmFyIFpfU1RSRUFNX0VSUk9SID0gLTI7XG52YXIgWl9EQVRBX0VSUk9SID0gLTM7XG52YXIgWl9NRU1fRVJST1IgPSAtNDtcbnZhciBaX0JVRl9FUlJPUiA9IC01O1xuLy92YXIgWl9WRVJTSU9OX0VSUk9SID0gLTY7XG5cbi8qIFRoZSBkZWZsYXRlIGNvbXByZXNzaW9uIG1ldGhvZCAqL1xudmFyIFpfREVGTEFURUQgPSA4O1xuXG5cbi8qIFNUQVRFUyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG5cbnZhciBIRUFEID0gMTsgLyogaTogd2FpdGluZyBmb3IgbWFnaWMgaGVhZGVyICovXG52YXIgRkxBR1MgPSAyOyAvKiBpOiB3YWl0aW5nIGZvciBtZXRob2QgYW5kIGZsYWdzIChnemlwKSAqL1xudmFyIFRJTUUgPSAzOyAvKiBpOiB3YWl0aW5nIGZvciBtb2RpZmljYXRpb24gdGltZSAoZ3ppcCkgKi9cbnZhciBPUyA9IDQ7IC8qIGk6IHdhaXRpbmcgZm9yIGV4dHJhIGZsYWdzIGFuZCBvcGVyYXRpbmcgc3lzdGVtIChnemlwKSAqL1xudmFyIEVYTEVOID0gNTsgLyogaTogd2FpdGluZyBmb3IgZXh0cmEgbGVuZ3RoIChnemlwKSAqL1xudmFyIEVYVFJBID0gNjsgLyogaTogd2FpdGluZyBmb3IgZXh0cmEgYnl0ZXMgKGd6aXApICovXG52YXIgTkFNRSA9IDc7IC8qIGk6IHdhaXRpbmcgZm9yIGVuZCBvZiBmaWxlIG5hbWUgKGd6aXApICovXG52YXIgQ09NTUVOVCA9IDg7IC8qIGk6IHdhaXRpbmcgZm9yIGVuZCBvZiBjb21tZW50IChnemlwKSAqL1xudmFyIEhDUkMgPSA5OyAvKiBpOiB3YWl0aW5nIGZvciBoZWFkZXIgY3JjIChnemlwKSAqL1xudmFyIERJQ1RJRCA9IDEwOyAvKiBpOiB3YWl0aW5nIGZvciBkaWN0aW9uYXJ5IGNoZWNrIHZhbHVlICovXG52YXIgRElDVCA9IDExOyAvKiB3YWl0aW5nIGZvciBpbmZsYXRlU2V0RGljdGlvbmFyeSgpIGNhbGwgKi9cbnZhciBUWVBFID0gMTI7IC8qIGk6IHdhaXRpbmcgZm9yIHR5cGUgYml0cywgaW5jbHVkaW5nIGxhc3QtZmxhZyBiaXQgKi9cbnZhciBUWVBFRE8gPSAxMzsgLyogaTogc2FtZSwgYnV0IHNraXAgY2hlY2sgdG8gZXhpdCBpbmZsYXRlIG9uIG5ldyBibG9jayAqL1xudmFyIFNUT1JFRCA9IDE0OyAvKiBpOiB3YWl0aW5nIGZvciBzdG9yZWQgc2l6ZSAobGVuZ3RoIGFuZCBjb21wbGVtZW50KSAqL1xudmFyIENPUFlfID0gMTU7IC8qIGkvbzogc2FtZSBhcyBDT1BZIGJlbG93LCBidXQgb25seSBmaXJzdCB0aW1lIGluICovXG52YXIgQ09QWSA9IDE2OyAvKiBpL286IHdhaXRpbmcgZm9yIGlucHV0IG9yIG91dHB1dCB0byBjb3B5IHN0b3JlZCBibG9jayAqL1xudmFyIFRBQkxFID0gMTc7IC8qIGk6IHdhaXRpbmcgZm9yIGR5bmFtaWMgYmxvY2sgdGFibGUgbGVuZ3RocyAqL1xudmFyIExFTkxFTlMgPSAxODsgLyogaTogd2FpdGluZyBmb3IgY29kZSBsZW5ndGggY29kZSBsZW5ndGhzICovXG52YXIgQ09ERUxFTlMgPSAxOTsgLyogaTogd2FpdGluZyBmb3IgbGVuZ3RoL2xpdCBhbmQgZGlzdGFuY2UgY29kZSBsZW5ndGhzICovXG52YXIgTEVOXyA9IDIwOyAvKiBpOiBzYW1lIGFzIExFTiBiZWxvdywgYnV0IG9ubHkgZmlyc3QgdGltZSBpbiAqL1xudmFyIExFTiA9IDIxOyAvKiBpOiB3YWl0aW5nIGZvciBsZW5ndGgvbGl0L2VvYiBjb2RlICovXG52YXIgTEVORVhUID0gMjI7IC8qIGk6IHdhaXRpbmcgZm9yIGxlbmd0aCBleHRyYSBiaXRzICovXG52YXIgRElTVCA9IDIzOyAvKiBpOiB3YWl0aW5nIGZvciBkaXN0YW5jZSBjb2RlICovXG52YXIgRElTVEVYVCA9IDI0OyAvKiBpOiB3YWl0aW5nIGZvciBkaXN0YW5jZSBleHRyYSBiaXRzICovXG52YXIgTUFUQ0ggPSAyNTsgLyogbzogd2FpdGluZyBmb3Igb3V0cHV0IHNwYWNlIHRvIGNvcHkgc3RyaW5nICovXG52YXIgTElUID0gMjY7IC8qIG86IHdhaXRpbmcgZm9yIG91dHB1dCBzcGFjZSB0byB3cml0ZSBsaXRlcmFsICovXG52YXIgQ0hFQ0sgPSAyNzsgLyogaTogd2FpdGluZyBmb3IgMzItYml0IGNoZWNrIHZhbHVlICovXG52YXIgTEVOR1RIID0gMjg7IC8qIGk6IHdhaXRpbmcgZm9yIDMyLWJpdCBsZW5ndGggKGd6aXApICovXG52YXIgRE9ORSA9IDI5OyAvKiBmaW5pc2hlZCBjaGVjaywgZG9uZSAtLSByZW1haW4gaGVyZSB1bnRpbCByZXNldCAqL1xudmFyIEJBRCA9IDMwOyAvKiBnb3QgYSBkYXRhIGVycm9yIC0tIHJlbWFpbiBoZXJlIHVudGlsIHJlc2V0ICovXG52YXIgTUVNID0gMzE7IC8qIGdvdCBhbiBpbmZsYXRlKCkgbWVtb3J5IGVycm9yIC0tIHJlbWFpbiBoZXJlIHVudGlsIHJlc2V0ICovXG52YXIgU1lOQyA9IDMyOyAvKiBsb29raW5nIGZvciBzeW5jaHJvbml6YXRpb24gYnl0ZXMgdG8gcmVzdGFydCBpbmZsYXRlKCkgKi9cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuXG5cbnZhciBFTk9VR0hfTEVOUyA9IDg1MjtcbnZhciBFTk9VR0hfRElTVFMgPSA1OTI7XG4vL3ZhciBFTk9VR0ggPSAgKEVOT1VHSF9MRU5TK0VOT1VHSF9ESVNUUyk7XG5cbnZhciBNQVhfV0JJVFMgPSAxNTtcbi8qIDMySyBMWjc3IHdpbmRvdyAqL1xudmFyIERFRl9XQklUUyA9IE1BWF9XQklUUztcblxuXG5mdW5jdGlvbiB6c3dhcDMyKHEpIHtcbiAgcmV0dXJuICgoKHEgPj4+IDI0KSAmIDB4ZmYpICtcbiAgICAoKHEgPj4+IDgpICYgMHhmZjAwKSArXG4gICAgKChxICYgMHhmZjAwKSA8PCA4KSArXG4gICAgKChxICYgMHhmZikgPDwgMjQpKTtcbn1cblxuXG5mdW5jdGlvbiBJbmZsYXRlU3RhdGUoKSB7XG4gIHRoaXMubW9kZSA9IDA7IC8qIGN1cnJlbnQgaW5mbGF0ZSBtb2RlICovXG4gIHRoaXMubGFzdCA9IGZhbHNlOyAvKiB0cnVlIGlmIHByb2Nlc3NpbmcgbGFzdCBibG9jayAqL1xuICB0aGlzLndyYXAgPSAwOyAvKiBiaXQgMCB0cnVlIGZvciB6bGliLCBiaXQgMSB0cnVlIGZvciBnemlwICovXG4gIHRoaXMuaGF2ZWRpY3QgPSBmYWxzZTsgLyogdHJ1ZSBpZiBkaWN0aW9uYXJ5IHByb3ZpZGVkICovXG4gIHRoaXMuZmxhZ3MgPSAwOyAvKiBnemlwIGhlYWRlciBtZXRob2QgYW5kIGZsYWdzICgwIGlmIHpsaWIpICovXG4gIHRoaXMuZG1heCA9IDA7IC8qIHpsaWIgaGVhZGVyIG1heCBkaXN0YW5jZSAoSU5GTEFURV9TVFJJQ1QpICovXG4gIHRoaXMuY2hlY2sgPSAwOyAvKiBwcm90ZWN0ZWQgY29weSBvZiBjaGVjayB2YWx1ZSAqL1xuICB0aGlzLnRvdGFsID0gMDsgLyogcHJvdGVjdGVkIGNvcHkgb2Ygb3V0cHV0IGNvdW50ICovXG4gIC8vIFRPRE86IG1heSBiZSB7fVxuICB0aGlzLmhlYWQgPSBudWxsOyAvKiB3aGVyZSB0byBzYXZlIGd6aXAgaGVhZGVyIGluZm9ybWF0aW9uICovXG5cbiAgLyogc2xpZGluZyB3aW5kb3cgKi9cbiAgdGhpcy53Yml0cyA9IDA7IC8qIGxvZyBiYXNlIDIgb2YgcmVxdWVzdGVkIHdpbmRvdyBzaXplICovXG4gIHRoaXMud3NpemUgPSAwOyAvKiB3aW5kb3cgc2l6ZSBvciB6ZXJvIGlmIG5vdCB1c2luZyB3aW5kb3cgKi9cbiAgdGhpcy53aGF2ZSA9IDA7IC8qIHZhbGlkIGJ5dGVzIGluIHRoZSB3aW5kb3cgKi9cbiAgdGhpcy53bmV4dCA9IDA7IC8qIHdpbmRvdyB3cml0ZSBpbmRleCAqL1xuICB0aGlzLndpbmRvdyA9IG51bGw7IC8qIGFsbG9jYXRlZCBzbGlkaW5nIHdpbmRvdywgaWYgbmVlZGVkICovXG5cbiAgLyogYml0IGFjY3VtdWxhdG9yICovXG4gIHRoaXMuaG9sZCA9IDA7IC8qIGlucHV0IGJpdCBhY2N1bXVsYXRvciAqL1xuICB0aGlzLmJpdHMgPSAwOyAvKiBudW1iZXIgb2YgYml0cyBpbiBcImluXCIgKi9cblxuICAvKiBmb3Igc3RyaW5nIGFuZCBzdG9yZWQgYmxvY2sgY29weWluZyAqL1xuICB0aGlzLmxlbmd0aCA9IDA7IC8qIGxpdGVyYWwgb3IgbGVuZ3RoIG9mIGRhdGEgdG8gY29weSAqL1xuICB0aGlzLm9mZnNldCA9IDA7IC8qIGRpc3RhbmNlIGJhY2sgdG8gY29weSBzdHJpbmcgZnJvbSAqL1xuXG4gIC8qIGZvciB0YWJsZSBhbmQgY29kZSBkZWNvZGluZyAqL1xuICB0aGlzLmV4dHJhID0gMDsgLyogZXh0cmEgYml0cyBuZWVkZWQgKi9cblxuICAvKiBmaXhlZCBhbmQgZHluYW1pYyBjb2RlIHRhYmxlcyAqL1xuICB0aGlzLmxlbmNvZGUgPSBudWxsOyAvKiBzdGFydGluZyB0YWJsZSBmb3IgbGVuZ3RoL2xpdGVyYWwgY29kZXMgKi9cbiAgdGhpcy5kaXN0Y29kZSA9IG51bGw7IC8qIHN0YXJ0aW5nIHRhYmxlIGZvciBkaXN0YW5jZSBjb2RlcyAqL1xuICB0aGlzLmxlbmJpdHMgPSAwOyAvKiBpbmRleCBiaXRzIGZvciBsZW5jb2RlICovXG4gIHRoaXMuZGlzdGJpdHMgPSAwOyAvKiBpbmRleCBiaXRzIGZvciBkaXN0Y29kZSAqL1xuXG4gIC8qIGR5bmFtaWMgdGFibGUgYnVpbGRpbmcgKi9cbiAgdGhpcy5uY29kZSA9IDA7IC8qIG51bWJlciBvZiBjb2RlIGxlbmd0aCBjb2RlIGxlbmd0aHMgKi9cbiAgdGhpcy5ubGVuID0gMDsgLyogbnVtYmVyIG9mIGxlbmd0aCBjb2RlIGxlbmd0aHMgKi9cbiAgdGhpcy5uZGlzdCA9IDA7IC8qIG51bWJlciBvZiBkaXN0YW5jZSBjb2RlIGxlbmd0aHMgKi9cbiAgdGhpcy5oYXZlID0gMDsgLyogbnVtYmVyIG9mIGNvZGUgbGVuZ3RocyBpbiBsZW5zW10gKi9cbiAgdGhpcy5uZXh0ID0gbnVsbDsgLyogbmV4dCBhdmFpbGFibGUgc3BhY2UgaW4gY29kZXNbXSAqL1xuXG4gIHRoaXMubGVucyA9IG5ldyBCdWYxNigzMjApOyAvKiB0ZW1wb3Jhcnkgc3RvcmFnZSBmb3IgY29kZSBsZW5ndGhzICovXG4gIHRoaXMud29yayA9IG5ldyBCdWYxNigyODgpOyAvKiB3b3JrIGFyZWEgZm9yIGNvZGUgdGFibGUgYnVpbGRpbmcgKi9cblxuICAvKlxuICAgYmVjYXVzZSB3ZSBkb24ndCBoYXZlIHBvaW50ZXJzIGluIGpzLCB3ZSB1c2UgbGVuY29kZSBhbmQgZGlzdGNvZGUgZGlyZWN0bHlcbiAgIGFzIGJ1ZmZlcnMgc28gd2UgZG9uJ3QgbmVlZCBjb2Rlc1xuICAqL1xuICAvL3RoaXMuY29kZXMgPSBuZXcgQnVmMzIoRU5PVUdIKTsgICAgICAgLyogc3BhY2UgZm9yIGNvZGUgdGFibGVzICovXG4gIHRoaXMubGVuZHluID0gbnVsbDsgLyogZHluYW1pYyB0YWJsZSBmb3IgbGVuZ3RoL2xpdGVyYWwgY29kZXMgKEpTIHNwZWNpZmljKSAqL1xuICB0aGlzLmRpc3RkeW4gPSBudWxsOyAvKiBkeW5hbWljIHRhYmxlIGZvciBkaXN0YW5jZSBjb2RlcyAoSlMgc3BlY2lmaWMpICovXG4gIHRoaXMuc2FuZSA9IDA7IC8qIGlmIGZhbHNlLCBhbGxvdyBpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgKi9cbiAgdGhpcy5iYWNrID0gMDsgLyogYml0cyBiYWNrIG9mIGxhc3QgdW5wcm9jZXNzZWQgbGVuZ3RoL2xpdCAqL1xuICB0aGlzLndhcyA9IDA7IC8qIGluaXRpYWwgbGVuZ3RoIG9mIG1hdGNoICovXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbmZsYXRlUmVzZXRLZWVwKHN0cm0pIHtcbiAgdmFyIHN0YXRlO1xuXG4gIGlmICghc3RybSB8fCAhc3RybS5zdGF0ZSkge1xuICAgIHJldHVybiBaX1NUUkVBTV9FUlJPUjtcbiAgfVxuICBzdGF0ZSA9IHN0cm0uc3RhdGU7XG4gIHN0cm0udG90YWxfaW4gPSBzdHJtLnRvdGFsX291dCA9IHN0YXRlLnRvdGFsID0gMDtcbiAgc3RybS5tc2cgPSAnJzsgLypaX05VTEwqL1xuICBpZiAoc3RhdGUud3JhcCkgeyAvKiB0byBzdXBwb3J0IGlsbC1jb25jZWl2ZWQgSmF2YSB0ZXN0IHN1aXRlICovXG4gICAgc3RybS5hZGxlciA9IHN0YXRlLndyYXAgJiAxO1xuICB9XG4gIHN0YXRlLm1vZGUgPSBIRUFEO1xuICBzdGF0ZS5sYXN0ID0gMDtcbiAgc3RhdGUuaGF2ZWRpY3QgPSAwO1xuICBzdGF0ZS5kbWF4ID0gMzI3Njg7XG4gIHN0YXRlLmhlYWQgPSBudWxsIC8qWl9OVUxMKi8gO1xuICBzdGF0ZS5ob2xkID0gMDtcbiAgc3RhdGUuYml0cyA9IDA7XG4gIC8vc3RhdGUubGVuY29kZSA9IHN0YXRlLmRpc3Rjb2RlID0gc3RhdGUubmV4dCA9IHN0YXRlLmNvZGVzO1xuICBzdGF0ZS5sZW5jb2RlID0gc3RhdGUubGVuZHluID0gbmV3IEJ1ZjMyKEVOT1VHSF9MRU5TKTtcbiAgc3RhdGUuZGlzdGNvZGUgPSBzdGF0ZS5kaXN0ZHluID0gbmV3IEJ1ZjMyKEVOT1VHSF9ESVNUUyk7XG5cbiAgc3RhdGUuc2FuZSA9IDE7XG4gIHN0YXRlLmJhY2sgPSAtMTtcbiAgLy9UcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiByZXNldFxcblwiKSk7XG4gIHJldHVybiBaX09LO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5mbGF0ZVJlc2V0KHN0cm0pIHtcbiAgdmFyIHN0YXRlO1xuXG4gIGlmICghc3RybSB8fCAhc3RybS5zdGF0ZSkge1xuICAgIHJldHVybiBaX1NUUkVBTV9FUlJPUjtcbiAgfVxuICBzdGF0ZSA9IHN0cm0uc3RhdGU7XG4gIHN0YXRlLndzaXplID0gMDtcbiAgc3RhdGUud2hhdmUgPSAwO1xuICBzdGF0ZS53bmV4dCA9IDA7XG4gIHJldHVybiBpbmZsYXRlUmVzZXRLZWVwKHN0cm0pO1xuXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbmZsYXRlUmVzZXQyKHN0cm0sIHdpbmRvd0JpdHMpIHtcbiAgdmFyIHdyYXA7XG4gIHZhciBzdGF0ZTtcblxuICAvKiBnZXQgdGhlIHN0YXRlICovXG4gIGlmICghc3RybSB8fCAhc3RybS5zdGF0ZSkge1xuICAgIHJldHVybiBaX1NUUkVBTV9FUlJPUjtcbiAgfVxuICBzdGF0ZSA9IHN0cm0uc3RhdGU7XG5cbiAgLyogZXh0cmFjdCB3cmFwIHJlcXVlc3QgZnJvbSB3aW5kb3dCaXRzIHBhcmFtZXRlciAqL1xuICBpZiAod2luZG93Qml0cyA8IDApIHtcbiAgICB3cmFwID0gMDtcbiAgICB3aW5kb3dCaXRzID0gLXdpbmRvd0JpdHM7XG4gIH0gZWxzZSB7XG4gICAgd3JhcCA9ICh3aW5kb3dCaXRzID4+IDQpICsgMTtcbiAgICBpZiAod2luZG93Qml0cyA8IDQ4KSB7XG4gICAgICB3aW5kb3dCaXRzICY9IDE1O1xuICAgIH1cbiAgfVxuXG4gIC8qIHNldCBudW1iZXIgb2Ygd2luZG93IGJpdHMsIGZyZWUgd2luZG93IGlmIGRpZmZlcmVudCAqL1xuICBpZiAod2luZG93Qml0cyAmJiAod2luZG93Qml0cyA8IDggfHwgd2luZG93Qml0cyA+IDE1KSkge1xuICAgIHJldHVybiBaX1NUUkVBTV9FUlJPUjtcbiAgfVxuICBpZiAoc3RhdGUud2luZG93ICE9PSBudWxsICYmIHN0YXRlLndiaXRzICE9PSB3aW5kb3dCaXRzKSB7XG4gICAgc3RhdGUud2luZG93ID0gbnVsbDtcbiAgfVxuXG4gIC8qIHVwZGF0ZSBzdGF0ZSBhbmQgcmVzZXQgdGhlIHJlc3Qgb2YgaXQgKi9cbiAgc3RhdGUud3JhcCA9IHdyYXA7XG4gIHN0YXRlLndiaXRzID0gd2luZG93Qml0cztcbiAgcmV0dXJuIGluZmxhdGVSZXNldChzdHJtKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluZmxhdGVJbml0MihzdHJtLCB3aW5kb3dCaXRzKSB7XG4gIHZhciByZXQ7XG4gIHZhciBzdGF0ZTtcblxuICBpZiAoIXN0cm0pIHtcbiAgICByZXR1cm4gWl9TVFJFQU1fRVJST1I7XG4gIH1cbiAgLy9zdHJtLm1zZyA9IFpfTlVMTDsgICAgICAgICAgICAgICAgIC8qIGluIGNhc2Ugd2UgcmV0dXJuIGFuIGVycm9yICovXG5cbiAgc3RhdGUgPSBuZXcgSW5mbGF0ZVN0YXRlKCk7XG5cbiAgLy9pZiAoc3RhdGUgPT09IFpfTlVMTCkgcmV0dXJuIFpfTUVNX0VSUk9SO1xuICAvL1RyYWNldigoc3RkZXJyLCBcImluZmxhdGU6IGFsbG9jYXRlZFxcblwiKSk7XG4gIHN0cm0uc3RhdGUgPSBzdGF0ZTtcbiAgc3RhdGUud2luZG93ID0gbnVsbCAvKlpfTlVMTCovIDtcbiAgcmV0ID0gaW5mbGF0ZVJlc2V0MihzdHJtLCB3aW5kb3dCaXRzKTtcbiAgaWYgKHJldCAhPT0gWl9PSykge1xuICAgIHN0cm0uc3RhdGUgPSBudWxsIC8qWl9OVUxMKi8gO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbmZsYXRlSW5pdChzdHJtKSB7XG4gIHJldHVybiBpbmZsYXRlSW5pdDIoc3RybSwgREVGX1dCSVRTKTtcbn1cblxuXG4vKlxuIFJldHVybiBzdGF0ZSB3aXRoIGxlbmd0aCBhbmQgZGlzdGFuY2UgZGVjb2RpbmcgdGFibGVzIGFuZCBpbmRleCBzaXplcyBzZXQgdG9cbiBmaXhlZCBjb2RlIGRlY29kaW5nLiAgTm9ybWFsbHkgdGhpcyByZXR1cm5zIGZpeGVkIHRhYmxlcyBmcm9tIGluZmZpeGVkLmguXG4gSWYgQlVJTERGSVhFRCBpcyBkZWZpbmVkLCB0aGVuIGluc3RlYWQgdGhpcyByb3V0aW5lIGJ1aWxkcyB0aGUgdGFibGVzIHRoZVxuIGZpcnN0IHRpbWUgaXQncyBjYWxsZWQsIGFuZCByZXR1cm5zIHRob3NlIHRhYmxlcyB0aGUgZmlyc3QgdGltZSBhbmRcbiB0aGVyZWFmdGVyLiAgVGhpcyByZWR1Y2VzIHRoZSBzaXplIG9mIHRoZSBjb2RlIGJ5IGFib3V0IDJLIGJ5dGVzLCBpblxuIGV4Y2hhbmdlIGZvciBhIGxpdHRsZSBleGVjdXRpb24gdGltZS4gIEhvd2V2ZXIsIEJVSUxERklYRUQgc2hvdWxkIG5vdCBiZVxuIHVzZWQgZm9yIHRocmVhZGVkIGFwcGxpY2F0aW9ucywgc2luY2UgdGhlIHJld3JpdGluZyBvZiB0aGUgdGFibGVzIGFuZCB2aXJnaW5cbiBtYXkgbm90IGJlIHRocmVhZC1zYWZlLlxuICovXG52YXIgdmlyZ2luID0gdHJ1ZTtcblxudmFyIGxlbmZpeCwgZGlzdGZpeDsgLy8gV2UgaGF2ZSBubyBwb2ludGVycyBpbiBKUywgc28ga2VlcCB0YWJsZXMgc2VwYXJhdGVcblxuZnVuY3Rpb24gZml4ZWR0YWJsZXMoc3RhdGUpIHtcbiAgLyogYnVpbGQgZml4ZWQgaHVmZm1hbiB0YWJsZXMgaWYgZmlyc3QgY2FsbCAobWF5IG5vdCBiZSB0aHJlYWQgc2FmZSkgKi9cbiAgaWYgKHZpcmdpbikge1xuICAgIHZhciBzeW07XG5cbiAgICBsZW5maXggPSBuZXcgQnVmMzIoNTEyKTtcbiAgICBkaXN0Zml4ID0gbmV3IEJ1ZjMyKDMyKTtcblxuICAgIC8qIGxpdGVyYWwvbGVuZ3RoIHRhYmxlICovXG4gICAgc3ltID0gMDtcbiAgICB3aGlsZSAoc3ltIDwgMTQ0KSB7XG4gICAgICBzdGF0ZS5sZW5zW3N5bSsrXSA9IDg7XG4gICAgfVxuICAgIHdoaWxlIChzeW0gPCAyNTYpIHtcbiAgICAgIHN0YXRlLmxlbnNbc3ltKytdID0gOTtcbiAgICB9XG4gICAgd2hpbGUgKHN5bSA8IDI4MCkge1xuICAgICAgc3RhdGUubGVuc1tzeW0rK10gPSA3O1xuICAgIH1cbiAgICB3aGlsZSAoc3ltIDwgMjg4KSB7XG4gICAgICBzdGF0ZS5sZW5zW3N5bSsrXSA9IDg7XG4gICAgfVxuXG4gICAgaW5mbGF0ZV90YWJsZShMRU5TLCBzdGF0ZS5sZW5zLCAwLCAyODgsIGxlbmZpeCwgMCwgc3RhdGUud29yaywge1xuICAgICAgYml0czogOVxuICAgIH0pO1xuXG4gICAgLyogZGlzdGFuY2UgdGFibGUgKi9cbiAgICBzeW0gPSAwO1xuICAgIHdoaWxlIChzeW0gPCAzMikge1xuICAgICAgc3RhdGUubGVuc1tzeW0rK10gPSA1O1xuICAgIH1cblxuICAgIGluZmxhdGVfdGFibGUoRElTVFMsIHN0YXRlLmxlbnMsIDAsIDMyLCBkaXN0Zml4LCAwLCBzdGF0ZS53b3JrLCB7XG4gICAgICBiaXRzOiA1XG4gICAgfSk7XG5cbiAgICAvKiBkbyB0aGlzIGp1c3Qgb25jZSAqL1xuICAgIHZpcmdpbiA9IGZhbHNlO1xuICB9XG5cbiAgc3RhdGUubGVuY29kZSA9IGxlbmZpeDtcbiAgc3RhdGUubGVuYml0cyA9IDk7XG4gIHN0YXRlLmRpc3Rjb2RlID0gZGlzdGZpeDtcbiAgc3RhdGUuZGlzdGJpdHMgPSA1O1xufVxuXG5cbi8qXG4gVXBkYXRlIHRoZSB3aW5kb3cgd2l0aCB0aGUgbGFzdCB3c2l6ZSAobm9ybWFsbHkgMzJLKSBieXRlcyB3cml0dGVuIGJlZm9yZVxuIHJldHVybmluZy4gIElmIHdpbmRvdyBkb2VzIG5vdCBleGlzdCB5ZXQsIGNyZWF0ZSBpdC4gIFRoaXMgaXMgb25seSBjYWxsZWRcbiB3aGVuIGEgd2luZG93IGlzIGFscmVhZHkgaW4gdXNlLCBvciB3aGVuIG91dHB1dCBoYXMgYmVlbiB3cml0dGVuIGR1cmluZyB0aGlzXG4gaW5mbGF0ZSBjYWxsLCBidXQgdGhlIGVuZCBvZiB0aGUgZGVmbGF0ZSBzdHJlYW0gaGFzIG5vdCBiZWVuIHJlYWNoZWQgeWV0LlxuIEl0IGlzIGFsc28gY2FsbGVkIHRvIGNyZWF0ZSBhIHdpbmRvdyBmb3IgZGljdGlvbmFyeSBkYXRhIHdoZW4gYSBkaWN0aW9uYXJ5XG4gaXMgbG9hZGVkLlxuXG4gUHJvdmlkaW5nIG91dHB1dCBidWZmZXJzIGxhcmdlciB0aGFuIDMySyB0byBpbmZsYXRlKCkgc2hvdWxkIHByb3ZpZGUgYSBzcGVlZFxuIGFkdmFudGFnZSwgc2luY2Ugb25seSB0aGUgbGFzdCAzMksgb2Ygb3V0cHV0IGlzIGNvcGllZCB0byB0aGUgc2xpZGluZyB3aW5kb3dcbiB1cG9uIHJldHVybiBmcm9tIGluZmxhdGUoKSwgYW5kIHNpbmNlIGFsbCBkaXN0YW5jZXMgYWZ0ZXIgdGhlIGZpcnN0IDMySyBvZlxuIG91dHB1dCB3aWxsIGZhbGwgaW4gdGhlIG91dHB1dCBkYXRhLCBtYWtpbmcgbWF0Y2ggY29waWVzIHNpbXBsZXIgYW5kIGZhc3Rlci5cbiBUaGUgYWR2YW50YWdlIG1heSBiZSBkZXBlbmRlbnQgb24gdGhlIHNpemUgb2YgdGhlIHByb2Nlc3NvcidzIGRhdGEgY2FjaGVzLlxuICovXG5mdW5jdGlvbiB1cGRhdGV3aW5kb3coc3RybSwgc3JjLCBlbmQsIGNvcHkpIHtcbiAgdmFyIGRpc3Q7XG4gIHZhciBzdGF0ZSA9IHN0cm0uc3RhdGU7XG5cbiAgLyogaWYgaXQgaGFzbid0IGJlZW4gZG9uZSBhbHJlYWR5LCBhbGxvY2F0ZSBzcGFjZSBmb3IgdGhlIHdpbmRvdyAqL1xuICBpZiAoc3RhdGUud2luZG93ID09PSBudWxsKSB7XG4gICAgc3RhdGUud3NpemUgPSAxIDw8IHN0YXRlLndiaXRzO1xuICAgIHN0YXRlLnduZXh0ID0gMDtcbiAgICBzdGF0ZS53aGF2ZSA9IDA7XG5cbiAgICBzdGF0ZS53aW5kb3cgPSBuZXcgQnVmOChzdGF0ZS53c2l6ZSk7XG4gIH1cblxuICAvKiBjb3B5IHN0YXRlLT53c2l6ZSBvciBsZXNzIG91dHB1dCBieXRlcyBpbnRvIHRoZSBjaXJjdWxhciB3aW5kb3cgKi9cbiAgaWYgKGNvcHkgPj0gc3RhdGUud3NpemUpIHtcbiAgICBhcnJheVNldChzdGF0ZS53aW5kb3csIHNyYywgZW5kIC0gc3RhdGUud3NpemUsIHN0YXRlLndzaXplLCAwKTtcbiAgICBzdGF0ZS53bmV4dCA9IDA7XG4gICAgc3RhdGUud2hhdmUgPSBzdGF0ZS53c2l6ZTtcbiAgfSBlbHNlIHtcbiAgICBkaXN0ID0gc3RhdGUud3NpemUgLSBzdGF0ZS53bmV4dDtcbiAgICBpZiAoZGlzdCA+IGNvcHkpIHtcbiAgICAgIGRpc3QgPSBjb3B5O1xuICAgIH1cbiAgICAvL3ptZW1jcHkoc3RhdGUtPndpbmRvdyArIHN0YXRlLT53bmV4dCwgZW5kIC0gY29weSwgZGlzdCk7XG4gICAgYXJyYXlTZXQoc3RhdGUud2luZG93LCBzcmMsIGVuZCAtIGNvcHksIGRpc3QsIHN0YXRlLnduZXh0KTtcbiAgICBjb3B5IC09IGRpc3Q7XG4gICAgaWYgKGNvcHkpIHtcbiAgICAgIC8vem1lbWNweShzdGF0ZS0+d2luZG93LCBlbmQgLSBjb3B5LCBjb3B5KTtcbiAgICAgIGFycmF5U2V0KHN0YXRlLndpbmRvdywgc3JjLCBlbmQgLSBjb3B5LCBjb3B5LCAwKTtcbiAgICAgIHN0YXRlLnduZXh0ID0gY29weTtcbiAgICAgIHN0YXRlLndoYXZlID0gc3RhdGUud3NpemU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXRlLnduZXh0ICs9IGRpc3Q7XG4gICAgICBpZiAoc3RhdGUud25leHQgPT09IHN0YXRlLndzaXplKSB7XG4gICAgICAgIHN0YXRlLnduZXh0ID0gMDtcbiAgICAgIH1cbiAgICAgIGlmIChzdGF0ZS53aGF2ZSA8IHN0YXRlLndzaXplKSB7XG4gICAgICAgIHN0YXRlLndoYXZlICs9IGRpc3Q7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiAwO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5mbGF0ZShzdHJtLCBmbHVzaCkge1xuICB2YXIgc3RhdGU7XG4gIHZhciBpbnB1dCwgb3V0cHV0OyAvLyBpbnB1dC9vdXRwdXQgYnVmZmVyc1xuICB2YXIgbmV4dDsgLyogbmV4dCBpbnB1dCBJTkRFWCAqL1xuICB2YXIgcHV0OyAvKiBuZXh0IG91dHB1dCBJTkRFWCAqL1xuICB2YXIgaGF2ZSwgbGVmdDsgLyogYXZhaWxhYmxlIGlucHV0IGFuZCBvdXRwdXQgKi9cbiAgdmFyIGhvbGQ7IC8qIGJpdCBidWZmZXIgKi9cbiAgdmFyIGJpdHM7IC8qIGJpdHMgaW4gYml0IGJ1ZmZlciAqL1xuICB2YXIgX2luLCBfb3V0OyAvKiBzYXZlIHN0YXJ0aW5nIGF2YWlsYWJsZSBpbnB1dCBhbmQgb3V0cHV0ICovXG4gIHZhciBjb3B5OyAvKiBudW1iZXIgb2Ygc3RvcmVkIG9yIG1hdGNoIGJ5dGVzIHRvIGNvcHkgKi9cbiAgdmFyIGZyb207IC8qIHdoZXJlIHRvIGNvcHkgbWF0Y2ggYnl0ZXMgZnJvbSAqL1xuICB2YXIgZnJvbV9zb3VyY2U7XG4gIHZhciBoZXJlID0gMDsgLyogY3VycmVudCBkZWNvZGluZyB0YWJsZSBlbnRyeSAqL1xuICB2YXIgaGVyZV9iaXRzLCBoZXJlX29wLCBoZXJlX3ZhbDsgLy8gcGFrZWQgXCJoZXJlXCIgZGVub3JtYWxpemVkIChKUyBzcGVjaWZpYylcbiAgLy92YXIgbGFzdDsgICAgICAgICAgICAgICAgICAgLyogcGFyZW50IHRhYmxlIGVudHJ5ICovXG4gIHZhciBsYXN0X2JpdHMsIGxhc3Rfb3AsIGxhc3RfdmFsOyAvLyBwYWtlZCBcImxhc3RcIiBkZW5vcm1hbGl6ZWQgKEpTIHNwZWNpZmljKVxuICB2YXIgbGVuOyAvKiBsZW5ndGggdG8gY29weSBmb3IgcmVwZWF0cywgYml0cyB0byBkcm9wICovXG4gIHZhciByZXQ7IC8qIHJldHVybiBjb2RlICovXG4gIHZhciBoYnVmID0gbmV3IEJ1ZjgoNCk7IC8qIGJ1ZmZlciBmb3IgZ3ppcCBoZWFkZXIgY3JjIGNhbGN1bGF0aW9uICovXG4gIHZhciBvcHRzO1xuXG4gIHZhciBuOyAvLyB0ZW1wb3JhcnkgdmFyIGZvciBORUVEX0JJVFNcblxuICB2YXIgb3JkZXIgPSAvKiBwZXJtdXRhdGlvbiBvZiBjb2RlIGxlbmd0aHMgKi8gWzE2LCAxNywgMTgsIDAsIDgsIDcsIDksIDYsIDEwLCA1LCAxMSwgNCwgMTIsIDMsIDEzLCAyLCAxNCwgMSwgMTVdO1xuXG5cbiAgaWYgKCFzdHJtIHx8ICFzdHJtLnN0YXRlIHx8ICFzdHJtLm91dHB1dCB8fFxuICAgICghc3RybS5pbnB1dCAmJiBzdHJtLmF2YWlsX2luICE9PSAwKSkge1xuICAgIHJldHVybiBaX1NUUkVBTV9FUlJPUjtcbiAgfVxuXG4gIHN0YXRlID0gc3RybS5zdGF0ZTtcbiAgaWYgKHN0YXRlLm1vZGUgPT09IFRZUEUpIHtcbiAgICBzdGF0ZS5tb2RlID0gVFlQRURPO1xuICB9IC8qIHNraXAgY2hlY2sgKi9cblxuXG4gIC8vLS0tIExPQUQoKSAtLS1cbiAgcHV0ID0gc3RybS5uZXh0X291dDtcbiAgb3V0cHV0ID0gc3RybS5vdXRwdXQ7XG4gIGxlZnQgPSBzdHJtLmF2YWlsX291dDtcbiAgbmV4dCA9IHN0cm0ubmV4dF9pbjtcbiAgaW5wdXQgPSBzdHJtLmlucHV0O1xuICBoYXZlID0gc3RybS5hdmFpbF9pbjtcbiAgaG9sZCA9IHN0YXRlLmhvbGQ7XG4gIGJpdHMgPSBzdGF0ZS5iaXRzO1xuICAvLy0tLVxuXG4gIF9pbiA9IGhhdmU7XG4gIF9vdXQgPSBsZWZ0O1xuICByZXQgPSBaX09LO1xuXG4gIGluZl9sZWF2ZTogLy8gZ290byBlbXVsYXRpb25cbiAgICBmb3IgKDs7KSB7XG4gICAgICBzd2l0Y2ggKHN0YXRlLm1vZGUpIHtcbiAgICAgIGNhc2UgSEVBRDpcbiAgICAgICAgaWYgKHN0YXRlLndyYXAgPT09IDApIHtcbiAgICAgICAgICBzdGF0ZS5tb2RlID0gVFlQRURPO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vPT09IE5FRURCSVRTKDE2KTtcbiAgICAgICAgd2hpbGUgKGJpdHMgPCAxNikge1xuICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7XG4gICAgICAgICAgICBicmVhayBpbmZfbGVhdmU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgIH1cbiAgICAgICAgLy89PT0vL1xuICAgICAgICBpZiAoKHN0YXRlLndyYXAgJiAyKSAmJiBob2xkID09PSAweDhiMWYpIHsgLyogZ3ppcCBoZWFkZXIgKi9cbiAgICAgICAgICBzdGF0ZS5jaGVjayA9IDAgLypjcmMzMigwTCwgWl9OVUxMLCAwKSovIDtcbiAgICAgICAgICAvLz09PSBDUkMyKHN0YXRlLmNoZWNrLCBob2xkKTtcbiAgICAgICAgICBoYnVmWzBdID0gaG9sZCAmIDB4ZmY7XG4gICAgICAgICAgaGJ1ZlsxXSA9IChob2xkID4+PiA4KSAmIDB4ZmY7XG4gICAgICAgICAgc3RhdGUuY2hlY2sgPSBjcmMzMihzdGF0ZS5jaGVjaywgaGJ1ZiwgMiwgMCk7XG4gICAgICAgICAgLy89PT0vL1xuXG4gICAgICAgICAgLy89PT0gSU5JVEJJVFMoKTtcbiAgICAgICAgICBob2xkID0gMDtcbiAgICAgICAgICBiaXRzID0gMDtcbiAgICAgICAgICAvLz09PS8vXG4gICAgICAgICAgc3RhdGUubW9kZSA9IEZMQUdTO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLmZsYWdzID0gMDsgLyogZXhwZWN0IHpsaWIgaGVhZGVyICovXG4gICAgICAgIGlmIChzdGF0ZS5oZWFkKSB7XG4gICAgICAgICAgc3RhdGUuaGVhZC5kb25lID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEoc3RhdGUud3JhcCAmIDEpIHx8IC8qIGNoZWNrIGlmIHpsaWIgaGVhZGVyIGFsbG93ZWQgKi9cbiAgICAgICAgICAoKChob2xkICYgMHhmZikgLypCSVRTKDgpKi8gPDwgOCkgKyAoaG9sZCA+PiA4KSkgJSAzMSkge1xuICAgICAgICAgIHN0cm0ubXNnID0gJ2luY29ycmVjdCBoZWFkZXIgY2hlY2snO1xuICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChob2xkICYgMHgwZikgLypCSVRTKDQpKi8gIT09IFpfREVGTEFURUQpIHtcbiAgICAgICAgICBzdHJtLm1zZyA9ICd1bmtub3duIGNvbXByZXNzaW9uIG1ldGhvZCc7XG4gICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvLy0tLSBEUk9QQklUUyg0KSAtLS0vL1xuICAgICAgICBob2xkID4+Pj0gNDtcbiAgICAgICAgYml0cyAtPSA0O1xuICAgICAgICAvLy0tLS8vXG4gICAgICAgIGxlbiA9IChob2xkICYgMHgwZikgLypCSVRTKDQpKi8gKyA4O1xuICAgICAgICBpZiAoc3RhdGUud2JpdHMgPT09IDApIHtcbiAgICAgICAgICBzdGF0ZS53Yml0cyA9IGxlbjtcbiAgICAgICAgfSBlbHNlIGlmIChsZW4gPiBzdGF0ZS53Yml0cykge1xuICAgICAgICAgIHN0cm0ubXNnID0gJ2ludmFsaWQgd2luZG93IHNpemUnO1xuICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUuZG1heCA9IDEgPDwgbGVuO1xuICAgICAgICAvL1RyYWNldigoc3RkZXJyLCBcImluZmxhdGU6ICAgemxpYiBoZWFkZXIgb2tcXG5cIikpO1xuICAgICAgICBzdHJtLmFkbGVyID0gc3RhdGUuY2hlY2sgPSAxIC8qYWRsZXIzMigwTCwgWl9OVUxMLCAwKSovIDtcbiAgICAgICAgc3RhdGUubW9kZSA9IGhvbGQgJiAweDIwMCA/IERJQ1RJRCA6IFRZUEU7XG4gICAgICAgIC8vPT09IElOSVRCSVRTKCk7XG4gICAgICAgIGhvbGQgPSAwO1xuICAgICAgICBiaXRzID0gMDtcbiAgICAgICAgLy89PT0vL1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgRkxBR1M6XG4gICAgICAgIC8vPT09IE5FRURCSVRTKDE2KTsgKi9cbiAgICAgICAgd2hpbGUgKGJpdHMgPCAxNikge1xuICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7XG4gICAgICAgICAgICBicmVhayBpbmZfbGVhdmU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgIH1cbiAgICAgICAgLy89PT0vL1xuICAgICAgICBzdGF0ZS5mbGFncyA9IGhvbGQ7XG4gICAgICAgIGlmICgoc3RhdGUuZmxhZ3MgJiAweGZmKSAhPT0gWl9ERUZMQVRFRCkge1xuICAgICAgICAgIHN0cm0ubXNnID0gJ3Vua25vd24gY29tcHJlc3Npb24gbWV0aG9kJztcbiAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZS5mbGFncyAmIDB4ZTAwMCkge1xuICAgICAgICAgIHN0cm0ubXNnID0gJ3Vua25vd24gaGVhZGVyIGZsYWdzIHNldCc7XG4gICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdGUuaGVhZCkge1xuICAgICAgICAgIHN0YXRlLmhlYWQudGV4dCA9ICgoaG9sZCA+PiA4KSAmIDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZS5mbGFncyAmIDB4MDIwMCkge1xuICAgICAgICAgIC8vPT09IENSQzIoc3RhdGUuY2hlY2ssIGhvbGQpO1xuICAgICAgICAgIGhidWZbMF0gPSBob2xkICYgMHhmZjtcbiAgICAgICAgICBoYnVmWzFdID0gKGhvbGQgPj4+IDgpICYgMHhmZjtcbiAgICAgICAgICBzdGF0ZS5jaGVjayA9IGNyYzMyKHN0YXRlLmNoZWNrLCBoYnVmLCAyLCAwKTtcbiAgICAgICAgICAvLz09PS8vXG4gICAgICAgIH1cbiAgICAgICAgLy89PT0gSU5JVEJJVFMoKTtcbiAgICAgICAgaG9sZCA9IDA7XG4gICAgICAgIGJpdHMgPSAwO1xuICAgICAgICAvLz09PS8vXG4gICAgICAgIHN0YXRlLm1vZGUgPSBUSU1FO1xuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIFRJTUU6XG4gICAgICAgIC8vPT09IE5FRURCSVRTKDMyKTsgKi9cbiAgICAgICAgd2hpbGUgKGJpdHMgPCAzMikge1xuICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7XG4gICAgICAgICAgICBicmVhayBpbmZfbGVhdmU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgIH1cbiAgICAgICAgLy89PT0vL1xuICAgICAgICBpZiAoc3RhdGUuaGVhZCkge1xuICAgICAgICAgIHN0YXRlLmhlYWQudGltZSA9IGhvbGQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlLmZsYWdzICYgMHgwMjAwKSB7XG4gICAgICAgICAgLy89PT0gQ1JDNChzdGF0ZS5jaGVjaywgaG9sZClcbiAgICAgICAgICBoYnVmWzBdID0gaG9sZCAmIDB4ZmY7XG4gICAgICAgICAgaGJ1ZlsxXSA9IChob2xkID4+PiA4KSAmIDB4ZmY7XG4gICAgICAgICAgaGJ1ZlsyXSA9IChob2xkID4+PiAxNikgJiAweGZmO1xuICAgICAgICAgIGhidWZbM10gPSAoaG9sZCA+Pj4gMjQpICYgMHhmZjtcbiAgICAgICAgICBzdGF0ZS5jaGVjayA9IGNyYzMyKHN0YXRlLmNoZWNrLCBoYnVmLCA0LCAwKTtcbiAgICAgICAgICAvLz09PVxuICAgICAgICB9XG4gICAgICAgIC8vPT09IElOSVRCSVRTKCk7XG4gICAgICAgIGhvbGQgPSAwO1xuICAgICAgICBiaXRzID0gMDtcbiAgICAgICAgLy89PT0vL1xuICAgICAgICBzdGF0ZS5tb2RlID0gT1M7XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgT1M6XG4gICAgICAgIC8vPT09IE5FRURCSVRTKDE2KTsgKi9cbiAgICAgICAgd2hpbGUgKGJpdHMgPCAxNikge1xuICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7XG4gICAgICAgICAgICBicmVhayBpbmZfbGVhdmU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgIH1cbiAgICAgICAgLy89PT0vL1xuICAgICAgICBpZiAoc3RhdGUuaGVhZCkge1xuICAgICAgICAgIHN0YXRlLmhlYWQueGZsYWdzID0gKGhvbGQgJiAweGZmKTtcbiAgICAgICAgICBzdGF0ZS5oZWFkLm9zID0gKGhvbGQgPj4gOCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlLmZsYWdzICYgMHgwMjAwKSB7XG4gICAgICAgICAgLy89PT0gQ1JDMihzdGF0ZS5jaGVjaywgaG9sZCk7XG4gICAgICAgICAgaGJ1ZlswXSA9IGhvbGQgJiAweGZmO1xuICAgICAgICAgIGhidWZbMV0gPSAoaG9sZCA+Pj4gOCkgJiAweGZmO1xuICAgICAgICAgIHN0YXRlLmNoZWNrID0gY3JjMzIoc3RhdGUuY2hlY2ssIGhidWYsIDIsIDApO1xuICAgICAgICAgIC8vPT09Ly9cbiAgICAgICAgfVxuICAgICAgICAvLz09PSBJTklUQklUUygpO1xuICAgICAgICBob2xkID0gMDtcbiAgICAgICAgYml0cyA9IDA7XG4gICAgICAgIC8vPT09Ly9cbiAgICAgICAgc3RhdGUubW9kZSA9IEVYTEVOO1xuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIEVYTEVOOlxuICAgICAgICBpZiAoc3RhdGUuZmxhZ3MgJiAweDA0MDApIHtcbiAgICAgICAgICAvLz09PSBORUVEQklUUygxNik7ICovXG4gICAgICAgICAgd2hpbGUgKGJpdHMgPCAxNikge1xuICAgICAgICAgICAgaWYgKGhhdmUgPT09IDApIHtcbiAgICAgICAgICAgICAgYnJlYWsgaW5mX2xlYXZlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vPT09Ly9cbiAgICAgICAgICBzdGF0ZS5sZW5ndGggPSBob2xkO1xuICAgICAgICAgIGlmIChzdGF0ZS5oZWFkKSB7XG4gICAgICAgICAgICBzdGF0ZS5oZWFkLmV4dHJhX2xlbiA9IGhvbGQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzdGF0ZS5mbGFncyAmIDB4MDIwMCkge1xuICAgICAgICAgICAgLy89PT0gQ1JDMihzdGF0ZS5jaGVjaywgaG9sZCk7XG4gICAgICAgICAgICBoYnVmWzBdID0gaG9sZCAmIDB4ZmY7XG4gICAgICAgICAgICBoYnVmWzFdID0gKGhvbGQgPj4+IDgpICYgMHhmZjtcbiAgICAgICAgICAgIHN0YXRlLmNoZWNrID0gY3JjMzIoc3RhdGUuY2hlY2ssIGhidWYsIDIsIDApO1xuICAgICAgICAgICAgLy89PT0vL1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLz09PSBJTklUQklUUygpO1xuICAgICAgICAgIGhvbGQgPSAwO1xuICAgICAgICAgIGJpdHMgPSAwO1xuICAgICAgICAgIC8vPT09Ly9cbiAgICAgICAgfSBlbHNlIGlmIChzdGF0ZS5oZWFkKSB7XG4gICAgICAgICAgc3RhdGUuaGVhZC5leHRyYSA9IG51bGwgLypaX05VTEwqLyA7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUubW9kZSA9IEVYVFJBO1xuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIEVYVFJBOlxuICAgICAgICBpZiAoc3RhdGUuZmxhZ3MgJiAweDA0MDApIHtcbiAgICAgICAgICBjb3B5ID0gc3RhdGUubGVuZ3RoO1xuICAgICAgICAgIGlmIChjb3B5ID4gaGF2ZSkge1xuICAgICAgICAgICAgY29weSA9IGhhdmU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjb3B5KSB7XG4gICAgICAgICAgICBpZiAoc3RhdGUuaGVhZCkge1xuICAgICAgICAgICAgICBsZW4gPSBzdGF0ZS5oZWFkLmV4dHJhX2xlbiAtIHN0YXRlLmxlbmd0aDtcbiAgICAgICAgICAgICAgaWYgKCFzdGF0ZS5oZWFkLmV4dHJhKSB7XG4gICAgICAgICAgICAgICAgLy8gVXNlIHVudHlwZWQgYXJyYXkgZm9yIG1vcmUgY29udmVuaWVuZCBwcm9jZXNzaW5nIGxhdGVyXG4gICAgICAgICAgICAgICAgc3RhdGUuaGVhZC5leHRyYSA9IG5ldyBBcnJheShzdGF0ZS5oZWFkLmV4dHJhX2xlbik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYXJyYXlTZXQoXG4gICAgICAgICAgICAgICAgc3RhdGUuaGVhZC5leHRyYSxcbiAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICBuZXh0LFxuICAgICAgICAgICAgICAgIC8vIGV4dHJhIGZpZWxkIGlzIGxpbWl0ZWQgdG8gNjU1MzYgYnl0ZXNcbiAgICAgICAgICAgICAgICAvLyAtIG5vIG5lZWQgZm9yIGFkZGl0aW9uYWwgc2l6ZSBjaGVja1xuICAgICAgICAgICAgICAgIGNvcHksXG4gICAgICAgICAgICAgICAgLypsZW4gKyBjb3B5ID4gc3RhdGUuaGVhZC5leHRyYV9tYXggLSBsZW4gPyBzdGF0ZS5oZWFkLmV4dHJhX21heCA6IGNvcHksKi9cbiAgICAgICAgICAgICAgICBsZW5cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgLy96bWVtY3B5KHN0YXRlLmhlYWQuZXh0cmEgKyBsZW4sIG5leHQsXG4gICAgICAgICAgICAgIC8vICAgICAgICBsZW4gKyBjb3B5ID4gc3RhdGUuaGVhZC5leHRyYV9tYXggP1xuICAgICAgICAgICAgICAvLyAgICAgICAgc3RhdGUuaGVhZC5leHRyYV9tYXggLSBsZW4gOiBjb3B5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdGF0ZS5mbGFncyAmIDB4MDIwMCkge1xuICAgICAgICAgICAgICBzdGF0ZS5jaGVjayA9IGNyYzMyKHN0YXRlLmNoZWNrLCBpbnB1dCwgY29weSwgbmV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBoYXZlIC09IGNvcHk7XG4gICAgICAgICAgICBuZXh0ICs9IGNvcHk7XG4gICAgICAgICAgICBzdGF0ZS5sZW5ndGggLT0gY29weTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHN0YXRlLmxlbmd0aCkge1xuICAgICAgICAgICAgYnJlYWsgaW5mX2xlYXZlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5sZW5ndGggPSAwO1xuICAgICAgICBzdGF0ZS5tb2RlID0gTkFNRTtcbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSBOQU1FOlxuICAgICAgICBpZiAoc3RhdGUuZmxhZ3MgJiAweDA4MDApIHtcbiAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkge1xuICAgICAgICAgICAgYnJlYWsgaW5mX2xlYXZlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb3B5ID0gMDtcbiAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAvLyBUT0RPOiAyIG9yIDEgYnl0ZXM/XG4gICAgICAgICAgICBsZW4gPSBpbnB1dFtuZXh0ICsgY29weSsrXTtcbiAgICAgICAgICAgIC8qIHVzZSBjb25zdGFudCBsaW1pdCBiZWNhdXNlIGluIGpzIHdlIHNob3VsZCBub3QgcHJlYWxsb2NhdGUgbWVtb3J5ICovXG4gICAgICAgICAgICBpZiAoc3RhdGUuaGVhZCAmJiBsZW4gJiZcbiAgICAgICAgICAgICAgKHN0YXRlLmxlbmd0aCA8IDY1NTM2IC8qc3RhdGUuaGVhZC5uYW1lX21heCovICkpIHtcbiAgICAgICAgICAgICAgc3RhdGUuaGVhZC5uYW1lICs9IFN0cmluZy5mcm9tQ2hhckNvZGUobGVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IHdoaWxlIChsZW4gJiYgY29weSA8IGhhdmUpO1xuXG4gICAgICAgICAgaWYgKHN0YXRlLmZsYWdzICYgMHgwMjAwKSB7XG4gICAgICAgICAgICBzdGF0ZS5jaGVjayA9IGNyYzMyKHN0YXRlLmNoZWNrLCBpbnB1dCwgY29weSwgbmV4dCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGhhdmUgLT0gY29weTtcbiAgICAgICAgICBuZXh0ICs9IGNvcHk7XG4gICAgICAgICAgaWYgKGxlbikge1xuICAgICAgICAgICAgYnJlYWsgaW5mX2xlYXZlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChzdGF0ZS5oZWFkKSB7XG4gICAgICAgICAgc3RhdGUuaGVhZC5uYW1lID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5sZW5ndGggPSAwO1xuICAgICAgICBzdGF0ZS5tb2RlID0gQ09NTUVOVDtcbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSBDT01NRU5UOlxuICAgICAgICBpZiAoc3RhdGUuZmxhZ3MgJiAweDEwMDApIHtcbiAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkge1xuICAgICAgICAgICAgYnJlYWsgaW5mX2xlYXZlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb3B5ID0gMDtcbiAgICAgICAgICBkbyB7XG4gICAgICAgICAgICBsZW4gPSBpbnB1dFtuZXh0ICsgY29weSsrXTtcbiAgICAgICAgICAgIC8qIHVzZSBjb25zdGFudCBsaW1pdCBiZWNhdXNlIGluIGpzIHdlIHNob3VsZCBub3QgcHJlYWxsb2NhdGUgbWVtb3J5ICovXG4gICAgICAgICAgICBpZiAoc3RhdGUuaGVhZCAmJiBsZW4gJiZcbiAgICAgICAgICAgICAgKHN0YXRlLmxlbmd0aCA8IDY1NTM2IC8qc3RhdGUuaGVhZC5jb21tX21heCovICkpIHtcbiAgICAgICAgICAgICAgc3RhdGUuaGVhZC5jb21tZW50ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUobGVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IHdoaWxlIChsZW4gJiYgY29weSA8IGhhdmUpO1xuICAgICAgICAgIGlmIChzdGF0ZS5mbGFncyAmIDB4MDIwMCkge1xuICAgICAgICAgICAgc3RhdGUuY2hlY2sgPSBjcmMzMihzdGF0ZS5jaGVjaywgaW5wdXQsIGNvcHksIG5leHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBoYXZlIC09IGNvcHk7XG4gICAgICAgICAgbmV4dCArPSBjb3B5O1xuICAgICAgICAgIGlmIChsZW4pIHtcbiAgICAgICAgICAgIGJyZWFrIGluZl9sZWF2ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdGUuaGVhZCkge1xuICAgICAgICAgIHN0YXRlLmhlYWQuY29tbWVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUubW9kZSA9IEhDUkM7XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgSENSQzpcbiAgICAgICAgaWYgKHN0YXRlLmZsYWdzICYgMHgwMjAwKSB7XG4gICAgICAgICAgLy89PT0gTkVFREJJVFMoMTYpOyAqL1xuICAgICAgICAgIHdoaWxlIChiaXRzIDwgMTYpIHtcbiAgICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7XG4gICAgICAgICAgICAgIGJyZWFrIGluZl9sZWF2ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLz09PS8vXG4gICAgICAgICAgaWYgKGhvbGQgIT09IChzdGF0ZS5jaGVjayAmIDB4ZmZmZikpIHtcbiAgICAgICAgICAgIHN0cm0ubXNnID0gJ2hlYWRlciBjcmMgbWlzbWF0Y2gnO1xuICAgICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLz09PSBJTklUQklUUygpO1xuICAgICAgICAgIGhvbGQgPSAwO1xuICAgICAgICAgIGJpdHMgPSAwO1xuICAgICAgICAgIC8vPT09Ly9cbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdGUuaGVhZCkge1xuICAgICAgICAgIHN0YXRlLmhlYWQuaGNyYyA9ICgoc3RhdGUuZmxhZ3MgPj4gOSkgJiAxKTtcbiAgICAgICAgICBzdGF0ZS5oZWFkLmRvbmUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHN0cm0uYWRsZXIgPSBzdGF0ZS5jaGVjayA9IDA7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBUWVBFO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgRElDVElEOlxuICAgICAgICAvLz09PSBORUVEQklUUygzMik7ICovXG4gICAgICAgIHdoaWxlIChiaXRzIDwgMzIpIHtcbiAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkge1xuICAgICAgICAgICAgYnJlYWsgaW5mX2xlYXZlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICB9XG4gICAgICAgIC8vPT09Ly9cbiAgICAgICAgc3RybS5hZGxlciA9IHN0YXRlLmNoZWNrID0genN3YXAzMihob2xkKTtcbiAgICAgICAgLy89PT0gSU5JVEJJVFMoKTtcbiAgICAgICAgaG9sZCA9IDA7XG4gICAgICAgIGJpdHMgPSAwO1xuICAgICAgICAvLz09PS8vXG4gICAgICAgIHN0YXRlLm1vZGUgPSBESUNUO1xuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIERJQ1Q6XG4gICAgICAgIGlmIChzdGF0ZS5oYXZlZGljdCA9PT0gMCkge1xuICAgICAgICAgIC8vLS0tIFJFU1RPUkUoKSAtLS1cbiAgICAgICAgICBzdHJtLm5leHRfb3V0ID0gcHV0O1xuICAgICAgICAgIHN0cm0uYXZhaWxfb3V0ID0gbGVmdDtcbiAgICAgICAgICBzdHJtLm5leHRfaW4gPSBuZXh0O1xuICAgICAgICAgIHN0cm0uYXZhaWxfaW4gPSBoYXZlO1xuICAgICAgICAgIHN0YXRlLmhvbGQgPSBob2xkO1xuICAgICAgICAgIHN0YXRlLmJpdHMgPSBiaXRzO1xuICAgICAgICAgIC8vLS0tXG4gICAgICAgICAgcmV0dXJuIFpfTkVFRF9ESUNUO1xuICAgICAgICB9XG4gICAgICAgIHN0cm0uYWRsZXIgPSBzdGF0ZS5jaGVjayA9IDEgLyphZGxlcjMyKDBMLCBaX05VTEwsIDApKi8gO1xuICAgICAgICBzdGF0ZS5tb2RlID0gVFlQRTtcbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSBUWVBFOlxuICAgICAgICBpZiAoZmx1c2ggPT09IFpfQkxPQ0sgfHwgZmx1c2ggPT09IFpfVFJFRVMpIHtcbiAgICAgICAgICBicmVhayBpbmZfbGVhdmU7XG4gICAgICAgIH1cbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSBUWVBFRE86XG4gICAgICAgIGlmIChzdGF0ZS5sYXN0KSB7XG4gICAgICAgICAgLy8tLS0gQllURUJJVFMoKSAtLS0vL1xuICAgICAgICAgIGhvbGQgPj4+PSBiaXRzICYgNztcbiAgICAgICAgICBiaXRzIC09IGJpdHMgJiA3O1xuICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICBzdGF0ZS5tb2RlID0gQ0hFQ0s7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLy89PT0gTkVFREJJVFMoMyk7ICovXG4gICAgICAgIHdoaWxlIChiaXRzIDwgMykge1xuICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7XG4gICAgICAgICAgICBicmVhayBpbmZfbGVhdmU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgIH1cbiAgICAgICAgLy89PT0vL1xuICAgICAgICBzdGF0ZS5sYXN0ID0gKGhvbGQgJiAweDAxKSAvKkJJVFMoMSkqLyA7XG4gICAgICAgIC8vLS0tIERST1BCSVRTKDEpIC0tLS8vXG4gICAgICAgIGhvbGQgPj4+PSAxO1xuICAgICAgICBiaXRzIC09IDE7XG4gICAgICAgIC8vLS0tLy9cblxuICAgICAgICBzd2l0Y2ggKChob2xkICYgMHgwMykgLypCSVRTKDIpKi8gKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAvKiBzdG9yZWQgYmxvY2sgKi9cbiAgICAgICAgICAvL1RyYWNldigoc3RkZXJyLCBcImluZmxhdGU6ICAgICBzdG9yZWQgYmxvY2slc1xcblwiLFxuICAgICAgICAgIC8vICAgICAgICBzdGF0ZS5sYXN0ID8gXCIgKGxhc3QpXCIgOiBcIlwiKSk7XG4gICAgICAgICAgc3RhdGUubW9kZSA9IFNUT1JFRDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIC8qIGZpeGVkIGJsb2NrICovXG4gICAgICAgICAgZml4ZWR0YWJsZXMoc3RhdGUpO1xuICAgICAgICAgIC8vVHJhY2V2KChzdGRlcnIsIFwiaW5mbGF0ZTogICAgIGZpeGVkIGNvZGVzIGJsb2NrJXNcXG5cIixcbiAgICAgICAgICAvLyAgICAgICAgc3RhdGUubGFzdCA/IFwiIChsYXN0KVwiIDogXCJcIikpO1xuICAgICAgICAgIHN0YXRlLm1vZGUgPSBMRU5fOyAvKiBkZWNvZGUgY29kZXMgKi9cbiAgICAgICAgICBpZiAoZmx1c2ggPT09IFpfVFJFRVMpIHtcbiAgICAgICAgICAgIC8vLS0tIERST1BCSVRTKDIpIC0tLS8vXG4gICAgICAgICAgICBob2xkID4+Pj0gMjtcbiAgICAgICAgICAgIGJpdHMgLT0gMjtcbiAgICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICAgIGJyZWFrIGluZl9sZWF2ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAvKiBkeW5hbWljIGJsb2NrICovXG4gICAgICAgICAgLy9UcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgICAgZHluYW1pYyBjb2RlcyBibG9jayVzXFxuXCIsXG4gICAgICAgICAgLy8gICAgICAgIHN0YXRlLmxhc3QgPyBcIiAobGFzdClcIiA6IFwiXCIpKTtcbiAgICAgICAgICBzdGF0ZS5tb2RlID0gVEFCTEU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGJsb2NrIHR5cGUnO1xuICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8tLS0gRFJPUEJJVFMoMikgLS0tLy9cbiAgICAgICAgaG9sZCA+Pj49IDI7XG4gICAgICAgIGJpdHMgLT0gMjtcbiAgICAgICAgLy8tLS0vL1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgU1RPUkVEOlxuICAgICAgICAvLy0tLSBCWVRFQklUUygpIC0tLS8vIC8qIGdvIHRvIGJ5dGUgYm91bmRhcnkgKi9cbiAgICAgICAgaG9sZCA+Pj49IGJpdHMgJiA3O1xuICAgICAgICBiaXRzIC09IGJpdHMgJiA3O1xuICAgICAgICAvLy0tLS8vXG4gICAgICAgIC8vPT09IE5FRURCSVRTKDMyKTsgKi9cbiAgICAgICAgd2hpbGUgKGJpdHMgPCAzMikge1xuICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7XG4gICAgICAgICAgICBicmVhayBpbmZfbGVhdmU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgIH1cbiAgICAgICAgLy89PT0vL1xuICAgICAgICBpZiAoKGhvbGQgJiAweGZmZmYpICE9PSAoKGhvbGQgPj4+IDE2KSBeIDB4ZmZmZikpIHtcbiAgICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIHN0b3JlZCBibG9jayBsZW5ndGhzJztcbiAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLmxlbmd0aCA9IGhvbGQgJiAweGZmZmY7XG4gICAgICAgIC8vVHJhY2V2KChzdGRlcnIsIFwiaW5mbGF0ZTogICAgICAgc3RvcmVkIGxlbmd0aCAldVxcblwiLFxuICAgICAgICAvLyAgICAgICAgc3RhdGUubGVuZ3RoKSk7XG4gICAgICAgIC8vPT09IElOSVRCSVRTKCk7XG4gICAgICAgIGhvbGQgPSAwO1xuICAgICAgICBiaXRzID0gMDtcbiAgICAgICAgLy89PT0vL1xuICAgICAgICBzdGF0ZS5tb2RlID0gQ09QWV87XG4gICAgICAgIGlmIChmbHVzaCA9PT0gWl9UUkVFUykge1xuICAgICAgICAgIGJyZWFrIGluZl9sZWF2ZTtcbiAgICAgICAgfVxuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIENPUFlfOlxuICAgICAgICBzdGF0ZS5tb2RlID0gQ09QWTtcbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSBDT1BZOlxuICAgICAgICBjb3B5ID0gc3RhdGUubGVuZ3RoO1xuICAgICAgICBpZiAoY29weSkge1xuICAgICAgICAgIGlmIChjb3B5ID4gaGF2ZSkge1xuICAgICAgICAgICAgY29weSA9IGhhdmU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjb3B5ID4gbGVmdCkge1xuICAgICAgICAgICAgY29weSA9IGxlZnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjb3B5ID09PSAwKSB7XG4gICAgICAgICAgICBicmVhayBpbmZfbGVhdmU7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vLS0tIHptZW1jcHkocHV0LCBuZXh0LCBjb3B5KTsgLS0tXG4gICAgICAgICAgYXJyYXlTZXQob3V0cHV0LCBpbnB1dCwgbmV4dCwgY29weSwgcHV0KTtcbiAgICAgICAgICAvLy0tLS8vXG4gICAgICAgICAgaGF2ZSAtPSBjb3B5O1xuICAgICAgICAgIG5leHQgKz0gY29weTtcbiAgICAgICAgICBsZWZ0IC09IGNvcHk7XG4gICAgICAgICAgcHV0ICs9IGNvcHk7XG4gICAgICAgICAgc3RhdGUubGVuZ3RoIC09IGNvcHk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLy9UcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgICAgICBzdG9yZWQgZW5kXFxuXCIpKTtcbiAgICAgICAgc3RhdGUubW9kZSA9IFRZUEU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBUQUJMRTpcbiAgICAgICAgLy89PT0gTkVFREJJVFMoMTQpOyAqL1xuICAgICAgICB3aGlsZSAoYml0cyA8IDE0KSB7XG4gICAgICAgICAgaWYgKGhhdmUgPT09IDApIHtcbiAgICAgICAgICAgIGJyZWFrIGluZl9sZWF2ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgfVxuICAgICAgICAvLz09PS8vXG4gICAgICAgIHN0YXRlLm5sZW4gPSAoaG9sZCAmIDB4MWYpIC8qQklUUyg1KSovICsgMjU3O1xuICAgICAgICAvLy0tLSBEUk9QQklUUyg1KSAtLS0vL1xuICAgICAgICBob2xkID4+Pj0gNTtcbiAgICAgICAgYml0cyAtPSA1O1xuICAgICAgICAvLy0tLS8vXG4gICAgICAgIHN0YXRlLm5kaXN0ID0gKGhvbGQgJiAweDFmKSAvKkJJVFMoNSkqLyArIDE7XG4gICAgICAgIC8vLS0tIERST1BCSVRTKDUpIC0tLS8vXG4gICAgICAgIGhvbGQgPj4+PSA1O1xuICAgICAgICBiaXRzIC09IDU7XG4gICAgICAgIC8vLS0tLy9cbiAgICAgICAgc3RhdGUubmNvZGUgPSAoaG9sZCAmIDB4MGYpIC8qQklUUyg0KSovICsgNDtcbiAgICAgICAgLy8tLS0gRFJPUEJJVFMoNCkgLS0tLy9cbiAgICAgICAgaG9sZCA+Pj49IDQ7XG4gICAgICAgIGJpdHMgLT0gNDtcbiAgICAgICAgLy8tLS0vL1xuICAgICAgICAvLyNpZm5kZWYgUEtaSVBfQlVHX1dPUktBUk9VTkRcbiAgICAgICAgaWYgKHN0YXRlLm5sZW4gPiAyODYgfHwgc3RhdGUubmRpc3QgPiAzMCkge1xuICAgICAgICAgIHN0cm0ubXNnID0gJ3RvbyBtYW55IGxlbmd0aCBvciBkaXN0YW5jZSBzeW1ib2xzJztcbiAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vI2VuZGlmXG4gICAgICAgIC8vVHJhY2V2KChzdGRlcnIsIFwiaW5mbGF0ZTogICAgICAgdGFibGUgc2l6ZXMgb2tcXG5cIikpO1xuICAgICAgICBzdGF0ZS5oYXZlID0gMDtcbiAgICAgICAgc3RhdGUubW9kZSA9IExFTkxFTlM7XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgTEVOTEVOUzpcbiAgICAgICAgd2hpbGUgKHN0YXRlLmhhdmUgPCBzdGF0ZS5uY29kZSkge1xuICAgICAgICAgIC8vPT09IE5FRURCSVRTKDMpO1xuICAgICAgICAgIHdoaWxlIChiaXRzIDwgMykge1xuICAgICAgICAgICAgaWYgKGhhdmUgPT09IDApIHtcbiAgICAgICAgICAgICAgYnJlYWsgaW5mX2xlYXZlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vPT09Ly9cbiAgICAgICAgICBzdGF0ZS5sZW5zW29yZGVyW3N0YXRlLmhhdmUrK11dID0gKGhvbGQgJiAweDA3KTsgLy9CSVRTKDMpO1xuICAgICAgICAgIC8vLS0tIERST1BCSVRTKDMpIC0tLS8vXG4gICAgICAgICAgaG9sZCA+Pj49IDM7XG4gICAgICAgICAgYml0cyAtPSAzO1xuICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoc3RhdGUuaGF2ZSA8IDE5KSB7XG4gICAgICAgICAgc3RhdGUubGVuc1tvcmRlcltzdGF0ZS5oYXZlKytdXSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2UgaGF2ZSBzZXBhcmF0ZSB0YWJsZXMgJiBubyBwb2ludGVycy4gMiBjb21tZW50ZWQgbGluZXMgYmVsb3cgbm90IG5lZWRlZC5cbiAgICAgICAgLy9zdGF0ZS5uZXh0ID0gc3RhdGUuY29kZXM7XG4gICAgICAgIC8vc3RhdGUubGVuY29kZSA9IHN0YXRlLm5leHQ7XG4gICAgICAgIC8vIFN3aXRjaCB0byB1c2UgZHluYW1pYyB0YWJsZVxuICAgICAgICBzdGF0ZS5sZW5jb2RlID0gc3RhdGUubGVuZHluO1xuICAgICAgICBzdGF0ZS5sZW5iaXRzID0gNztcblxuICAgICAgICBvcHRzID0ge1xuICAgICAgICAgIGJpdHM6IHN0YXRlLmxlbmJpdHNcbiAgICAgICAgfTtcbiAgICAgICAgcmV0ID0gaW5mbGF0ZV90YWJsZShDT0RFUywgc3RhdGUubGVucywgMCwgMTksIHN0YXRlLmxlbmNvZGUsIDAsIHN0YXRlLndvcmssIG9wdHMpO1xuICAgICAgICBzdGF0ZS5sZW5iaXRzID0gb3B0cy5iaXRzO1xuXG4gICAgICAgIGlmIChyZXQpIHtcbiAgICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGNvZGUgbGVuZ3RocyBzZXQnO1xuICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLy9UcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgICAgICBjb2RlIGxlbmd0aHMgb2tcXG5cIikpO1xuICAgICAgICBzdGF0ZS5oYXZlID0gMDtcbiAgICAgICAgc3RhdGUubW9kZSA9IENPREVMRU5TO1xuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIENPREVMRU5TOlxuICAgICAgICB3aGlsZSAoc3RhdGUuaGF2ZSA8IHN0YXRlLm5sZW4gKyBzdGF0ZS5uZGlzdCkge1xuICAgICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgIGhlcmUgPSBzdGF0ZS5sZW5jb2RlW2hvbGQgJiAoKDEgPDwgc3RhdGUubGVuYml0cykgLSAxKV07IC8qQklUUyhzdGF0ZS5sZW5iaXRzKSovXG4gICAgICAgICAgICBoZXJlX2JpdHMgPSBoZXJlID4+PiAyNDtcbiAgICAgICAgICAgIGhlcmVfb3AgPSAoaGVyZSA+Pj4gMTYpICYgMHhmZjtcbiAgICAgICAgICAgIGhlcmVfdmFsID0gaGVyZSAmIDB4ZmZmZjtcblxuICAgICAgICAgICAgaWYgKChoZXJlX2JpdHMpIDw9IGJpdHMpIHtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLy0tLSBQVUxMQllURSgpIC0tLS8vXG4gICAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkge1xuICAgICAgICAgICAgICBicmVhayBpbmZfbGVhdmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGhlcmVfdmFsIDwgMTYpIHtcbiAgICAgICAgICAgIC8vLS0tIERST1BCSVRTKGhlcmUuYml0cykgLS0tLy9cbiAgICAgICAgICAgIGhvbGQgPj4+PSBoZXJlX2JpdHM7XG4gICAgICAgICAgICBiaXRzIC09IGhlcmVfYml0cztcbiAgICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICAgIHN0YXRlLmxlbnNbc3RhdGUuaGF2ZSsrXSA9IGhlcmVfdmFsO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoaGVyZV92YWwgPT09IDE2KSB7XG4gICAgICAgICAgICAgIC8vPT09IE5FRURCSVRTKGhlcmUuYml0cyArIDIpO1xuICAgICAgICAgICAgICBuID0gaGVyZV9iaXRzICsgMjtcbiAgICAgICAgICAgICAgd2hpbGUgKGJpdHMgPCBuKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhdmUgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgIGJyZWFrIGluZl9sZWF2ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAvLz09PS8vXG4gICAgICAgICAgICAgIC8vLS0tIERST1BCSVRTKGhlcmUuYml0cykgLS0tLy9cbiAgICAgICAgICAgICAgaG9sZCA+Pj49IGhlcmVfYml0cztcbiAgICAgICAgICAgICAgYml0cyAtPSBoZXJlX2JpdHM7XG4gICAgICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICAgICAgaWYgKHN0YXRlLmhhdmUgPT09IDApIHtcbiAgICAgICAgICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGJpdCBsZW5ndGggcmVwZWF0JztcbiAgICAgICAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGxlbiA9IHN0YXRlLmxlbnNbc3RhdGUuaGF2ZSAtIDFdO1xuICAgICAgICAgICAgICBjb3B5ID0gMyArIChob2xkICYgMHgwMyk7IC8vQklUUygyKTtcbiAgICAgICAgICAgICAgLy8tLS0gRFJPUEJJVFMoMikgLS0tLy9cbiAgICAgICAgICAgICAgaG9sZCA+Pj49IDI7XG4gICAgICAgICAgICAgIGJpdHMgLT0gMjtcbiAgICAgICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgICAgfSBlbHNlIGlmIChoZXJlX3ZhbCA9PT0gMTcpIHtcbiAgICAgICAgICAgICAgLy89PT0gTkVFREJJVFMoaGVyZS5iaXRzICsgMyk7XG4gICAgICAgICAgICAgIG4gPSBoZXJlX2JpdHMgKyAzO1xuICAgICAgICAgICAgICB3aGlsZSAoYml0cyA8IG4pIHtcbiAgICAgICAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgYnJlYWsgaW5mX2xlYXZlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC8vPT09Ly9cbiAgICAgICAgICAgICAgLy8tLS0gRFJPUEJJVFMoaGVyZS5iaXRzKSAtLS0vL1xuICAgICAgICAgICAgICBob2xkID4+Pj0gaGVyZV9iaXRzO1xuICAgICAgICAgICAgICBiaXRzIC09IGhlcmVfYml0cztcbiAgICAgICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgICAgICBsZW4gPSAwO1xuICAgICAgICAgICAgICBjb3B5ID0gMyArIChob2xkICYgMHgwNyk7IC8vQklUUygzKTtcbiAgICAgICAgICAgICAgLy8tLS0gRFJPUEJJVFMoMykgLS0tLy9cbiAgICAgICAgICAgICAgaG9sZCA+Pj49IDM7XG4gICAgICAgICAgICAgIGJpdHMgLT0gMztcbiAgICAgICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy89PT0gTkVFREJJVFMoaGVyZS5iaXRzICsgNyk7XG4gICAgICAgICAgICAgIG4gPSBoZXJlX2JpdHMgKyA3O1xuICAgICAgICAgICAgICB3aGlsZSAoYml0cyA8IG4pIHtcbiAgICAgICAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgYnJlYWsgaW5mX2xlYXZlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC8vPT09Ly9cbiAgICAgICAgICAgICAgLy8tLS0gRFJPUEJJVFMoaGVyZS5iaXRzKSAtLS0vL1xuICAgICAgICAgICAgICBob2xkID4+Pj0gaGVyZV9iaXRzO1xuICAgICAgICAgICAgICBiaXRzIC09IGhlcmVfYml0cztcbiAgICAgICAgICAgICAgLy8tLS0vL1xuICAgICAgICAgICAgICBsZW4gPSAwO1xuICAgICAgICAgICAgICBjb3B5ID0gMTEgKyAoaG9sZCAmIDB4N2YpOyAvL0JJVFMoNyk7XG4gICAgICAgICAgICAgIC8vLS0tIERST1BCSVRTKDcpIC0tLS8vXG4gICAgICAgICAgICAgIGhvbGQgPj4+PSA3O1xuICAgICAgICAgICAgICBiaXRzIC09IDc7XG4gICAgICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdGF0ZS5oYXZlICsgY29weSA+IHN0YXRlLm5sZW4gKyBzdGF0ZS5uZGlzdCkge1xuICAgICAgICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGJpdCBsZW5ndGggcmVwZWF0JztcbiAgICAgICAgICAgICAgc3RhdGUubW9kZSA9IEJBRDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aGlsZSAoY29weS0tKSB7XG4gICAgICAgICAgICAgIHN0YXRlLmxlbnNbc3RhdGUuaGF2ZSsrXSA9IGxlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKiBoYW5kbGUgZXJyb3IgYnJlYWtzIGluIHdoaWxlICovXG4gICAgICAgIGlmIChzdGF0ZS5tb2RlID09PSBCQUQpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qIGNoZWNrIGZvciBlbmQtb2YtYmxvY2sgY29kZSAoYmV0dGVyIGhhdmUgb25lKSAqL1xuICAgICAgICBpZiAoc3RhdGUubGVuc1syNTZdID09PSAwKSB7XG4gICAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBjb2RlIC0tIG1pc3NpbmcgZW5kLW9mLWJsb2NrJztcbiAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgLyogYnVpbGQgY29kZSB0YWJsZXMgLS0gbm90ZTogZG8gbm90IGNoYW5nZSB0aGUgbGVuYml0cyBvciBkaXN0Yml0c1xuICAgICAgICAgICB2YWx1ZXMgaGVyZSAoOSBhbmQgNikgd2l0aG91dCByZWFkaW5nIHRoZSBjb21tZW50cyBpbiBpbmZ0cmVlcy5oXG4gICAgICAgICAgIGNvbmNlcm5pbmcgdGhlIEVOT1VHSCBjb25zdGFudHMsIHdoaWNoIGRlcGVuZCBvbiB0aG9zZSB2YWx1ZXMgKi9cbiAgICAgICAgc3RhdGUubGVuYml0cyA9IDk7XG5cbiAgICAgICAgb3B0cyA9IHtcbiAgICAgICAgICBiaXRzOiBzdGF0ZS5sZW5iaXRzXG4gICAgICAgIH07XG4gICAgICAgIHJldCA9IGluZmxhdGVfdGFibGUoTEVOUywgc3RhdGUubGVucywgMCwgc3RhdGUubmxlbiwgc3RhdGUubGVuY29kZSwgMCwgc3RhdGUud29yaywgb3B0cyk7XG4gICAgICAgIC8vIFdlIGhhdmUgc2VwYXJhdGUgdGFibGVzICYgbm8gcG9pbnRlcnMuIDIgY29tbWVudGVkIGxpbmVzIGJlbG93IG5vdCBuZWVkZWQuXG4gICAgICAgIC8vIHN0YXRlLm5leHRfaW5kZXggPSBvcHRzLnRhYmxlX2luZGV4O1xuICAgICAgICBzdGF0ZS5sZW5iaXRzID0gb3B0cy5iaXRzO1xuICAgICAgICAvLyBzdGF0ZS5sZW5jb2RlID0gc3RhdGUubmV4dDtcblxuICAgICAgICBpZiAocmV0KSB7XG4gICAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBsaXRlcmFsL2xlbmd0aHMgc2V0JztcbiAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhdGUuZGlzdGJpdHMgPSA2O1xuICAgICAgICAvL3N0YXRlLmRpc3Rjb2RlLmNvcHkoc3RhdGUuY29kZXMpO1xuICAgICAgICAvLyBTd2l0Y2ggdG8gdXNlIGR5bmFtaWMgdGFibGVcbiAgICAgICAgc3RhdGUuZGlzdGNvZGUgPSBzdGF0ZS5kaXN0ZHluO1xuICAgICAgICBvcHRzID0ge1xuICAgICAgICAgIGJpdHM6IHN0YXRlLmRpc3RiaXRzXG4gICAgICAgIH07XG4gICAgICAgIHJldCA9IGluZmxhdGVfdGFibGUoRElTVFMsIHN0YXRlLmxlbnMsIHN0YXRlLm5sZW4sIHN0YXRlLm5kaXN0LCBzdGF0ZS5kaXN0Y29kZSwgMCwgc3RhdGUud29yaywgb3B0cyk7XG4gICAgICAgIC8vIFdlIGhhdmUgc2VwYXJhdGUgdGFibGVzICYgbm8gcG9pbnRlcnMuIDIgY29tbWVudGVkIGxpbmVzIGJlbG93IG5vdCBuZWVkZWQuXG4gICAgICAgIC8vIHN0YXRlLm5leHRfaW5kZXggPSBvcHRzLnRhYmxlX2luZGV4O1xuICAgICAgICBzdGF0ZS5kaXN0Yml0cyA9IG9wdHMuYml0cztcbiAgICAgICAgLy8gc3RhdGUuZGlzdGNvZGUgPSBzdGF0ZS5uZXh0O1xuXG4gICAgICAgIGlmIChyZXQpIHtcbiAgICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGRpc3RhbmNlcyBzZXQnO1xuICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLy9UcmFjZXYoKHN0ZGVyciwgJ2luZmxhdGU6ICAgICAgIGNvZGVzIG9rXFxuJykpO1xuICAgICAgICBzdGF0ZS5tb2RlID0gTEVOXztcbiAgICAgICAgaWYgKGZsdXNoID09PSBaX1RSRUVTKSB7XG4gICAgICAgICAgYnJlYWsgaW5mX2xlYXZlO1xuICAgICAgICB9XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgTEVOXzpcbiAgICAgICAgc3RhdGUubW9kZSA9IExFTjtcbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSBMRU46XG4gICAgICAgIGlmIChoYXZlID49IDYgJiYgbGVmdCA+PSAyNTgpIHtcbiAgICAgICAgICAvLy0tLSBSRVNUT1JFKCkgLS0tXG4gICAgICAgICAgc3RybS5uZXh0X291dCA9IHB1dDtcbiAgICAgICAgICBzdHJtLmF2YWlsX291dCA9IGxlZnQ7XG4gICAgICAgICAgc3RybS5uZXh0X2luID0gbmV4dDtcbiAgICAgICAgICBzdHJtLmF2YWlsX2luID0gaGF2ZTtcbiAgICAgICAgICBzdGF0ZS5ob2xkID0gaG9sZDtcbiAgICAgICAgICBzdGF0ZS5iaXRzID0gYml0cztcbiAgICAgICAgICAvLy0tLVxuICAgICAgICAgIGluZmxhdGVfZmFzdChzdHJtLCBfb3V0KTtcbiAgICAgICAgICAvLy0tLSBMT0FEKCkgLS0tXG4gICAgICAgICAgcHV0ID0gc3RybS5uZXh0X291dDtcbiAgICAgICAgICBvdXRwdXQgPSBzdHJtLm91dHB1dDtcbiAgICAgICAgICBsZWZ0ID0gc3RybS5hdmFpbF9vdXQ7XG4gICAgICAgICAgbmV4dCA9IHN0cm0ubmV4dF9pbjtcbiAgICAgICAgICBpbnB1dCA9IHN0cm0uaW5wdXQ7XG4gICAgICAgICAgaGF2ZSA9IHN0cm0uYXZhaWxfaW47XG4gICAgICAgICAgaG9sZCA9IHN0YXRlLmhvbGQ7XG4gICAgICAgICAgYml0cyA9IHN0YXRlLmJpdHM7XG4gICAgICAgICAgLy8tLS1cblxuICAgICAgICAgIGlmIChzdGF0ZS5tb2RlID09PSBUWVBFKSB7XG4gICAgICAgICAgICBzdGF0ZS5iYWNrID0gLTE7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLmJhY2sgPSAwO1xuICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgaGVyZSA9IHN0YXRlLmxlbmNvZGVbaG9sZCAmICgoMSA8PCBzdGF0ZS5sZW5iaXRzKSAtIDEpXTsgLypCSVRTKHN0YXRlLmxlbmJpdHMpKi9cbiAgICAgICAgICBoZXJlX2JpdHMgPSBoZXJlID4+PiAyNDtcbiAgICAgICAgICBoZXJlX29wID0gKGhlcmUgPj4+IDE2KSAmIDB4ZmY7XG4gICAgICAgICAgaGVyZV92YWwgPSBoZXJlICYgMHhmZmZmO1xuXG4gICAgICAgICAgaWYgKGhlcmVfYml0cyA8PSBiaXRzKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8tLS0gUFVMTEJZVEUoKSAtLS0vL1xuICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7XG4gICAgICAgICAgICBicmVhayBpbmZfbGVhdmU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICBob2xkICs9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgLy8tLS0vL1xuICAgICAgICB9XG4gICAgICAgIGlmIChoZXJlX29wICYmIChoZXJlX29wICYgMHhmMCkgPT09IDApIHtcbiAgICAgICAgICBsYXN0X2JpdHMgPSBoZXJlX2JpdHM7XG4gICAgICAgICAgbGFzdF9vcCA9IGhlcmVfb3A7XG4gICAgICAgICAgbGFzdF92YWwgPSBoZXJlX3ZhbDtcbiAgICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICBoZXJlID0gc3RhdGUubGVuY29kZVtsYXN0X3ZhbCArXG4gICAgICAgICAgICAgICgoaG9sZCAmICgoMSA8PCAobGFzdF9iaXRzICsgbGFzdF9vcCkpIC0gMSkpIC8qQklUUyhsYXN0LmJpdHMgKyBsYXN0Lm9wKSovID4+IGxhc3RfYml0cyldO1xuICAgICAgICAgICAgaGVyZV9iaXRzID0gaGVyZSA+Pj4gMjQ7XG4gICAgICAgICAgICBoZXJlX29wID0gKGhlcmUgPj4+IDE2KSAmIDB4ZmY7XG4gICAgICAgICAgICBoZXJlX3ZhbCA9IGhlcmUgJiAweGZmZmY7XG5cbiAgICAgICAgICAgIGlmICgobGFzdF9iaXRzICsgaGVyZV9iaXRzKSA8PSBiaXRzKSB7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8tLS0gUFVMTEJZVEUoKSAtLS0vL1xuICAgICAgICAgICAgaWYgKGhhdmUgPT09IDApIHtcbiAgICAgICAgICAgICAgYnJlYWsgaW5mX2xlYXZlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgICAvLy0tLS8vXG4gICAgICAgICAgfVxuICAgICAgICAgIC8vLS0tIERST1BCSVRTKGxhc3QuYml0cykgLS0tLy9cbiAgICAgICAgICBob2xkID4+Pj0gbGFzdF9iaXRzO1xuICAgICAgICAgIGJpdHMgLT0gbGFzdF9iaXRzO1xuICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICBzdGF0ZS5iYWNrICs9IGxhc3RfYml0cztcbiAgICAgICAgfVxuICAgICAgICAvLy0tLSBEUk9QQklUUyhoZXJlLmJpdHMpIC0tLS8vXG4gICAgICAgIGhvbGQgPj4+PSBoZXJlX2JpdHM7XG4gICAgICAgIGJpdHMgLT0gaGVyZV9iaXRzO1xuICAgICAgICAvLy0tLS8vXG4gICAgICAgIHN0YXRlLmJhY2sgKz0gaGVyZV9iaXRzO1xuICAgICAgICBzdGF0ZS5sZW5ndGggPSBoZXJlX3ZhbDtcbiAgICAgICAgaWYgKGhlcmVfb3AgPT09IDApIHtcbiAgICAgICAgICAvL1RyYWNldnYoKHN0ZGVyciwgaGVyZS52YWwgPj0gMHgyMCAmJiBoZXJlLnZhbCA8IDB4N2YgP1xuICAgICAgICAgIC8vICAgICAgICBcImluZmxhdGU6ICAgICAgICAgbGl0ZXJhbCAnJWMnXFxuXCIgOlxuICAgICAgICAgIC8vICAgICAgICBcImluZmxhdGU6ICAgICAgICAgbGl0ZXJhbCAweCUwMnhcXG5cIiwgaGVyZS52YWwpKTtcbiAgICAgICAgICBzdGF0ZS5tb2RlID0gTElUO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoZXJlX29wICYgMzIpIHtcbiAgICAgICAgICAvL1RyYWNldnYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgICAgICAgIGVuZCBvZiBibG9ja1xcblwiKSk7XG4gICAgICAgICAgc3RhdGUuYmFjayA9IC0xO1xuICAgICAgICAgIHN0YXRlLm1vZGUgPSBUWVBFO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoZXJlX29wICYgNjQpIHtcbiAgICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGxpdGVyYWwvbGVuZ3RoIGNvZGUnO1xuICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUuZXh0cmEgPSBoZXJlX29wICYgMTU7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBMRU5FWFQ7XG4gICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgTEVORVhUOlxuICAgICAgICBpZiAoc3RhdGUuZXh0cmEpIHtcbiAgICAgICAgICAvLz09PSBORUVEQklUUyhzdGF0ZS5leHRyYSk7XG4gICAgICAgICAgbiA9IHN0YXRlLmV4dHJhO1xuICAgICAgICAgIHdoaWxlIChiaXRzIDwgbikge1xuICAgICAgICAgICAgaWYgKGhhdmUgPT09IDApIHtcbiAgICAgICAgICAgICAgYnJlYWsgaW5mX2xlYXZlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vPT09Ly9cbiAgICAgICAgICBzdGF0ZS5sZW5ndGggKz0gaG9sZCAmICgoMSA8PCBzdGF0ZS5leHRyYSkgLSAxKSAvKkJJVFMoc3RhdGUuZXh0cmEpKi8gO1xuICAgICAgICAgIC8vLS0tIERST1BCSVRTKHN0YXRlLmV4dHJhKSAtLS0vL1xuICAgICAgICAgIGhvbGQgPj4+PSBzdGF0ZS5leHRyYTtcbiAgICAgICAgICBiaXRzIC09IHN0YXRlLmV4dHJhO1xuICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICBzdGF0ZS5iYWNrICs9IHN0YXRlLmV4dHJhO1xuICAgICAgICB9XG4gICAgICAgIC8vVHJhY2V2digoc3RkZXJyLCBcImluZmxhdGU6ICAgICAgICAgbGVuZ3RoICV1XFxuXCIsIHN0YXRlLmxlbmd0aCkpO1xuICAgICAgICBzdGF0ZS53YXMgPSBzdGF0ZS5sZW5ndGg7XG4gICAgICAgIHN0YXRlLm1vZGUgPSBESVNUO1xuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIERJU1Q6XG4gICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICBoZXJlID0gc3RhdGUuZGlzdGNvZGVbaG9sZCAmICgoMSA8PCBzdGF0ZS5kaXN0Yml0cykgLSAxKV07IC8qQklUUyhzdGF0ZS5kaXN0Yml0cykqL1xuICAgICAgICAgIGhlcmVfYml0cyA9IGhlcmUgPj4+IDI0O1xuICAgICAgICAgIGhlcmVfb3AgPSAoaGVyZSA+Pj4gMTYpICYgMHhmZjtcbiAgICAgICAgICBoZXJlX3ZhbCA9IGhlcmUgJiAweGZmZmY7XG5cbiAgICAgICAgICBpZiAoKGhlcmVfYml0cykgPD0gYml0cykge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vLS0tIFBVTExCWVRFKCkgLS0tLy9cbiAgICAgICAgICBpZiAoaGF2ZSA9PT0gMCkge1xuICAgICAgICAgICAgYnJlYWsgaW5mX2xlYXZlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBoYXZlLS07XG4gICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgfVxuICAgICAgICBpZiAoKGhlcmVfb3AgJiAweGYwKSA9PT0gMCkge1xuICAgICAgICAgIGxhc3RfYml0cyA9IGhlcmVfYml0cztcbiAgICAgICAgICBsYXN0X29wID0gaGVyZV9vcDtcbiAgICAgICAgICBsYXN0X3ZhbCA9IGhlcmVfdmFsO1xuICAgICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgIGhlcmUgPSBzdGF0ZS5kaXN0Y29kZVtsYXN0X3ZhbCArXG4gICAgICAgICAgICAgICgoaG9sZCAmICgoMSA8PCAobGFzdF9iaXRzICsgbGFzdF9vcCkpIC0gMSkpIC8qQklUUyhsYXN0LmJpdHMgKyBsYXN0Lm9wKSovID4+IGxhc3RfYml0cyldO1xuICAgICAgICAgICAgaGVyZV9iaXRzID0gaGVyZSA+Pj4gMjQ7XG4gICAgICAgICAgICBoZXJlX29wID0gKGhlcmUgPj4+IDE2KSAmIDB4ZmY7XG4gICAgICAgICAgICBoZXJlX3ZhbCA9IGhlcmUgJiAweGZmZmY7XG5cbiAgICAgICAgICAgIGlmICgobGFzdF9iaXRzICsgaGVyZV9iaXRzKSA8PSBiaXRzKSB7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8tLS0gUFVMTEJZVEUoKSAtLS0vL1xuICAgICAgICAgICAgaWYgKGhhdmUgPT09IDApIHtcbiAgICAgICAgICAgICAgYnJlYWsgaW5mX2xlYXZlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgICAvLy0tLS8vXG4gICAgICAgICAgfVxuICAgICAgICAgIC8vLS0tIERST1BCSVRTKGxhc3QuYml0cykgLS0tLy9cbiAgICAgICAgICBob2xkID4+Pj0gbGFzdF9iaXRzO1xuICAgICAgICAgIGJpdHMgLT0gbGFzdF9iaXRzO1xuICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICBzdGF0ZS5iYWNrICs9IGxhc3RfYml0cztcbiAgICAgICAgfVxuICAgICAgICAvLy0tLSBEUk9QQklUUyhoZXJlLmJpdHMpIC0tLS8vXG4gICAgICAgIGhvbGQgPj4+PSBoZXJlX2JpdHM7XG4gICAgICAgIGJpdHMgLT0gaGVyZV9iaXRzO1xuICAgICAgICAvLy0tLS8vXG4gICAgICAgIHN0YXRlLmJhY2sgKz0gaGVyZV9iaXRzO1xuICAgICAgICBpZiAoaGVyZV9vcCAmIDY0KSB7XG4gICAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBkaXN0YW5jZSBjb2RlJztcbiAgICAgICAgICBzdGF0ZS5tb2RlID0gQkFEO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLm9mZnNldCA9IGhlcmVfdmFsO1xuICAgICAgICBzdGF0ZS5leHRyYSA9IChoZXJlX29wKSAmIDE1O1xuICAgICAgICBzdGF0ZS5tb2RlID0gRElTVEVYVDtcbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSBESVNURVhUOlxuICAgICAgICBpZiAoc3RhdGUuZXh0cmEpIHtcbiAgICAgICAgICAvLz09PSBORUVEQklUUyhzdGF0ZS5leHRyYSk7XG4gICAgICAgICAgbiA9IHN0YXRlLmV4dHJhO1xuICAgICAgICAgIHdoaWxlIChiaXRzIDwgbikge1xuICAgICAgICAgICAgaWYgKGhhdmUgPT09IDApIHtcbiAgICAgICAgICAgICAgYnJlYWsgaW5mX2xlYXZlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgICAgaG9sZCArPSBpbnB1dFtuZXh0KytdIDw8IGJpdHM7XG4gICAgICAgICAgICBiaXRzICs9IDg7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vPT09Ly9cbiAgICAgICAgICBzdGF0ZS5vZmZzZXQgKz0gaG9sZCAmICgoMSA8PCBzdGF0ZS5leHRyYSkgLSAxKSAvKkJJVFMoc3RhdGUuZXh0cmEpKi8gO1xuICAgICAgICAgIC8vLS0tIERST1BCSVRTKHN0YXRlLmV4dHJhKSAtLS0vL1xuICAgICAgICAgIGhvbGQgPj4+PSBzdGF0ZS5leHRyYTtcbiAgICAgICAgICBiaXRzIC09IHN0YXRlLmV4dHJhO1xuICAgICAgICAgIC8vLS0tLy9cbiAgICAgICAgICBzdGF0ZS5iYWNrICs9IHN0YXRlLmV4dHJhO1xuICAgICAgICB9XG4gICAgICAgIC8vI2lmZGVmIElORkxBVEVfU1RSSUNUXG4gICAgICAgIGlmIChzdGF0ZS5vZmZzZXQgPiBzdGF0ZS5kbWF4KSB7XG4gICAgICAgICAgc3RybS5tc2cgPSAnaW52YWxpZCBkaXN0YW5jZSB0b28gZmFyIGJhY2snO1xuICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLy8jZW5kaWZcbiAgICAgICAgLy9UcmFjZXZ2KChzdGRlcnIsIFwiaW5mbGF0ZTogICAgICAgICBkaXN0YW5jZSAldVxcblwiLCBzdGF0ZS5vZmZzZXQpKTtcbiAgICAgICAgc3RhdGUubW9kZSA9IE1BVENIO1xuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIE1BVENIOlxuICAgICAgICBpZiAobGVmdCA9PT0gMCkge1xuICAgICAgICAgIGJyZWFrIGluZl9sZWF2ZTtcbiAgICAgICAgfVxuICAgICAgICBjb3B5ID0gX291dCAtIGxlZnQ7XG4gICAgICAgIGlmIChzdGF0ZS5vZmZzZXQgPiBjb3B5KSB7IC8qIGNvcHkgZnJvbSB3aW5kb3cgKi9cbiAgICAgICAgICBjb3B5ID0gc3RhdGUub2Zmc2V0IC0gY29weTtcbiAgICAgICAgICBpZiAoY29weSA+IHN0YXRlLndoYXZlKSB7XG4gICAgICAgICAgICBpZiAoc3RhdGUuc2FuZSkge1xuICAgICAgICAgICAgICBzdHJtLm1zZyA9ICdpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFjayc7XG4gICAgICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gKCEpIFRoaXMgYmxvY2sgaXMgZGlzYWJsZWQgaW4gemxpYiBkZWZhaWx0cyxcbiAgICAgICAgICAgIC8vIGRvbid0IGVuYWJsZSBpdCBmb3IgYmluYXJ5IGNvbXBhdGliaWxpdHlcbiAgICAgICAgICAgIC8vI2lmZGVmIElORkxBVEVfQUxMT1dfSU5WQUxJRF9ESVNUQU5DRV9UT09GQVJfQVJSUlxuICAgICAgICAgICAgLy8gICAgICAgICAgVHJhY2UoKHN0ZGVyciwgXCJpbmZsYXRlLmMgdG9vIGZhclxcblwiKSk7XG4gICAgICAgICAgICAvLyAgICAgICAgICBjb3B5IC09IHN0YXRlLndoYXZlO1xuICAgICAgICAgICAgLy8gICAgICAgICAgaWYgKGNvcHkgPiBzdGF0ZS5sZW5ndGgpIHsgY29weSA9IHN0YXRlLmxlbmd0aDsgfVxuICAgICAgICAgICAgLy8gICAgICAgICAgaWYgKGNvcHkgPiBsZWZ0KSB7IGNvcHkgPSBsZWZ0OyB9XG4gICAgICAgICAgICAvLyAgICAgICAgICBsZWZ0IC09IGNvcHk7XG4gICAgICAgICAgICAvLyAgICAgICAgICBzdGF0ZS5sZW5ndGggLT0gY29weTtcbiAgICAgICAgICAgIC8vICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgb3V0cHV0W3B1dCsrXSA9IDA7XG4gICAgICAgICAgICAvLyAgICAgICAgICB9IHdoaWxlICgtLWNvcHkpO1xuICAgICAgICAgICAgLy8gICAgICAgICAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCkgeyBzdGF0ZS5tb2RlID0gTEVOOyB9XG4gICAgICAgICAgICAvLyAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8vI2VuZGlmXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjb3B5ID4gc3RhdGUud25leHQpIHtcbiAgICAgICAgICAgIGNvcHkgLT0gc3RhdGUud25leHQ7XG4gICAgICAgICAgICBmcm9tID0gc3RhdGUud3NpemUgLSBjb3B5O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmcm9tID0gc3RhdGUud25leHQgLSBjb3B5O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY29weSA+IHN0YXRlLmxlbmd0aCkge1xuICAgICAgICAgICAgY29weSA9IHN0YXRlLmxlbmd0aDtcbiAgICAgICAgICB9XG4gICAgICAgICAgZnJvbV9zb3VyY2UgPSBzdGF0ZS53aW5kb3c7XG4gICAgICAgIH0gZWxzZSB7IC8qIGNvcHkgZnJvbSBvdXRwdXQgKi9cbiAgICAgICAgICBmcm9tX3NvdXJjZSA9IG91dHB1dDtcbiAgICAgICAgICBmcm9tID0gcHV0IC0gc3RhdGUub2Zmc2V0O1xuICAgICAgICAgIGNvcHkgPSBzdGF0ZS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvcHkgPiBsZWZ0KSB7XG4gICAgICAgICAgY29weSA9IGxlZnQ7XG4gICAgICAgIH1cbiAgICAgICAgbGVmdCAtPSBjb3B5O1xuICAgICAgICBzdGF0ZS5sZW5ndGggLT0gY29weTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgIG91dHB1dFtwdXQrK10gPSBmcm9tX3NvdXJjZVtmcm9tKytdO1xuICAgICAgICB9IHdoaWxlICgtLWNvcHkpO1xuICAgICAgICBpZiAoc3RhdGUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgc3RhdGUubW9kZSA9IExFTjtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgTElUOlxuICAgICAgICBpZiAobGVmdCA9PT0gMCkge1xuICAgICAgICAgIGJyZWFrIGluZl9sZWF2ZTtcbiAgICAgICAgfVxuICAgICAgICBvdXRwdXRbcHV0KytdID0gc3RhdGUubGVuZ3RoO1xuICAgICAgICBsZWZ0LS07XG4gICAgICAgIHN0YXRlLm1vZGUgPSBMRU47XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDSEVDSzpcbiAgICAgICAgaWYgKHN0YXRlLndyYXApIHtcbiAgICAgICAgICAvLz09PSBORUVEQklUUygzMik7XG4gICAgICAgICAgd2hpbGUgKGJpdHMgPCAzMikge1xuICAgICAgICAgICAgaWYgKGhhdmUgPT09IDApIHtcbiAgICAgICAgICAgICAgYnJlYWsgaW5mX2xlYXZlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaGF2ZS0tO1xuICAgICAgICAgICAgLy8gVXNlICd8JyBpbnNkZWFkIG9mICcrJyB0byBtYWtlIHN1cmUgdGhhdCByZXN1bHQgaXMgc2lnbmVkXG4gICAgICAgICAgICBob2xkIHw9IGlucHV0W25leHQrK10gPDwgYml0cztcbiAgICAgICAgICAgIGJpdHMgKz0gODtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy89PT0vL1xuICAgICAgICAgIF9vdXQgLT0gbGVmdDtcbiAgICAgICAgICBzdHJtLnRvdGFsX291dCArPSBfb3V0O1xuICAgICAgICAgIHN0YXRlLnRvdGFsICs9IF9vdXQ7XG4gICAgICAgICAgaWYgKF9vdXQpIHtcbiAgICAgICAgICAgIHN0cm0uYWRsZXIgPSBzdGF0ZS5jaGVjayA9XG4gICAgICAgICAgICAgIC8qVVBEQVRFKHN0YXRlLmNoZWNrLCBwdXQgLSBfb3V0LCBfb3V0KTsqL1xuICAgICAgICAgICAgICAoc3RhdGUuZmxhZ3MgPyBjcmMzMihzdGF0ZS5jaGVjaywgb3V0cHV0LCBfb3V0LCBwdXQgLSBfb3V0KSA6IGFkbGVyMzIoc3RhdGUuY2hlY2ssIG91dHB1dCwgX291dCwgcHV0IC0gX291dCkpO1xuXG4gICAgICAgICAgfVxuICAgICAgICAgIF9vdXQgPSBsZWZ0O1xuICAgICAgICAgIC8vIE5COiBjcmMzMiBzdG9yZWQgYXMgc2lnbmVkIDMyLWJpdCBpbnQsIHpzd2FwMzIgcmV0dXJucyBzaWduZWQgdG9vXG4gICAgICAgICAgaWYgKChzdGF0ZS5mbGFncyA/IGhvbGQgOiB6c3dhcDMyKGhvbGQpKSAhPT0gc3RhdGUuY2hlY2spIHtcbiAgICAgICAgICAgIHN0cm0ubXNnID0gJ2luY29ycmVjdCBkYXRhIGNoZWNrJztcbiAgICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgLy89PT0gSU5JVEJJVFMoKTtcbiAgICAgICAgICBob2xkID0gMDtcbiAgICAgICAgICBiaXRzID0gMDtcbiAgICAgICAgICAvLz09PS8vXG4gICAgICAgICAgLy9UcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgIGNoZWNrIG1hdGNoZXMgdHJhaWxlclxcblwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUubW9kZSA9IExFTkdUSDtcbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSBMRU5HVEg6XG4gICAgICAgIGlmIChzdGF0ZS53cmFwICYmIHN0YXRlLmZsYWdzKSB7XG4gICAgICAgICAgLy89PT0gTkVFREJJVFMoMzIpO1xuICAgICAgICAgIHdoaWxlIChiaXRzIDwgMzIpIHtcbiAgICAgICAgICAgIGlmIChoYXZlID09PSAwKSB7XG4gICAgICAgICAgICAgIGJyZWFrIGluZl9sZWF2ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGhhdmUtLTtcbiAgICAgICAgICAgIGhvbGQgKz0gaW5wdXRbbmV4dCsrXSA8PCBiaXRzO1xuICAgICAgICAgICAgYml0cyArPSA4O1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLz09PS8vXG4gICAgICAgICAgaWYgKGhvbGQgIT09IChzdGF0ZS50b3RhbCAmIDB4ZmZmZmZmZmYpKSB7XG4gICAgICAgICAgICBzdHJtLm1zZyA9ICdpbmNvcnJlY3QgbGVuZ3RoIGNoZWNrJztcbiAgICAgICAgICAgIHN0YXRlLm1vZGUgPSBCQUQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgLy89PT0gSU5JVEJJVFMoKTtcbiAgICAgICAgICBob2xkID0gMDtcbiAgICAgICAgICBiaXRzID0gMDtcbiAgICAgICAgICAvLz09PS8vXG4gICAgICAgICAgLy9UcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgIGxlbmd0aCBtYXRjaGVzIHRyYWlsZXJcXG5cIikpO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLm1vZGUgPSBET05FO1xuICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlIERPTkU6XG4gICAgICAgIHJldCA9IFpfU1RSRUFNX0VORDtcbiAgICAgICAgYnJlYWsgaW5mX2xlYXZlO1xuICAgICAgY2FzZSBCQUQ6XG4gICAgICAgIHJldCA9IFpfREFUQV9FUlJPUjtcbiAgICAgICAgYnJlYWsgaW5mX2xlYXZlO1xuICAgICAgY2FzZSBNRU06XG4gICAgICAgIHJldHVybiBaX01FTV9FUlJPUjtcbiAgICAgIGNhc2UgU1lOQzpcbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIFpfU1RSRUFNX0VSUk9SO1xuICAgICAgfVxuICAgIH1cblxuICAvLyBpbmZfbGVhdmUgPC0gaGVyZSBpcyByZWFsIHBsYWNlIGZvciBcImdvdG8gaW5mX2xlYXZlXCIsIGVtdWxhdGVkIHZpYSBcImJyZWFrIGluZl9sZWF2ZVwiXG5cbiAgLypcbiAgICAgUmV0dXJuIGZyb20gaW5mbGF0ZSgpLCB1cGRhdGluZyB0aGUgdG90YWwgY291bnRzIGFuZCB0aGUgY2hlY2sgdmFsdWUuXG4gICAgIElmIHRoZXJlIHdhcyBubyBwcm9ncmVzcyBkdXJpbmcgdGhlIGluZmxhdGUoKSBjYWxsLCByZXR1cm4gYSBidWZmZXJcbiAgICAgZXJyb3IuICBDYWxsIHVwZGF0ZXdpbmRvdygpIHRvIGNyZWF0ZSBhbmQvb3IgdXBkYXRlIHRoZSB3aW5kb3cgc3RhdGUuXG4gICAgIE5vdGU6IGEgbWVtb3J5IGVycm9yIGZyb20gaW5mbGF0ZSgpIGlzIG5vbi1yZWNvdmVyYWJsZS5cbiAgICovXG5cbiAgLy8tLS0gUkVTVE9SRSgpIC0tLVxuICBzdHJtLm5leHRfb3V0ID0gcHV0O1xuICBzdHJtLmF2YWlsX291dCA9IGxlZnQ7XG4gIHN0cm0ubmV4dF9pbiA9IG5leHQ7XG4gIHN0cm0uYXZhaWxfaW4gPSBoYXZlO1xuICBzdGF0ZS5ob2xkID0gaG9sZDtcbiAgc3RhdGUuYml0cyA9IGJpdHM7XG4gIC8vLS0tXG5cbiAgaWYgKHN0YXRlLndzaXplIHx8IChfb3V0ICE9PSBzdHJtLmF2YWlsX291dCAmJiBzdGF0ZS5tb2RlIDwgQkFEICYmXG4gICAgICAoc3RhdGUubW9kZSA8IENIRUNLIHx8IGZsdXNoICE9PSBaX0ZJTklTSCkpKSB7XG4gICAgaWYgKHVwZGF0ZXdpbmRvdyhzdHJtLCBzdHJtLm91dHB1dCwgc3RybS5uZXh0X291dCwgX291dCAtIHN0cm0uYXZhaWxfb3V0KSkge1xuICAgICAgc3RhdGUubW9kZSA9IE1FTTtcbiAgICAgIHJldHVybiBaX01FTV9FUlJPUjtcbiAgICB9XG4gIH1cbiAgX2luIC09IHN0cm0uYXZhaWxfaW47XG4gIF9vdXQgLT0gc3RybS5hdmFpbF9vdXQ7XG4gIHN0cm0udG90YWxfaW4gKz0gX2luO1xuICBzdHJtLnRvdGFsX291dCArPSBfb3V0O1xuICBzdGF0ZS50b3RhbCArPSBfb3V0O1xuICBpZiAoc3RhdGUud3JhcCAmJiBfb3V0KSB7XG4gICAgc3RybS5hZGxlciA9IHN0YXRlLmNoZWNrID0gLypVUERBVEUoc3RhdGUuY2hlY2ssIHN0cm0ubmV4dF9vdXQgLSBfb3V0LCBfb3V0KTsqL1xuICAgICAgKHN0YXRlLmZsYWdzID8gY3JjMzIoc3RhdGUuY2hlY2ssIG91dHB1dCwgX291dCwgc3RybS5uZXh0X291dCAtIF9vdXQpIDogYWRsZXIzMihzdGF0ZS5jaGVjaywgb3V0cHV0LCBfb3V0LCBzdHJtLm5leHRfb3V0IC0gX291dCkpO1xuICB9XG4gIHN0cm0uZGF0YV90eXBlID0gc3RhdGUuYml0cyArIChzdGF0ZS5sYXN0ID8gNjQgOiAwKSArXG4gICAgKHN0YXRlLm1vZGUgPT09IFRZUEUgPyAxMjggOiAwKSArXG4gICAgKHN0YXRlLm1vZGUgPT09IExFTl8gfHwgc3RhdGUubW9kZSA9PT0gQ09QWV8gPyAyNTYgOiAwKTtcbiAgaWYgKCgoX2luID09PSAwICYmIF9vdXQgPT09IDApIHx8IGZsdXNoID09PSBaX0ZJTklTSCkgJiYgcmV0ID09PSBaX09LKSB7XG4gICAgcmV0ID0gWl9CVUZfRVJST1I7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluZmxhdGVFbmQoc3RybSkge1xuXG4gIGlmICghc3RybSB8fCAhc3RybS5zdGF0ZSAvKnx8IHN0cm0tPnpmcmVlID09IChmcmVlX2Z1bmMpMCovICkge1xuICAgIHJldHVybiBaX1NUUkVBTV9FUlJPUjtcbiAgfVxuXG4gIHZhciBzdGF0ZSA9IHN0cm0uc3RhdGU7XG4gIGlmIChzdGF0ZS53aW5kb3cpIHtcbiAgICBzdGF0ZS53aW5kb3cgPSBudWxsO1xuICB9XG4gIHN0cm0uc3RhdGUgPSBudWxsO1xuICByZXR1cm4gWl9PSztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluZmxhdGVHZXRIZWFkZXIoc3RybSwgaGVhZCkge1xuICB2YXIgc3RhdGU7XG5cbiAgLyogY2hlY2sgc3RhdGUgKi9cbiAgaWYgKCFzdHJtIHx8ICFzdHJtLnN0YXRlKSB7XG4gICAgcmV0dXJuIFpfU1RSRUFNX0VSUk9SO1xuICB9XG4gIHN0YXRlID0gc3RybS5zdGF0ZTtcbiAgaWYgKChzdGF0ZS53cmFwICYgMikgPT09IDApIHtcbiAgICByZXR1cm4gWl9TVFJFQU1fRVJST1I7XG4gIH1cblxuICAvKiBzYXZlIGhlYWRlciBzdHJ1Y3R1cmUgKi9cbiAgc3RhdGUuaGVhZCA9IGhlYWQ7XG4gIGhlYWQuZG9uZSA9IGZhbHNlO1xuICByZXR1cm4gWl9PSztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluZmxhdGVTZXREaWN0aW9uYXJ5KHN0cm0sIGRpY3Rpb25hcnkpIHtcbiAgdmFyIGRpY3RMZW5ndGggPSBkaWN0aW9uYXJ5Lmxlbmd0aDtcblxuICB2YXIgc3RhdGU7XG4gIHZhciBkaWN0aWQ7XG4gIHZhciByZXQ7XG5cbiAgLyogY2hlY2sgc3RhdGUgKi9cbiAgaWYgKCFzdHJtIC8qID09IFpfTlVMTCAqLyB8fCAhc3RybS5zdGF0ZSAvKiA9PSBaX05VTEwgKi8gKSB7XG4gICAgcmV0dXJuIFpfU1RSRUFNX0VSUk9SO1xuICB9XG4gIHN0YXRlID0gc3RybS5zdGF0ZTtcblxuICBpZiAoc3RhdGUud3JhcCAhPT0gMCAmJiBzdGF0ZS5tb2RlICE9PSBESUNUKSB7XG4gICAgcmV0dXJuIFpfU1RSRUFNX0VSUk9SO1xuICB9XG5cbiAgLyogY2hlY2sgZm9yIGNvcnJlY3QgZGljdGlvbmFyeSBpZGVudGlmaWVyICovXG4gIGlmIChzdGF0ZS5tb2RlID09PSBESUNUKSB7XG4gICAgZGljdGlkID0gMTsgLyogYWRsZXIzMigwLCBudWxsLCAwKSovXG4gICAgLyogZGljdGlkID0gYWRsZXIzMihkaWN0aWQsIGRpY3Rpb25hcnksIGRpY3RMZW5ndGgpOyAqL1xuICAgIGRpY3RpZCA9IGFkbGVyMzIoZGljdGlkLCBkaWN0aW9uYXJ5LCBkaWN0TGVuZ3RoLCAwKTtcbiAgICBpZiAoZGljdGlkICE9PSBzdGF0ZS5jaGVjaykge1xuICAgICAgcmV0dXJuIFpfREFUQV9FUlJPUjtcbiAgICB9XG4gIH1cbiAgLyogY29weSBkaWN0aW9uYXJ5IHRvIHdpbmRvdyB1c2luZyB1cGRhdGV3aW5kb3coKSwgd2hpY2ggd2lsbCBhbWVuZCB0aGVcbiAgIGV4aXN0aW5nIGRpY3Rpb25hcnkgaWYgYXBwcm9wcmlhdGUgKi9cbiAgcmV0ID0gdXBkYXRld2luZG93KHN0cm0sIGRpY3Rpb25hcnksIGRpY3RMZW5ndGgsIGRpY3RMZW5ndGgpO1xuICBpZiAocmV0KSB7XG4gICAgc3RhdGUubW9kZSA9IE1FTTtcbiAgICByZXR1cm4gWl9NRU1fRVJST1I7XG4gIH1cbiAgc3RhdGUuaGF2ZWRpY3QgPSAxO1xuICAvLyBUcmFjZXYoKHN0ZGVyciwgXCJpbmZsYXRlOiAgIGRpY3Rpb25hcnkgc2V0XFxuXCIpKTtcbiAgcmV0dXJuIFpfT0s7XG59XG5cbmV4cG9ydCB2YXIgaW5mbGF0ZUluZm8gPSAncGFrbyBpbmZsYXRlIChmcm9tIE5vZGVjYSBwcm9qZWN0KSc7XG5cbi8qIE5vdCBpbXBsZW1lbnRlZFxuZXhwb3J0cy5pbmZsYXRlQ29weSA9IGluZmxhdGVDb3B5O1xuZXhwb3J0cy5pbmZsYXRlR2V0RGljdGlvbmFyeSA9IGluZmxhdGVHZXREaWN0aW9uYXJ5O1xuZXhwb3J0cy5pbmZsYXRlTWFyayA9IGluZmxhdGVNYXJrO1xuZXhwb3J0cy5pbmZsYXRlUHJpbWUgPSBpbmZsYXRlUHJpbWU7XG5leHBvcnRzLmluZmxhdGVTeW5jID0gaW5mbGF0ZVN5bmM7XG5leHBvcnRzLmluZmxhdGVTeW5jUG9pbnQgPSBpbmZsYXRlU3luY1BvaW50O1xuZXhwb3J0cy5pbmZsYXRlVW5kZXJtaW5lID0gaW5mbGF0ZVVuZGVybWluZTtcbiovXG4iLCAiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbmltcG9ydCB7VHJhbnNmb3JtfSBmcm9tICdzdHJlYW0nO1xuaW1wb3J0ICogYXMgX2JpbmRpbmcgZnJvbSAnLi96bGliLWxpYi9iaW5kaW5nJztcbmltcG9ydCB7aW5oZXJpdHN9IGZyb20gJ3V0aWwnO1xuZnVuY3Rpb24gYXNzZXJ0IChhLCBtc2cpIHtcbiAgaWYgKCFhKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gIH1cbn1cbnZhciBiaW5kaW5nID0ge307XG5PYmplY3Qua2V5cyhfYmluZGluZykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gIGJpbmRpbmdba2V5XSA9IF9iaW5kaW5nW2tleV07XG59KTtcbi8vIHpsaWIgZG9lc24ndCBwcm92aWRlIHRoZXNlLCBzbyBrbHVkZ2UgdGhlbSBpbiBmb2xsb3dpbmcgdGhlIHNhbWVcbi8vIGNvbnN0IG5hbWluZyBzY2hlbWUgemxpYiB1c2VzLlxuYmluZGluZy5aX01JTl9XSU5ET1dCSVRTID0gODtcbmJpbmRpbmcuWl9NQVhfV0lORE9XQklUUyA9IDE1O1xuYmluZGluZy5aX0RFRkFVTFRfV0lORE9XQklUUyA9IDE1O1xuXG4vLyBmZXdlciB0aGFuIDY0IGJ5dGVzIHBlciBjaHVuayBpcyBzdHVwaWQuXG4vLyB0ZWNobmljYWxseSBpdCBjb3VsZCB3b3JrIHdpdGggYXMgZmV3IGFzIDgsIGJ1dCBldmVuIDY0IGJ5dGVzXG4vLyBpcyBhYnN1cmRseSBsb3cuICBVc3VhbGx5IGEgTUIgb3IgbW9yZSBpcyBiZXN0LlxuYmluZGluZy5aX01JTl9DSFVOSyA9IDY0O1xuYmluZGluZy5aX01BWF9DSFVOSyA9IEluZmluaXR5O1xuYmluZGluZy5aX0RFRkFVTFRfQ0hVTksgPSAoMTYgKiAxMDI0KTtcblxuYmluZGluZy5aX01JTl9NRU1MRVZFTCA9IDE7XG5iaW5kaW5nLlpfTUFYX01FTUxFVkVMID0gOTtcbmJpbmRpbmcuWl9ERUZBVUxUX01FTUxFVkVMID0gODtcblxuYmluZGluZy5aX01JTl9MRVZFTCA9IC0xO1xuYmluZGluZy5aX01BWF9MRVZFTCA9IDk7XG5iaW5kaW5nLlpfREVGQVVMVF9MRVZFTCA9IGJpbmRpbmcuWl9ERUZBVUxUX0NPTVBSRVNTSU9OO1xuXG5cbi8vIHRyYW5zbGF0aW9uIHRhYmxlIGZvciByZXR1cm4gY29kZXMuXG5leHBvcnQgdmFyIGNvZGVzID0ge1xuICBaX09LOiBiaW5kaW5nLlpfT0ssXG4gIFpfU1RSRUFNX0VORDogYmluZGluZy5aX1NUUkVBTV9FTkQsXG4gIFpfTkVFRF9ESUNUOiBiaW5kaW5nLlpfTkVFRF9ESUNULFxuICBaX0VSUk5POiBiaW5kaW5nLlpfRVJSTk8sXG4gIFpfU1RSRUFNX0VSUk9SOiBiaW5kaW5nLlpfU1RSRUFNX0VSUk9SLFxuICBaX0RBVEFfRVJST1I6IGJpbmRpbmcuWl9EQVRBX0VSUk9SLFxuICBaX01FTV9FUlJPUjogYmluZGluZy5aX01FTV9FUlJPUixcbiAgWl9CVUZfRVJST1I6IGJpbmRpbmcuWl9CVUZfRVJST1IsXG4gIFpfVkVSU0lPTl9FUlJPUjogYmluZGluZy5aX1ZFUlNJT05fRVJST1Jcbn07XG5cbk9iamVjdC5rZXlzKGNvZGVzKS5mb3JFYWNoKGZ1bmN0aW9uKGspIHtcbiAgY29kZXNbY29kZXNba11dID0gaztcbn0pO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRGVmbGF0ZShvKSB7XG4gIHJldHVybiBuZXcgRGVmbGF0ZShvKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUluZmxhdGUobykge1xuICByZXR1cm4gbmV3IEluZmxhdGUobyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVEZWZsYXRlUmF3KG8pIHtcbiAgcmV0dXJuIG5ldyBEZWZsYXRlUmF3KG8pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSW5mbGF0ZVJhdyhvKSB7XG4gIHJldHVybiBuZXcgSW5mbGF0ZVJhdyhvKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUd6aXAobykge1xuICByZXR1cm4gbmV3IEd6aXAobyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVHdW56aXAobykge1xuICByZXR1cm4gbmV3IEd1bnppcChvKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVVuemlwKG8pIHtcbiAgcmV0dXJuIG5ldyBVbnppcChvKTtcbn1cblxuXG4vLyBDb252ZW5pZW5jZSBtZXRob2RzLlxuLy8gY29tcHJlc3MvZGVjb21wcmVzcyBhIHN0cmluZyBvciBidWZmZXIgaW4gb25lIHN0ZXAuXG5leHBvcnQgZnVuY3Rpb24gZGVmbGF0ZShidWZmZXIsIG9wdHMsIGNhbGxiYWNrKSB7XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cbiAgcmV0dXJuIHpsaWJCdWZmZXIobmV3IERlZmxhdGUob3B0cyksIGJ1ZmZlciwgY2FsbGJhY2spO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVmbGF0ZVN5bmMoYnVmZmVyLCBvcHRzKSB7XG4gIHJldHVybiB6bGliQnVmZmVyU3luYyhuZXcgRGVmbGF0ZShvcHRzKSwgYnVmZmVyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGd6aXAoYnVmZmVyLCBvcHRzLCBjYWxsYmFjaykge1xuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgb3B0cyA9IHt9O1xuICB9XG4gIHJldHVybiB6bGliQnVmZmVyKG5ldyBHemlwKG9wdHMpLCBidWZmZXIsIGNhbGxiYWNrKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGd6aXBTeW5jKGJ1ZmZlciwgb3B0cykge1xuICByZXR1cm4gemxpYkJ1ZmZlclN5bmMobmV3IEd6aXAob3B0cyksIGJ1ZmZlcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWZsYXRlUmF3KGJ1ZmZlciwgb3B0cywgY2FsbGJhY2spIHtcbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuICByZXR1cm4gemxpYkJ1ZmZlcihuZXcgRGVmbGF0ZVJhdyhvcHRzKSwgYnVmZmVyLCBjYWxsYmFjayk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWZsYXRlUmF3U3luYyhidWZmZXIsIG9wdHMpIHtcbiAgcmV0dXJuIHpsaWJCdWZmZXJTeW5jKG5ldyBEZWZsYXRlUmF3KG9wdHMpLCBidWZmZXIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW56aXAoYnVmZmVyLCBvcHRzLCBjYWxsYmFjaykge1xuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgb3B0cyA9IHt9O1xuICB9XG4gIHJldHVybiB6bGliQnVmZmVyKG5ldyBVbnppcChvcHRzKSwgYnVmZmVyLCBjYWxsYmFjayk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bnppcFN5bmMoYnVmZmVyLCBvcHRzKSB7XG4gIHJldHVybiB6bGliQnVmZmVyU3luYyhuZXcgVW56aXAob3B0cyksIGJ1ZmZlcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbmZsYXRlKGJ1ZmZlciwgb3B0cywgY2FsbGJhY2spIHtcbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuICByZXR1cm4gemxpYkJ1ZmZlcihuZXcgSW5mbGF0ZShvcHRzKSwgYnVmZmVyLCBjYWxsYmFjayk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbmZsYXRlU3luYyhidWZmZXIsIG9wdHMpIHtcbiAgcmV0dXJuIHpsaWJCdWZmZXJTeW5jKG5ldyBJbmZsYXRlKG9wdHMpLCBidWZmZXIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ3VuemlwKGJ1ZmZlciwgb3B0cywgY2FsbGJhY2spIHtcbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuICByZXR1cm4gemxpYkJ1ZmZlcihuZXcgR3VuemlwKG9wdHMpLCBidWZmZXIsIGNhbGxiYWNrKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGd1bnppcFN5bmMoYnVmZmVyLCBvcHRzKSB7XG4gIHJldHVybiB6bGliQnVmZmVyU3luYyhuZXcgR3VuemlwKG9wdHMpLCBidWZmZXIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5mbGF0ZVJhdyhidWZmZXIsIG9wdHMsIGNhbGxiYWNrKSB7XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cbiAgcmV0dXJuIHpsaWJCdWZmZXIobmV3IEluZmxhdGVSYXcob3B0cyksIGJ1ZmZlciwgY2FsbGJhY2spO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5mbGF0ZVJhd1N5bmMoYnVmZmVyLCBvcHRzKSB7XG4gIHJldHVybiB6bGliQnVmZmVyU3luYyhuZXcgSW5mbGF0ZVJhdyhvcHRzKSwgYnVmZmVyKTtcbn1cblxuZnVuY3Rpb24gemxpYkJ1ZmZlcihlbmdpbmUsIGJ1ZmZlciwgY2FsbGJhY2spIHtcbiAgdmFyIGJ1ZmZlcnMgPSBbXTtcbiAgdmFyIG5yZWFkID0gMDtcblxuICBlbmdpbmUub24oJ2Vycm9yJywgb25FcnJvcik7XG4gIGVuZ2luZS5vbignZW5kJywgb25FbmQpO1xuXG4gIGVuZ2luZS5lbmQoYnVmZmVyKTtcbiAgZmxvdygpO1xuXG4gIGZ1bmN0aW9uIGZsb3coKSB7XG4gICAgdmFyIGNodW5rO1xuICAgIHdoaWxlIChudWxsICE9PSAoY2h1bmsgPSBlbmdpbmUucmVhZCgpKSkge1xuICAgICAgYnVmZmVycy5wdXNoKGNodW5rKTtcbiAgICAgIG5yZWFkICs9IGNodW5rLmxlbmd0aDtcbiAgICB9XG4gICAgZW5naW5lLm9uY2UoJ3JlYWRhYmxlJywgZmxvdyk7XG4gIH1cblxuICBmdW5jdGlvbiBvbkVycm9yKGVycikge1xuICAgIGVuZ2luZS5yZW1vdmVMaXN0ZW5lcignZW5kJywgb25FbmQpO1xuICAgIGVuZ2luZS5yZW1vdmVMaXN0ZW5lcigncmVhZGFibGUnLCBmbG93KTtcbiAgICBjYWxsYmFjayhlcnIpO1xuICB9XG5cbiAgZnVuY3Rpb24gb25FbmQoKSB7XG4gICAgdmFyIGJ1ZiA9IEJ1ZmZlci5jb25jYXQoYnVmZmVycywgbnJlYWQpO1xuICAgIGJ1ZmZlcnMgPSBbXTtcbiAgICBjYWxsYmFjayhudWxsLCBidWYpO1xuICAgIGVuZ2luZS5jbG9zZSgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHpsaWJCdWZmZXJTeW5jKGVuZ2luZSwgYnVmZmVyKSB7XG4gIGlmICh0eXBlb2YgYnVmZmVyID09PSAnc3RyaW5nJylcbiAgICBidWZmZXIgPSBuZXcgQnVmZmVyKGJ1ZmZlcik7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGJ1ZmZlcikpXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTm90IGEgc3RyaW5nIG9yIGJ1ZmZlcicpO1xuXG4gIHZhciBmbHVzaEZsYWcgPSBiaW5kaW5nLlpfRklOSVNIO1xuXG4gIHJldHVybiBlbmdpbmUuX3Byb2Nlc3NDaHVuayhidWZmZXIsIGZsdXNoRmxhZyk7XG59XG5cbi8vIGdlbmVyaWMgemxpYlxuLy8gbWluaW1hbCAyLWJ5dGUgaGVhZGVyXG5leHBvcnQgZnVuY3Rpb24gRGVmbGF0ZShvcHRzKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBEZWZsYXRlKSkgcmV0dXJuIG5ldyBEZWZsYXRlKG9wdHMpO1xuICBabGliLmNhbGwodGhpcywgb3B0cywgYmluZGluZy5ERUZMQVRFKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEluZmxhdGUob3B0cykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgSW5mbGF0ZSkpIHJldHVybiBuZXcgSW5mbGF0ZShvcHRzKTtcbiAgWmxpYi5jYWxsKHRoaXMsIG9wdHMsIGJpbmRpbmcuSU5GTEFURSk7XG59XG5cblxuXG4vLyBnemlwIC0gYmlnZ2VyIGhlYWRlciwgc2FtZSBkZWZsYXRlIGNvbXByZXNzaW9uXG5leHBvcnQgZnVuY3Rpb24gR3ppcChvcHRzKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBHemlwKSkgcmV0dXJuIG5ldyBHemlwKG9wdHMpO1xuICBabGliLmNhbGwodGhpcywgb3B0cywgYmluZGluZy5HWklQKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEd1bnppcChvcHRzKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBHdW56aXApKSByZXR1cm4gbmV3IEd1bnppcChvcHRzKTtcbiAgWmxpYi5jYWxsKHRoaXMsIG9wdHMsIGJpbmRpbmcuR1VOWklQKTtcbn1cblxuXG5cbi8vIHJhdyAtIG5vIGhlYWRlclxuZXhwb3J0IGZ1bmN0aW9uIERlZmxhdGVSYXcob3B0cykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRGVmbGF0ZVJhdykpIHJldHVybiBuZXcgRGVmbGF0ZVJhdyhvcHRzKTtcbiAgWmxpYi5jYWxsKHRoaXMsIG9wdHMsIGJpbmRpbmcuREVGTEFURVJBVyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBJbmZsYXRlUmF3KG9wdHMpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEluZmxhdGVSYXcpKSByZXR1cm4gbmV3IEluZmxhdGVSYXcob3B0cyk7XG4gIFpsaWIuY2FsbCh0aGlzLCBvcHRzLCBiaW5kaW5nLklORkxBVEVSQVcpO1xufVxuXG5cbi8vIGF1dG8tZGV0ZWN0IGhlYWRlci5cbmV4cG9ydCBmdW5jdGlvbiBVbnppcChvcHRzKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBVbnppcCkpIHJldHVybiBuZXcgVW56aXAob3B0cyk7XG4gIFpsaWIuY2FsbCh0aGlzLCBvcHRzLCBiaW5kaW5nLlVOWklQKTtcbn1cblxuXG4vLyB0aGUgWmxpYiBjbGFzcyB0aGV5IGFsbCBpbmhlcml0IGZyb21cbi8vIFRoaXMgdGhpbmcgbWFuYWdlcyB0aGUgcXVldWUgb2YgcmVxdWVzdHMsIGFuZCByZXR1cm5zXG4vLyB0cnVlIG9yIGZhbHNlIGlmIHRoZXJlIGlzIGFueXRoaW5nIGluIHRoZSBxdWV1ZSB3aGVuXG4vLyB5b3UgY2FsbCB0aGUgLndyaXRlKCkgbWV0aG9kLlxuXG5leHBvcnQgZnVuY3Rpb24gWmxpYihvcHRzLCBtb2RlKSB7XG4gIHRoaXMuX29wdHMgPSBvcHRzID0gb3B0cyB8fCB7fTtcbiAgdGhpcy5fY2h1bmtTaXplID0gb3B0cy5jaHVua1NpemUgfHwgYmluZGluZy5aX0RFRkFVTFRfQ0hVTks7XG5cbiAgVHJhbnNmb3JtLmNhbGwodGhpcywgb3B0cyk7XG5cbiAgaWYgKG9wdHMuZmx1c2gpIHtcbiAgICBpZiAob3B0cy5mbHVzaCAhPT0gYmluZGluZy5aX05PX0ZMVVNIICYmXG4gICAgICAgIG9wdHMuZmx1c2ggIT09IGJpbmRpbmcuWl9QQVJUSUFMX0ZMVVNIICYmXG4gICAgICAgIG9wdHMuZmx1c2ggIT09IGJpbmRpbmcuWl9TWU5DX0ZMVVNIICYmXG4gICAgICAgIG9wdHMuZmx1c2ggIT09IGJpbmRpbmcuWl9GVUxMX0ZMVVNIICYmXG4gICAgICAgIG9wdHMuZmx1c2ggIT09IGJpbmRpbmcuWl9GSU5JU0ggJiZcbiAgICAgICAgb3B0cy5mbHVzaCAhPT0gYmluZGluZy5aX0JMT0NLKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgZmx1c2ggZmxhZzogJyArIG9wdHMuZmx1c2gpO1xuICAgIH1cbiAgfVxuICB0aGlzLl9mbHVzaEZsYWcgPSBvcHRzLmZsdXNoIHx8IGJpbmRpbmcuWl9OT19GTFVTSDtcblxuICBpZiAob3B0cy5jaHVua1NpemUpIHtcbiAgICBpZiAob3B0cy5jaHVua1NpemUgPCBiaW5kaW5nLlpfTUlOX0NIVU5LIHx8XG4gICAgICAgIG9wdHMuY2h1bmtTaXplID4gYmluZGluZy5aX01BWF9DSFVOSykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGNodW5rIHNpemU6ICcgKyBvcHRzLmNodW5rU2l6ZSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKG9wdHMud2luZG93Qml0cykge1xuICAgIGlmIChvcHRzLndpbmRvd0JpdHMgPCBiaW5kaW5nLlpfTUlOX1dJTkRPV0JJVFMgfHxcbiAgICAgICAgb3B0cy53aW5kb3dCaXRzID4gYmluZGluZy5aX01BWF9XSU5ET1dCSVRTKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgd2luZG93Qml0czogJyArIG9wdHMud2luZG93Qml0cyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKG9wdHMubGV2ZWwpIHtcbiAgICBpZiAob3B0cy5sZXZlbCA8IGJpbmRpbmcuWl9NSU5fTEVWRUwgfHxcbiAgICAgICAgb3B0cy5sZXZlbCA+IGJpbmRpbmcuWl9NQVhfTEVWRUwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBjb21wcmVzc2lvbiBsZXZlbDogJyArIG9wdHMubGV2ZWwpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChvcHRzLm1lbUxldmVsKSB7XG4gICAgaWYgKG9wdHMubWVtTGV2ZWwgPCBiaW5kaW5nLlpfTUlOX01FTUxFVkVMIHx8XG4gICAgICAgIG9wdHMubWVtTGV2ZWwgPiBiaW5kaW5nLlpfTUFYX01FTUxFVkVMKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbWVtTGV2ZWw6ICcgKyBvcHRzLm1lbUxldmVsKTtcbiAgICB9XG4gIH1cblxuICBpZiAob3B0cy5zdHJhdGVneSkge1xuICAgIGlmIChvcHRzLnN0cmF0ZWd5ICE9IGJpbmRpbmcuWl9GSUxURVJFRCAmJlxuICAgICAgICBvcHRzLnN0cmF0ZWd5ICE9IGJpbmRpbmcuWl9IVUZGTUFOX09OTFkgJiZcbiAgICAgICAgb3B0cy5zdHJhdGVneSAhPSBiaW5kaW5nLlpfUkxFICYmXG4gICAgICAgIG9wdHMuc3RyYXRlZ3kgIT0gYmluZGluZy5aX0ZJWEVEICYmXG4gICAgICAgIG9wdHMuc3RyYXRlZ3kgIT0gYmluZGluZy5aX0RFRkFVTFRfU1RSQVRFR1kpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzdHJhdGVneTogJyArIG9wdHMuc3RyYXRlZ3kpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChvcHRzLmRpY3Rpb25hcnkpIHtcbiAgICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihvcHRzLmRpY3Rpb25hcnkpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgZGljdGlvbmFyeTogaXQgc2hvdWxkIGJlIGEgQnVmZmVyIGluc3RhbmNlJyk7XG4gICAgfVxuICB9XG5cbiAgdGhpcy5fYmluZGluZyA9IG5ldyBiaW5kaW5nLlpsaWIobW9kZSk7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB0aGlzLl9oYWRFcnJvciA9IGZhbHNlO1xuICB0aGlzLl9iaW5kaW5nLm9uZXJyb3IgPSBmdW5jdGlvbihtZXNzYWdlLCBlcnJubykge1xuICAgIC8vIHRoZXJlIGlzIG5vIHdheSB0byBjbGVhbmx5IHJlY292ZXIuXG4gICAgLy8gY29udGludWluZyBvbmx5IG9ic2N1cmVzIHByb2JsZW1zLlxuICAgIHNlbGYuX2JpbmRpbmcgPSBudWxsO1xuICAgIHNlbGYuX2hhZEVycm9yID0gdHJ1ZTtcblxuICAgIHZhciBlcnJvciA9IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICBlcnJvci5lcnJubyA9IGVycm5vO1xuICAgIGVycm9yLmNvZGUgPSBiaW5kaW5nLmNvZGVzW2Vycm5vXTtcbiAgICBzZWxmLmVtaXQoJ2Vycm9yJywgZXJyb3IpO1xuICB9O1xuXG4gIHZhciBsZXZlbCA9IGJpbmRpbmcuWl9ERUZBVUxUX0NPTVBSRVNTSU9OO1xuICBpZiAodHlwZW9mIG9wdHMubGV2ZWwgPT09ICdudW1iZXInKSBsZXZlbCA9IG9wdHMubGV2ZWw7XG5cbiAgdmFyIHN0cmF0ZWd5ID0gYmluZGluZy5aX0RFRkFVTFRfU1RSQVRFR1k7XG4gIGlmICh0eXBlb2Ygb3B0cy5zdHJhdGVneSA9PT0gJ251bWJlcicpIHN0cmF0ZWd5ID0gb3B0cy5zdHJhdGVneTtcblxuICB0aGlzLl9iaW5kaW5nLmluaXQob3B0cy53aW5kb3dCaXRzIHx8IGJpbmRpbmcuWl9ERUZBVUxUX1dJTkRPV0JJVFMsXG4gICAgICAgICAgICAgICAgICAgICBsZXZlbCxcbiAgICAgICAgICAgICAgICAgICAgIG9wdHMubWVtTGV2ZWwgfHwgYmluZGluZy5aX0RFRkFVTFRfTUVNTEVWRUwsXG4gICAgICAgICAgICAgICAgICAgICBzdHJhdGVneSxcbiAgICAgICAgICAgICAgICAgICAgIG9wdHMuZGljdGlvbmFyeSk7XG5cbiAgdGhpcy5fYnVmZmVyID0gbmV3IEJ1ZmZlcih0aGlzLl9jaHVua1NpemUpO1xuICB0aGlzLl9vZmZzZXQgPSAwO1xuICB0aGlzLl9jbG9zZWQgPSBmYWxzZTtcbiAgdGhpcy5fbGV2ZWwgPSBsZXZlbDtcbiAgdGhpcy5fc3RyYXRlZ3kgPSBzdHJhdGVneTtcblxuICB0aGlzLm9uY2UoJ2VuZCcsIHRoaXMuY2xvc2UpO1xufVxuXG5pbmhlcml0cyhabGliLCBUcmFuc2Zvcm0pO1xuXG5abGliLnByb3RvdHlwZS5wYXJhbXMgPSBmdW5jdGlvbihsZXZlbCwgc3RyYXRlZ3ksIGNhbGxiYWNrKSB7XG4gIGlmIChsZXZlbCA8IGJpbmRpbmcuWl9NSU5fTEVWRUwgfHxcbiAgICAgIGxldmVsID4gYmluZGluZy5aX01BWF9MRVZFTCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbnZhbGlkIGNvbXByZXNzaW9uIGxldmVsOiAnICsgbGV2ZWwpO1xuICB9XG4gIGlmIChzdHJhdGVneSAhPSBiaW5kaW5nLlpfRklMVEVSRUQgJiZcbiAgICAgIHN0cmF0ZWd5ICE9IGJpbmRpbmcuWl9IVUZGTUFOX09OTFkgJiZcbiAgICAgIHN0cmF0ZWd5ICE9IGJpbmRpbmcuWl9STEUgJiZcbiAgICAgIHN0cmF0ZWd5ICE9IGJpbmRpbmcuWl9GSVhFRCAmJlxuICAgICAgc3RyYXRlZ3kgIT0gYmluZGluZy5aX0RFRkFVTFRfU1RSQVRFR1kpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIHN0cmF0ZWd5OiAnICsgc3RyYXRlZ3kpO1xuICB9XG5cbiAgaWYgKHRoaXMuX2xldmVsICE9PSBsZXZlbCB8fCB0aGlzLl9zdHJhdGVneSAhPT0gc3RyYXRlZ3kpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy5mbHVzaChiaW5kaW5nLlpfU1lOQ19GTFVTSCwgZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLl9iaW5kaW5nLnBhcmFtcyhsZXZlbCwgc3RyYXRlZ3kpO1xuICAgICAgaWYgKCFzZWxmLl9oYWRFcnJvcikge1xuICAgICAgICBzZWxmLl9sZXZlbCA9IGxldmVsO1xuICAgICAgICBzZWxmLl9zdHJhdGVneSA9IHN0cmF0ZWd5O1xuICAgICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcHJvY2Vzcy5uZXh0VGljayhjYWxsYmFjayk7XG4gIH1cbn07XG5cblpsaWIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLl9iaW5kaW5nLnJlc2V0KCk7XG59O1xuXG4vLyBUaGlzIGlzIHRoZSBfZmx1c2ggZnVuY3Rpb24gY2FsbGVkIGJ5IHRoZSB0cmFuc2Zvcm0gY2xhc3MsXG4vLyBpbnRlcm5hbGx5LCB3aGVuIHRoZSBsYXN0IGNodW5rIGhhcyBiZWVuIHdyaXR0ZW4uXG5abGliLnByb3RvdHlwZS5fZmx1c2ggPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICB0aGlzLl90cmFuc2Zvcm0obmV3IEJ1ZmZlcigwKSwgJycsIGNhbGxiYWNrKTtcbn07XG5cblpsaWIucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24oa2luZCwgY2FsbGJhY2spIHtcbiAgdmFyIHdzID0gdGhpcy5fd3JpdGFibGVTdGF0ZTtcblxuICBpZiAodHlwZW9mIGtpbmQgPT09ICdmdW5jdGlvbicgfHwgKGtpbmQgPT09IHZvaWQgMCAmJiAhY2FsbGJhY2spKSB7XG4gICAgY2FsbGJhY2sgPSBraW5kO1xuICAgIGtpbmQgPSBiaW5kaW5nLlpfRlVMTF9GTFVTSDtcbiAgfVxuXG4gIGlmICh3cy5lbmRlZCkge1xuICAgIGlmIChjYWxsYmFjaylcbiAgICAgIHByb2Nlc3MubmV4dFRpY2soY2FsbGJhY2spO1xuICB9IGVsc2UgaWYgKHdzLmVuZGluZykge1xuICAgIGlmIChjYWxsYmFjaylcbiAgICAgIHRoaXMub25jZSgnZW5kJywgY2FsbGJhY2spO1xuICB9IGVsc2UgaWYgKHdzLm5lZWREcmFpbikge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB0aGlzLm9uY2UoJ2RyYWluJywgZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLmZsdXNoKGNhbGxiYWNrKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9mbHVzaEZsYWcgPSBraW5kO1xuICAgIHRoaXMud3JpdGUobmV3IEJ1ZmZlcigwKSwgJycsIGNhbGxiYWNrKTtcbiAgfVxufTtcblxuWmxpYi5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICBpZiAoY2FsbGJhY2spXG4gICAgcHJvY2Vzcy5uZXh0VGljayhjYWxsYmFjayk7XG5cbiAgaWYgKHRoaXMuX2Nsb3NlZClcbiAgICByZXR1cm47XG5cbiAgdGhpcy5fY2xvc2VkID0gdHJ1ZTtcblxuICB0aGlzLl9iaW5kaW5nLmNsb3NlKCk7XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uKCkge1xuICAgIHNlbGYuZW1pdCgnY2xvc2UnKTtcbiAgfSk7XG59O1xuXG5abGliLnByb3RvdHlwZS5fdHJhbnNmb3JtID0gZnVuY3Rpb24oY2h1bmssIGVuY29kaW5nLCBjYikge1xuICB2YXIgZmx1c2hGbGFnO1xuICB2YXIgd3MgPSB0aGlzLl93cml0YWJsZVN0YXRlO1xuICB2YXIgZW5kaW5nID0gd3MuZW5kaW5nIHx8IHdzLmVuZGVkO1xuICB2YXIgbGFzdCA9IGVuZGluZyAmJiAoIWNodW5rIHx8IHdzLmxlbmd0aCA9PT0gY2h1bmsubGVuZ3RoKTtcblxuICBpZiAoIWNodW5rID09PSBudWxsICYmICFCdWZmZXIuaXNCdWZmZXIoY2h1bmspKVxuICAgIHJldHVybiBjYihuZXcgRXJyb3IoJ2ludmFsaWQgaW5wdXQnKSk7XG5cbiAgLy8gSWYgaXQncyB0aGUgbGFzdCBjaHVuaywgb3IgYSBmaW5hbCBmbHVzaCwgd2UgdXNlIHRoZSBaX0ZJTklTSCBmbHVzaCBmbGFnLlxuICAvLyBJZiBpdCdzIGV4cGxpY2l0bHkgZmx1c2hpbmcgYXQgc29tZSBvdGhlciB0aW1lLCB0aGVuIHdlIHVzZVxuICAvLyBaX0ZVTExfRkxVU0guIE90aGVyd2lzZSwgdXNlIFpfTk9fRkxVU0ggZm9yIG1heGltdW0gY29tcHJlc3Npb25cbiAgLy8gZ29vZG5lc3MuXG4gIGlmIChsYXN0KVxuICAgIGZsdXNoRmxhZyA9IGJpbmRpbmcuWl9GSU5JU0g7XG4gIGVsc2Uge1xuICAgIGZsdXNoRmxhZyA9IHRoaXMuX2ZsdXNoRmxhZztcbiAgICAvLyBvbmNlIHdlJ3ZlIGZsdXNoZWQgdGhlIGxhc3Qgb2YgdGhlIHF1ZXVlLCBzdG9wIGZsdXNoaW5nIGFuZFxuICAgIC8vIGdvIGJhY2sgdG8gdGhlIG5vcm1hbCBiZWhhdmlvci5cbiAgICBpZiAoY2h1bmsubGVuZ3RoID49IHdzLmxlbmd0aCkge1xuICAgICAgdGhpcy5fZmx1c2hGbGFnID0gdGhpcy5fb3B0cy5mbHVzaCB8fCBiaW5kaW5nLlpfTk9fRkxVU0g7XG4gICAgfVxuICB9XG5cbiAgdGhpcy5fcHJvY2Vzc0NodW5rKGNodW5rLCBmbHVzaEZsYWcsIGNiKTtcbn07XG5cblpsaWIucHJvdG90eXBlLl9wcm9jZXNzQ2h1bmsgPSBmdW5jdGlvbihjaHVuaywgZmx1c2hGbGFnLCBjYikge1xuICB2YXIgYXZhaWxJbkJlZm9yZSA9IGNodW5rICYmIGNodW5rLmxlbmd0aDtcbiAgdmFyIGF2YWlsT3V0QmVmb3JlID0gdGhpcy5fY2h1bmtTaXplIC0gdGhpcy5fb2Zmc2V0O1xuICB2YXIgaW5PZmYgPSAwO1xuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICB2YXIgYXN5bmMgPSB0eXBlb2YgY2IgPT09ICdmdW5jdGlvbic7XG5cbiAgaWYgKCFhc3luYykge1xuICAgIHZhciBidWZmZXJzID0gW107XG4gICAgdmFyIG5yZWFkID0gMDtcblxuICAgIHZhciBlcnJvcjtcbiAgICB0aGlzLm9uKCdlcnJvcicsIGZ1bmN0aW9uKGVyKSB7XG4gICAgICBlcnJvciA9IGVyO1xuICAgIH0pO1xuXG4gICAgZG8ge1xuICAgICAgdmFyIHJlcyA9IHRoaXMuX2JpbmRpbmcud3JpdGVTeW5jKGZsdXNoRmxhZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaHVuaywgLy8gaW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbk9mZiwgLy8gaW5fb2ZmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZhaWxJbkJlZm9yZSwgLy8gaW5fbGVuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYnVmZmVyLCAvLyBvdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vZmZzZXQsIC8vb3V0X29mZlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF2YWlsT3V0QmVmb3JlKTsgLy8gb3V0X2xlblxuICAgIH0gd2hpbGUgKCF0aGlzLl9oYWRFcnJvciAmJiBjYWxsYmFjayhyZXNbMF0sIHJlc1sxXSkpO1xuXG4gICAgaWYgKHRoaXMuX2hhZEVycm9yKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG5cbiAgICB2YXIgYnVmID0gQnVmZmVyLmNvbmNhdChidWZmZXJzLCBucmVhZCk7XG4gICAgdGhpcy5jbG9zZSgpO1xuXG4gICAgcmV0dXJuIGJ1ZjtcbiAgfVxuXG4gIHZhciByZXEgPSB0aGlzLl9iaW5kaW5nLndyaXRlKGZsdXNoRmxhZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2h1bmssIC8vIGluXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluT2ZmLCAvLyBpbl9vZmZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZhaWxJbkJlZm9yZSwgLy8gaW5fbGVuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2J1ZmZlciwgLy8gb3V0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29mZnNldCwgLy9vdXRfb2ZmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF2YWlsT3V0QmVmb3JlKTsgLy8gb3V0X2xlblxuXG4gIHJlcS5idWZmZXIgPSBjaHVuaztcbiAgcmVxLmNhbGxiYWNrID0gY2FsbGJhY2s7XG5cbiAgZnVuY3Rpb24gY2FsbGJhY2soYXZhaWxJbkFmdGVyLCBhdmFpbE91dEFmdGVyKSB7XG4gICAgaWYgKHNlbGYuX2hhZEVycm9yKVxuICAgICAgcmV0dXJuO1xuXG4gICAgdmFyIGhhdmUgPSBhdmFpbE91dEJlZm9yZSAtIGF2YWlsT3V0QWZ0ZXI7XG4gICAgYXNzZXJ0KGhhdmUgPj0gMCwgJ2hhdmUgc2hvdWxkIG5vdCBnbyBkb3duJyk7XG5cbiAgICBpZiAoaGF2ZSA+IDApIHtcbiAgICAgIHZhciBvdXQgPSBzZWxmLl9idWZmZXIuc2xpY2Uoc2VsZi5fb2Zmc2V0LCBzZWxmLl9vZmZzZXQgKyBoYXZlKTtcbiAgICAgIHNlbGYuX29mZnNldCArPSBoYXZlO1xuICAgICAgLy8gc2VydmUgc29tZSBvdXRwdXQgdG8gdGhlIGNvbnN1bWVyLlxuICAgICAgaWYgKGFzeW5jKSB7XG4gICAgICAgIHNlbGYucHVzaChvdXQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnVmZmVycy5wdXNoKG91dCk7XG4gICAgICAgIG5yZWFkICs9IG91dC5sZW5ndGg7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gZXhoYXVzdGVkIHRoZSBvdXRwdXQgYnVmZmVyLCBvciB1c2VkIGFsbCB0aGUgaW5wdXQgY3JlYXRlIGEgbmV3IG9uZS5cbiAgICBpZiAoYXZhaWxPdXRBZnRlciA9PT0gMCB8fCBzZWxmLl9vZmZzZXQgPj0gc2VsZi5fY2h1bmtTaXplKSB7XG4gICAgICBhdmFpbE91dEJlZm9yZSA9IHNlbGYuX2NodW5rU2l6ZTtcbiAgICAgIHNlbGYuX29mZnNldCA9IDA7XG4gICAgICBzZWxmLl9idWZmZXIgPSBuZXcgQnVmZmVyKHNlbGYuX2NodW5rU2l6ZSk7XG4gICAgfVxuXG4gICAgaWYgKGF2YWlsT3V0QWZ0ZXIgPT09IDApIHtcbiAgICAgIC8vIE5vdCBhY3R1YWxseSBkb25lLiAgTmVlZCB0byByZXByb2Nlc3MuXG4gICAgICAvLyBBbHNvLCB1cGRhdGUgdGhlIGF2YWlsSW5CZWZvcmUgdG8gdGhlIGF2YWlsSW5BZnRlciB2YWx1ZSxcbiAgICAgIC8vIHNvIHRoYXQgaWYgd2UgaGF2ZSB0byBoaXQgaXQgYSB0aGlyZCAoZm91cnRoLCBldGMuKSB0aW1lLFxuICAgICAgLy8gaXQnbGwgaGF2ZSB0aGUgY29ycmVjdCBieXRlIGNvdW50cy5cbiAgICAgIGluT2ZmICs9IChhdmFpbEluQmVmb3JlIC0gYXZhaWxJbkFmdGVyKTtcbiAgICAgIGF2YWlsSW5CZWZvcmUgPSBhdmFpbEluQWZ0ZXI7XG5cbiAgICAgIGlmICghYXN5bmMpXG4gICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICB2YXIgbmV3UmVxID0gc2VsZi5fYmluZGluZy53cml0ZShmbHVzaEZsYWcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaHVuayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluT2ZmLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZhaWxJbkJlZm9yZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2J1ZmZlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX29mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2NodW5rU2l6ZSk7XG4gICAgICBuZXdSZXEuY2FsbGJhY2sgPSBjYWxsYmFjazsgLy8gdGhpcyBzYW1lIGZ1bmN0aW9uXG4gICAgICBuZXdSZXEuYnVmZmVyID0gY2h1bms7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFhc3luYylcbiAgICAgIHJldHVybiBmYWxzZTtcblxuICAgIC8vIGZpbmlzaGVkIHdpdGggdGhlIGNodW5rLlxuICAgIGNiKCk7XG4gIH1cbn07XG5cbmluaGVyaXRzKERlZmxhdGUsIFpsaWIpO1xuaW5oZXJpdHMoSW5mbGF0ZSwgWmxpYik7XG5pbmhlcml0cyhHemlwLCBabGliKTtcbmluaGVyaXRzKEd1bnppcCwgWmxpYik7XG5pbmhlcml0cyhEZWZsYXRlUmF3LCBabGliKTtcbmluaGVyaXRzKEluZmxhdGVSYXcsIFpsaWIpO1xuaW5oZXJpdHMoVW56aXAsIFpsaWIpO1xuZXhwb3J0IGRlZmF1bHQge1xuICBjb2RlczogY29kZXMsXG4gIGNyZWF0ZURlZmxhdGU6IGNyZWF0ZURlZmxhdGUsXG4gIGNyZWF0ZUluZmxhdGU6IGNyZWF0ZUluZmxhdGUsXG4gIGNyZWF0ZURlZmxhdGVSYXc6IGNyZWF0ZURlZmxhdGVSYXcsXG4gIGNyZWF0ZUluZmxhdGVSYXc6IGNyZWF0ZUluZmxhdGVSYXcsXG4gIGNyZWF0ZUd6aXA6IGNyZWF0ZUd6aXAsXG4gIGNyZWF0ZUd1bnppcDogY3JlYXRlR3VuemlwLFxuICBjcmVhdGVVbnppcDogY3JlYXRlVW56aXAsXG4gIGRlZmxhdGU6IGRlZmxhdGUsXG4gIGRlZmxhdGVTeW5jOiBkZWZsYXRlU3luYyxcbiAgZ3ppcDogZ3ppcCxcbiAgZ3ppcFN5bmM6IGd6aXBTeW5jLFxuICBkZWZsYXRlUmF3OiBkZWZsYXRlUmF3LFxuICBkZWZsYXRlUmF3U3luYzogZGVmbGF0ZVJhd1N5bmMsXG4gIHVuemlwOiB1bnppcCxcbiAgdW56aXBTeW5jOiB1bnppcFN5bmMsXG4gIGluZmxhdGU6IGluZmxhdGUsXG4gIGluZmxhdGVTeW5jOiBpbmZsYXRlU3luYyxcbiAgZ3VuemlwOiBndW56aXAsXG4gIGd1bnppcFN5bmM6IGd1bnppcFN5bmMsXG4gIGluZmxhdGVSYXc6IGluZmxhdGVSYXcsXG4gIGluZmxhdGVSYXdTeW5jOiBpbmZsYXRlUmF3U3luYyxcbiAgRGVmbGF0ZTogRGVmbGF0ZSxcbiAgSW5mbGF0ZTogSW5mbGF0ZSxcbiAgR3ppcDogR3ppcCxcbiAgR3VuemlwOiBHdW56aXAsXG4gIERlZmxhdGVSYXc6IERlZmxhdGVSYXcsXG4gIEluZmxhdGVSYXc6IEluZmxhdGVSYXcsXG4gIFVuemlwOiBVbnppcCxcbiAgWmxpYjogWmxpYlxufTtcbiIsICJpbXBvcnQgeyBBcGlFcnJvciwgRXJyb3JDb2RlIH0gZnJvbSAnLi4vY29yZS9hcGlfZXJyb3InO1xuaW1wb3J0IHsgZGVmYXVsdCBhcyBTdGF0cywgRmlsZVR5cGUgfSBmcm9tICcuLi9jb3JlL3N0YXRzJztcbmltcG9ydCB7IFN5bmNocm9ub3VzRmlsZVN5c3RlbSwgRmlsZVN5c3RlbSwgQkZTQ2FsbGJhY2ssIEZpbGVTeXN0ZW1PcHRpb25zIH0gZnJvbSAnLi4vY29yZS9maWxlX3N5c3RlbSc7XG5pbXBvcnQgeyBGaWxlIH0gZnJvbSAnLi4vY29yZS9maWxlJztcbmltcG9ydCB7IEZpbGVGbGFnLCBBY3Rpb25UeXBlIH0gZnJvbSAnLi4vY29yZS9maWxlX2ZsYWcnO1xuaW1wb3J0IHsgTm9TeW5jRmlsZSB9IGZyb20gJy4uL2dlbmVyaWMvcHJlbG9hZF9maWxlJztcbmltcG9ydCB7IGNvcHlpbmdTbGljZSwgYnVmZmVyVmFsaWRhdG9yIH0gZnJvbSAnLi4vY29yZS91dGlsJztcbmltcG9ydCBFeHRlbmRlZEFTQ0lJIGZyb20gJy4uL2dlbmVyaWMvZXh0ZW5kZWRfYXNjaWknO1xuaW1wb3J0IHNldEltbWVkaWF0ZSBmcm9tICcuLi9nZW5lcmljL3NldEltbWVkaWF0ZSc7XG5pbXBvcnQgeyBpbmZsYXRlUmF3U3luYyBhcyBpbmZsYXRlUmF3IH0gZnJvbSAnemxpYic7XG5pbXBvcnQgeyBGaWxlSW5kZXgsIERpcklub2RlLCBGaWxlSW5vZGUsIGlzRGlySW5vZGUsIGlzRmlsZUlub2RlIH0gZnJvbSAnLi4vZ2VuZXJpYy9maWxlX2luZGV4JztcbmltcG9ydCB0eXBlIHsgQnVmZmVyIH0gZnJvbSAnYnVmZmVyJztcblxuLyoqXG4gKiBNYXBzIENvbXByZXNzaW9uTWV0aG9kID0+IGZ1bmN0aW9uIHRoYXQgZGVjb21wcmVzc2VzLlxuICogQGhpZGRlblxuICovXG5jb25zdCBkZWNvbXByZXNzaW9uTWV0aG9kczogeyBbbWV0aG9kOiBudW1iZXJdOiAoZGF0YTogQnVmZmVyLCBjb21wcmVzc2VkU2l6ZTogbnVtYmVyLCB1bmNvbXByZXNzZWRTaXplOiBudW1iZXIsIGZsYWdzOiBudW1iZXIpID0+IEJ1ZmZlciB9ID0ge307XG5cbi8qKlxuICogNC40LjIuMjogSW5kaWNhdGVzIHRoZSBjb21wYXRpYmlsdGl5IG9mIGEgZmlsZSdzIGV4dGVybmFsIGF0dHJpYnV0ZXMuXG4gKi9cbmV4cG9ydCBlbnVtIEV4dGVybmFsRmlsZUF0dHJpYnV0ZVR5cGUge1xuXHRNU0RPUyA9IDAsXG5cdEFNSUdBID0gMSxcblx0T1BFTlZNUyA9IDIsXG5cdFVOSVggPSAzLFxuXHRWTV9DTVMgPSA0LFxuXHRBVEFSSV9TVCA9IDUsXG5cdE9TMl9IUEZTID0gNixcblx0TUFDID0gNyxcblx0Wl9TWVNURU0gPSA4LFxuXHRDUF9NID0gOSxcblx0TlRGUyA9IDEwLFxuXHRNVlMgPSAxMSxcblx0VlNFID0gMTIsXG5cdEFDT1JOX1JJU0MgPSAxMyxcblx0VkZBVCA9IDE0LFxuXHRBTFRfTVZTID0gMTUsXG5cdEJFT1MgPSAxNixcblx0VEFOREVNID0gMTcsXG5cdE9TXzQwMCA9IDE4LFxuXHRPU1ggPSAxOSxcbn1cblxuLyoqXG4gKiA0LjQuNVxuICovXG5leHBvcnQgZW51bSBDb21wcmVzc2lvbk1ldGhvZCB7XG5cdFNUT1JFRCA9IDAsIC8vIFRoZSBmaWxlIGlzIHN0b3JlZCAobm8gY29tcHJlc3Npb24pXG5cdFNIUlVOSyA9IDEsIC8vIFRoZSBmaWxlIGlzIFNocnVua1xuXHRSRURVQ0VEXzEgPSAyLCAvLyBUaGUgZmlsZSBpcyBSZWR1Y2VkIHdpdGggY29tcHJlc3Npb24gZmFjdG9yIDFcblx0UkVEVUNFRF8yID0gMywgLy8gVGhlIGZpbGUgaXMgUmVkdWNlZCB3aXRoIGNvbXByZXNzaW9uIGZhY3RvciAyXG5cdFJFRFVDRURfMyA9IDQsIC8vIFRoZSBmaWxlIGlzIFJlZHVjZWQgd2l0aCBjb21wcmVzc2lvbiBmYWN0b3IgM1xuXHRSRURVQ0VEXzQgPSA1LCAvLyBUaGUgZmlsZSBpcyBSZWR1Y2VkIHdpdGggY29tcHJlc3Npb24gZmFjdG9yIDRcblx0SU1QTE9ERSA9IDYsIC8vIFRoZSBmaWxlIGlzIEltcGxvZGVkXG5cdERFRkxBVEUgPSA4LCAvLyBUaGUgZmlsZSBpcyBEZWZsYXRlZFxuXHRERUZMQVRFNjQgPSA5LCAvLyBFbmhhbmNlZCBEZWZsYXRpbmcgdXNpbmcgRGVmbGF0ZTY0KHRtKVxuXHRURVJTRV9PTEQgPSAxMCwgLy8gUEtXQVJFIERhdGEgQ29tcHJlc3Npb24gTGlicmFyeSBJbXBsb2RpbmcgKG9sZCBJQk0gVEVSU0UpXG5cdEJaSVAyID0gMTIsIC8vIEZpbGUgaXMgY29tcHJlc3NlZCB1c2luZyBCWklQMiBhbGdvcml0aG1cblx0TFpNQSA9IDE0LCAvLyBMWk1BIChFRlMpXG5cdFRFUlNFX05FVyA9IDE4LCAvLyBGaWxlIGlzIGNvbXByZXNzZWQgdXNpbmcgSUJNIFRFUlNFIChuZXcpXG5cdExaNzcgPSAxOSwgLy8gSUJNIExaNzcgeiBBcmNoaXRlY3R1cmUgKFBGUylcblx0V0FWUEFDSyA9IDk3LCAvLyBXYXZQYWNrIGNvbXByZXNzZWQgZGF0YVxuXHRQUE1EID0gOTgsIC8vIFBQTWQgdmVyc2lvbiBJLCBSZXYgMVxufVxuXG4vKipcbiAqIENvbnZlcnRzIHRoZSBpbnB1dCB0aW1lIGFuZCBkYXRlIGluIE1TLURPUyBmb3JtYXQgaW50byBhIEphdmFTY3JpcHQgRGF0ZVxuICogb2JqZWN0LlxuICogQGhpZGRlblxuICovXG5mdW5jdGlvbiBtc2RvczJkYXRlKHRpbWU6IG51bWJlciwgZGF0ZTogbnVtYmVyKTogRGF0ZSB7XG5cdC8vIE1TLURPUyBEYXRlXG5cdC8vIHwwIDAgMCAwICAwfDAgMCAwICAwfDAgMCAwICAwIDAgMCAwXG5cdC8vICAgRCAoMS0zMSkgIE0gKDEtMjMpICBZIChmcm9tIDE5ODApXG5cdGNvbnN0IGRheSA9IGRhdGUgJiAweDFmO1xuXHQvLyBKUyBkYXRlIGlzIDAtaW5kZXhlZCwgRE9TIGlzIDEtaW5kZXhlZC5cblx0Y29uc3QgbW9udGggPSAoKGRhdGUgPj4gNSkgJiAweGYpIC0gMTtcblx0Y29uc3QgeWVhciA9IChkYXRlID4+IDkpICsgMTk4MDtcblx0Ly8gTVMgRE9TIFRpbWVcblx0Ly8gfDAgMCAwIDAgIDB8MCAwIDAgIDAgMCAwfDAgIDAgMCAwIDBcblx0Ly8gICAgU2Vjb25kICAgICAgTWludXRlICAgICAgIEhvdXJcblx0Y29uc3Qgc2Vjb25kID0gdGltZSAmIDB4MWY7XG5cdGNvbnN0IG1pbnV0ZSA9ICh0aW1lID4+IDUpICYgMHgzZjtcblx0Y29uc3QgaG91ciA9IHRpbWUgPj4gMTE7XG5cdHJldHVybiBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgZGF5LCBob3VyLCBtaW51dGUsIHNlY29uZCk7XG59XG5cbi8qKlxuICogU2FmZWx5IHJldHVybnMgdGhlIHN0cmluZyBmcm9tIHRoZSBidWZmZXIsIGV2ZW4gaWYgaXQgaXMgMCBieXRlcyBsb25nLlxuICogKE5vcm1hbGx5LCBjYWxsaW5nIHRvU3RyaW5nKCkgb24gYSBidWZmZXIgd2l0aCBzdGFydCA9PT0gZW5kIGNhdXNlcyBhblxuICogZXhjZXB0aW9uKS5cbiAqIEBoaWRkZW5cbiAqL1xuZnVuY3Rpb24gc2FmZVRvU3RyaW5nKGJ1ZmY6IEJ1ZmZlciwgdXNlVVRGODogYm9vbGVhbiwgc3RhcnQ6IG51bWJlciwgbGVuZ3RoOiBudW1iZXIpOiBzdHJpbmcge1xuXHRpZiAobGVuZ3RoID09PSAwKSB7XG5cdFx0cmV0dXJuICcnO1xuXHR9IGVsc2UgaWYgKHVzZVVURjgpIHtcblx0XHRyZXR1cm4gYnVmZi50b1N0cmluZygndXRmOCcsIHN0YXJ0LCBzdGFydCArIGxlbmd0aCk7XG5cdH0gZWxzZSB7XG5cdFx0cmV0dXJuIEV4dGVuZGVkQVNDSUkuYnl0ZTJzdHIoYnVmZi5zbGljZShzdGFydCwgc3RhcnQgKyBsZW5ndGgpKTtcblx0fVxufVxuXG4vKlxuICAgNC4zLjYgT3ZlcmFsbCAuWklQIGZpbGUgZm9ybWF0OlxuXG4gICAgICBbbG9jYWwgZmlsZSBoZWFkZXIgMV1cbiAgICAgIFtlbmNyeXB0aW9uIGhlYWRlciAxXVxuICAgICAgW2ZpbGUgZGF0YSAxXVxuICAgICAgW2RhdGEgZGVzY3JpcHRvciAxXVxuICAgICAgLlxuICAgICAgLlxuICAgICAgLlxuICAgICAgW2xvY2FsIGZpbGUgaGVhZGVyIG5dXG4gICAgICBbZW5jcnlwdGlvbiBoZWFkZXIgbl1cbiAgICAgIFtmaWxlIGRhdGEgbl1cbiAgICAgIFtkYXRhIGRlc2NyaXB0b3Igbl1cbiAgICAgIFthcmNoaXZlIGRlY3J5cHRpb24gaGVhZGVyXVxuICAgICAgW2FyY2hpdmUgZXh0cmEgZGF0YSByZWNvcmRdXG4gICAgICBbY2VudHJhbCBkaXJlY3RvcnkgaGVhZGVyIDFdXG4gICAgICAuXG4gICAgICAuXG4gICAgICAuXG4gICAgICBbY2VudHJhbCBkaXJlY3RvcnkgaGVhZGVyIG5dXG4gICAgICBbemlwNjQgZW5kIG9mIGNlbnRyYWwgZGlyZWN0b3J5IHJlY29yZF1cbiAgICAgIFt6aXA2NCBlbmQgb2YgY2VudHJhbCBkaXJlY3RvcnkgbG9jYXRvcl1cbiAgICAgIFtlbmQgb2YgY2VudHJhbCBkaXJlY3RvcnkgcmVjb3JkXVxuKi9cblxuLyoqXG4gKiA0LjMuNyAgTG9jYWwgZmlsZSBoZWFkZXI6XG4gKlxuICogICAgIGxvY2FsIGZpbGUgaGVhZGVyIHNpZ25hdHVyZSAgICAgNCBieXRlcyAgKDB4MDQwMzRiNTApXG4gKiAgICAgdmVyc2lvbiBuZWVkZWQgdG8gZXh0cmFjdCAgICAgICAyIGJ5dGVzXG4gKiAgICAgZ2VuZXJhbCBwdXJwb3NlIGJpdCBmbGFnICAgICAgICAyIGJ5dGVzXG4gKiAgICAgY29tcHJlc3Npb24gbWV0aG9kICAgICAgICAgICAgICAyIGJ5dGVzXG4gKiAgICBsYXN0IG1vZCBmaWxlIHRpbWUgICAgICAgICAgICAgIDIgYnl0ZXNcbiAqICAgIGxhc3QgbW9kIGZpbGUgZGF0ZSAgICAgICAgICAgICAgMiBieXRlc1xuICogICAgY3JjLTMyICAgICAgICAgICAgICAgICAgICAgICAgICA0IGJ5dGVzXG4gKiAgICBjb21wcmVzc2VkIHNpemUgICAgICAgICAgICAgICAgIDQgYnl0ZXNcbiAqICAgIHVuY29tcHJlc3NlZCBzaXplICAgICAgICAgICAgICAgNCBieXRlc1xuICogICAgZmlsZSBuYW1lIGxlbmd0aCAgICAgICAgICAgICAgICAyIGJ5dGVzXG4gKiAgICBleHRyYSBmaWVsZCBsZW5ndGggICAgICAgICAgICAgIDIgYnl0ZXNcbiAqXG4gKiAgICBmaWxlIG5hbWUgKHZhcmlhYmxlIHNpemUpXG4gKiAgICBleHRyYSBmaWVsZCAodmFyaWFibGUgc2l6ZSlcbiAqL1xuZXhwb3J0IGNsYXNzIEZpbGVIZWFkZXIge1xuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIGRhdGE6IEJ1ZmZlcikge1xuXHRcdGlmIChkYXRhLnJlYWRVSW50MzJMRSgwKSAhPT0gMHgwNDAzNGI1MCkge1xuXHRcdFx0dGhyb3cgbmV3IEFwaUVycm9yKEVycm9yQ29kZS5FSU5WQUwsICdJbnZhbGlkIFppcCBmaWxlOiBMb2NhbCBmaWxlIGhlYWRlciBoYXMgaW52YWxpZCBzaWduYXR1cmU6ICcgKyB0aGlzLmRhdGEucmVhZFVJbnQzMkxFKDApKTtcblx0XHR9XG5cdH1cblx0cHVibGljIHZlcnNpb25OZWVkZWQoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5kYXRhLnJlYWRVSW50MTZMRSg0KTtcblx0fVxuXHRwdWJsaWMgZmxhZ3MoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5kYXRhLnJlYWRVSW50MTZMRSg2KTtcblx0fVxuXHRwdWJsaWMgY29tcHJlc3Npb25NZXRob2QoKTogQ29tcHJlc3Npb25NZXRob2Qge1xuXHRcdHJldHVybiB0aGlzLmRhdGEucmVhZFVJbnQxNkxFKDgpO1xuXHR9XG5cdHB1YmxpYyBsYXN0TW9kRmlsZVRpbWUoKTogRGF0ZSB7XG5cdFx0Ly8gVGltZSBhbmQgZGF0ZSBpcyBpbiBNUy1ET1MgZm9ybWF0LlxuXHRcdHJldHVybiBtc2RvczJkYXRlKHRoaXMuZGF0YS5yZWFkVUludDE2TEUoMTApLCB0aGlzLmRhdGEucmVhZFVJbnQxNkxFKDEyKSk7XG5cdH1cblx0cHVibGljIHJhd0xhc3RNb2RGaWxlVGltZSgpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLmRhdGEucmVhZFVJbnQzMkxFKDEwKTtcblx0fVxuXHRwdWJsaWMgY3JjMzIoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5kYXRhLnJlYWRVSW50MzJMRSgxNCk7XG5cdH1cblx0LyoqXG5cdCAqIFRoZXNlIHR3byB2YWx1ZXMgYXJlIENPTVBMRVRFTFkgVVNFTEVTUy5cblx0ICpcblx0ICogU2VjdGlvbiA0LjQuOTpcblx0ICogICBJZiBiaXQgMyBvZiB0aGUgZ2VuZXJhbCBwdXJwb3NlIGJpdCBmbGFnIGlzIHNldCxcblx0ICogICB0aGVzZSBmaWVsZHMgYXJlIHNldCB0byB6ZXJvIGluIHRoZSBsb2NhbCBoZWFkZXIgYW5kIHRoZVxuXHQgKiAgIGNvcnJlY3QgdmFsdWVzIGFyZSBwdXQgaW4gdGhlIGRhdGEgZGVzY3JpcHRvciBhbmRcblx0ICogICBpbiB0aGUgY2VudHJhbCBkaXJlY3RvcnkuXG5cdCAqXG5cdCAqIFNvIHdlJ2xsIGp1c3QgdXNlIHRoZSBjZW50cmFsIGRpcmVjdG9yeSdzIHZhbHVlcy5cblx0ICovXG5cdC8vIHB1YmxpYyBjb21wcmVzc2VkU2l6ZSgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5kYXRhLnJlYWRVSW50MzJMRSgxOCk7IH1cblx0Ly8gcHVibGljIHVuY29tcHJlc3NlZFNpemUoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuZGF0YS5yZWFkVUludDMyTEUoMjIpOyB9XG5cdHB1YmxpYyBmaWxlTmFtZUxlbmd0aCgpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLmRhdGEucmVhZFVJbnQxNkxFKDI2KTtcblx0fVxuXHRwdWJsaWMgZXh0cmFGaWVsZExlbmd0aCgpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLmRhdGEucmVhZFVJbnQxNkxFKDI4KTtcblx0fVxuXHRwdWJsaWMgZmlsZU5hbWUoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gc2FmZVRvU3RyaW5nKHRoaXMuZGF0YSwgdGhpcy51c2VVVEY4KCksIDMwLCB0aGlzLmZpbGVOYW1lTGVuZ3RoKCkpO1xuXHR9XG5cdHB1YmxpYyBleHRyYUZpZWxkKCk6IEJ1ZmZlciB7XG5cdFx0Y29uc3Qgc3RhcnQgPSAzMCArIHRoaXMuZmlsZU5hbWVMZW5ndGgoKTtcblx0XHRyZXR1cm4gdGhpcy5kYXRhLnNsaWNlKHN0YXJ0LCBzdGFydCArIHRoaXMuZXh0cmFGaWVsZExlbmd0aCgpKTtcblx0fVxuXHRwdWJsaWMgdG90YWxTaXplKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIDMwICsgdGhpcy5maWxlTmFtZUxlbmd0aCgpICsgdGhpcy5leHRyYUZpZWxkTGVuZ3RoKCk7XG5cdH1cblx0cHVibGljIHVzZVVURjgoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuICh0aGlzLmZsYWdzKCkgJiAweDgwMCkgPT09IDB4ODAwO1xuXHR9XG59XG5cbi8qKlxuICogNC4zLjggIEZpbGUgZGF0YVxuICpcbiAqICAgSW1tZWRpYXRlbHkgZm9sbG93aW5nIHRoZSBsb2NhbCBoZWFkZXIgZm9yIGEgZmlsZVxuICogICBTSE9VTEQgYmUgcGxhY2VkIHRoZSBjb21wcmVzc2VkIG9yIHN0b3JlZCBkYXRhIGZvciB0aGUgZmlsZS5cbiAqICAgSWYgdGhlIGZpbGUgaXMgZW5jcnlwdGVkLCB0aGUgZW5jcnlwdGlvbiBoZWFkZXIgZm9yIHRoZSBmaWxlXG4gKiAgIFNIT1VMRCBiZSBwbGFjZWQgYWZ0ZXIgdGhlIGxvY2FsIGhlYWRlciBhbmQgYmVmb3JlIHRoZSBmaWxlXG4gKiAgIGRhdGEuIFRoZSBzZXJpZXMgb2YgW2xvY2FsIGZpbGUgaGVhZGVyXVtlbmNyeXB0aW9uIGhlYWRlcl1cbiAqICAgW2ZpbGUgZGF0YV1bZGF0YSBkZXNjcmlwdG9yXSByZXBlYXRzIGZvciBlYWNoIGZpbGUgaW4gdGhlXG4gKiAgIC5aSVAgYXJjaGl2ZS5cbiAqXG4gKiAgIFplcm8tYnl0ZSBmaWxlcywgZGlyZWN0b3JpZXMsIGFuZCBvdGhlciBmaWxlIHR5cGVzIHRoYXRcbiAqICAgY29udGFpbiBubyBjb250ZW50IE1VU1Qgbm90IGluY2x1ZGUgZmlsZSBkYXRhLlxuICovXG5leHBvcnQgY2xhc3MgRmlsZURhdGEge1xuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIGhlYWRlcjogRmlsZUhlYWRlciwgcHJpdmF0ZSByZWNvcmQ6IENlbnRyYWxEaXJlY3RvcnksIHByaXZhdGUgZGF0YTogQnVmZmVyKSB7fVxuXHRwdWJsaWMgZGVjb21wcmVzcygpOiBCdWZmZXIge1xuXHRcdC8vIENoZWNrIHRoZSBjb21wcmVzc2lvblxuXHRcdGNvbnN0IGNvbXByZXNzaW9uTWV0aG9kOiBDb21wcmVzc2lvbk1ldGhvZCA9IHRoaXMuaGVhZGVyLmNvbXByZXNzaW9uTWV0aG9kKCk7XG5cdFx0Y29uc3QgZmNuID0gZGVjb21wcmVzc2lvbk1ldGhvZHNbY29tcHJlc3Npb25NZXRob2RdO1xuXHRcdGlmIChmY24pIHtcblx0XHRcdHJldHVybiBmY24odGhpcy5kYXRhLCB0aGlzLnJlY29yZC5jb21wcmVzc2VkU2l6ZSgpLCB0aGlzLnJlY29yZC51bmNvbXByZXNzZWRTaXplKCksIHRoaXMucmVjb3JkLmZsYWcoKSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGxldCBuYW1lOiBzdHJpbmcgPSBDb21wcmVzc2lvbk1ldGhvZFtjb21wcmVzc2lvbk1ldGhvZF07XG5cdFx0XHRpZiAoIW5hbWUpIHtcblx0XHRcdFx0bmFtZSA9IGBVbmtub3duOiAke2NvbXByZXNzaW9uTWV0aG9kfWA7XG5cdFx0XHR9XG5cdFx0XHR0aHJvdyBuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVJTlZBTCwgYEludmFsaWQgY29tcHJlc3Npb24gbWV0aG9kIG9uIGZpbGUgJyR7dGhpcy5oZWFkZXIuZmlsZU5hbWUoKX0nOiAke25hbWV9YCk7XG5cdFx0fVxuXHR9XG5cdHB1YmxpYyBnZXRIZWFkZXIoKTogRmlsZUhlYWRlciB7XG5cdFx0cmV0dXJuIHRoaXMuaGVhZGVyO1xuXHR9XG5cdHB1YmxpYyBnZXRSZWNvcmQoKTogQ2VudHJhbERpcmVjdG9yeSB7XG5cdFx0cmV0dXJuIHRoaXMucmVjb3JkO1xuXHR9XG5cdHB1YmxpYyBnZXRSYXdEYXRhKCk6IEJ1ZmZlciB7XG5cdFx0cmV0dXJuIHRoaXMuZGF0YTtcblx0fVxufVxuXG4vKipcbiAqIDQuMy45ICBEYXRhIGRlc2NyaXB0b3I6XG4gKlxuICogICAgY3JjLTMyICAgICAgICAgICAgICAgICAgICAgICAgICA0IGJ5dGVzXG4gKiAgICBjb21wcmVzc2VkIHNpemUgICAgICAgICAgICAgICAgIDQgYnl0ZXNcbiAqICAgIHVuY29tcHJlc3NlZCBzaXplICAgICAgICAgICAgICAgNCBieXRlc1xuICovXG5leHBvcnQgY2xhc3MgRGF0YURlc2NyaXB0b3Ige1xuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIGRhdGE6IEJ1ZmZlcikge31cblx0cHVibGljIGNyYzMyKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuZGF0YS5yZWFkVUludDMyTEUoMCk7XG5cdH1cblx0cHVibGljIGNvbXByZXNzZWRTaXplKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuZGF0YS5yZWFkVUludDMyTEUoNCk7XG5cdH1cblx0cHVibGljIHVuY29tcHJlc3NlZFNpemUoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5kYXRhLnJlYWRVSW50MzJMRSg4KTtcblx0fVxufVxuXG4vKlxuYCA0LjMuMTAgIEFyY2hpdmUgZGVjcnlwdGlvbiBoZWFkZXI6XG5cbiAgICAgIDQuMy4xMC4xIFRoZSBBcmNoaXZlIERlY3J5cHRpb24gSGVhZGVyIGlzIGludHJvZHVjZWQgaW4gdmVyc2lvbiA2LjJcbiAgICAgIG9mIHRoZSBaSVAgZm9ybWF0IHNwZWNpZmljYXRpb24uICBUaGlzIHJlY29yZCBleGlzdHMgaW4gc3VwcG9ydFxuICAgICAgb2YgdGhlIENlbnRyYWwgRGlyZWN0b3J5IEVuY3J5cHRpb24gRmVhdHVyZSBpbXBsZW1lbnRlZCBhcyBwYXJ0IG9mXG4gICAgICB0aGUgU3Ryb25nIEVuY3J5cHRpb24gU3BlY2lmaWNhdGlvbiBhcyBkZXNjcmliZWQgaW4gdGhpcyBkb2N1bWVudC5cbiAgICAgIFdoZW4gdGhlIENlbnRyYWwgRGlyZWN0b3J5IFN0cnVjdHVyZSBpcyBlbmNyeXB0ZWQsIHRoaXMgZGVjcnlwdGlvblxuICAgICAgaGVhZGVyIE1VU1QgcHJlY2VkZSB0aGUgZW5jcnlwdGVkIGRhdGEgc2VnbWVudC5cbiAqL1xuLyoqXG4gKiA0LjMuMTEgIEFyY2hpdmUgZXh0cmEgZGF0YSByZWNvcmQ6XG4gKlxuICogICAgICBhcmNoaXZlIGV4dHJhIGRhdGEgc2lnbmF0dXJlICAgIDQgYnl0ZXMgICgweDA4MDY0YjUwKVxuICogICAgICBleHRyYSBmaWVsZCBsZW5ndGggICAgICAgICAgICAgIDQgYnl0ZXNcbiAqICAgICAgZXh0cmEgZmllbGQgZGF0YSAgICAgICAgICAgICAgICAodmFyaWFibGUgc2l6ZSlcbiAqXG4gKiAgICA0LjMuMTEuMSBUaGUgQXJjaGl2ZSBFeHRyYSBEYXRhIFJlY29yZCBpcyBpbnRyb2R1Y2VkIGluIHZlcnNpb24gNi4yXG4gKiAgICBvZiB0aGUgWklQIGZvcm1hdCBzcGVjaWZpY2F0aW9uLiAgVGhpcyByZWNvcmQgTUFZIGJlIHVzZWQgaW4gc3VwcG9ydFxuICogICAgb2YgdGhlIENlbnRyYWwgRGlyZWN0b3J5IEVuY3J5cHRpb24gRmVhdHVyZSBpbXBsZW1lbnRlZCBhcyBwYXJ0IG9mXG4gKiAgICB0aGUgU3Ryb25nIEVuY3J5cHRpb24gU3BlY2lmaWNhdGlvbiBhcyBkZXNjcmliZWQgaW4gdGhpcyBkb2N1bWVudC5cbiAqICAgIFdoZW4gcHJlc2VudCwgdGhpcyByZWNvcmQgTVVTVCBpbW1lZGlhdGVseSBwcmVjZWRlIHRoZSBjZW50cmFsXG4gKiAgICBkaXJlY3RvcnkgZGF0YSBzdHJ1Y3R1cmUuXG4gKi9cbmV4cG9ydCBjbGFzcyBBcmNoaXZlRXh0cmFEYXRhUmVjb3JkIHtcblx0Y29uc3RydWN0b3IocHJpdmF0ZSBkYXRhOiBCdWZmZXIpIHtcblx0XHRpZiAodGhpcy5kYXRhLnJlYWRVSW50MzJMRSgwKSAhPT0gMHgwODA2NGI1MCkge1xuXHRcdFx0dGhyb3cgbmV3IEFwaUVycm9yKEVycm9yQ29kZS5FSU5WQUwsICdJbnZhbGlkIGFyY2hpdmUgZXh0cmEgZGF0YSByZWNvcmQgc2lnbmF0dXJlOiAnICsgdGhpcy5kYXRhLnJlYWRVSW50MzJMRSgwKSk7XG5cdFx0fVxuXHR9XG5cdHB1YmxpYyBsZW5ndGgoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5kYXRhLnJlYWRVSW50MzJMRSg0KTtcblx0fVxuXHRwdWJsaWMgZXh0cmFGaWVsZERhdGEoKTogQnVmZmVyIHtcblx0XHRyZXR1cm4gdGhpcy5kYXRhLnNsaWNlKDgsIDggKyB0aGlzLmxlbmd0aCgpKTtcblx0fVxufVxuXG4vKipcbiAqIDQuMy4xMyBEaWdpdGFsIHNpZ25hdHVyZTpcbiAqXG4gKiAgICAgIGhlYWRlciBzaWduYXR1cmUgICAgICAgICAgICAgICAgNCBieXRlcyAgKDB4MDUwNTRiNTApXG4gKiAgICAgIHNpemUgb2YgZGF0YSAgICAgICAgICAgICAgICAgICAgMiBieXRlc1xuICogICAgICBzaWduYXR1cmUgZGF0YSAodmFyaWFibGUgc2l6ZSlcbiAqXG4gKiAgICBXaXRoIHRoZSBpbnRyb2R1Y3Rpb24gb2YgdGhlIENlbnRyYWwgRGlyZWN0b3J5IEVuY3J5cHRpb25cbiAqICAgIGZlYXR1cmUgaW4gdmVyc2lvbiA2LjIgb2YgdGhpcyBzcGVjaWZpY2F0aW9uLCB0aGUgQ2VudHJhbFxuICogICAgRGlyZWN0b3J5IFN0cnVjdHVyZSBNQVkgYmUgc3RvcmVkIGJvdGggY29tcHJlc3NlZCBhbmQgZW5jcnlwdGVkLlxuICogICAgQWx0aG91Z2ggbm90IHJlcXVpcmVkLCBpdCBpcyBhc3N1bWVkIHdoZW4gZW5jcnlwdGluZyB0aGVcbiAqICAgIENlbnRyYWwgRGlyZWN0b3J5IFN0cnVjdHVyZSwgdGhhdCBpdCB3aWxsIGJlIGNvbXByZXNzZWRcbiAqICAgIGZvciBncmVhdGVyIHN0b3JhZ2UgZWZmaWNpZW5jeS4gIEluZm9ybWF0aW9uIG9uIHRoZVxuICogICAgQ2VudHJhbCBEaXJlY3RvcnkgRW5jcnlwdGlvbiBmZWF0dXJlIGNhbiBiZSBmb3VuZCBpbiB0aGUgc2VjdGlvblxuICogICAgZGVzY3JpYmluZyB0aGUgU3Ryb25nIEVuY3J5cHRpb24gU3BlY2lmaWNhdGlvbi4gVGhlIERpZ2l0YWxcbiAqICAgIFNpZ25hdHVyZSByZWNvcmQgd2lsbCBiZSBuZWl0aGVyIGNvbXByZXNzZWQgbm9yIGVuY3J5cHRlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIERpZ2l0YWxTaWduYXR1cmUge1xuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIGRhdGE6IEJ1ZmZlcikge1xuXHRcdGlmICh0aGlzLmRhdGEucmVhZFVJbnQzMkxFKDApICE9PSAweDA1MDU0YjUwKSB7XG5cdFx0XHR0aHJvdyBuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVJTlZBTCwgJ0ludmFsaWQgZGlnaXRhbCBzaWduYXR1cmUgc2lnbmF0dXJlOiAnICsgdGhpcy5kYXRhLnJlYWRVSW50MzJMRSgwKSk7XG5cdFx0fVxuXHR9XG5cdHB1YmxpYyBzaXplKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuZGF0YS5yZWFkVUludDE2TEUoNCk7XG5cdH1cblx0cHVibGljIHNpZ25hdHVyZURhdGEoKTogQnVmZmVyIHtcblx0XHRyZXR1cm4gdGhpcy5kYXRhLnNsaWNlKDYsIDYgKyB0aGlzLnNpemUoKSk7XG5cdH1cbn1cblxuLyoqXG4gKiA0LjMuMTIgIENlbnRyYWwgZGlyZWN0b3J5IHN0cnVjdHVyZTpcbiAqXG4gKiAgY2VudHJhbCBmaWxlIGhlYWRlciBzaWduYXR1cmUgICA0IGJ5dGVzICAoMHgwMjAxNGI1MClcbiAqICB2ZXJzaW9uIG1hZGUgYnkgICAgICAgICAgICAgICAgIDIgYnl0ZXNcbiAqICB2ZXJzaW9uIG5lZWRlZCB0byBleHRyYWN0ICAgICAgIDIgYnl0ZXNcbiAqICBnZW5lcmFsIHB1cnBvc2UgYml0IGZsYWcgICAgICAgIDIgYnl0ZXNcbiAqICBjb21wcmVzc2lvbiBtZXRob2QgICAgICAgICAgICAgIDIgYnl0ZXNcbiAqICBsYXN0IG1vZCBmaWxlIHRpbWUgICAgICAgICAgICAgIDIgYnl0ZXNcbiAqICBsYXN0IG1vZCBmaWxlIGRhdGUgICAgICAgICAgICAgIDIgYnl0ZXNcbiAqICBjcmMtMzIgICAgICAgICAgICAgICAgICAgICAgICAgIDQgYnl0ZXNcbiAqICBjb21wcmVzc2VkIHNpemUgICAgICAgICAgICAgICAgIDQgYnl0ZXNcbiAqICB1bmNvbXByZXNzZWQgc2l6ZSAgICAgICAgICAgICAgIDQgYnl0ZXNcbiAqICBmaWxlIG5hbWUgbGVuZ3RoICAgICAgICAgICAgICAgIDIgYnl0ZXNcbiAqICBleHRyYSBmaWVsZCBsZW5ndGggICAgICAgICAgICAgIDIgYnl0ZXNcbiAqICBmaWxlIGNvbW1lbnQgbGVuZ3RoICAgICAgICAgICAgIDIgYnl0ZXNcbiAqICBkaXNrIG51bWJlciBzdGFydCAgICAgICAgICAgICAgIDIgYnl0ZXNcbiAqICBpbnRlcm5hbCBmaWxlIGF0dHJpYnV0ZXMgICAgICAgIDIgYnl0ZXNcbiAqICBleHRlcm5hbCBmaWxlIGF0dHJpYnV0ZXMgICAgICAgIDQgYnl0ZXNcbiAqICByZWxhdGl2ZSBvZmZzZXQgb2YgbG9jYWwgaGVhZGVyIDQgYnl0ZXNcbiAqXG4gKiAgZmlsZSBuYW1lICh2YXJpYWJsZSBzaXplKVxuICogIGV4dHJhIGZpZWxkICh2YXJpYWJsZSBzaXplKVxuICogIGZpbGUgY29tbWVudCAodmFyaWFibGUgc2l6ZSlcbiAqL1xuZXhwb3J0IGNsYXNzIENlbnRyYWxEaXJlY3Rvcnkge1xuXHQvLyBPcHRpbWl6YXRpb246IFRoZSBmaWxlbmFtZSBpcyBmcmVxdWVudGx5IHJlYWQsIHNvIHN0YXNoIGl0IGhlcmUuXG5cdHByaXZhdGUgX2ZpbGVuYW1lOiBzdHJpbmc7XG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgemlwRGF0YTogQnVmZmVyLCBwcml2YXRlIGRhdGE6IEJ1ZmZlcikge1xuXHRcdC8vIFNhbml0eSBjaGVjay5cblx0XHRpZiAodGhpcy5kYXRhLnJlYWRVSW50MzJMRSgwKSAhPT0gMHgwMjAxNGI1MCkge1xuXHRcdFx0dGhyb3cgbmV3IEFwaUVycm9yKEVycm9yQ29kZS5FSU5WQUwsIGBJbnZhbGlkIFppcCBmaWxlOiBDZW50cmFsIGRpcmVjdG9yeSByZWNvcmQgaGFzIGludmFsaWQgc2lnbmF0dXJlOiAke3RoaXMuZGF0YS5yZWFkVUludDMyTEUoMCl9YCk7XG5cdFx0fVxuXHRcdHRoaXMuX2ZpbGVuYW1lID0gdGhpcy5wcm9kdWNlRmlsZW5hbWUoKTtcblx0fVxuXHRwdWJsaWMgdmVyc2lvbk1hZGVCeSgpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLmRhdGEucmVhZFVJbnQxNkxFKDQpO1xuXHR9XG5cdHB1YmxpYyB2ZXJzaW9uTmVlZGVkKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuZGF0YS5yZWFkVUludDE2TEUoNik7XG5cdH1cblx0cHVibGljIGZsYWcoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5kYXRhLnJlYWRVSW50MTZMRSg4KTtcblx0fVxuXHRwdWJsaWMgY29tcHJlc3Npb25NZXRob2QoKTogQ29tcHJlc3Npb25NZXRob2Qge1xuXHRcdHJldHVybiB0aGlzLmRhdGEucmVhZFVJbnQxNkxFKDEwKTtcblx0fVxuXHRwdWJsaWMgbGFzdE1vZEZpbGVUaW1lKCk6IERhdGUge1xuXHRcdC8vIFRpbWUgYW5kIGRhdGUgaXMgaW4gTVMtRE9TIGZvcm1hdC5cblx0XHRyZXR1cm4gbXNkb3MyZGF0ZSh0aGlzLmRhdGEucmVhZFVJbnQxNkxFKDEyKSwgdGhpcy5kYXRhLnJlYWRVSW50MTZMRSgxNCkpO1xuXHR9XG5cdHB1YmxpYyByYXdMYXN0TW9kRmlsZVRpbWUoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5kYXRhLnJlYWRVSW50MzJMRSgxMik7XG5cdH1cblx0cHVibGljIGNyYzMyKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuZGF0YS5yZWFkVUludDMyTEUoMTYpO1xuXHR9XG5cdHB1YmxpYyBjb21wcmVzc2VkU2l6ZSgpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLmRhdGEucmVhZFVJbnQzMkxFKDIwKTtcblx0fVxuXHRwdWJsaWMgdW5jb21wcmVzc2VkU2l6ZSgpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLmRhdGEucmVhZFVJbnQzMkxFKDI0KTtcblx0fVxuXHRwdWJsaWMgZmlsZU5hbWVMZW5ndGgoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5kYXRhLnJlYWRVSW50MTZMRSgyOCk7XG5cdH1cblx0cHVibGljIGV4dHJhRmllbGRMZW5ndGgoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5kYXRhLnJlYWRVSW50MTZMRSgzMCk7XG5cdH1cblx0cHVibGljIGZpbGVDb21tZW50TGVuZ3RoKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuZGF0YS5yZWFkVUludDE2TEUoMzIpO1xuXHR9XG5cdHB1YmxpYyBkaXNrTnVtYmVyU3RhcnQoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5kYXRhLnJlYWRVSW50MTZMRSgzNCk7XG5cdH1cblx0cHVibGljIGludGVybmFsQXR0cmlidXRlcygpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLmRhdGEucmVhZFVJbnQxNkxFKDM2KTtcblx0fVxuXHRwdWJsaWMgZXh0ZXJuYWxBdHRyaWJ1dGVzKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuZGF0YS5yZWFkVUludDMyTEUoMzgpO1xuXHR9XG5cdHB1YmxpYyBoZWFkZXJSZWxhdGl2ZU9mZnNldCgpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLmRhdGEucmVhZFVJbnQzMkxFKDQyKTtcblx0fVxuXHRwdWJsaWMgcHJvZHVjZUZpbGVuYW1lKCk6IHN0cmluZyB7XG5cdFx0LypcbiAgICAgIDQuNC4xNy4xIGNsYWltczpcbiAgICAgICogQWxsIHNsYXNoZXMgYXJlIGZvcndhcmQgKCcvJykgc2xhc2hlcy5cbiAgICAgICogRmlsZW5hbWUgZG9lc24ndCBiZWdpbiB3aXRoIGEgc2xhc2guXG4gICAgICAqIE5vIGRyaXZlIGxldHRlcnMgb3IgYW55IG5vbnNlbnNlIGxpa2UgdGhhdC5cbiAgICAgICogSWYgZmlsZW5hbWUgaXMgbWlzc2luZywgdGhlIGlucHV0IGNhbWUgZnJvbSBzdGFuZGFyZCBpbnB1dC5cblxuICAgICAgVW5mb3J0dW5hdGVseSwgdGhpcyBpc24ndCB0cnVlIGluIHByYWN0aWNlLiBTb21lIFdpbmRvd3MgemlwIHV0aWxpdGllcyB1c2VcbiAgICAgIGEgYmFja3NsYXNoIGhlcmUsIGJ1dCB0aGUgY29ycmVjdCBVbml4LXN0eWxlIHBhdGggaW4gZmlsZSBoZWFkZXJzLlxuXG4gICAgICBUbyBhdm9pZCBzZWVraW5nIGFsbCBvdmVyIHRoZSBmaWxlIHRvIHJlY292ZXIgdGhlIGtub3duLWdvb2QgZmlsZW5hbWVzXG4gICAgICBmcm9tIGZpbGUgaGVhZGVycywgd2Ugc2ltcGx5IGNvbnZlcnQgJy8nIHRvICdcXCcgaGVyZS5cbiAgICAqL1xuXHRcdGNvbnN0IGZpbGVOYW1lOiBzdHJpbmcgPSBzYWZlVG9TdHJpbmcodGhpcy5kYXRhLCB0aGlzLnVzZVVURjgoKSwgNDYsIHRoaXMuZmlsZU5hbWVMZW5ndGgoKSk7XG5cdFx0cmV0dXJuIGZpbGVOYW1lLnJlcGxhY2UoL1xcXFwvZywgJy8nKTtcblx0fVxuXHRwdWJsaWMgZmlsZU5hbWUoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gdGhpcy5fZmlsZW5hbWU7XG5cdH1cblx0cHVibGljIHJhd0ZpbGVOYW1lKCk6IEJ1ZmZlciB7XG5cdFx0cmV0dXJuIHRoaXMuZGF0YS5zbGljZSg0NiwgNDYgKyB0aGlzLmZpbGVOYW1lTGVuZ3RoKCkpO1xuXHR9XG5cdHB1YmxpYyBleHRyYUZpZWxkKCk6IEJ1ZmZlciB7XG5cdFx0Y29uc3Qgc3RhcnQgPSA0NCArIHRoaXMuZmlsZU5hbWVMZW5ndGgoKTtcblx0XHRyZXR1cm4gdGhpcy5kYXRhLnNsaWNlKHN0YXJ0LCBzdGFydCArIHRoaXMuZXh0cmFGaWVsZExlbmd0aCgpKTtcblx0fVxuXHRwdWJsaWMgZmlsZUNvbW1lbnQoKTogc3RyaW5nIHtcblx0XHRjb25zdCBzdGFydCA9IDQ2ICsgdGhpcy5maWxlTmFtZUxlbmd0aCgpICsgdGhpcy5leHRyYUZpZWxkTGVuZ3RoKCk7XG5cdFx0cmV0dXJuIHNhZmVUb1N0cmluZyh0aGlzLmRhdGEsIHRoaXMudXNlVVRGOCgpLCBzdGFydCwgdGhpcy5maWxlQ29tbWVudExlbmd0aCgpKTtcblx0fVxuXHRwdWJsaWMgcmF3RmlsZUNvbW1lbnQoKTogQnVmZmVyIHtcblx0XHRjb25zdCBzdGFydCA9IDQ2ICsgdGhpcy5maWxlTmFtZUxlbmd0aCgpICsgdGhpcy5leHRyYUZpZWxkTGVuZ3RoKCk7XG5cdFx0cmV0dXJuIHRoaXMuZGF0YS5zbGljZShzdGFydCwgc3RhcnQgKyB0aGlzLmZpbGVDb21tZW50TGVuZ3RoKCkpO1xuXHR9XG5cdHB1YmxpYyB0b3RhbFNpemUoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gNDYgKyB0aGlzLmZpbGVOYW1lTGVuZ3RoKCkgKyB0aGlzLmV4dHJhRmllbGRMZW5ndGgoKSArIHRoaXMuZmlsZUNvbW1lbnRMZW5ndGgoKTtcblx0fVxuXHRwdWJsaWMgaXNEaXJlY3RvcnkoKTogYm9vbGVhbiB7XG5cdFx0Ly8gTk9URTogVGhpcyBhc3N1bWVzIHRoYXQgdGhlIHppcCBmaWxlIGltcGxlbWVudGF0aW9uIHVzZXMgdGhlIGxvd2VyIGJ5dGVcblx0XHQvLyAgICAgICBvZiBleHRlcm5hbCBhdHRyaWJ1dGVzIGZvciBET1MgYXR0cmlidXRlcyBmb3Jcblx0XHQvLyAgICAgICBiYWNrd2FyZHMtY29tcGF0aWJpbGl0eS4gVGhpcyBpcyBub3QgbWFuZGF0ZWQsIGJ1dCBhcHBlYXJzIHRvIGJlXG5cdFx0Ly8gICAgICAgY29tbW9ucGxhY2UuXG5cdFx0Ly8gICAgICAgQWNjb3JkaW5nIHRvIHRoZSBzcGVjLCB0aGUgbGF5b3V0IG9mIGV4dGVybmFsIGF0dHJpYnV0ZXMgaXNcblx0XHQvLyAgICAgICBwbGF0Zm9ybS1kZXBlbmRlbnQuXG5cdFx0Ly8gICAgICAgSWYgdGhhdCBmYWlscywgd2UgYWxzbyBjaGVjayBpZiB0aGUgbmFtZSBvZiB0aGUgZmlsZSBlbmRzIGluICcvJyxcblx0XHQvLyAgICAgICB3aGljaCBpcyB3aGF0IEphdmEncyBaaXBGaWxlIGltcGxlbWVudGF0aW9uIGRvZXMuXG5cdFx0Y29uc3QgZmlsZU5hbWUgPSB0aGlzLmZpbGVOYW1lKCk7XG5cdFx0cmV0dXJuICh0aGlzLmV4dGVybmFsQXR0cmlidXRlcygpICYgMHgxMCA/IHRydWUgOiBmYWxzZSkgfHwgZmlsZU5hbWUuY2hhckF0KGZpbGVOYW1lLmxlbmd0aCAtIDEpID09PSAnLyc7XG5cdH1cblx0cHVibGljIGlzRmlsZSgpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gIXRoaXMuaXNEaXJlY3RvcnkoKTtcblx0fVxuXHRwdWJsaWMgdXNlVVRGOCgpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gKHRoaXMuZmxhZygpICYgMHg4MDApID09PSAweDgwMDtcblx0fVxuXHRwdWJsaWMgaXNFbmNyeXB0ZWQoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuICh0aGlzLmZsYWcoKSAmIDB4MSkgPT09IDB4MTtcblx0fVxuXHRwdWJsaWMgZ2V0RmlsZURhdGEoKTogRmlsZURhdGEge1xuXHRcdC8vIE5lZWQgdG8gZ3JhYiB0aGUgaGVhZGVyIGJlZm9yZSB3ZSBjYW4gZmlndXJlIG91dCB3aGVyZSB0aGUgYWN0dWFsXG5cdFx0Ly8gY29tcHJlc3NlZCBkYXRhIHN0YXJ0cy5cblx0XHRjb25zdCBzdGFydCA9IHRoaXMuaGVhZGVyUmVsYXRpdmVPZmZzZXQoKTtcblx0XHRjb25zdCBoZWFkZXIgPSBuZXcgRmlsZUhlYWRlcih0aGlzLnppcERhdGEuc2xpY2Uoc3RhcnQpKTtcblx0XHRyZXR1cm4gbmV3IEZpbGVEYXRhKGhlYWRlciwgdGhpcywgdGhpcy56aXBEYXRhLnNsaWNlKHN0YXJ0ICsgaGVhZGVyLnRvdGFsU2l6ZSgpKSk7XG5cdH1cblx0cHVibGljIGdldERhdGEoKTogQnVmZmVyIHtcblx0XHRyZXR1cm4gdGhpcy5nZXRGaWxlRGF0YSgpLmRlY29tcHJlc3MoKTtcblx0fVxuXHRwdWJsaWMgZ2V0UmF3RGF0YSgpOiBCdWZmZXIge1xuXHRcdHJldHVybiB0aGlzLmdldEZpbGVEYXRhKCkuZ2V0UmF3RGF0YSgpO1xuXHR9XG5cdHB1YmxpYyBnZXRTdGF0cygpOiBTdGF0cyB7XG5cdFx0cmV0dXJuIG5ldyBTdGF0cyhGaWxlVHlwZS5GSUxFLCB0aGlzLnVuY29tcHJlc3NlZFNpemUoKSwgMHgxNmQsIERhdGUubm93KCksIHRoaXMubGFzdE1vZEZpbGVUaW1lKCkuZ2V0VGltZSgpKTtcblx0fVxufVxuXG4vKipcbiAqIDQuMy4xNjogZW5kIG9mIGNlbnRyYWwgZGlyZWN0b3J5IHJlY29yZFxuICogIGVuZCBvZiBjZW50cmFsIGRpciBzaWduYXR1cmUgICAgNCBieXRlcyAgKDB4MDYwNTRiNTApXG4gKiAgbnVtYmVyIG9mIHRoaXMgZGlzayAgICAgICAgICAgICAyIGJ5dGVzXG4gKiAgbnVtYmVyIG9mIHRoZSBkaXNrIHdpdGggdGhlXG4gKiAgc3RhcnQgb2YgdGhlIGNlbnRyYWwgZGlyZWN0b3J5ICAyIGJ5dGVzXG4gKiAgdG90YWwgbnVtYmVyIG9mIGVudHJpZXMgaW4gdGhlXG4gKiAgY2VudHJhbCBkaXJlY3Rvcnkgb24gdGhpcyBkaXNrICAyIGJ5dGVzXG4gKiAgdG90YWwgbnVtYmVyIG9mIGVudHJpZXMgaW5cbiAqICB0aGUgY2VudHJhbCBkaXJlY3RvcnkgICAgICAgICAgIDIgYnl0ZXNcbiAqICBzaXplIG9mIHRoZSBjZW50cmFsIGRpcmVjdG9yeSAgIDQgYnl0ZXNcbiAqICBvZmZzZXQgb2Ygc3RhcnQgb2YgY2VudHJhbFxuICogIGRpcmVjdG9yeSB3aXRoIHJlc3BlY3QgdG9cbiAqICB0aGUgc3RhcnRpbmcgZGlzayBudW1iZXIgICAgICAgIDQgYnl0ZXNcbiAqICAuWklQIGZpbGUgY29tbWVudCBsZW5ndGggICAgICAgIDIgYnl0ZXNcbiAqICAuWklQIGZpbGUgY29tbWVudCAgICAgICAodmFyaWFibGUgc2l6ZSlcbiAqL1xuZXhwb3J0IGNsYXNzIEVuZE9mQ2VudHJhbERpcmVjdG9yeSB7XG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgZGF0YTogQnVmZmVyKSB7XG5cdFx0aWYgKHRoaXMuZGF0YS5yZWFkVUludDMyTEUoMCkgIT09IDB4MDYwNTRiNTApIHtcblx0XHRcdHRocm93IG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRUlOVkFMLCBgSW52YWxpZCBaaXAgZmlsZTogRW5kIG9mIGNlbnRyYWwgZGlyZWN0b3J5IHJlY29yZCBoYXMgaW52YWxpZCBzaWduYXR1cmU6ICR7dGhpcy5kYXRhLnJlYWRVSW50MzJMRSgwKX1gKTtcblx0XHR9XG5cdH1cblx0cHVibGljIGRpc2tOdW1iZXIoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5kYXRhLnJlYWRVSW50MTZMRSg0KTtcblx0fVxuXHRwdWJsaWMgY2REaXNrTnVtYmVyKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuZGF0YS5yZWFkVUludDE2TEUoNik7XG5cdH1cblx0cHVibGljIGNkRGlza0VudHJ5Q291bnQoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5kYXRhLnJlYWRVSW50MTZMRSg4KTtcblx0fVxuXHRwdWJsaWMgY2RUb3RhbEVudHJ5Q291bnQoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5kYXRhLnJlYWRVSW50MTZMRSgxMCk7XG5cdH1cblx0cHVibGljIGNkU2l6ZSgpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLmRhdGEucmVhZFVJbnQzMkxFKDEyKTtcblx0fVxuXHRwdWJsaWMgY2RPZmZzZXQoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5kYXRhLnJlYWRVSW50MzJMRSgxNik7XG5cdH1cblx0cHVibGljIGNkWmlwQ29tbWVudExlbmd0aCgpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLmRhdGEucmVhZFVJbnQxNkxFKDIwKTtcblx0fVxuXHRwdWJsaWMgY2RaaXBDb21tZW50KCk6IHN0cmluZyB7XG5cdFx0Ly8gQXNzdW1pbmcgVVRGLTguIFRoZSBzcGVjaWZpY2F0aW9uIGRvZXNuJ3Qgc3BlY2lmeS5cblx0XHRyZXR1cm4gc2FmZVRvU3RyaW5nKHRoaXMuZGF0YSwgdHJ1ZSwgMjIsIHRoaXMuY2RaaXBDb21tZW50TGVuZ3RoKCkpO1xuXHR9XG5cdHB1YmxpYyByYXdDZFppcENvbW1lbnQoKTogQnVmZmVyIHtcblx0XHRyZXR1cm4gdGhpcy5kYXRhLnNsaWNlKDIyLCAyMiArIHRoaXMuY2RaaXBDb21tZW50TGVuZ3RoKCkpO1xuXHR9XG59XG5cbi8qKlxuICogQ29udGFpbnMgdGhlIHRhYmxlIG9mIGNvbnRlbnRzIG9mIGEgWmlwIGZpbGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBaaXBUT0Mge1xuXHRjb25zdHJ1Y3RvcihwdWJsaWMgaW5kZXg6IEZpbGVJbmRleDxDZW50cmFsRGlyZWN0b3J5PiwgcHVibGljIGRpcmVjdG9yeUVudHJpZXM6IENlbnRyYWxEaXJlY3RvcnlbXSwgcHVibGljIGVvY2Q6IEVuZE9mQ2VudHJhbERpcmVjdG9yeSwgcHVibGljIGRhdGE6IEJ1ZmZlcikge31cbn1cblxuLyoqXG4gKiBDb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIGEgWmlwRlMgZmlsZSBzeXN0ZW0uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgWmlwRlNPcHRpb25zIHtcblx0Ly8gVGhlIHppcCBmaWxlIGFzIGEgYmluYXJ5IGJ1ZmZlci5cblx0emlwRGF0YTogQnVmZmVyO1xuXHQvLyBUaGUgbmFtZSBvZiB0aGUgemlwIGZpbGUgKG9wdGlvbmFsKS5cblx0bmFtZT86IHN0cmluZztcbn1cblxuLyoqXG4gKiBaaXAgZmlsZS1iYWNrZWQgZmlsZXN5c3RlbVxuICogSW1wbGVtZW50ZWQgYWNjb3JkaW5nIHRvIHRoZSBzdGFuZGFyZDpcbiAqIGh0dHA6Ly93d3cucGt3YXJlLmNvbS9kb2N1bWVudHMvY2FzZXN0dWRpZXMvQVBQTk9URS5UWFRcbiAqXG4gKiBXaGlsZSB0aGVyZSBhcmUgYSBmZXcgemlwIGxpYnJhcmllcyBmb3IgSmF2YVNjcmlwdCAoZS5nLiBKU1ppcCBhbmQgemlwLmpzKSxcbiAqIHRoZXkgYXJlIG5vdCBhIGdvb2QgbWF0Y2ggZm9yIEJyb3dzZXJGUy4gSW4gcGFydGljdWxhciwgdGhlc2UgbGlicmFyaWVzXG4gKiBwZXJmb3JtIGEgbG90IG9mIHVubmVlZGVkIGRhdGEgY29weWluZywgYW5kIGVhZ2VybHkgZGVjb21wcmVzcyBldmVyeSBmaWxlXG4gKiBpbiB0aGUgemlwIGZpbGUgdXBvbiBsb2FkaW5nIHRvIGNoZWNrIHRoZSBDUkMzMi4gVGhleSBhbHNvIGVhZ2VybHkgZGVjb2RlXG4gKiBzdHJpbmdzLiBGdXJ0aGVybW9yZSwgdGhlc2UgbGlicmFyaWVzIGR1cGxpY2F0ZSBmdW5jdGlvbmFsaXR5IGFscmVhZHkgcHJlc2VudFxuICogaW4gQnJvd3NlckZTIChlLmcuIFVURi04IGRlY29kaW5nIGFuZCBiaW5hcnkgZGF0YSBtYW5pcHVsYXRpb24pLlxuICpcbiAqIFRoaXMgZmlsZXN5c3RlbSB0YWtlcyBhZHZhbnRhZ2Ugb2YgQnJvd3NlckZTJ3MgQnVmZmVyIGltcGxlbWVudGF0aW9uLCB3aGljaFxuICogZWZmaWNpZW50bHkgcmVwcmVzZW50cyB0aGUgemlwIGZpbGUgaW4gbWVtb3J5IChpbiBib3RoIEFycmF5QnVmZmVyLWVuYWJsZWRcbiAqIGJyb3dzZXJzICphbmQqIG5vbi1BcnJheUJ1ZmZlciBicm93c2VycyksIGFuZCB3aGljaCBjYW4gbmVhdGx5IGJlICdzbGljZWQnXG4gKiB3aXRob3V0IGNvcHlpbmcgZGF0YS4gRWFjaCBzdHJ1Y3QgZGVmaW5lZCBpbiB0aGUgc3RhbmRhcmQgaXMgcmVwcmVzZW50ZWQgd2l0aFxuICogYSBidWZmZXIgc2xpY2UgcG9pbnRpbmcgdG8gYW4gb2Zmc2V0IGluIHRoZSB6aXAgZmlsZSwgYW5kIGhhcyBnZXR0ZXJzIGZvclxuICogZWFjaCBmaWVsZC4gQXMgd2UgYW50aWNpcGF0ZSB0aGF0IHRoaXMgZGF0YSB3aWxsIG5vdCBiZSByZWFkIG9mdGVuLCB3ZSBjaG9vc2VcbiAqIG5vdCB0byBzdG9yZSBlYWNoIHN0cnVjdCBmaWVsZCBpbiB0aGUgSmF2YVNjcmlwdCBvYmplY3Q7IGluc3RlYWQsIHRvIHJlZHVjZVxuICogbWVtb3J5IGNvbnN1bXB0aW9uLCB3ZSByZXRyaWV2ZSBpdCBkaXJlY3RseSBmcm9tIHRoZSBiaW5hcnkgZGF0YSBlYWNoIHRpbWUgaXRcbiAqIGlzIHJlcXVlc3RlZC5cbiAqXG4gKiBXaGVuIHRoZSBmaWxlc3lzdGVtIGlzIGluc3RhbnRpYXRlZCwgd2UgZGV0ZXJtaW5lIHRoZSBkaXJlY3Rvcnkgc3RydWN0dXJlXG4gKiBvZiB0aGUgemlwIGZpbGUgYXMgcXVpY2tseSBhcyBwb3NzaWJsZS4gV2UgbGF6aWx5IGRlY29tcHJlc3MgYW5kIGNoZWNrIHRoZVxuICogQ1JDMzIgb2YgZmlsZXMuIFdlIGRvIG5vdCBjYWNoZSBkZWNvbXByZXNzZWQgZmlsZXM7IGlmIHRoaXMgaXMgYSBkZXNpcmVkXG4gKiBmZWF0dXJlLCBpdCBpcyBiZXN0IGltcGxlbWVudGVkIGFzIGEgZ2VuZXJpYyBmaWxlIHN5c3RlbSB3cmFwcGVyIHRoYXQgY2FuXG4gKiBjYWNoZSBkYXRhIGZyb20gYXJiaXRyYXJ5IGZpbGUgc3lzdGVtcy5cbiAqXG4gKiBGb3IgaW5mbGF0aW9uLCB3ZSB1c2UgYHBha29gJ3MgaW1wbGVtZW50YXRpb246XG4gKiBodHRwczovL2dpdGh1Yi5jb20vbm9kZWNhL3Bha29cbiAqXG4gKiBDdXJyZW50IGxpbWl0YXRpb25zOlxuICogKiBObyBlbmNyeXB0aW9uLlxuICogKiBObyBaSVA2NCBzdXBwb3J0LlxuICogKiBSZWFkLW9ubHkuXG4gKiAgIFdyaXRlIHN1cHBvcnQgd291bGQgcmVxdWlyZSB0aGF0IHdlOlxuICogICAtIEtlZXAgdHJhY2sgb2YgY2hhbmdlZC9uZXcgZmlsZXMuXG4gKiAgIC0gQ29tcHJlc3MgY2hhbmdlZCBmaWxlcywgYW5kIGdlbmVyYXRlIGFwcHJvcHJpYXRlIG1ldGFkYXRhIGZvciBlYWNoLlxuICogICAtIFVwZGF0ZSBmaWxlIG9mZnNldHMgZm9yIG90aGVyIGZpbGVzIGluIHRoZSB6aXAgZmlsZS5cbiAqICAgLSBTdHJlYW0gaXQgb3V0IHRvIGEgbG9jYXRpb24uXG4gKiAgIFRoaXMgaXNuJ3QgdGhhdCBiYWQsIHNvIHdlIG1pZ2h0IGRvIHRoaXMgYXQgYSBsYXRlciBkYXRlLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBaaXBGUyBleHRlbmRzIFN5bmNocm9ub3VzRmlsZVN5c3RlbSBpbXBsZW1lbnRzIEZpbGVTeXN0ZW0ge1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE5hbWUgPSAnWmlwRlMnO1xuXG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgT3B0aW9uczogRmlsZVN5c3RlbU9wdGlvbnMgPSB7XG5cdFx0emlwRGF0YToge1xuXHRcdFx0dHlwZTogJ29iamVjdCcsXG5cdFx0XHRkZXNjcmlwdGlvbjogJ1RoZSB6aXAgZmlsZSBhcyBhIEJ1ZmZlciBvYmplY3QuJyxcblx0XHRcdHZhbGlkYXRvcjogYnVmZmVyVmFsaWRhdG9yLFxuXHRcdH0sXG5cdFx0bmFtZToge1xuXHRcdFx0dHlwZTogJ3N0cmluZycsXG5cdFx0XHRvcHRpb25hbDogdHJ1ZSxcblx0XHRcdGRlc2NyaXB0aW9uOiAnVGhlIG5hbWUgb2YgdGhlIHppcCBmaWxlIChvcHRpb25hbCkuJyxcblx0XHR9LFxuXHR9O1xuXG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQ29tcHJlc3Npb25NZXRob2QgPSBDb21wcmVzc2lvbk1ldGhvZDtcblxuXHQvKipcblx0ICogQ29uc3RydWN0cyBhIFppcEZTIGluc3RhbmNlIHdpdGggdGhlIGdpdmVuIG9wdGlvbnMuXG5cdCAqL1xuXHRwdWJsaWMgc3RhdGljIENyZWF0ZShvcHRzOiBaaXBGU09wdGlvbnMsIGNiOiBCRlNDYWxsYmFjazxaaXBGUz4pOiB2b2lkIHtcblx0XHR0cnkge1xuXHRcdFx0WmlwRlMuX2NvbXB1dGVJbmRleChvcHRzLnppcERhdGEsIChlLCB6aXBUT0M/KSA9PiB7XG5cdFx0XHRcdGlmICh6aXBUT0MpIHtcblx0XHRcdFx0XHRjb25zdCBmcyA9IG5ldyBaaXBGUyh6aXBUT0MsIG9wdHMubmFtZSk7XG5cdFx0XHRcdFx0Y2IobnVsbCwgZnMpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNiKGUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRjYihlKTtcblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgc3RhdGljIENyZWF0ZUFzeW5jKG9wdHM6IFppcEZTT3B0aW9ucyk6IFByb21pc2U8WmlwRlM+IHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdFx0dGhpcy5DcmVhdGUob3B0cywgKGVycm9yLCBmcykgPT4ge1xuXHRcdFx0XHRpZiAoZXJyb3IgfHwgIWZzKSB7XG5cdFx0XHRcdFx0cmVqZWN0KGVycm9yKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyZXNvbHZlKGZzKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXHRwdWJsaWMgc3RhdGljIGlzQXZhaWxhYmxlKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0cHVibGljIHN0YXRpYyBSZWdpc3RlckRlY29tcHJlc3Npb25NZXRob2QobTogQ29tcHJlc3Npb25NZXRob2QsIGZjbjogKGRhdGE6IEJ1ZmZlciwgY29tcHJlc3NlZFNpemU6IG51bWJlciwgdW5jb21wcmVzc2VkU2l6ZTogbnVtYmVyLCBmbGFnczogbnVtYmVyKSA9PiBCdWZmZXIpOiB2b2lkIHtcblx0XHRkZWNvbXByZXNzaW9uTWV0aG9kc1ttXSA9IGZjbjtcblx0fVxuXG5cdC8qKlxuXHQgKiBMb2NhdGVzIHRoZSBlbmQgb2YgY2VudHJhbCBkaXJlY3RvcnkgcmVjb3JkIGF0IHRoZSBlbmQgb2YgdGhlIGZpbGUuXG5cdCAqIFRocm93cyBhbiBleGNlcHRpb24gaWYgaXQgY2Fubm90IGJlIGZvdW5kLlxuXHQgKi9cblx0cHJpdmF0ZSBzdGF0aWMgX2dldEVPQ0QoZGF0YTogQnVmZmVyKTogRW5kT2ZDZW50cmFsRGlyZWN0b3J5IHtcblx0XHQvLyBVbmZvcnR1bmF0ZWx5LCB0aGUgY29tbWVudCBpcyB2YXJpYWJsZSBzaXplIGFuZCB1cCB0byA2NEsgaW4gc2l6ZS5cblx0XHQvLyBXZSBhc3N1bWUgdGhhdCB0aGUgbWFnaWMgc2lnbmF0dXJlIGRvZXMgbm90IGFwcGVhciBpbiB0aGUgY29tbWVudCwgYW5kXG5cdFx0Ly8gaW4gdGhlIGJ5dGVzIGJldHdlZW4gdGhlIGNvbW1lbnQgYW5kIHRoZSBzaWduYXR1cmUuIE90aGVyIFpJUFxuXHRcdC8vIGltcGxlbWVudGF0aW9ucyBtYWtlIHRoaXMgc2FtZSBhc3N1bXB0aW9uLCBzaW5jZSB0aGUgYWx0ZXJuYXRpdmUgaXMgdG9cblx0XHQvLyByZWFkIHRocmVhZCBldmVyeSBlbnRyeSBpbiB0aGUgZmlsZSB0byBnZXQgdG8gaXQuIDooXG5cdFx0Ly8gVGhlc2UgYXJlICpuZWdhdGl2ZSogb2Zmc2V0cyBmcm9tIHRoZSBlbmQgb2YgdGhlIGZpbGUuXG5cdFx0Y29uc3Qgc3RhcnRPZmZzZXQgPSAyMjtcblx0XHRjb25zdCBlbmRPZmZzZXQgPSBNYXRoLm1pbihzdGFydE9mZnNldCArIDB4ZmZmZiwgZGF0YS5sZW5ndGggLSAxKTtcblx0XHQvLyBUaGVyZSdzIG5vdCBldmVuIGEgYnl0ZSBhbGlnbm1lbnQgZ3VhcmFudGVlIG9uIHRoZSBjb21tZW50IHNvIHdlIG5lZWQgdG9cblx0XHQvLyBzZWFyY2ggYnl0ZSBieSBieXRlLiAqZ3J1bWJsZSBncnVtYmxlKlxuXHRcdGZvciAobGV0IGkgPSBzdGFydE9mZnNldDsgaSA8IGVuZE9mZnNldDsgaSsrKSB7XG5cdFx0XHQvLyBNYWdpYyBudW1iZXI6IEVPQ0QgU2lnbmF0dXJlXG5cdFx0XHRpZiAoZGF0YS5yZWFkVUludDMyTEUoZGF0YS5sZW5ndGggLSBpKSA9PT0gMHgwNjA1NGI1MCkge1xuXHRcdFx0XHRyZXR1cm4gbmV3IEVuZE9mQ2VudHJhbERpcmVjdG9yeShkYXRhLnNsaWNlKGRhdGEubGVuZ3RoIC0gaSkpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHR0aHJvdyBuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVJTlZBTCwgJ0ludmFsaWQgWklQIGZpbGU6IENvdWxkIG5vdCBsb2NhdGUgRW5kIG9mIENlbnRyYWwgRGlyZWN0b3J5IHNpZ25hdHVyZS4nKTtcblx0fVxuXG5cdHByaXZhdGUgc3RhdGljIF9hZGRUb0luZGV4KGNkOiBDZW50cmFsRGlyZWN0b3J5LCBpbmRleDogRmlsZUluZGV4PENlbnRyYWxEaXJlY3Rvcnk+KSB7XG5cdFx0Ly8gUGF0aHMgbXVzdCBiZSBhYnNvbHV0ZSwgeWV0IHppcCBmaWxlIHBhdGhzIGFyZSBhbHdheXMgcmVsYXRpdmUgdG8gdGhlXG5cdFx0Ly8gemlwIHJvb3QuIFNvIHdlIGFwcGVuZCAnLycgYW5kIGNhbGwgaXQgYSBkYXkuXG5cdFx0bGV0IGZpbGVuYW1lID0gY2QuZmlsZU5hbWUoKTtcblx0XHRpZiAoZmlsZW5hbWUuY2hhckF0KDApID09PSAnLycpIHtcblx0XHRcdHRocm93IG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRVBFUk0sIGBVbmV4cGVjdGVkbHkgZW5jb3VudGVyZWQgYW4gYWJzb2x1dGUgcGF0aCBpbiBhIHppcCBmaWxlLiBQbGVhc2UgZmlsZSBhIGJ1Zy5gKTtcblx0XHR9XG5cdFx0Ly8gWFhYOiBGb3IgdGhlIGZpbGUgaW5kZXgsIHN0cmlwIHRoZSB0cmFpbGluZyAnLycuXG5cdFx0aWYgKGZpbGVuYW1lLmNoYXJBdChmaWxlbmFtZS5sZW5ndGggLSAxKSA9PT0gJy8nKSB7XG5cdFx0XHRmaWxlbmFtZSA9IGZpbGVuYW1lLnN1YnN0cigwLCBmaWxlbmFtZS5sZW5ndGggLSAxKTtcblx0XHR9XG5cblx0XHRpZiAoY2QuaXNEaXJlY3RvcnkoKSkge1xuXHRcdFx0aW5kZXguYWRkUGF0aEZhc3QoJy8nICsgZmlsZW5hbWUsIG5ldyBEaXJJbm9kZTxDZW50cmFsRGlyZWN0b3J5PihjZCkpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpbmRleC5hZGRQYXRoRmFzdCgnLycgKyBmaWxlbmFtZSwgbmV3IEZpbGVJbm9kZTxDZW50cmFsRGlyZWN0b3J5PihjZCkpO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgc3RhdGljIF9jb21wdXRlSW5kZXgoZGF0YTogQnVmZmVyLCBjYjogQkZTQ2FsbGJhY2s8WmlwVE9DPikge1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBpbmRleDogRmlsZUluZGV4PENlbnRyYWxEaXJlY3Rvcnk+ID0gbmV3IEZpbGVJbmRleDxDZW50cmFsRGlyZWN0b3J5PigpO1xuXHRcdFx0Y29uc3QgZW9jZDogRW5kT2ZDZW50cmFsRGlyZWN0b3J5ID0gWmlwRlMuX2dldEVPQ0QoZGF0YSk7XG5cdFx0XHRpZiAoZW9jZC5kaXNrTnVtYmVyKCkgIT09IGVvY2QuY2REaXNrTnVtYmVyKCkpIHtcblx0XHRcdFx0cmV0dXJuIGNiKG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRUlOVkFMLCAnWmlwRlMgZG9lcyBub3Qgc3VwcG9ydCBzcGFubmVkIHppcCBmaWxlcy4nKSk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGNkUHRyID0gZW9jZC5jZE9mZnNldCgpO1xuXHRcdFx0aWYgKGNkUHRyID09PSAweGZmZmZmZmZmKSB7XG5cdFx0XHRcdHJldHVybiBjYihuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVJTlZBTCwgJ1ppcEZTIGRvZXMgbm90IHN1cHBvcnQgWmlwNjQuJykpO1xuXHRcdFx0fVxuXHRcdFx0Y29uc3QgY2RFbmQgPSBjZFB0ciArIGVvY2QuY2RTaXplKCk7XG5cdFx0XHRaaXBGUy5fY29tcHV0ZUluZGV4UmVzcG9uc2l2ZShkYXRhLCBpbmRleCwgY2RQdHIsIGNkRW5kLCBjYiwgW10sIGVvY2QpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGNiKGUpO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgc3RhdGljIF9jb21wdXRlSW5kZXhSZXNwb25zaXZlVHJhbXBvbGluZShcblx0XHRkYXRhOiBCdWZmZXIsXG5cdFx0aW5kZXg6IEZpbGVJbmRleDxDZW50cmFsRGlyZWN0b3J5Pixcblx0XHRjZFB0cjogbnVtYmVyLFxuXHRcdGNkRW5kOiBudW1iZXIsXG5cdFx0Y2I6IEJGU0NhbGxiYWNrPFppcFRPQz4sXG5cdFx0Y2RFbnRyaWVzOiBDZW50cmFsRGlyZWN0b3J5W10sXG5cdFx0ZW9jZDogRW5kT2ZDZW50cmFsRGlyZWN0b3J5XG5cdCkge1xuXHRcdHRyeSB7XG5cdFx0XHRaaXBGUy5fY29tcHV0ZUluZGV4UmVzcG9uc2l2ZShkYXRhLCBpbmRleCwgY2RQdHIsIGNkRW5kLCBjYiwgY2RFbnRyaWVzLCBlb2NkKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRjYihlKTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIHN0YXRpYyBfY29tcHV0ZUluZGV4UmVzcG9uc2l2ZShcblx0XHRkYXRhOiBCdWZmZXIsXG5cdFx0aW5kZXg6IEZpbGVJbmRleDxDZW50cmFsRGlyZWN0b3J5Pixcblx0XHRjZFB0cjogbnVtYmVyLFxuXHRcdGNkRW5kOiBudW1iZXIsXG5cdFx0Y2I6IEJGU0NhbGxiYWNrPFppcFRPQz4sXG5cdFx0Y2RFbnRyaWVzOiBDZW50cmFsRGlyZWN0b3J5W10sXG5cdFx0ZW9jZDogRW5kT2ZDZW50cmFsRGlyZWN0b3J5XG5cdCkge1xuXHRcdGlmIChjZFB0ciA8IGNkRW5kKSB7XG5cdFx0XHRsZXQgY291bnQgPSAwO1xuXHRcdFx0d2hpbGUgKGNvdW50KysgPCAyMDAgJiYgY2RQdHIgPCBjZEVuZCkge1xuXHRcdFx0XHRjb25zdCBjZDogQ2VudHJhbERpcmVjdG9yeSA9IG5ldyBDZW50cmFsRGlyZWN0b3J5KGRhdGEsIGRhdGEuc2xpY2UoY2RQdHIpKTtcblx0XHRcdFx0WmlwRlMuX2FkZFRvSW5kZXgoY2QsIGluZGV4KTtcblx0XHRcdFx0Y2RQdHIgKz0gY2QudG90YWxTaXplKCk7XG5cdFx0XHRcdGNkRW50cmllcy5wdXNoKGNkKTtcblx0XHRcdH1cblx0XHRcdHNldEltbWVkaWF0ZSgoKSA9PiB7XG5cdFx0XHRcdFppcEZTLl9jb21wdXRlSW5kZXhSZXNwb25zaXZlVHJhbXBvbGluZShkYXRhLCBpbmRleCwgY2RQdHIsIGNkRW5kLCBjYiwgY2RFbnRyaWVzLCBlb2NkKTtcblx0XHRcdH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjYihudWxsLCBuZXcgWmlwVE9DKGluZGV4LCBjZEVudHJpZXMsIGVvY2QsIGRhdGEpKTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIF9pbmRleDogRmlsZUluZGV4PENlbnRyYWxEaXJlY3Rvcnk+ID0gbmV3IEZpbGVJbmRleDxDZW50cmFsRGlyZWN0b3J5PigpO1xuXHRwcml2YXRlIF9kaXJlY3RvcnlFbnRyaWVzOiBDZW50cmFsRGlyZWN0b3J5W10gPSBbXTtcblx0cHJpdmF0ZSBfZW9jZDogRW5kT2ZDZW50cmFsRGlyZWN0b3J5IHwgbnVsbCA9IG51bGw7XG5cdHByaXZhdGUgZGF0YTogQnVmZmVyO1xuXG5cdHByaXZhdGUgY29uc3RydWN0b3IoaW5wdXQ6IFppcFRPQywgcHJpdmF0ZSBuYW1lOiBzdHJpbmcgPSAnJykge1xuXHRcdHN1cGVyKCk7XG5cdFx0dGhpcy5faW5kZXggPSBpbnB1dC5pbmRleDtcblx0XHR0aGlzLl9kaXJlY3RvcnlFbnRyaWVzID0gaW5wdXQuZGlyZWN0b3J5RW50cmllcztcblx0XHR0aGlzLl9lb2NkID0gaW5wdXQuZW9jZDtcblx0XHR0aGlzLmRhdGEgPSBpbnB1dC5kYXRhO1xuXHR9XG5cblx0cHVibGljIGdldE5hbWUoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gWmlwRlMuTmFtZSArICh0aGlzLm5hbWUgIT09ICcnID8gYCAke3RoaXMubmFtZX1gIDogJycpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldCB0aGUgQ2VudHJhbERpcmVjdG9yeSBvYmplY3QgZm9yIHRoZSBnaXZlbiBwYXRoLlxuXHQgKi9cblx0cHVibGljIGdldENlbnRyYWxEaXJlY3RvcnlFbnRyeShwYXRoOiBzdHJpbmcpOiBDZW50cmFsRGlyZWN0b3J5IHtcblx0XHRjb25zdCBpbm9kZSA9IHRoaXMuX2luZGV4LmdldElub2RlKHBhdGgpO1xuXHRcdGlmIChpbm9kZSA9PT0gbnVsbCkge1xuXHRcdFx0dGhyb3cgQXBpRXJyb3IuRU5PRU5UKHBhdGgpO1xuXHRcdH1cblx0XHRpZiAoaXNGaWxlSW5vZGU8Q2VudHJhbERpcmVjdG9yeT4oaW5vZGUpKSB7XG5cdFx0XHRyZXR1cm4gaW5vZGUuZ2V0RGF0YSgpO1xuXHRcdH0gZWxzZSBpZiAoaXNEaXJJbm9kZTxDZW50cmFsRGlyZWN0b3J5Pihpbm9kZSkpIHtcblx0XHRcdHJldHVybiBpbm9kZS5nZXREYXRhKCkhO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBTaG91bGQgbmV2ZXIgb2NjdXIuXG5cdFx0XHR0aHJvdyBBcGlFcnJvci5FUEVSTShgSW52YWxpZCBpbm9kZTogJHtpbm9kZX1gKTtcblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgZ2V0Q2VudHJhbERpcmVjdG9yeUVudHJ5QXQoaW5kZXg6IG51bWJlcik6IENlbnRyYWxEaXJlY3Rvcnkge1xuXHRcdGNvbnN0IGRpckVudHJ5ID0gdGhpcy5fZGlyZWN0b3J5RW50cmllc1tpbmRleF07XG5cdFx0aWYgKCFkaXJFbnRyeSkge1xuXHRcdFx0dGhyb3cgbmV3IFJhbmdlRXJyb3IoYEludmFsaWQgZGlyZWN0b3J5IGluZGV4OiAke2luZGV4fS5gKTtcblx0XHR9XG5cdFx0cmV0dXJuIGRpckVudHJ5O1xuXHR9XG5cblx0cHVibGljIGdldE51bWJlck9mQ2VudHJhbERpcmVjdG9yeUVudHJpZXMoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5fZGlyZWN0b3J5RW50cmllcy5sZW5ndGg7XG5cdH1cblxuXHRwdWJsaWMgZ2V0RW5kT2ZDZW50cmFsRGlyZWN0b3J5KCk6IEVuZE9mQ2VudHJhbERpcmVjdG9yeSB8IG51bGwge1xuXHRcdHJldHVybiB0aGlzLl9lb2NkO1xuXHR9XG5cblx0cHVibGljIGRpc2tTcGFjZShwYXRoOiBzdHJpbmcsIGNiOiAodG90YWw6IG51bWJlciwgZnJlZTogbnVtYmVyKSA9PiB2b2lkKTogdm9pZCB7XG5cdFx0Ly8gUmVhZC1vbmx5IGZpbGUgc3lzdGVtLlxuXHRcdGNiKHRoaXMuZGF0YS5sZW5ndGgsIDApO1xuXHR9XG5cblx0cHVibGljIGlzUmVhZE9ubHkoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRwdWJsaWMgc3VwcG9ydHNMaW5rcygpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRwdWJsaWMgc3VwcG9ydHNQcm9wcygpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRwdWJsaWMgc3VwcG9ydHNTeW5jaCgpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdHB1YmxpYyBzdGF0U3luYyhwYXRoOiBzdHJpbmcsIGlzTHN0YXQ6IGJvb2xlYW4pOiBTdGF0cyB7XG5cdFx0Y29uc3QgaW5vZGUgPSB0aGlzLl9pbmRleC5nZXRJbm9kZShwYXRoKTtcblx0XHRpZiAoaW5vZGUgPT09IG51bGwpIHtcblx0XHRcdHRocm93IEFwaUVycm9yLkVOT0VOVChwYXRoKTtcblx0XHR9XG5cdFx0bGV0IHN0YXRzOiBTdGF0cztcblx0XHRpZiAoaXNGaWxlSW5vZGU8Q2VudHJhbERpcmVjdG9yeT4oaW5vZGUpKSB7XG5cdFx0XHRzdGF0cyA9IGlub2RlLmdldERhdGEoKS5nZXRTdGF0cygpO1xuXHRcdH0gZWxzZSBpZiAoaXNEaXJJbm9kZShpbm9kZSkpIHtcblx0XHRcdHN0YXRzID0gaW5vZGUuZ2V0U3RhdHMoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhyb3cgbmV3IEFwaUVycm9yKEVycm9yQ29kZS5FSU5WQUwsICdJbnZhbGlkIGlub2RlLicpO1xuXHRcdH1cblx0XHRyZXR1cm4gc3RhdHM7XG5cdH1cblxuXHRwdWJsaWMgb3BlblN5bmMocGF0aDogc3RyaW5nLCBmbGFnczogRmlsZUZsYWcsIG1vZGU6IG51bWJlcik6IEZpbGUge1xuXHRcdC8vIElOVkFSSUFOVDogQ2Fubm90IHdyaXRlIHRvIFJPIGZpbGUgc3lzdGVtcy5cblx0XHRpZiAoZmxhZ3MuaXNXcml0ZWFibGUoKSkge1xuXHRcdFx0dGhyb3cgbmV3IEFwaUVycm9yKEVycm9yQ29kZS5FUEVSTSwgcGF0aCk7XG5cdFx0fVxuXHRcdC8vIENoZWNrIGlmIHRoZSBwYXRoIGV4aXN0cywgYW5kIGlzIGEgZmlsZS5cblx0XHRjb25zdCBpbm9kZSA9IHRoaXMuX2luZGV4LmdldElub2RlKHBhdGgpO1xuXHRcdGlmICghaW5vZGUpIHtcblx0XHRcdHRocm93IEFwaUVycm9yLkVOT0VOVChwYXRoKTtcblx0XHR9IGVsc2UgaWYgKGlzRmlsZUlub2RlPENlbnRyYWxEaXJlY3Rvcnk+KGlub2RlKSB8fCBpc0Rpcklub2RlPENlbnRyYWxEaXJlY3Rvcnk+KGlub2RlKSkge1xuXHRcdFx0Y29uc3Qgc3RhdHMgPSAhaXNEaXJJbm9kZTxDZW50cmFsRGlyZWN0b3J5Pihpbm9kZSkgPyBpbm9kZS5nZXREYXRhKCkuZ2V0U3RhdHMoKSA6IGlub2RlLmdldFN0YXRzKCk7XG5cdFx0XHRjb25zdCBkYXRhID0gIWlzRGlySW5vZGU8Q2VudHJhbERpcmVjdG9yeT4oaW5vZGUpID8gaW5vZGUuZ2V0RGF0YSgpLmdldERhdGEoKSA6IGlub2RlLmdldFN0YXRzKCkuZmlsZURhdGE7XG5cdFx0XHRzd2l0Y2ggKGZsYWdzLnBhdGhFeGlzdHNBY3Rpb24oKSkge1xuXHRcdFx0XHRjYXNlIEFjdGlvblR5cGUuVEhST1dfRVhDRVBUSU9OOlxuXHRcdFx0XHRjYXNlIEFjdGlvblR5cGUuVFJVTkNBVEVfRklMRTpcblx0XHRcdFx0XHR0aHJvdyBBcGlFcnJvci5FRVhJU1QocGF0aCk7XG5cdFx0XHRcdGNhc2UgQWN0aW9uVHlwZS5OT1A6XG5cdFx0XHRcdFx0cmV0dXJuIG5ldyBOb1N5bmNGaWxlKHRoaXMsIHBhdGgsIGZsYWdzLCBzdGF0cywgZGF0YSB8fCB1bmRlZmluZWQpO1xuXHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdHRocm93IG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRUlOVkFMLCAnSW52YWxpZCBGaWxlTW9kZSBvYmplY3QuJyk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRocm93IEFwaUVycm9yLkVQRVJNKHBhdGgpO1xuXHRcdH1cblx0fVxuXG5cdHB1YmxpYyByZWFkZGlyU3luYyhwYXRoOiBzdHJpbmcpOiBzdHJpbmdbXSB7XG5cdFx0Ly8gQ2hlY2sgaWYgaXQgZXhpc3RzLlxuXHRcdGNvbnN0IGlub2RlID0gdGhpcy5faW5kZXguZ2V0SW5vZGUocGF0aCk7XG5cdFx0aWYgKCFpbm9kZSkge1xuXHRcdFx0dGhyb3cgQXBpRXJyb3IuRU5PRU5UKHBhdGgpO1xuXHRcdH0gZWxzZSBpZiAoaXNEaXJJbm9kZShpbm9kZSkpIHtcblx0XHRcdHJldHVybiBpbm9kZS5nZXRMaXN0aW5nKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRocm93IEFwaUVycm9yLkVOT1RESVIocGF0aCk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFNwZWNpYWxseS1vcHRpbWl6ZWQgcmVhZGZpbGUuXG5cdCAqL1xuXHRwdWJsaWMgcmVhZEZpbGVTeW5jKGZuYW1lOiBzdHJpbmcsIGVuY29kaW5nOiBCdWZmZXJFbmNvZGluZywgZmxhZzogRmlsZUZsYWcpOiBhbnkge1xuXHRcdC8vIEdldCBmaWxlLlxuXHRcdGNvbnN0IGZkID0gdGhpcy5vcGVuU3luYyhmbmFtZSwgZmxhZywgMHgxYTQpO1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBmZENhc3QgPSA8Tm9TeW5jRmlsZTxaaXBGUz4+ZmQ7XG5cdFx0XHRjb25zdCBmZEJ1ZmYgPSA8QnVmZmVyPmZkQ2FzdC5nZXRCdWZmZXIoKTtcblx0XHRcdGlmIChlbmNvZGluZyA9PT0gbnVsbCkge1xuXHRcdFx0XHRyZXR1cm4gY29weWluZ1NsaWNlKGZkQnVmZik7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZmRCdWZmLnRvU3RyaW5nKGVuY29kaW5nKTtcblx0XHR9IGZpbmFsbHkge1xuXHRcdFx0ZmQuY2xvc2VTeW5jKCk7XG5cdFx0fVxuXHR9XG59XG5cblppcEZTLlJlZ2lzdGVyRGVjb21wcmVzc2lvbk1ldGhvZChDb21wcmVzc2lvbk1ldGhvZC5ERUZMQVRFLCAoZGF0YSwgY29tcHJlc3NlZFNpemUsIHVuY29tcHJlc3NlZFNpemUpID0+IHtcblx0cmV0dXJuIGluZmxhdGVSYXcoZGF0YS5zbGljZSgwLCBjb21wcmVzc2VkU2l6ZSksIHsgY2h1bmtTaXplOiB1bmNvbXByZXNzZWRTaXplIH0pO1xufSk7XG5cblppcEZTLlJlZ2lzdGVyRGVjb21wcmVzc2lvbk1ldGhvZChDb21wcmVzc2lvbk1ldGhvZC5TVE9SRUQsIChkYXRhLCBjb21wcmVzc2VkU2l6ZSwgdW5jb21wcmVzc2VkU2l6ZSkgPT4ge1xuXHRyZXR1cm4gY29weWluZ1NsaWNlKGRhdGEsIDAsIHVuY29tcHJlc3NlZFNpemUpO1xufSk7XG4iLCAiaW1wb3J0IHsgQXBpRXJyb3IsIEVycm9yQ29kZSB9IGZyb20gJy4uL2NvcmUvYXBpX2Vycm9yJztcbmltcG9ydCB7IGRlZmF1bHQgYXMgU3RhdHMsIEZpbGVUeXBlIH0gZnJvbSAnLi4vY29yZS9zdGF0cyc7XG5pbXBvcnQgeyBTeW5jaHJvbm91c0ZpbGVTeXN0ZW0sIEZpbGVTeXN0ZW0sIEJGU0NhbGxiYWNrLCBGaWxlU3lzdGVtT3B0aW9ucyB9IGZyb20gJy4uL2NvcmUvZmlsZV9zeXN0ZW0nO1xuaW1wb3J0IHsgRmlsZSB9IGZyb20gJy4uL2NvcmUvZmlsZSc7XG5pbXBvcnQgeyBGaWxlRmxhZywgQWN0aW9uVHlwZSB9IGZyb20gJy4uL2NvcmUvZmlsZV9mbGFnJztcbmltcG9ydCB7IE5vU3luY0ZpbGUgfSBmcm9tICcuLi9nZW5lcmljL3ByZWxvYWRfZmlsZSc7XG5pbXBvcnQgeyBjb3B5aW5nU2xpY2UsIGJ1ZmZlclZhbGlkYXRvciB9IGZyb20gJy4uL2NvcmUvdXRpbCc7XG5pbXBvcnQgKiBhcyBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IHR5cGUgeyBCdWZmZXIgfSBmcm9tICdidWZmZXInO1xuXG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuY29uc3Qgcm9ja1JpZGdlSWRlbnRpZmllciA9ICdJRUVFX1AxMjgyJztcbi8qKlxuICogQGhpZGRlblxuICovXG5jb25zdCBlbnVtIFZvbHVtZURlc2NyaXB0b3JUeXBlQ29kZSB7XG5cdEJvb3RSZWNvcmQgPSAwLFxuXHRQcmltYXJ5Vm9sdW1lRGVzY3JpcHRvciA9IDEsXG5cdFN1cHBsZW1lbnRhcnlWb2x1bWVEZXNjcmlwdG9yID0gMixcblx0Vm9sdW1lUGFydGl0aW9uRGVzY3JpcHRvciA9IDMsXG5cdFZvbHVtZURlc2NyaXB0b3JTZXRUZXJtaW5hdG9yID0gMjU1LFxufVxuXG4vKipcbiAqIEBoaWRkZW5cbiAqL1xudHlwZSBUR2V0U3RyaW5nID0gKGQ6IEJ1ZmZlciwgaTogbnVtYmVyLCBsZW46IG51bWJlcikgPT4gc3RyaW5nO1xuXG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuZnVuY3Rpb24gZ2V0QVNDSUlTdHJpbmcoZGF0YTogQnVmZmVyLCBzdGFydEluZGV4OiBudW1iZXIsIGxlbmd0aDogbnVtYmVyKSB7XG5cdHJldHVybiBkYXRhLnRvU3RyaW5nKCdhc2NpaScsIHN0YXJ0SW5kZXgsIHN0YXJ0SW5kZXggKyBsZW5ndGgpLnRyaW0oKTtcbn1cblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmZ1bmN0aW9uIGdldEpvbGlldFN0cmluZyhkYXRhOiBCdWZmZXIsIHN0YXJ0SW5kZXg6IG51bWJlciwgbGVuZ3RoOiBudW1iZXIpOiBzdHJpbmcge1xuXHRpZiAobGVuZ3RoID09PSAxKSB7XG5cdFx0Ly8gU3BlY2lhbDogUm9vdCwgcGFyZW50LCBjdXJyZW50IGRpcmVjdG9yeSBhcmUgc3RpbGwgYSBzaW5nbGUgYnl0ZS5cblx0XHRyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShkYXRhW3N0YXJ0SW5kZXhdKTtcblx0fVxuXHQvLyBVVEYxNi1CRSwgd2hpY2ggaXNuJ3QgbmF0aXZlbHkgc3VwcG9ydGVkIGJ5IE5vZGVKUyBCdWZmZXJzLlxuXHQvLyBMZW5ndGggc2hvdWxkIGJlIGV2ZW4sIGJ1dCBwZXNzaW1pc3RpY2FsbHkgZmxvb3IganVzdCBpbiBjYXNlLlxuXHRjb25zdCBwYWlycyA9IE1hdGguZmxvb3IobGVuZ3RoIC8gMik7XG5cdGNvbnN0IGNoYXJzID0gbmV3IEFycmF5KHBhaXJzKTtcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBwYWlyczsgaSsrKSB7XG5cdFx0Y29uc3QgcG9zID0gc3RhcnRJbmRleCArIChpIDw8IDEpO1xuXHRcdGNoYXJzW2ldID0gU3RyaW5nLmZyb21DaGFyQ29kZShkYXRhW3BvcyArIDFdIHwgKGRhdGFbcG9zXSA8PCA4KSk7XG5cdH1cblx0cmV0dXJuIGNoYXJzLmpvaW4oJycpO1xufVxuXG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuZnVuY3Rpb24gZ2V0RGF0ZShkYXRhOiBCdWZmZXIsIHN0YXJ0SW5kZXg6IG51bWJlcik6IERhdGUge1xuXHRjb25zdCB5ZWFyID0gcGFyc2VJbnQoZ2V0QVNDSUlTdHJpbmcoZGF0YSwgc3RhcnRJbmRleCwgNCksIDEwKTtcblx0Y29uc3QgbW9uID0gcGFyc2VJbnQoZ2V0QVNDSUlTdHJpbmcoZGF0YSwgc3RhcnRJbmRleCArIDQsIDIpLCAxMCk7XG5cdGNvbnN0IGRheSA9IHBhcnNlSW50KGdldEFTQ0lJU3RyaW5nKGRhdGEsIHN0YXJ0SW5kZXggKyA2LCAyKSwgMTApO1xuXHRjb25zdCBob3VyID0gcGFyc2VJbnQoZ2V0QVNDSUlTdHJpbmcoZGF0YSwgc3RhcnRJbmRleCArIDgsIDIpLCAxMCk7XG5cdGNvbnN0IG1pbiA9IHBhcnNlSW50KGdldEFTQ0lJU3RyaW5nKGRhdGEsIHN0YXJ0SW5kZXggKyAxMCwgMiksIDEwKTtcblx0Y29uc3Qgc2VjID0gcGFyc2VJbnQoZ2V0QVNDSUlTdHJpbmcoZGF0YSwgc3RhcnRJbmRleCArIDEyLCAyKSwgMTApO1xuXHRjb25zdCBodW5kcmV0aHNTZWMgPSBwYXJzZUludChnZXRBU0NJSVN0cmluZyhkYXRhLCBzdGFydEluZGV4ICsgMTQsIDIpLCAxMCk7XG5cdC8vIExhc3QgaXMgYSB0aW1lLXpvbmUgb2Zmc2V0LCBidXQgSmF2YVNjcmlwdCBkYXRlcyBkb24ndCBzdXBwb3J0IHRpbWUgem9uZXMgd2VsbC5cblx0cmV0dXJuIG5ldyBEYXRlKHllYXIsIG1vbiwgZGF5LCBob3VyLCBtaW4sIHNlYywgaHVuZHJldGhzU2VjICogMTAwKTtcbn1cblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmZ1bmN0aW9uIGdldFNob3J0Rm9ybURhdGUoZGF0YTogQnVmZmVyLCBzdGFydEluZGV4OiBudW1iZXIpOiBEYXRlIHtcblx0Y29uc3QgeWVhcnNTaW5jZTE5MDAgPSBkYXRhW3N0YXJ0SW5kZXhdO1xuXHRjb25zdCBtb250aCA9IGRhdGFbc3RhcnRJbmRleCArIDFdO1xuXHRjb25zdCBkYXkgPSBkYXRhW3N0YXJ0SW5kZXggKyAyXTtcblx0Y29uc3QgaG91ciA9IGRhdGFbc3RhcnRJbmRleCArIDNdO1xuXHRjb25zdCBtaW51dGUgPSBkYXRhW3N0YXJ0SW5kZXggKyA0XTtcblx0Y29uc3Qgc2Vjb25kID0gZGF0YVtzdGFydEluZGV4ICsgNV07XG5cdC8vIEphdmFTY3JpcHQncyBEYXRlIHN1cHBvcnQgaXNuJ3Qgc28gZ3JlYXQ7IGlnbm9yZSB0aW1lem9uZS5cblx0Ly8gY29uc3Qgb2Zmc2V0RnJvbUdNVCA9IHRoaXMuX2RhdGFbMjRdO1xuXHRyZXR1cm4gbmV3IERhdGUoeWVhcnNTaW5jZTE5MDAsIG1vbnRoIC0gMSwgZGF5LCBob3VyLCBtaW51dGUsIHNlY29uZCk7XG59XG5cbi8qKlxuICogQGhpZGRlblxuICovXG5mdW5jdGlvbiBjb25zdHJ1Y3RTeXN0ZW1Vc2VFbnRyeShiaWdEYXRhOiBCdWZmZXIsIGk6IG51bWJlcik6IFN5c3RlbVVzZUVudHJ5IHtcblx0Y29uc3QgZGF0YSA9IGJpZ0RhdGEuc2xpY2UoaSk7XG5cdGNvbnN0IHN1ZSA9IG5ldyBTeXN0ZW1Vc2VFbnRyeShkYXRhKTtcblx0c3dpdGNoIChzdWUuc2lnbmF0dXJlV29yZCgpKSB7XG5cdFx0Y2FzZSBTeXN0ZW1Vc2VFbnRyeVNpZ25hdHVyZXMuQ0U6XG5cdFx0XHRyZXR1cm4gbmV3IENFRW50cnkoZGF0YSk7XG5cdFx0Y2FzZSBTeXN0ZW1Vc2VFbnRyeVNpZ25hdHVyZXMuUEQ6XG5cdFx0XHRyZXR1cm4gbmV3IFBERW50cnkoZGF0YSk7XG5cdFx0Y2FzZSBTeXN0ZW1Vc2VFbnRyeVNpZ25hdHVyZXMuU1A6XG5cdFx0XHRyZXR1cm4gbmV3IFNQRW50cnkoZGF0YSk7XG5cdFx0Y2FzZSBTeXN0ZW1Vc2VFbnRyeVNpZ25hdHVyZXMuU1Q6XG5cdFx0XHRyZXR1cm4gbmV3IFNURW50cnkoZGF0YSk7XG5cdFx0Y2FzZSBTeXN0ZW1Vc2VFbnRyeVNpZ25hdHVyZXMuRVI6XG5cdFx0XHRyZXR1cm4gbmV3IEVSRW50cnkoZGF0YSk7XG5cdFx0Y2FzZSBTeXN0ZW1Vc2VFbnRyeVNpZ25hdHVyZXMuRVM6XG5cdFx0XHRyZXR1cm4gbmV3IEVTRW50cnkoZGF0YSk7XG5cdFx0Y2FzZSBTeXN0ZW1Vc2VFbnRyeVNpZ25hdHVyZXMuUFg6XG5cdFx0XHRyZXR1cm4gbmV3IFBYRW50cnkoZGF0YSk7XG5cdFx0Y2FzZSBTeXN0ZW1Vc2VFbnRyeVNpZ25hdHVyZXMuUE46XG5cdFx0XHRyZXR1cm4gbmV3IFBORW50cnkoZGF0YSk7XG5cdFx0Y2FzZSBTeXN0ZW1Vc2VFbnRyeVNpZ25hdHVyZXMuU0w6XG5cdFx0XHRyZXR1cm4gbmV3IFNMRW50cnkoZGF0YSk7XG5cdFx0Y2FzZSBTeXN0ZW1Vc2VFbnRyeVNpZ25hdHVyZXMuTk06XG5cdFx0XHRyZXR1cm4gbmV3IE5NRW50cnkoZGF0YSk7XG5cdFx0Y2FzZSBTeXN0ZW1Vc2VFbnRyeVNpZ25hdHVyZXMuQ0w6XG5cdFx0XHRyZXR1cm4gbmV3IENMRW50cnkoZGF0YSk7XG5cdFx0Y2FzZSBTeXN0ZW1Vc2VFbnRyeVNpZ25hdHVyZXMuUEw6XG5cdFx0XHRyZXR1cm4gbmV3IFBMRW50cnkoZGF0YSk7XG5cdFx0Y2FzZSBTeXN0ZW1Vc2VFbnRyeVNpZ25hdHVyZXMuUkU6XG5cdFx0XHRyZXR1cm4gbmV3IFJFRW50cnkoZGF0YSk7XG5cdFx0Y2FzZSBTeXN0ZW1Vc2VFbnRyeVNpZ25hdHVyZXMuVEY6XG5cdFx0XHRyZXR1cm4gbmV3IFRGRW50cnkoZGF0YSk7XG5cdFx0Y2FzZSBTeXN0ZW1Vc2VFbnRyeVNpZ25hdHVyZXMuU0Y6XG5cdFx0XHRyZXR1cm4gbmV3IFNGRW50cnkoZGF0YSk7XG5cdFx0Y2FzZSBTeXN0ZW1Vc2VFbnRyeVNpZ25hdHVyZXMuUlI6XG5cdFx0XHRyZXR1cm4gbmV3IFJSRW50cnkoZGF0YSk7XG5cdFx0ZGVmYXVsdDpcblx0XHRcdHJldHVybiBzdWU7XG5cdH1cbn1cblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmZ1bmN0aW9uIGNvbnN0cnVjdFN5c3RlbVVzZUVudHJpZXMoZGF0YTogQnVmZmVyLCBpOiBudW1iZXIsIGxlbjogbnVtYmVyLCBpc29EYXRhOiBCdWZmZXIpOiBTeXN0ZW1Vc2VFbnRyeVtdIHtcblx0Ly8gSWYgdGhlIHJlbWFpbmluZyBhbGxvY2F0ZWQgc3BhY2UgZm9sbG93aW5nIHRoZSBsYXN0IHJlY29yZGVkIFN5c3RlbSBVc2UgRW50cnkgaW4gYSBTeXN0ZW1cblx0Ly8gVXNlIGZpZWxkIG9yIENvbnRpbnVhdGlvbiBBcmVhIGlzIGxlc3MgdGhhbiBmb3VyIGJ5dGVzIGxvbmcsIGl0IGNhbm5vdCBjb250YWluIGEgU3lzdGVtXG5cdC8vIFVzZSBFbnRyeSBhbmQgc2hhbGwgYmUgaWdub3JlZFxuXHRsZW4gPSBsZW4gLSA0O1xuXHRsZXQgZW50cmllcyA9IG5ldyBBcnJheTxTeXN0ZW1Vc2VFbnRyeT4oKTtcblx0d2hpbGUgKGkgPCBsZW4pIHtcblx0XHRjb25zdCBlbnRyeSA9IGNvbnN0cnVjdFN5c3RlbVVzZUVudHJ5KGRhdGEsIGkpO1xuXHRcdGNvbnN0IGxlbmd0aCA9IGVudHJ5Lmxlbmd0aCgpO1xuXHRcdGlmIChsZW5ndGggPT09IDApIHtcblx0XHRcdC8vIEludmFsaWQgU1Ugc2VjdGlvbjsgcHJldmVudCBpbmZpbml0ZSBsb29wLlxuXHRcdFx0cmV0dXJuIGVudHJpZXM7XG5cdFx0fVxuXHRcdGkgKz0gbGVuZ3RoO1xuXHRcdGlmIChlbnRyeSBpbnN0YW5jZW9mIFNURW50cnkpIHtcblx0XHRcdC8vIFNUIGluZGljYXRlcyB0aGUgZW5kIG9mIGVudHJpZXMuXG5cdFx0XHRicmVhaztcblx0XHR9XG5cdFx0aWYgKGVudHJ5IGluc3RhbmNlb2YgQ0VFbnRyeSkge1xuXHRcdFx0ZW50cmllcyA9IGVudHJpZXMuY29uY2F0KGVudHJ5LmdldEVudHJpZXMoaXNvRGF0YSkpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRlbnRyaWVzLnB1c2goZW50cnkpO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gZW50cmllcztcbn1cblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmNsYXNzIFZvbHVtZURlc2NyaXB0b3Ige1xuXHRwcm90ZWN0ZWQgX2RhdGE6IEJ1ZmZlcjtcblx0Y29uc3RydWN0b3IoZGF0YTogQnVmZmVyKSB7XG5cdFx0dGhpcy5fZGF0YSA9IGRhdGE7XG5cdH1cblx0cHVibGljIHR5cGUoKTogVm9sdW1lRGVzY3JpcHRvclR5cGVDb2RlIHtcblx0XHRyZXR1cm4gdGhpcy5fZGF0YVswXTtcblx0fVxuXHRwdWJsaWMgc3RhbmRhcmRJZGVudGlmaWVyKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIGdldEFTQ0lJU3RyaW5nKHRoaXMuX2RhdGEsIDEsIDUpO1xuXHR9XG5cdHB1YmxpYyB2ZXJzaW9uKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuX2RhdGFbNl07XG5cdH1cblx0cHVibGljIGRhdGEoKTogQnVmZmVyIHtcblx0XHRyZXR1cm4gdGhpcy5fZGF0YS5zbGljZSg3LCAyMDQ4KTtcblx0fVxufVxuXG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuYWJzdHJhY3QgY2xhc3MgUHJpbWFyeU9yU3VwcGxlbWVudGFyeVZvbHVtZURlc2NyaXB0b3IgZXh0ZW5kcyBWb2x1bWVEZXNjcmlwdG9yIHtcblx0cHJpdmF0ZSBfcm9vdDogRGlyZWN0b3J5UmVjb3JkIHwgbnVsbCA9IG51bGw7XG5cdGNvbnN0cnVjdG9yKGRhdGE6IEJ1ZmZlcikge1xuXHRcdHN1cGVyKGRhdGEpO1xuXHR9XG5cdHB1YmxpYyBzeXN0ZW1JZGVudGlmaWVyKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIHRoaXMuX2dldFN0cmluZzMyKDgpO1xuXHR9XG5cdHB1YmxpYyB2b2x1bWVJZGVudGlmaWVyKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIHRoaXMuX2dldFN0cmluZzMyKDQwKTtcblx0fVxuXHRwdWJsaWMgdm9sdW1lU3BhY2VTaXplKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuX2RhdGEucmVhZFVJbnQzMkxFKDgwKTtcblx0fVxuXHRwdWJsaWMgdm9sdW1lU2V0U2l6ZSgpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLl9kYXRhLnJlYWRVSW50MTZMRSgxMjApO1xuXHR9XG5cdHB1YmxpYyB2b2x1bWVTZXF1ZW5jZU51bWJlcigpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLl9kYXRhLnJlYWRVSW50MTZMRSgxMjQpO1xuXHR9XG5cdHB1YmxpYyBsb2dpY2FsQmxvY2tTaXplKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuX2RhdGEucmVhZFVJbnQxNkxFKDEyOCk7XG5cdH1cblx0cHVibGljIHBhdGhUYWJsZVNpemUoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5fZGF0YS5yZWFkVUludDMyTEUoMTMyKTtcblx0fVxuXHRwdWJsaWMgbG9jYXRpb25PZlR5cGVMUGF0aFRhYmxlKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuX2RhdGEucmVhZFVJbnQzMkxFKDE0MCk7XG5cdH1cblx0cHVibGljIGxvY2F0aW9uT2ZPcHRpb25hbFR5cGVMUGF0aFRhYmxlKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuX2RhdGEucmVhZFVJbnQzMkxFKDE0NCk7XG5cdH1cblx0cHVibGljIGxvY2F0aW9uT2ZUeXBlTVBhdGhUYWJsZSgpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLl9kYXRhLnJlYWRVSW50MzJCRSgxNDgpO1xuXHR9XG5cdHB1YmxpYyBsb2NhdGlvbk9mT3B0aW9uYWxUeXBlTVBhdGhUYWJsZSgpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLl9kYXRhLnJlYWRVSW50MzJCRSgxNTIpO1xuXHR9XG5cdHB1YmxpYyByb290RGlyZWN0b3J5RW50cnkoaXNvRGF0YTogQnVmZmVyKTogRGlyZWN0b3J5UmVjb3JkIHtcblx0XHRpZiAodGhpcy5fcm9vdCA9PT0gbnVsbCkge1xuXHRcdFx0dGhpcy5fcm9vdCA9IHRoaXMuX2NvbnN0cnVjdFJvb3REaXJlY3RvcnlSZWNvcmQodGhpcy5fZGF0YS5zbGljZSgxNTYpKTtcblx0XHRcdHRoaXMuX3Jvb3Qucm9vdENoZWNrRm9yUm9ja1JpZGdlKGlzb0RhdGEpO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5fcm9vdDtcblx0fVxuXHRwdWJsaWMgdm9sdW1lU2V0SWRlbnRpZmllcigpOiBzdHJpbmcge1xuXHRcdHJldHVybiB0aGlzLl9nZXRTdHJpbmcoMTkwLCAxMjgpO1xuXHR9XG5cdHB1YmxpYyBwdWJsaXNoZXJJZGVudGlmaWVyKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIHRoaXMuX2dldFN0cmluZygzMTgsIDEyOCk7XG5cdH1cblx0cHVibGljIGRhdGFQcmVwYXJlcklkZW50aWZpZXIoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gdGhpcy5fZ2V0U3RyaW5nKDQ0NiwgMTI4KTtcblx0fVxuXHRwdWJsaWMgYXBwbGljYXRpb25JZGVudGlmaWVyKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIHRoaXMuX2dldFN0cmluZyg1NzQsIDEyOCk7XG5cdH1cblx0cHVibGljIGNvcHlyaWdodEZpbGVJZGVudGlmaWVyKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIHRoaXMuX2dldFN0cmluZyg3MDIsIDM4KTtcblx0fVxuXHRwdWJsaWMgYWJzdHJhY3RGaWxlSWRlbnRpZmllcigpOiBzdHJpbmcge1xuXHRcdHJldHVybiB0aGlzLl9nZXRTdHJpbmcoNzQwLCAzNik7XG5cdH1cblx0cHVibGljIGJpYmxpb2dyYXBoaWNGaWxlSWRlbnRpZmllcigpOiBzdHJpbmcge1xuXHRcdHJldHVybiB0aGlzLl9nZXRTdHJpbmcoNzc2LCAzNyk7XG5cdH1cblx0cHVibGljIHZvbHVtZUNyZWF0aW9uRGF0ZSgpOiBEYXRlIHtcblx0XHRyZXR1cm4gZ2V0RGF0ZSh0aGlzLl9kYXRhLCA4MTMpO1xuXHR9XG5cdHB1YmxpYyB2b2x1bWVNb2RpZmljYXRpb25EYXRlKCk6IERhdGUge1xuXHRcdHJldHVybiBnZXREYXRlKHRoaXMuX2RhdGEsIDgzMCk7XG5cdH1cblx0cHVibGljIHZvbHVtZUV4cGlyYXRpb25EYXRlKCk6IERhdGUge1xuXHRcdHJldHVybiBnZXREYXRlKHRoaXMuX2RhdGEsIDg0Nyk7XG5cdH1cblx0cHVibGljIHZvbHVtZUVmZmVjdGl2ZURhdGUoKTogRGF0ZSB7XG5cdFx0cmV0dXJuIGdldERhdGUodGhpcy5fZGF0YSwgODY0KTtcblx0fVxuXHRwdWJsaWMgZmlsZVN0cnVjdHVyZVZlcnNpb24oKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5fZGF0YVs4ODFdO1xuXHR9XG5cdHB1YmxpYyBhcHBsaWNhdGlvblVzZWQoKTogQnVmZmVyIHtcblx0XHRyZXR1cm4gdGhpcy5fZGF0YS5zbGljZSg4ODMsIDg4MyArIDUxMik7XG5cdH1cblx0cHVibGljIHJlc2VydmVkKCk6IEJ1ZmZlciB7XG5cdFx0cmV0dXJuIHRoaXMuX2RhdGEuc2xpY2UoMTM5NSwgMTM5NSArIDY1Myk7XG5cdH1cblx0cHVibGljIGFic3RyYWN0IG5hbWUoKTogc3RyaW5nO1xuXHRwcm90ZWN0ZWQgYWJzdHJhY3QgX2NvbnN0cnVjdFJvb3REaXJlY3RvcnlSZWNvcmQoZGF0YTogQnVmZmVyKTogRGlyZWN0b3J5UmVjb3JkO1xuXHRwcm90ZWN0ZWQgYWJzdHJhY3QgX2dldFN0cmluZyhpZHg6IG51bWJlciwgbGVuOiBudW1iZXIpOiBzdHJpbmc7XG5cdHByb3RlY3RlZCBfZ2V0U3RyaW5nMzIoaWR4OiBudW1iZXIpOiBzdHJpbmcge1xuXHRcdHJldHVybiB0aGlzLl9nZXRTdHJpbmcoaWR4LCAzMik7XG5cdH1cbn1cblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmNsYXNzIFByaW1hcnlWb2x1bWVEZXNjcmlwdG9yIGV4dGVuZHMgUHJpbWFyeU9yU3VwcGxlbWVudGFyeVZvbHVtZURlc2NyaXB0b3Ige1xuXHRjb25zdHJ1Y3RvcihkYXRhOiBCdWZmZXIpIHtcblx0XHRzdXBlcihkYXRhKTtcblx0XHRpZiAodGhpcy50eXBlKCkgIT09IFZvbHVtZURlc2NyaXB0b3JUeXBlQ29kZS5QcmltYXJ5Vm9sdW1lRGVzY3JpcHRvcikge1xuXHRcdFx0dGhyb3cgbmV3IEFwaUVycm9yKEVycm9yQ29kZS5FSU8sIGBJbnZhbGlkIHByaW1hcnkgdm9sdW1lIGRlc2NyaXB0b3IuYCk7XG5cdFx0fVxuXHR9XG5cdHB1YmxpYyBuYW1lKCkge1xuXHRcdHJldHVybiAnSVNPOTY2MCc7XG5cdH1cblx0cHJvdGVjdGVkIF9jb25zdHJ1Y3RSb290RGlyZWN0b3J5UmVjb3JkKGRhdGE6IEJ1ZmZlcik6IERpcmVjdG9yeVJlY29yZCB7XG5cdFx0cmV0dXJuIG5ldyBJU09EaXJlY3RvcnlSZWNvcmQoZGF0YSwgLTEpO1xuXHR9XG5cdHByb3RlY3RlZCBfZ2V0U3RyaW5nKGlkeDogbnVtYmVyLCBsZW46IG51bWJlcik6IHN0cmluZyB7XG5cdFx0cmV0dXJuIHRoaXMuX2dldFN0cmluZyhpZHgsIGxlbik7XG5cdH1cbn1cblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmNsYXNzIFN1cHBsZW1lbnRhcnlWb2x1bWVEZXNjcmlwdG9yIGV4dGVuZHMgUHJpbWFyeU9yU3VwcGxlbWVudGFyeVZvbHVtZURlc2NyaXB0b3Ige1xuXHRjb25zdHJ1Y3RvcihkYXRhOiBCdWZmZXIpIHtcblx0XHRzdXBlcihkYXRhKTtcblx0XHRpZiAodGhpcy50eXBlKCkgIT09IFZvbHVtZURlc2NyaXB0b3JUeXBlQ29kZS5TdXBwbGVtZW50YXJ5Vm9sdW1lRGVzY3JpcHRvcikge1xuXHRcdFx0dGhyb3cgbmV3IEFwaUVycm9yKEVycm9yQ29kZS5FSU8sIGBJbnZhbGlkIHN1cHBsZW1lbnRhcnkgdm9sdW1lIGRlc2NyaXB0b3IuYCk7XG5cdFx0fVxuXHRcdGNvbnN0IGVzY2FwZVNlcXVlbmNlID0gdGhpcy5lc2NhcGVTZXF1ZW5jZSgpO1xuXHRcdGNvbnN0IHRoaXJkID0gZXNjYXBlU2VxdWVuY2VbMl07XG5cdFx0Ly8gVGhpcmQgY2hhcmFjdGVyIGlkZW50aWZpZXMgd2hhdCAnbGV2ZWwnIG9mIHRoZSBVQ1Mgc3BlY2lmaWNhdGlvbiB0byBmb2xsb3cuXG5cdFx0Ly8gV2UgaWdub3JlIGl0LlxuXHRcdGlmIChlc2NhcGVTZXF1ZW5jZVswXSAhPT0gMHgyNSB8fCBlc2NhcGVTZXF1ZW5jZVsxXSAhPT0gMHgyZiB8fCAodGhpcmQgIT09IDB4NDAgJiYgdGhpcmQgIT09IDB4NDMgJiYgdGhpcmQgIT09IDB4NDUpKSB7XG5cdFx0XHR0aHJvdyBuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVJTywgYFVucmVjb2duaXplZCBlc2NhcGUgc2VxdWVuY2UgZm9yIFN1cHBsZW1lbnRhcnlWb2x1bWVEZXNjcmlwdG9yOiAke2VzY2FwZVNlcXVlbmNlLnRvU3RyaW5nKCl9YCk7XG5cdFx0fVxuXHR9XG5cdHB1YmxpYyBuYW1lKCkge1xuXHRcdHJldHVybiAnSm9saWV0Jztcblx0fVxuXHRwdWJsaWMgZXNjYXBlU2VxdWVuY2UoKTogQnVmZmVyIHtcblx0XHRyZXR1cm4gdGhpcy5fZGF0YS5zbGljZSg4OCwgMTIwKTtcblx0fVxuXHRwcm90ZWN0ZWQgX2NvbnN0cnVjdFJvb3REaXJlY3RvcnlSZWNvcmQoZGF0YTogQnVmZmVyKTogRGlyZWN0b3J5UmVjb3JkIHtcblx0XHRyZXR1cm4gbmV3IEpvbGlldERpcmVjdG9yeVJlY29yZChkYXRhLCAtMSk7XG5cdH1cblx0cHJvdGVjdGVkIF9nZXRTdHJpbmcoaWR4OiBudW1iZXIsIGxlbjogbnVtYmVyKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gZ2V0Sm9saWV0U3RyaW5nKHRoaXMuX2RhdGEsIGlkeCwgbGVuKTtcblx0fVxufVxuXG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuY29uc3QgZW51bSBGaWxlRmxhZ3Mge1xuXHRIaWRkZW4gPSAxLFxuXHREaXJlY3RvcnkgPSAxIDw8IDEsXG5cdEFzc29jaWF0ZWRGaWxlID0gMSA8PCAyLFxuXHRFQVJDb250YWluc0luZm8gPSAxIDw8IDMsXG5cdEVBUkNvbnRhaW5zUGVybXMgPSAxIDw8IDQsXG5cdEZpbmFsRGlyZWN0b3J5UmVjb3JkRm9yRmlsZSA9IDEgPDwgNSxcbn1cblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmFic3RyYWN0IGNsYXNzIERpcmVjdG9yeVJlY29yZCB7XG5cdHByb3RlY3RlZCBfZGF0YTogQnVmZmVyO1xuXHQvLyBPZmZzZXQgYXQgd2hpY2ggc3lzdGVtIHVzZSBlbnRyaWVzIGJlZ2luLiBTZXQgdG8gLTEgaWYgbm90IGVuYWJsZWQuXG5cdHByb3RlY3RlZCBfcm9ja1JpZGdlT2Zmc2V0OiBudW1iZXI7XG5cdHByb3RlY3RlZCBfc3VFbnRyaWVzOiBTeXN0ZW1Vc2VFbnRyeVtdIHwgbnVsbCA9IG51bGw7XG5cdHByaXZhdGUgX2ZpbGVPckRpcjogQnVmZmVyIHwgRGlyZWN0b3J5PERpcmVjdG9yeVJlY29yZD4gfCBudWxsID0gbnVsbDtcblx0Y29uc3RydWN0b3IoZGF0YTogQnVmZmVyLCByb2NrUmlkZ2VPZmZzZXQ6IG51bWJlcikge1xuXHRcdHRoaXMuX2RhdGEgPSBkYXRhO1xuXHRcdHRoaXMuX3JvY2tSaWRnZU9mZnNldCA9IHJvY2tSaWRnZU9mZnNldDtcblx0fVxuXHRwdWJsaWMgaGFzUm9ja1JpZGdlKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0aGlzLl9yb2NrUmlkZ2VPZmZzZXQgPiAtMTtcblx0fVxuXHRwdWJsaWMgZ2V0Um9ja1JpZGdlT2Zmc2V0KCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuX3JvY2tSaWRnZU9mZnNldDtcblx0fVxuXHQvKipcblx0ICogISFPTkxZIFZBTElEIE9OIFJPT1QgTk9ERSEhXG5cdCAqIENoZWNrcyBpZiBSb2NrIFJpZGdlIGlzIGVuYWJsZWQsIGFuZCBzZXRzIHRoZSBvZmZzZXQuXG5cdCAqL1xuXHRwdWJsaWMgcm9vdENoZWNrRm9yUm9ja1JpZGdlKGlzb0RhdGE6IEJ1ZmZlcik6IHZvaWQge1xuXHRcdGNvbnN0IGRpciA9IHRoaXMuZ2V0RGlyZWN0b3J5KGlzb0RhdGEpO1xuXHRcdHRoaXMuX3JvY2tSaWRnZU9mZnNldCA9IGRpci5nZXREb3RFbnRyeShpc29EYXRhKS5fZ2V0Um9ja1JpZGdlT2Zmc2V0KGlzb0RhdGEpO1xuXHRcdGlmICh0aGlzLl9yb2NrUmlkZ2VPZmZzZXQgPiAtMSkge1xuXHRcdFx0Ly8gV2lwZSBvdXQgZGlyZWN0b3J5LiBTdGFydCBvdmVyIHdpdGggUlIga25vd2xlZGdlLlxuXHRcdFx0dGhpcy5fZmlsZU9yRGlyID0gbnVsbDtcblx0XHR9XG5cdH1cblx0cHVibGljIGxlbmd0aCgpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLl9kYXRhWzBdO1xuXHR9XG5cdHB1YmxpYyBleHRlbmRlZEF0dHJpYnV0ZVJlY29yZExlbmd0aCgpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLl9kYXRhWzFdO1xuXHR9XG5cdHB1YmxpYyBsYmEoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5fZGF0YS5yZWFkVUludDMyTEUoMikgKiAyMDQ4O1xuXHR9XG5cdHB1YmxpYyBkYXRhTGVuZ3RoKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuX2RhdGEucmVhZFVJbnQzMkxFKDEwKTtcblx0fVxuXHRwdWJsaWMgcmVjb3JkaW5nRGF0ZSgpOiBEYXRlIHtcblx0XHRyZXR1cm4gZ2V0U2hvcnRGb3JtRGF0ZSh0aGlzLl9kYXRhLCAxOCk7XG5cdH1cblx0cHVibGljIGZpbGVGbGFncygpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLl9kYXRhWzI1XTtcblx0fVxuXHRwdWJsaWMgZmlsZVVuaXRTaXplKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuX2RhdGFbMjZdO1xuXHR9XG5cdHB1YmxpYyBpbnRlcmxlYXZlR2FwU2l6ZSgpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLl9kYXRhWzI3XTtcblx0fVxuXHRwdWJsaWMgdm9sdW1lU2VxdWVuY2VOdW1iZXIoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5fZGF0YS5yZWFkVUludDE2TEUoMjgpO1xuXHR9XG5cdHB1YmxpYyBpZGVudGlmaWVyKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIHRoaXMuX2dldFN0cmluZygzMywgdGhpcy5fZGF0YVszMl0pO1xuXHR9XG5cdHB1YmxpYyBmaWxlTmFtZShpc29EYXRhOiBCdWZmZXIpOiBzdHJpbmcge1xuXHRcdGlmICh0aGlzLmhhc1JvY2tSaWRnZSgpKSB7XG5cdFx0XHRjb25zdCBmbiA9IHRoaXMuX3JvY2tSaWRnZUZpbGVuYW1lKGlzb0RhdGEpO1xuXHRcdFx0aWYgKGZuICE9PSBudWxsKSB7XG5cdFx0XHRcdHJldHVybiBmbjtcblx0XHRcdH1cblx0XHR9XG5cdFx0Y29uc3QgaWRlbnQgPSB0aGlzLmlkZW50aWZpZXIoKTtcblx0XHRpZiAodGhpcy5pc0RpcmVjdG9yeShpc29EYXRhKSkge1xuXHRcdFx0cmV0dXJuIGlkZW50O1xuXHRcdH1cblx0XHQvLyBGaWxlczpcblx0XHQvLyAtIE1VU1QgaGF2ZSAweDJFICguKSBzZXBhcmF0aW5nIHRoZSBuYW1lIGZyb20gdGhlIGV4dGVuc2lvblxuXHRcdC8vIC0gTVVTVCBoYXZlIDB4M0IgKDspIHNlcGFyYXRpbmcgdGhlIGZpbGUgbmFtZSBhbmQgZXh0ZW5zaW9uIGZyb20gdGhlIHZlcnNpb25cblx0XHQvLyBHZXRzIGV4cGFuZGVkIHRvIHR3by1ieXRlIGNoYXIgaW4gVW5pY29kZSBkaXJlY3RvcnkgcmVjb3Jkcy5cblx0XHRjb25zdCB2ZXJzaW9uU2VwYXJhdG9yID0gaWRlbnQuaW5kZXhPZignOycpO1xuXHRcdGlmICh2ZXJzaW9uU2VwYXJhdG9yID09PSAtMSkge1xuXHRcdFx0Ly8gU29tZSBKb2xpZXQgZmlsZW5hbWVzIGxhY2sgdGhlIHZlcnNpb24gc2VwYXJhdG9yLCBkZXNwaXRlIHRoZSBzdGFuZGFyZFxuXHRcdFx0Ly8gc3BlY2lmeWluZyB0aGF0IGl0IHNob3VsZCBiZSB0aGVyZS5cblx0XHRcdHJldHVybiBpZGVudDtcblx0XHR9IGVsc2UgaWYgKGlkZW50W3ZlcnNpb25TZXBhcmF0b3IgLSAxXSA9PT0gJy4nKSB7XG5cdFx0XHQvLyBFbXB0eSBleHRlbnNpb24uIERvIG5vdCBpbmNsdWRlICcuJyBpbiB0aGUgZmlsZW5hbWUuXG5cdFx0XHRyZXR1cm4gaWRlbnQuc2xpY2UoMCwgdmVyc2lvblNlcGFyYXRvciAtIDEpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBJbmNsdWRlIHVwIHRvIHZlcnNpb24gc2VwYXJhdG9yLlxuXHRcdFx0cmV0dXJuIGlkZW50LnNsaWNlKDAsIHZlcnNpb25TZXBhcmF0b3IpO1xuXHRcdH1cblx0fVxuXHRwdWJsaWMgaXNEaXJlY3RvcnkoaXNvRGF0YTogQnVmZmVyKTogYm9vbGVhbiB7XG5cdFx0bGV0IHJ2ID0gISEodGhpcy5maWxlRmxhZ3MoKSAmIEZpbGVGbGFncy5EaXJlY3RvcnkpO1xuXHRcdC8vIElmIGl0IGxhY2tzIHRoZSBEaXJlY3RvcnkgZmxhZywgaXQgbWF5IHN0aWxsIGJlIGEgZGlyZWN0b3J5IGlmIHdlJ3ZlIGV4Y2VlZGVkIHRoZSBkaXJlY3Rvcnlcblx0XHQvLyBkZXB0aCBsaW1pdC4gUm9jayBSaWRnZSBtYXJrcyB0aGVzZSBhcyBmaWxlcyBhbmQgYWRkcyBhIHNwZWNpYWwgYXR0cmlidXRlLlxuXHRcdGlmICghcnYgJiYgdGhpcy5oYXNSb2NrUmlkZ2UoKSkge1xuXHRcdFx0cnYgPSB0aGlzLmdldFNVRW50cmllcyhpc29EYXRhKS5maWx0ZXIoZSA9PiBlIGluc3RhbmNlb2YgQ0xFbnRyeSkubGVuZ3RoID4gMDtcblx0XHR9XG5cdFx0cmV0dXJuIHJ2O1xuXHR9XG5cdHB1YmxpYyBpc1N5bWxpbmsoaXNvRGF0YTogQnVmZmVyKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMuaGFzUm9ja1JpZGdlKCkgJiYgdGhpcy5nZXRTVUVudHJpZXMoaXNvRGF0YSkuZmlsdGVyKGUgPT4gZSBpbnN0YW5jZW9mIFNMRW50cnkpLmxlbmd0aCA+IDA7XG5cdH1cblx0cHVibGljIGdldFN5bWxpbmtQYXRoKGlzb0RhdGE6IEJ1ZmZlcik6IHN0cmluZyB7XG5cdFx0bGV0IHAgPSAnJztcblx0XHRjb25zdCBlbnRyaWVzID0gdGhpcy5nZXRTVUVudHJpZXMoaXNvRGF0YSk7XG5cdFx0Y29uc3QgZ2V0U3RyID0gdGhpcy5fZ2V0R2V0U3RyaW5nKCk7XG5cdFx0Zm9yIChjb25zdCBlbnRyeSBvZiBlbnRyaWVzKSB7XG5cdFx0XHRpZiAoZW50cnkgaW5zdGFuY2VvZiBTTEVudHJ5KSB7XG5cdFx0XHRcdGNvbnN0IGNvbXBvbmVudHMgPSBlbnRyeS5jb21wb25lbnRSZWNvcmRzKCk7XG5cdFx0XHRcdGZvciAoY29uc3QgY29tcG9uZW50IG9mIGNvbXBvbmVudHMpIHtcblx0XHRcdFx0XHRjb25zdCBmbGFncyA9IGNvbXBvbmVudC5mbGFncygpO1xuXHRcdFx0XHRcdGlmIChmbGFncyAmIFNMQ29tcG9uZW50RmxhZ3MuQ1VSUkVOVCkge1xuXHRcdFx0XHRcdFx0cCArPSAnLi8nO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoZmxhZ3MgJiBTTENvbXBvbmVudEZsYWdzLlBBUkVOVCkge1xuXHRcdFx0XHRcdFx0cCArPSAnLi4vJztcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGZsYWdzICYgU0xDb21wb25lbnRGbGFncy5ST09UKSB7XG5cdFx0XHRcdFx0XHRwICs9ICcvJztcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cCArPSBjb21wb25lbnQuY29udGVudChnZXRTdHIpO1xuXHRcdFx0XHRcdFx0aWYgKCEoZmxhZ3MgJiBTTENvbXBvbmVudEZsYWdzLkNPTlRJTlVFKSkge1xuXHRcdFx0XHRcdFx0XHRwICs9ICcvJztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCFlbnRyeS5jb250aW51ZUZsYWcoKSkge1xuXHRcdFx0XHRcdC8vIFdlIGFyZSBkb25lIHdpdGggdGhpcyBsaW5rLlxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmIChwLmxlbmd0aCA+IDEgJiYgcFtwLmxlbmd0aCAtIDFdID09PSAnLycpIHtcblx0XHRcdC8vIFRyaW0gdHJhaWxpbmcgJy8nLlxuXHRcdFx0cmV0dXJuIHAuc2xpY2UoMCwgcC5sZW5ndGggLSAxKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHA7XG5cdFx0fVxuXHR9XG5cdHB1YmxpYyBnZXRGaWxlKGlzb0RhdGE6IEJ1ZmZlcik6IEJ1ZmZlciB7XG5cdFx0aWYgKHRoaXMuaXNEaXJlY3RvcnkoaXNvRGF0YSkpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgVHJpZWQgdG8gZ2V0IGEgRmlsZSBmcm9tIGEgZGlyZWN0b3J5LmApO1xuXHRcdH1cblx0XHRpZiAodGhpcy5fZmlsZU9yRGlyID09PSBudWxsKSB7XG5cdFx0XHR0aGlzLl9maWxlT3JEaXIgPSBpc29EYXRhLnNsaWNlKHRoaXMubGJhKCksIHRoaXMubGJhKCkgKyB0aGlzLmRhdGFMZW5ndGgoKSk7XG5cdFx0fVxuXHRcdHJldHVybiA8QnVmZmVyPnRoaXMuX2ZpbGVPckRpcjtcblx0fVxuXHRwdWJsaWMgZ2V0RGlyZWN0b3J5KGlzb0RhdGE6IEJ1ZmZlcik6IERpcmVjdG9yeTxEaXJlY3RvcnlSZWNvcmQ+IHtcblx0XHRpZiAoIXRoaXMuaXNEaXJlY3RvcnkoaXNvRGF0YSkpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgVHJpZWQgdG8gZ2V0IGEgRGlyZWN0b3J5IGZyb20gYSBmaWxlLmApO1xuXHRcdH1cblx0XHRpZiAodGhpcy5fZmlsZU9yRGlyID09PSBudWxsKSB7XG5cdFx0XHR0aGlzLl9maWxlT3JEaXIgPSB0aGlzLl9jb25zdHJ1Y3REaXJlY3RvcnkoaXNvRGF0YSk7XG5cdFx0fVxuXHRcdHJldHVybiA8RGlyZWN0b3J5PHRoaXM+PnRoaXMuX2ZpbGVPckRpcjtcblx0fVxuXHRwdWJsaWMgZ2V0U1VFbnRyaWVzKGlzb0RhdGE6IEJ1ZmZlcik6IFN5c3RlbVVzZUVudHJ5W10ge1xuXHRcdGlmICghdGhpcy5fc3VFbnRyaWVzKSB7XG5cdFx0XHR0aGlzLl9jb25zdHJ1Y3RTVUVudHJpZXMoaXNvRGF0YSk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLl9zdUVudHJpZXMhO1xuXHR9XG5cdHByb3RlY3RlZCBhYnN0cmFjdCBfZ2V0U3RyaW5nKGk6IG51bWJlciwgbGVuOiBudW1iZXIpOiBzdHJpbmc7XG5cdHByb3RlY3RlZCBhYnN0cmFjdCBfZ2V0R2V0U3RyaW5nKCk6IFRHZXRTdHJpbmc7XG5cdHByb3RlY3RlZCBhYnN0cmFjdCBfY29uc3RydWN0RGlyZWN0b3J5KGlzb0RhdGE6IEJ1ZmZlcik6IERpcmVjdG9yeTxEaXJlY3RvcnlSZWNvcmQ+O1xuXHRwcm90ZWN0ZWQgX3JvY2tSaWRnZUZpbGVuYW1lKGlzb0RhdGE6IEJ1ZmZlcik6IHN0cmluZyB8IG51bGwge1xuXHRcdGNvbnN0IG5tRW50cmllcyA9IDxOTUVudHJ5W10+dGhpcy5nZXRTVUVudHJpZXMoaXNvRGF0YSkuZmlsdGVyKGUgPT4gZSBpbnN0YW5jZW9mIE5NRW50cnkpO1xuXHRcdGlmIChubUVudHJpZXMubGVuZ3RoID09PSAwIHx8IG5tRW50cmllc1swXS5mbGFncygpICYgKE5NRmxhZ3MuQ1VSUkVOVCB8IE5NRmxhZ3MuUEFSRU5UKSkge1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXHRcdGxldCBzdHIgPSAnJztcblx0XHRjb25zdCBnZXRTdHJpbmcgPSB0aGlzLl9nZXRHZXRTdHJpbmcoKTtcblx0XHRmb3IgKGNvbnN0IGUgb2Ygbm1FbnRyaWVzKSB7XG5cdFx0XHRzdHIgKz0gZS5uYW1lKGdldFN0cmluZyk7XG5cdFx0XHRpZiAoIShlLmZsYWdzKCkgJiBOTUZsYWdzLkNPTlRJTlVFKSkge1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIHN0cjtcblx0fVxuXHRwcml2YXRlIF9jb25zdHJ1Y3RTVUVudHJpZXMoaXNvRGF0YTogQnVmZmVyKTogdm9pZCB7XG5cdFx0bGV0IGkgPSAzMyArIHRoaXMuX2RhdGFbMzJdO1xuXHRcdGlmIChpICUgMiA9PT0gMSkge1xuXHRcdFx0Ly8gU2tpcCBwYWRkaW5nIGZpZWxkLlxuXHRcdFx0aSsrO1xuXHRcdH1cblx0XHRpICs9IHRoaXMuX3JvY2tSaWRnZU9mZnNldDtcblx0XHR0aGlzLl9zdUVudHJpZXMgPSBjb25zdHJ1Y3RTeXN0ZW1Vc2VFbnRyaWVzKHRoaXMuX2RhdGEsIGksIHRoaXMubGVuZ3RoKCksIGlzb0RhdGEpO1xuXHR9XG5cdC8qKlxuXHQgKiAhIU9OTFkgVkFMSUQgT04gRklSU1QgRU5UUlkgT0YgUk9PVCBESVJFQ1RPUlkhIVxuXHQgKiBSZXR1cm5zIC0xIGlmIHJvY2sgcmlkZ2UgaXMgbm90IGVuYWJsZWQuIE90aGVyd2lzZSwgcmV0dXJucyB0aGUgb2Zmc2V0XG5cdCAqIGF0IHdoaWNoIHN5c3RlbSB1c2UgZmllbGRzIGJlZ2luLlxuXHQgKi9cblx0cHJpdmF0ZSBfZ2V0Um9ja1JpZGdlT2Zmc2V0KGlzb0RhdGE6IEJ1ZmZlcik6IG51bWJlciB7XG5cdFx0Ly8gSW4gdGhlIHdvcnN0IGNhc2UsIHdlIGdldCBzb21lIGdhcmJhZ2UgU1UgZW50cmllcy5cblx0XHQvLyBGdWRnZSBvZmZzZXQgdG8gMCBiZWZvcmUgcHJvY2VlZGluZy5cblx0XHR0aGlzLl9yb2NrUmlkZ2VPZmZzZXQgPSAwO1xuXHRcdGNvbnN0IHN1RW50cmllcyA9IHRoaXMuZ2V0U1VFbnRyaWVzKGlzb0RhdGEpO1xuXHRcdGlmIChzdUVudHJpZXMubGVuZ3RoID4gMCkge1xuXHRcdFx0Y29uc3Qgc3BFbnRyeSA9IHN1RW50cmllc1swXTtcblx0XHRcdGlmIChzcEVudHJ5IGluc3RhbmNlb2YgU1BFbnRyeSAmJiBzcEVudHJ5LmNoZWNrQnl0ZXNQYXNzKCkpIHtcblx0XHRcdFx0Ly8gU1VTUCBpcyBpbiB1c2UuXG5cdFx0XHRcdGZvciAobGV0IGkgPSAxOyBpIDwgc3VFbnRyaWVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0Y29uc3QgZW50cnkgPSBzdUVudHJpZXNbaV07XG5cdFx0XHRcdFx0aWYgKGVudHJ5IGluc3RhbmNlb2YgUlJFbnRyeSB8fCAoZW50cnkgaW5zdGFuY2VvZiBFUkVudHJ5ICYmIGVudHJ5LmV4dGVuc2lvbklkZW50aWZpZXIoKSA9PT0gcm9ja1JpZGdlSWRlbnRpZmllcikpIHtcblx0XHRcdFx0XHRcdC8vIFJvY2sgUmlkZ2UgaXMgaW4gdXNlIVxuXHRcdFx0XHRcdFx0cmV0dXJuIHNwRW50cnkuYnl0ZXNTa2lwcGVkKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdC8vIEZhaWxlZC5cblx0XHR0aGlzLl9yb2NrUmlkZ2VPZmZzZXQgPSAtMTtcblx0XHRyZXR1cm4gLTE7XG5cdH1cbn1cblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmNsYXNzIElTT0RpcmVjdG9yeVJlY29yZCBleHRlbmRzIERpcmVjdG9yeVJlY29yZCB7XG5cdGNvbnN0cnVjdG9yKGRhdGE6IEJ1ZmZlciwgcm9ja1JpZGdlT2Zmc2V0OiBudW1iZXIpIHtcblx0XHRzdXBlcihkYXRhLCByb2NrUmlkZ2VPZmZzZXQpO1xuXHR9XG5cdHByb3RlY3RlZCBfZ2V0U3RyaW5nKGk6IG51bWJlciwgbGVuOiBudW1iZXIpOiBzdHJpbmcge1xuXHRcdHJldHVybiBnZXRBU0NJSVN0cmluZyh0aGlzLl9kYXRhLCBpLCBsZW4pO1xuXHR9XG5cdHByb3RlY3RlZCBfY29uc3RydWN0RGlyZWN0b3J5KGlzb0RhdGE6IEJ1ZmZlcik6IERpcmVjdG9yeTxEaXJlY3RvcnlSZWNvcmQ+IHtcblx0XHRyZXR1cm4gbmV3IElTT0RpcmVjdG9yeSh0aGlzLCBpc29EYXRhKTtcblx0fVxuXHRwcm90ZWN0ZWQgX2dldEdldFN0cmluZygpOiBUR2V0U3RyaW5nIHtcblx0XHRyZXR1cm4gZ2V0QVNDSUlTdHJpbmc7XG5cdH1cbn1cblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmNsYXNzIEpvbGlldERpcmVjdG9yeVJlY29yZCBleHRlbmRzIERpcmVjdG9yeVJlY29yZCB7XG5cdGNvbnN0cnVjdG9yKGRhdGE6IEJ1ZmZlciwgcm9ja1JpZGdlT2Zmc2V0OiBudW1iZXIpIHtcblx0XHRzdXBlcihkYXRhLCByb2NrUmlkZ2VPZmZzZXQpO1xuXHR9XG5cdHByb3RlY3RlZCBfZ2V0U3RyaW5nKGk6IG51bWJlciwgbGVuOiBudW1iZXIpOiBzdHJpbmcge1xuXHRcdHJldHVybiBnZXRKb2xpZXRTdHJpbmcodGhpcy5fZGF0YSwgaSwgbGVuKTtcblx0fVxuXHRwcm90ZWN0ZWQgX2NvbnN0cnVjdERpcmVjdG9yeShpc29EYXRhOiBCdWZmZXIpOiBEaXJlY3Rvcnk8RGlyZWN0b3J5UmVjb3JkPiB7XG5cdFx0cmV0dXJuIG5ldyBKb2xpZXREaXJlY3RvcnkodGhpcywgaXNvRGF0YSk7XG5cdH1cblx0cHJvdGVjdGVkIF9nZXRHZXRTdHJpbmcoKTogVEdldFN0cmluZyB7XG5cdFx0cmV0dXJuIGdldEpvbGlldFN0cmluZztcblx0fVxufVxuXG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuY29uc3QgZW51bSBTeXN0ZW1Vc2VFbnRyeVNpZ25hdHVyZXMge1xuXHRDRSA9IDB4NDM0NSxcblx0UEQgPSAweDUwNDQsXG5cdFNQID0gMHg1MzUwLFxuXHRTVCA9IDB4NTM1NCxcblx0RVIgPSAweDQ1NTIsXG5cdEVTID0gMHg0NTUzLFxuXHRQWCA9IDB4NTA1OCxcblx0UE4gPSAweDUwNGUsXG5cdFNMID0gMHg1MzRjLFxuXHROTSA9IDB4NGU0ZCxcblx0Q0wgPSAweDQzNGMsXG5cdFBMID0gMHg1MDRjLFxuXHRSRSA9IDB4NTI0NSxcblx0VEYgPSAweDU0NDYsXG5cdFNGID0gMHg1MzQ2LFxuXHRSUiA9IDB4NTI1Mixcbn1cblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmNsYXNzIFN5c3RlbVVzZUVudHJ5IHtcblx0cHJvdGVjdGVkIF9kYXRhOiBCdWZmZXI7XG5cdGNvbnN0cnVjdG9yKGRhdGE6IEJ1ZmZlcikge1xuXHRcdHRoaXMuX2RhdGEgPSBkYXRhO1xuXHR9XG5cdHB1YmxpYyBzaWduYXR1cmVXb3JkKCk6IFN5c3RlbVVzZUVudHJ5U2lnbmF0dXJlcyB7XG5cdFx0cmV0dXJuIHRoaXMuX2RhdGEucmVhZFVJbnQxNkJFKDApO1xuXHR9XG5cdHB1YmxpYyBzaWduYXR1cmVXb3JkU3RyaW5nKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIGdldEFTQ0lJU3RyaW5nKHRoaXMuX2RhdGEsIDAsIDIpO1xuXHR9XG5cdHB1YmxpYyBsZW5ndGgoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5fZGF0YVsyXTtcblx0fVxuXHRwdWJsaWMgc3VWZXJzaW9uKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuX2RhdGFbM107XG5cdH1cbn1cblxuLyoqXG4gKiBDb250aW51YXRpb24gZW50cnkuXG4gKiBAaGlkZGVuXG4gKi9cbmNsYXNzIENFRW50cnkgZXh0ZW5kcyBTeXN0ZW1Vc2VFbnRyeSB7XG5cdHByaXZhdGUgX2VudHJpZXM6IFN5c3RlbVVzZUVudHJ5W10gfCBudWxsID0gbnVsbDtcblx0Y29uc3RydWN0b3IoZGF0YTogQnVmZmVyKSB7XG5cdFx0c3VwZXIoZGF0YSk7XG5cdH1cblx0LyoqXG5cdCAqIExvZ2ljYWwgYmxvY2sgYWRkcmVzcyBvZiB0aGUgY29udGludWF0aW9uIGFyZWEuXG5cdCAqL1xuXHRwdWJsaWMgY29udGludWF0aW9uTGJhKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuX2RhdGEucmVhZFVJbnQzMkxFKDQpO1xuXHR9XG5cdC8qKlxuXHQgKiBPZmZzZXQgaW50byB0aGUgbG9naWNhbCBibG9jay5cblx0ICovXG5cdHB1YmxpYyBjb250aW51YXRpb25MYmFPZmZzZXQoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5fZGF0YS5yZWFkVUludDMyTEUoMTIpO1xuXHR9XG5cdC8qKlxuXHQgKiBMZW5ndGggb2YgdGhlIGNvbnRpbnVhdGlvbiBhcmVhLlxuXHQgKi9cblx0cHVibGljIGNvbnRpbnVhdGlvbkxlbmd0aCgpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLl9kYXRhLnJlYWRVSW50MzJMRSgyMCk7XG5cdH1cblx0cHVibGljIGdldEVudHJpZXMoaXNvRGF0YTogQnVmZmVyKTogU3lzdGVtVXNlRW50cnlbXSB7XG5cdFx0aWYgKCF0aGlzLl9lbnRyaWVzKSB7XG5cdFx0XHRjb25zdCBzdGFydCA9IHRoaXMuY29udGludWF0aW9uTGJhKCkgKiAyMDQ4ICsgdGhpcy5jb250aW51YXRpb25MYmFPZmZzZXQoKTtcblx0XHRcdHRoaXMuX2VudHJpZXMgPSBjb25zdHJ1Y3RTeXN0ZW1Vc2VFbnRyaWVzKGlzb0RhdGEsIHN0YXJ0LCB0aGlzLmNvbnRpbnVhdGlvbkxlbmd0aCgpLCBpc29EYXRhKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuX2VudHJpZXM7XG5cdH1cbn1cblxuLyoqXG4gKiBQYWRkaW5nIGVudHJ5LlxuICogQGhpZGRlblxuICovXG5jbGFzcyBQREVudHJ5IGV4dGVuZHMgU3lzdGVtVXNlRW50cnkge1xuXHRjb25zdHJ1Y3RvcihkYXRhOiBCdWZmZXIpIHtcblx0XHRzdXBlcihkYXRhKTtcblx0fVxufVxuXG4vKipcbiAqIElkZW50aWZpZXMgdGhhdCBTVVNQIGlzIGluLXVzZS5cbiAqIEBoaWRkZW5cbiAqL1xuY2xhc3MgU1BFbnRyeSBleHRlbmRzIFN5c3RlbVVzZUVudHJ5IHtcblx0Y29uc3RydWN0b3IoZGF0YTogQnVmZmVyKSB7XG5cdFx0c3VwZXIoZGF0YSk7XG5cdH1cblx0cHVibGljIGNoZWNrQnl0ZXNQYXNzKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0aGlzLl9kYXRhWzRdID09PSAweGJlICYmIHRoaXMuX2RhdGFbNV0gPT09IDB4ZWY7XG5cdH1cblx0cHVibGljIGJ5dGVzU2tpcHBlZCgpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLl9kYXRhWzZdO1xuXHR9XG59XG5cbi8qKlxuICogSWRlbnRpZmllcyB0aGUgZW5kIG9mIHRoZSBTVVNQIGVudHJpZXMuXG4gKiBAaGlkZGVuXG4gKi9cbmNsYXNzIFNURW50cnkgZXh0ZW5kcyBTeXN0ZW1Vc2VFbnRyeSB7XG5cdGNvbnN0cnVjdG9yKGRhdGE6IEJ1ZmZlcikge1xuXHRcdHN1cGVyKGRhdGEpO1xuXHR9XG59XG5cbi8qKlxuICogU3BlY2lmaWVzIHN5c3RlbS1zcGVjaWZpYyBleHRlbnNpb25zIHRvIFNVU1AuXG4gKiBAaGlkZGVuXG4gKi9cbmNsYXNzIEVSRW50cnkgZXh0ZW5kcyBTeXN0ZW1Vc2VFbnRyeSB7XG5cdGNvbnN0cnVjdG9yKGRhdGE6IEJ1ZmZlcikge1xuXHRcdHN1cGVyKGRhdGEpO1xuXHR9XG5cdHB1YmxpYyBpZGVudGlmaWVyTGVuZ3RoKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuX2RhdGFbNF07XG5cdH1cblx0cHVibGljIGRlc2NyaXB0b3JMZW5ndGgoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5fZGF0YVs1XTtcblx0fVxuXHRwdWJsaWMgc291cmNlTGVuZ3RoKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuX2RhdGFbNl07XG5cdH1cblx0cHVibGljIGV4dGVuc2lvblZlcnNpb24oKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5fZGF0YVs3XTtcblx0fVxuXHRwdWJsaWMgZXh0ZW5zaW9uSWRlbnRpZmllcigpOiBzdHJpbmcge1xuXHRcdHJldHVybiBnZXRBU0NJSVN0cmluZyh0aGlzLl9kYXRhLCA4LCB0aGlzLmlkZW50aWZpZXJMZW5ndGgoKSk7XG5cdH1cblx0cHVibGljIGV4dGVuc2lvbkRlc2NyaXB0b3IoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gZ2V0QVNDSUlTdHJpbmcodGhpcy5fZGF0YSwgOCArIHRoaXMuaWRlbnRpZmllckxlbmd0aCgpLCB0aGlzLmRlc2NyaXB0b3JMZW5ndGgoKSk7XG5cdH1cblx0cHVibGljIGV4dGVuc2lvblNvdXJjZSgpOiBzdHJpbmcge1xuXHRcdHJldHVybiBnZXRBU0NJSVN0cmluZyh0aGlzLl9kYXRhLCA4ICsgdGhpcy5pZGVudGlmaWVyTGVuZ3RoKCkgKyB0aGlzLmRlc2NyaXB0b3JMZW5ndGgoKSwgdGhpcy5zb3VyY2VMZW5ndGgoKSk7XG5cdH1cbn1cblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmNsYXNzIEVTRW50cnkgZXh0ZW5kcyBTeXN0ZW1Vc2VFbnRyeSB7XG5cdGNvbnN0cnVjdG9yKGRhdGE6IEJ1ZmZlcikge1xuXHRcdHN1cGVyKGRhdGEpO1xuXHR9XG5cdHB1YmxpYyBleHRlbnNpb25TZXF1ZW5jZSgpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLl9kYXRhWzRdO1xuXHR9XG59XG5cbi8qKlxuICogUm9ja1JpZGdlOiBNYXJrcyB0aGF0IFJvY2tSaWRnZSBpcyBpbiB1c2UgW2RlcHJlY2F0ZWRdXG4gKiBAaGlkZGVuXG4gKi9cbmNsYXNzIFJSRW50cnkgZXh0ZW5kcyBTeXN0ZW1Vc2VFbnRyeSB7XG5cdGNvbnN0cnVjdG9yKGRhdGE6IEJ1ZmZlcikge1xuXHRcdHN1cGVyKGRhdGEpO1xuXHR9XG59XG5cbi8qKlxuICogUm9ja1JpZGdlOiBSZWNvcmRzIFBPU0lYIGZpbGUgYXR0cmlidXRlcy5cbiAqIEBoaWRkZW5cbiAqL1xuY2xhc3MgUFhFbnRyeSBleHRlbmRzIFN5c3RlbVVzZUVudHJ5IHtcblx0Y29uc3RydWN0b3IoZGF0YTogQnVmZmVyKSB7XG5cdFx0c3VwZXIoZGF0YSk7XG5cdH1cblx0cHVibGljIG1vZGUoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5fZGF0YS5yZWFkVUludDMyTEUoNCk7XG5cdH1cblx0cHVibGljIGZpbGVMaW5rcygpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLl9kYXRhLnJlYWRVSW50MzJMRSgxMik7XG5cdH1cblx0cHVibGljIHVpZCgpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLl9kYXRhLnJlYWRVSW50MzJMRSgyMCk7XG5cdH1cblx0cHVibGljIGdpZCgpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLl9kYXRhLnJlYWRVSW50MzJMRSgyOCk7XG5cdH1cblx0cHVibGljIGlub2RlKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuX2RhdGEucmVhZFVJbnQzMkxFKDM2KTtcblx0fVxufVxuXG4vKipcbiAqIFJvY2tSaWRnZTogUmVjb3JkcyBQT1NJWCBkZXZpY2UgbnVtYmVyLlxuICogQGhpZGRlblxuICovXG5jbGFzcyBQTkVudHJ5IGV4dGVuZHMgU3lzdGVtVXNlRW50cnkge1xuXHRjb25zdHJ1Y3RvcihkYXRhOiBCdWZmZXIpIHtcblx0XHRzdXBlcihkYXRhKTtcblx0fVxuXHRwdWJsaWMgZGV2VEhpZ2goKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5fZGF0YS5yZWFkVUludDMyTEUoNCk7XG5cdH1cblx0cHVibGljIGRldlRMb3coKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5fZGF0YS5yZWFkVUludDMyTEUoMTIpO1xuXHR9XG59XG5cbi8qKlxuICogUm9ja1JpZGdlOiBSZWNvcmRzIHN5bWJvbGljIGxpbmtcbiAqIEBoaWRkZW5cbiAqL1xuY2xhc3MgU0xFbnRyeSBleHRlbmRzIFN5c3RlbVVzZUVudHJ5IHtcblx0Y29uc3RydWN0b3IoZGF0YTogQnVmZmVyKSB7XG5cdFx0c3VwZXIoZGF0YSk7XG5cdH1cblx0cHVibGljIGZsYWdzKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuX2RhdGFbNF07XG5cdH1cblx0cHVibGljIGNvbnRpbnVlRmxhZygpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLmZsYWdzKCkgJiAweDE7XG5cdH1cblx0cHVibGljIGNvbXBvbmVudFJlY29yZHMoKTogU0xDb21wb25lbnRSZWNvcmRbXSB7XG5cdFx0Y29uc3QgcmVjb3JkcyA9IG5ldyBBcnJheTxTTENvbXBvbmVudFJlY29yZD4oKTtcblx0XHRsZXQgaSA9IDU7XG5cdFx0d2hpbGUgKGkgPCB0aGlzLmxlbmd0aCgpKSB7XG5cdFx0XHRjb25zdCByZWNvcmQgPSBuZXcgU0xDb21wb25lbnRSZWNvcmQodGhpcy5fZGF0YS5zbGljZShpKSk7XG5cdFx0XHRyZWNvcmRzLnB1c2gocmVjb3JkKTtcblx0XHRcdGkgKz0gcmVjb3JkLmxlbmd0aCgpO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVjb3Jkcztcblx0fVxufVxuXG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuY29uc3QgZW51bSBTTENvbXBvbmVudEZsYWdzIHtcblx0Q09OVElOVUUgPSAxLFxuXHRDVVJSRU5UID0gMSA8PCAxLFxuXHRQQVJFTlQgPSAxIDw8IDIsXG5cdFJPT1QgPSAxIDw8IDMsXG59XG5cbi8qKlxuICogQGhpZGRlblxuICovXG5jbGFzcyBTTENvbXBvbmVudFJlY29yZCB7XG5cdHByaXZhdGUgX2RhdGE6IEJ1ZmZlcjtcblx0Y29uc3RydWN0b3IoZGF0YTogQnVmZmVyKSB7XG5cdFx0dGhpcy5fZGF0YSA9IGRhdGE7XG5cdH1cblx0cHVibGljIGZsYWdzKCk6IFNMQ29tcG9uZW50RmxhZ3Mge1xuXHRcdHJldHVybiB0aGlzLl9kYXRhWzBdO1xuXHR9XG5cdHB1YmxpYyBsZW5ndGgoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gMiArIHRoaXMuY29tcG9uZW50TGVuZ3RoKCk7XG5cdH1cblx0cHVibGljIGNvbXBvbmVudExlbmd0aCgpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLl9kYXRhWzFdO1xuXHR9XG5cdHB1YmxpYyBjb250ZW50KGdldFN0cmluZzogVEdldFN0cmluZyk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIGdldFN0cmluZyh0aGlzLl9kYXRhLCAyLCB0aGlzLmNvbXBvbmVudExlbmd0aCgpKTtcblx0fVxufVxuXG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuY29uc3QgZW51bSBOTUZsYWdzIHtcblx0Q09OVElOVUUgPSAxLFxuXHRDVVJSRU5UID0gMSA8PCAxLFxuXHRQQVJFTlQgPSAxIDw8IDIsXG59XG5cbi8qKlxuICogUm9ja1JpZGdlOiBSZWNvcmRzIGFsdGVybmF0ZSBmaWxlIG5hbWVcbiAqIEBoaWRkZW5cbiAqL1xuY2xhc3MgTk1FbnRyeSBleHRlbmRzIFN5c3RlbVVzZUVudHJ5IHtcblx0Y29uc3RydWN0b3IoZGF0YTogQnVmZmVyKSB7XG5cdFx0c3VwZXIoZGF0YSk7XG5cdH1cblx0cHVibGljIGZsYWdzKCk6IE5NRmxhZ3Mge1xuXHRcdHJldHVybiB0aGlzLl9kYXRhWzRdO1xuXHR9XG5cdHB1YmxpYyBuYW1lKGdldFN0cmluZzogVEdldFN0cmluZyk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIGdldFN0cmluZyh0aGlzLl9kYXRhLCA1LCB0aGlzLmxlbmd0aCgpIC0gNSk7XG5cdH1cbn1cblxuLyoqXG4gKiBSb2NrUmlkZ2U6IFJlY29yZHMgY2hpbGQgbGlua1xuICogQGhpZGRlblxuICovXG5jbGFzcyBDTEVudHJ5IGV4dGVuZHMgU3lzdGVtVXNlRW50cnkge1xuXHRjb25zdHJ1Y3RvcihkYXRhOiBCdWZmZXIpIHtcblx0XHRzdXBlcihkYXRhKTtcblx0fVxuXHRwdWJsaWMgY2hpbGREaXJlY3RvcnlMYmEoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5fZGF0YS5yZWFkVUludDMyTEUoNCk7XG5cdH1cbn1cblxuLyoqXG4gKiBSb2NrUmlkZ2U6IFJlY29yZHMgcGFyZW50IGxpbmsuXG4gKiBAaGlkZGVuXG4gKi9cbmNsYXNzIFBMRW50cnkgZXh0ZW5kcyBTeXN0ZW1Vc2VFbnRyeSB7XG5cdGNvbnN0cnVjdG9yKGRhdGE6IEJ1ZmZlcikge1xuXHRcdHN1cGVyKGRhdGEpO1xuXHR9XG5cdHB1YmxpYyBwYXJlbnREaXJlY3RvcnlMYmEoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5fZGF0YS5yZWFkVUludDMyTEUoNCk7XG5cdH1cbn1cblxuLyoqXG4gKiBSb2NrUmlkZ2U6IFJlY29yZHMgcmVsb2NhdGVkIGRpcmVjdG9yeS5cbiAqIEBoaWRkZW5cbiAqL1xuY2xhc3MgUkVFbnRyeSBleHRlbmRzIFN5c3RlbVVzZUVudHJ5IHtcblx0Y29uc3RydWN0b3IoZGF0YTogQnVmZmVyKSB7XG5cdFx0c3VwZXIoZGF0YSk7XG5cdH1cbn1cblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmNvbnN0IGVudW0gVEZGbGFncyB7XG5cdENSRUFUSU9OID0gMSxcblx0TU9ESUZZID0gMSA8PCAxLFxuXHRBQ0NFU1MgPSAxIDw8IDIsXG5cdEFUVFJJQlVURVMgPSAxIDw8IDMsXG5cdEJBQ0tVUCA9IDEgPDwgNCxcblx0RVhQSVJBVElPTiA9IDEgPDwgNSxcblx0RUZGRUNUSVZFID0gMSA8PCA2LFxuXHRMT05HX0ZPUk0gPSAxIDw8IDcsXG59XG5cbi8qKlxuICogUm9ja1JpZGdlOiBSZWNvcmRzIGZpbGUgdGltZXN0YW1wc1xuICogQGhpZGRlblxuICovXG5jbGFzcyBURkVudHJ5IGV4dGVuZHMgU3lzdGVtVXNlRW50cnkge1xuXHRjb25zdHJ1Y3RvcihkYXRhOiBCdWZmZXIpIHtcblx0XHRzdXBlcihkYXRhKTtcblx0fVxuXHRwdWJsaWMgZmxhZ3MoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5fZGF0YVs0XTtcblx0fVxuXHRwdWJsaWMgY3JlYXRpb24oKTogRGF0ZSB8IG51bGwge1xuXHRcdGlmICh0aGlzLmZsYWdzKCkgJiBURkZsYWdzLkNSRUFUSU9OKSB7XG5cdFx0XHRpZiAodGhpcy5fbG9uZ0Zvcm1EYXRlcygpKSB7XG5cdFx0XHRcdHJldHVybiBnZXREYXRlKHRoaXMuX2RhdGEsIDUpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIGdldFNob3J0Rm9ybURhdGUodGhpcy5fZGF0YSwgNSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0fVxuXHRwdWJsaWMgbW9kaWZ5KCk6IERhdGUgfCBudWxsIHtcblx0XHRpZiAodGhpcy5mbGFncygpICYgVEZGbGFncy5NT0RJRlkpIHtcblx0XHRcdGNvbnN0IHByZXZpb3VzRGF0ZXMgPSB0aGlzLmZsYWdzKCkgJiBURkZsYWdzLkNSRUFUSU9OID8gMSA6IDA7XG5cdFx0XHRpZiAodGhpcy5fbG9uZ0Zvcm1EYXRlcygpKSB7XG5cdFx0XHRcdHJldHVybiBnZXREYXRlKHRoaXMuX2RhdGEsIDUgKyBwcmV2aW91c0RhdGVzICogMTcpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIGdldFNob3J0Rm9ybURhdGUodGhpcy5fZGF0YSwgNSArIHByZXZpb3VzRGF0ZXMgKiA3KTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXHR9XG5cdHB1YmxpYyBhY2Nlc3MoKTogRGF0ZSB8IG51bGwge1xuXHRcdGlmICh0aGlzLmZsYWdzKCkgJiBURkZsYWdzLkFDQ0VTUykge1xuXHRcdFx0bGV0IHByZXZpb3VzRGF0ZXMgPSB0aGlzLmZsYWdzKCkgJiBURkZsYWdzLkNSRUFUSU9OID8gMSA6IDA7XG5cdFx0XHRwcmV2aW91c0RhdGVzICs9IHRoaXMuZmxhZ3MoKSAmIFRGRmxhZ3MuTU9ESUZZID8gMSA6IDA7XG5cdFx0XHRpZiAodGhpcy5fbG9uZ0Zvcm1EYXRlcygpKSB7XG5cdFx0XHRcdHJldHVybiBnZXREYXRlKHRoaXMuX2RhdGEsIDUgKyBwcmV2aW91c0RhdGVzICogMTcpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIGdldFNob3J0Rm9ybURhdGUodGhpcy5fZGF0YSwgNSArIHByZXZpb3VzRGF0ZXMgKiA3KTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXHR9XG5cdHB1YmxpYyBiYWNrdXAoKTogRGF0ZSB8IG51bGwge1xuXHRcdGlmICh0aGlzLmZsYWdzKCkgJiBURkZsYWdzLkJBQ0tVUCkge1xuXHRcdFx0bGV0IHByZXZpb3VzRGF0ZXMgPSB0aGlzLmZsYWdzKCkgJiBURkZsYWdzLkNSRUFUSU9OID8gMSA6IDA7XG5cdFx0XHRwcmV2aW91c0RhdGVzICs9IHRoaXMuZmxhZ3MoKSAmIFRGRmxhZ3MuTU9ESUZZID8gMSA6IDA7XG5cdFx0XHRwcmV2aW91c0RhdGVzICs9IHRoaXMuZmxhZ3MoKSAmIFRGRmxhZ3MuQUNDRVNTID8gMSA6IDA7XG5cdFx0XHRpZiAodGhpcy5fbG9uZ0Zvcm1EYXRlcygpKSB7XG5cdFx0XHRcdHJldHVybiBnZXREYXRlKHRoaXMuX2RhdGEsIDUgKyBwcmV2aW91c0RhdGVzICogMTcpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIGdldFNob3J0Rm9ybURhdGUodGhpcy5fZGF0YSwgNSArIHByZXZpb3VzRGF0ZXMgKiA3KTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXHR9XG5cdHB1YmxpYyBleHBpcmF0aW9uKCk6IERhdGUgfCBudWxsIHtcblx0XHRpZiAodGhpcy5mbGFncygpICYgVEZGbGFncy5FWFBJUkFUSU9OKSB7XG5cdFx0XHRsZXQgcHJldmlvdXNEYXRlcyA9IHRoaXMuZmxhZ3MoKSAmIFRGRmxhZ3MuQ1JFQVRJT04gPyAxIDogMDtcblx0XHRcdHByZXZpb3VzRGF0ZXMgKz0gdGhpcy5mbGFncygpICYgVEZGbGFncy5NT0RJRlkgPyAxIDogMDtcblx0XHRcdHByZXZpb3VzRGF0ZXMgKz0gdGhpcy5mbGFncygpICYgVEZGbGFncy5BQ0NFU1MgPyAxIDogMDtcblx0XHRcdHByZXZpb3VzRGF0ZXMgKz0gdGhpcy5mbGFncygpICYgVEZGbGFncy5CQUNLVVAgPyAxIDogMDtcblx0XHRcdGlmICh0aGlzLl9sb25nRm9ybURhdGVzKCkpIHtcblx0XHRcdFx0cmV0dXJuIGdldERhdGUodGhpcy5fZGF0YSwgNSArIHByZXZpb3VzRGF0ZXMgKiAxNyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gZ2V0U2hvcnRGb3JtRGF0ZSh0aGlzLl9kYXRhLCA1ICsgcHJldmlvdXNEYXRlcyAqIDcpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cdH1cblx0cHVibGljIGVmZmVjdGl2ZSgpOiBEYXRlIHwgbnVsbCB7XG5cdFx0aWYgKHRoaXMuZmxhZ3MoKSAmIFRGRmxhZ3MuRUZGRUNUSVZFKSB7XG5cdFx0XHRsZXQgcHJldmlvdXNEYXRlcyA9IHRoaXMuZmxhZ3MoKSAmIFRGRmxhZ3MuQ1JFQVRJT04gPyAxIDogMDtcblx0XHRcdHByZXZpb3VzRGF0ZXMgKz0gdGhpcy5mbGFncygpICYgVEZGbGFncy5NT0RJRlkgPyAxIDogMDtcblx0XHRcdHByZXZpb3VzRGF0ZXMgKz0gdGhpcy5mbGFncygpICYgVEZGbGFncy5BQ0NFU1MgPyAxIDogMDtcblx0XHRcdHByZXZpb3VzRGF0ZXMgKz0gdGhpcy5mbGFncygpICYgVEZGbGFncy5CQUNLVVAgPyAxIDogMDtcblx0XHRcdHByZXZpb3VzRGF0ZXMgKz0gdGhpcy5mbGFncygpICYgVEZGbGFncy5FWFBJUkFUSU9OID8gMSA6IDA7XG5cdFx0XHRpZiAodGhpcy5fbG9uZ0Zvcm1EYXRlcygpKSB7XG5cdFx0XHRcdHJldHVybiBnZXREYXRlKHRoaXMuX2RhdGEsIDUgKyBwcmV2aW91c0RhdGVzICogMTcpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIGdldFNob3J0Rm9ybURhdGUodGhpcy5fZGF0YSwgNSArIHByZXZpb3VzRGF0ZXMgKiA3KTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXHR9XG5cdHByaXZhdGUgX2xvbmdGb3JtRGF0ZXMoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuICEhKHRoaXMuZmxhZ3MoKSAmJiBURkZsYWdzLkxPTkdfRk9STSk7XG5cdH1cbn1cblxuLyoqXG4gKiBSb2NrUmlkZ2U6IEZpbGUgZGF0YSBpbiBzcGFyc2UgZm9ybWF0LlxuICogQGhpZGRlblxuICovXG5jbGFzcyBTRkVudHJ5IGV4dGVuZHMgU3lzdGVtVXNlRW50cnkge1xuXHRjb25zdHJ1Y3RvcihkYXRhOiBCdWZmZXIpIHtcblx0XHRzdXBlcihkYXRhKTtcblx0fVxuXHRwdWJsaWMgdmlydHVhbFNpemVIaWdoKCk6IG51bWJlciB7XG5cdFx0cmV0dXJuIHRoaXMuX2RhdGEucmVhZFVJbnQzMkxFKDQpO1xuXHR9XG5cdHB1YmxpYyB2aXJ0dWFsU2l6ZUxvdygpOiBudW1iZXIge1xuXHRcdHJldHVybiB0aGlzLl9kYXRhLnJlYWRVSW50MzJMRSgxMik7XG5cdH1cblx0cHVibGljIHRhYmxlRGVwdGgoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5fZGF0YVsyMF07XG5cdH1cbn1cblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmFic3RyYWN0IGNsYXNzIERpcmVjdG9yeTxUIGV4dGVuZHMgRGlyZWN0b3J5UmVjb3JkPiB7XG5cdHByb3RlY3RlZCBfcmVjb3JkOiBUO1xuXHRwcml2YXRlIF9maWxlTGlzdDogc3RyaW5nW10gPSBbXTtcblx0cHJpdmF0ZSBfZmlsZU1hcDogeyBbbmFtZTogc3RyaW5nXTogVCB9ID0ge307XG5cdGNvbnN0cnVjdG9yKHJlY29yZDogVCwgaXNvRGF0YTogQnVmZmVyKSB7XG5cdFx0dGhpcy5fcmVjb3JkID0gcmVjb3JkO1xuXHRcdGxldCBpID0gcmVjb3JkLmxiYSgpO1xuXHRcdGxldCBpTGltaXQgPSBpICsgcmVjb3JkLmRhdGFMZW5ndGgoKTtcblx0XHRpZiAoIShyZWNvcmQuZmlsZUZsYWdzKCkgJiBGaWxlRmxhZ3MuRGlyZWN0b3J5KSkge1xuXHRcdFx0Ly8gTXVzdCBoYXZlIGEgQ0wgZW50cnkuXG5cdFx0XHRjb25zdCBjbCA9IDxDTEVudHJ5PnJlY29yZC5nZXRTVUVudHJpZXMoaXNvRGF0YSkuZmlsdGVyKGUgPT4gZSBpbnN0YW5jZW9mIENMRW50cnkpWzBdO1xuXHRcdFx0aSA9IGNsLmNoaWxkRGlyZWN0b3J5TGJhKCkgKiAyMDQ4O1xuXHRcdFx0aUxpbWl0ID0gSW5maW5pdHk7XG5cdFx0fVxuXG5cdFx0d2hpbGUgKGkgPCBpTGltaXQpIHtcblx0XHRcdGNvbnN0IGxlbiA9IGlzb0RhdGFbaV07XG5cdFx0XHQvLyBaZXJvLXBhZGRpbmcgYmV0d2VlbiBzZWN0b3JzLlxuXHRcdFx0Ly8gVE9ETzogQ291bGQgb3B0aW1pemUgdGhpcyB0byBzZWVrIHRvIG5lYXJlc3Qtc2VjdG9yIHVwb25cblx0XHRcdC8vIHNlZWluZyBhIDAuXG5cdFx0XHRpZiAobGVuID09PSAwKSB7XG5cdFx0XHRcdGkrKztcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHRjb25zdCByID0gdGhpcy5fY29uc3RydWN0RGlyZWN0b3J5UmVjb3JkKGlzb0RhdGEuc2xpY2UoaSkpO1xuXHRcdFx0Y29uc3QgZm5hbWUgPSByLmZpbGVOYW1lKGlzb0RhdGEpO1xuXHRcdFx0Ly8gU2tpcCAnLicgYW5kICcuLicgZW50cmllcy5cblx0XHRcdGlmIChmbmFtZSAhPT0gJ1xcdTAwMDAnICYmIGZuYW1lICE9PSAnXFx1MDAwMScpIHtcblx0XHRcdFx0Ly8gU2tpcCByZWxvY2F0ZWQgZW50cmllcy5cblx0XHRcdFx0aWYgKCFyLmhhc1JvY2tSaWRnZSgpIHx8IHIuZ2V0U1VFbnRyaWVzKGlzb0RhdGEpLmZpbHRlcihlID0+IGUgaW5zdGFuY2VvZiBSRUVudHJ5KS5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0XHR0aGlzLl9maWxlTWFwW2ZuYW1lXSA9IHI7XG5cdFx0XHRcdFx0dGhpcy5fZmlsZUxpc3QucHVzaChmbmFtZSk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoaUxpbWl0ID09PSBJbmZpbml0eSkge1xuXHRcdFx0XHQvLyBGaXJzdCBlbnRyeSBjb250YWlucyBuZWVkZWQgZGF0YS5cblx0XHRcdFx0aUxpbWl0ID0gaSArIHIuZGF0YUxlbmd0aCgpO1xuXHRcdFx0fVxuXHRcdFx0aSArPSByLmxlbmd0aCgpO1xuXHRcdH1cblx0fVxuXHQvKipcblx0ICogR2V0IHRoZSByZWNvcmQgd2l0aCB0aGUgZ2l2ZW4gbmFtZS5cblx0ICogUmV0dXJucyB1bmRlZmluZWQgaWYgbm90IHByZXNlbnQuXG5cdCAqL1xuXHRwdWJsaWMgZ2V0UmVjb3JkKG5hbWU6IHN0cmluZyk6IERpcmVjdG9yeVJlY29yZCB7XG5cdFx0cmV0dXJuIHRoaXMuX2ZpbGVNYXBbbmFtZV07XG5cdH1cblx0cHVibGljIGdldEZpbGVMaXN0KCk6IHN0cmluZ1tdIHtcblx0XHRyZXR1cm4gdGhpcy5fZmlsZUxpc3Q7XG5cdH1cblx0cHVibGljIGdldERvdEVudHJ5KGlzb0RhdGE6IEJ1ZmZlcik6IFQge1xuXHRcdHJldHVybiB0aGlzLl9jb25zdHJ1Y3REaXJlY3RvcnlSZWNvcmQoaXNvRGF0YS5zbGljZSh0aGlzLl9yZWNvcmQubGJhKCkpKTtcblx0fVxuXHRwcm90ZWN0ZWQgYWJzdHJhY3QgX2NvbnN0cnVjdERpcmVjdG9yeVJlY29yZChkYXRhOiBCdWZmZXIpOiBUO1xufVxuXG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuY2xhc3MgSVNPRGlyZWN0b3J5IGV4dGVuZHMgRGlyZWN0b3J5PElTT0RpcmVjdG9yeVJlY29yZD4ge1xuXHRjb25zdHJ1Y3RvcihyZWNvcmQ6IElTT0RpcmVjdG9yeVJlY29yZCwgaXNvRGF0YTogQnVmZmVyKSB7XG5cdFx0c3VwZXIocmVjb3JkLCBpc29EYXRhKTtcblx0fVxuXHRwcm90ZWN0ZWQgX2NvbnN0cnVjdERpcmVjdG9yeVJlY29yZChkYXRhOiBCdWZmZXIpOiBJU09EaXJlY3RvcnlSZWNvcmQge1xuXHRcdHJldHVybiBuZXcgSVNPRGlyZWN0b3J5UmVjb3JkKGRhdGEsIHRoaXMuX3JlY29yZC5nZXRSb2NrUmlkZ2VPZmZzZXQoKSk7XG5cdH1cbn1cblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmNsYXNzIEpvbGlldERpcmVjdG9yeSBleHRlbmRzIERpcmVjdG9yeTxKb2xpZXREaXJlY3RvcnlSZWNvcmQ+IHtcblx0Y29uc3RydWN0b3IocmVjb3JkOiBKb2xpZXREaXJlY3RvcnlSZWNvcmQsIGlzb0RhdGE6IEJ1ZmZlcikge1xuXHRcdHN1cGVyKHJlY29yZCwgaXNvRGF0YSk7XG5cdH1cblx0cHJvdGVjdGVkIF9jb25zdHJ1Y3REaXJlY3RvcnlSZWNvcmQoZGF0YTogQnVmZmVyKTogSm9saWV0RGlyZWN0b3J5UmVjb3JkIHtcblx0XHRyZXR1cm4gbmV3IEpvbGlldERpcmVjdG9yeVJlY29yZChkYXRhLCB0aGlzLl9yZWNvcmQuZ2V0Um9ja1JpZGdlT2Zmc2V0KCkpO1xuXHR9XG59XG5cbi8qKlxuICogT3B0aW9ucyBmb3IgSXNvRlMgZmlsZSBzeXN0ZW0gaW5zdGFuY2VzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIElzb0ZTT3B0aW9ucyB7XG5cdC8vIFRoZSBJU08gZmlsZSBpbiBhIGJ1ZmZlci5cblx0ZGF0YTogQnVmZmVyO1xuXHQvLyBUaGUgbmFtZSBvZiB0aGUgSVNPIChvcHRpb25hbDsgdXNlZCBmb3IgZGVidWcgbWVzc2FnZXMgLyBpZGVudGlmaWNhdGlvbiB2aWEgZ2V0TmFtZSgpKS5cblx0bmFtZT86IHN0cmluZztcbn1cblxuLyoqXG4gKiBNb3VudHMgYW4gSVNPIGZpbGUgYXMgYSByZWFkLW9ubHkgZmlsZSBzeXN0ZW0uXG4gKlxuICogU3VwcG9ydHM6XG4gKiAqIFZhbmlsbGEgSVNPOTY2MCBJU09zXG4gKiAqIE1pY3Jvc29mdCBKb2xpZXQgYW5kIFJvY2sgUmlkZ2UgZXh0ZW5zaW9ucyB0byB0aGUgSVNPOTY2MCBzdGFuZGFyZFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJc29GUyBleHRlbmRzIFN5bmNocm9ub3VzRmlsZVN5c3RlbSBpbXBsZW1lbnRzIEZpbGVTeXN0ZW0ge1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE5hbWUgPSAnSXNvRlMnO1xuXG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgT3B0aW9uczogRmlsZVN5c3RlbU9wdGlvbnMgPSB7XG5cdFx0ZGF0YToge1xuXHRcdFx0dHlwZTogJ29iamVjdCcsXG5cdFx0XHRkZXNjcmlwdGlvbjogJ1RoZSBJU08gZmlsZSBpbiBhIGJ1ZmZlcicsXG5cdFx0XHR2YWxpZGF0b3I6IGJ1ZmZlclZhbGlkYXRvcixcblx0XHR9LFxuXHR9O1xuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGFuIElzb0ZTIGluc3RhbmNlIHdpdGggdGhlIGdpdmVuIG9wdGlvbnMuXG5cdCAqL1xuXHRwdWJsaWMgc3RhdGljIENyZWF0ZShvcHRzOiBJc29GU09wdGlvbnMsIGNiOiBCRlNDYWxsYmFjazxJc29GUz4pOiB2b2lkIHtcblx0XHR0cnkge1xuXHRcdFx0Y2IobnVsbCwgbmV3IElzb0ZTKG9wdHMuZGF0YSwgb3B0cy5uYW1lKSk7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0Y2IoZSk7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIHN0YXRpYyBDcmVhdGVBc3luYyhvcHRzOiBJc29GU09wdGlvbnMpOiBQcm9taXNlPElzb0ZTPiB7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdHRoaXMuQ3JlYXRlKG9wdHMsIChlcnJvciwgZnMpID0+IHtcblx0XHRcdFx0aWYgKGVycm9yIHx8ICFmcykge1xuXHRcdFx0XHRcdHJlamVjdChlcnJvcik7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmVzb2x2ZShmcyk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0cHVibGljIHN0YXRpYyBpc0F2YWlsYWJsZSgpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdHByaXZhdGUgX2RhdGE6IEJ1ZmZlcjtcblx0cHJpdmF0ZSBfcHZkOiBQcmltYXJ5T3JTdXBwbGVtZW50YXJ5Vm9sdW1lRGVzY3JpcHRvcjtcblx0cHJpdmF0ZSBfcm9vdDogRGlyZWN0b3J5UmVjb3JkO1xuXHRwcml2YXRlIF9uYW1lOiBzdHJpbmc7XG5cblx0LyoqXG5cdCAqICoqRGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBJc29GUy5DcmVhdGUoKSBtZXRob2QgaW5zdGVhZC4qKlxuXHQgKlxuXHQgKiBDb25zdHJ1Y3RzIGEgcmVhZC1vbmx5IGZpbGUgc3lzdGVtIGZyb20gdGhlIGdpdmVuIElTTy5cblx0ICogQHBhcmFtIGRhdGEgVGhlIElTTyBmaWxlIGluIGEgYnVmZmVyLlxuXHQgKiBAcGFyYW0gbmFtZSBUaGUgbmFtZSBvZiB0aGUgSVNPIChvcHRpb25hbDsgdXNlZCBmb3IgZGVidWcgbWVzc2FnZXMgLyBpZGVudGlmaWNhdGlvbiB2aWEgZ2V0TmFtZSgpKS5cblx0ICovXG5cdHByaXZhdGUgY29uc3RydWN0b3IoZGF0YTogQnVmZmVyLCBuYW1lOiBzdHJpbmcgPSAnJykge1xuXHRcdHN1cGVyKCk7XG5cdFx0dGhpcy5fZGF0YSA9IGRhdGE7XG5cdFx0Ly8gU2tpcCBmaXJzdCAxNiBzZWN0b3JzLlxuXHRcdGxldCB2ZFRlcm1pbmF0b3JGb3VuZCA9IGZhbHNlO1xuXHRcdGxldCBpID0gMTYgKiAyMDQ4O1xuXHRcdGNvbnN0IGNhbmRpZGF0ZVZEcyA9IG5ldyBBcnJheTxQcmltYXJ5T3JTdXBwbGVtZW50YXJ5Vm9sdW1lRGVzY3JpcHRvcj4oKTtcblx0XHR3aGlsZSAoIXZkVGVybWluYXRvckZvdW5kKSB7XG5cdFx0XHRjb25zdCBzbGljZSA9IGRhdGEuc2xpY2UoaSk7XG5cdFx0XHRjb25zdCB2ZCA9IG5ldyBWb2x1bWVEZXNjcmlwdG9yKHNsaWNlKTtcblx0XHRcdHN3aXRjaCAodmQudHlwZSgpKSB7XG5cdFx0XHRcdGNhc2UgVm9sdW1lRGVzY3JpcHRvclR5cGVDb2RlLlByaW1hcnlWb2x1bWVEZXNjcmlwdG9yOlxuXHRcdFx0XHRcdGNhbmRpZGF0ZVZEcy5wdXNoKG5ldyBQcmltYXJ5Vm9sdW1lRGVzY3JpcHRvcihzbGljZSkpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIFZvbHVtZURlc2NyaXB0b3JUeXBlQ29kZS5TdXBwbGVtZW50YXJ5Vm9sdW1lRGVzY3JpcHRvcjpcblx0XHRcdFx0XHRjYW5kaWRhdGVWRHMucHVzaChuZXcgU3VwcGxlbWVudGFyeVZvbHVtZURlc2NyaXB0b3Ioc2xpY2UpKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBWb2x1bWVEZXNjcmlwdG9yVHlwZUNvZGUuVm9sdW1lRGVzY3JpcHRvclNldFRlcm1pbmF0b3I6XG5cdFx0XHRcdFx0dmRUZXJtaW5hdG9yRm91bmQgPSB0cnVlO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0aSArPSAyMDQ4O1xuXHRcdH1cblx0XHRpZiAoY2FuZGlkYXRlVkRzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0dGhyb3cgbmV3IEFwaUVycm9yKEVycm9yQ29kZS5FSU8sIGBVbmFibGUgdG8gZmluZCBhIHN1aXRhYmxlIHZvbHVtZSBkZXNjcmlwdG9yLmApO1xuXHRcdH1cblx0XHRjYW5kaWRhdGVWRHMuZm9yRWFjaCh2ID0+IHtcblx0XHRcdC8vIFRha2UgYW4gU1ZEIG92ZXIgYSBQVkQuXG5cdFx0XHRpZiAoIXRoaXMuX3B2ZCB8fCB0aGlzLl9wdmQudHlwZSgpICE9PSBWb2x1bWVEZXNjcmlwdG9yVHlwZUNvZGUuU3VwcGxlbWVudGFyeVZvbHVtZURlc2NyaXB0b3IpIHtcblx0XHRcdFx0dGhpcy5fcHZkID0gdjtcblx0XHRcdH1cblx0XHR9KTtcblx0XHR0aGlzLl9yb290ID0gdGhpcy5fcHZkLnJvb3REaXJlY3RvcnlFbnRyeShkYXRhKTtcblx0XHR0aGlzLl9uYW1lID0gbmFtZTtcblx0fVxuXG5cdHB1YmxpYyBnZXROYW1lKCk6IHN0cmluZyB7XG5cdFx0bGV0IG5hbWUgPSBgSXNvRlMke3RoaXMuX25hbWV9JHt0aGlzLl9wdmQgPyBgLSR7dGhpcy5fcHZkLm5hbWUoKX1gIDogJyd9YDtcblx0XHRpZiAodGhpcy5fcm9vdCAmJiB0aGlzLl9yb290Lmhhc1JvY2tSaWRnZSgpKSB7XG5cdFx0XHRuYW1lICs9IGAtUm9ja1JpZGdlYDtcblx0XHR9XG5cdFx0cmV0dXJuIG5hbWU7XG5cdH1cblxuXHRwdWJsaWMgZGlza1NwYWNlKHBhdGg6IHN0cmluZywgY2I6ICh0b3RhbDogbnVtYmVyLCBmcmVlOiBudW1iZXIpID0+IHZvaWQpOiB2b2lkIHtcblx0XHQvLyBSZWFkLW9ubHkgZmlsZSBzeXN0ZW0uXG5cdFx0Y2IodGhpcy5fZGF0YS5sZW5ndGgsIDApO1xuXHR9XG5cblx0cHVibGljIGlzUmVhZE9ubHkoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRwdWJsaWMgc3VwcG9ydHNMaW5rcygpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRwdWJsaWMgc3VwcG9ydHNQcm9wcygpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRwdWJsaWMgc3VwcG9ydHNTeW5jaCgpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdHB1YmxpYyBzdGF0U3luYyhwOiBzdHJpbmcsIGlzTHN0YXQ6IGJvb2xlYW4pOiBTdGF0cyB7XG5cdFx0Y29uc3QgcmVjb3JkID0gdGhpcy5fZ2V0RGlyZWN0b3J5UmVjb3JkKHApO1xuXHRcdGlmIChyZWNvcmQgPT09IG51bGwpIHtcblx0XHRcdHRocm93IEFwaUVycm9yLkVOT0VOVChwKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuX2dldFN0YXRzKHAsIHJlY29yZCkhO1xuXHR9XG5cblx0cHVibGljIG9wZW5TeW5jKHA6IHN0cmluZywgZmxhZ3M6IEZpbGVGbGFnLCBtb2RlOiBudW1iZXIpOiBGaWxlIHtcblx0XHQvLyBJTlZBUklBTlQ6IENhbm5vdCB3cml0ZSB0byBSTyBmaWxlIHN5c3RlbXMuXG5cdFx0aWYgKGZsYWdzLmlzV3JpdGVhYmxlKCkpIHtcblx0XHRcdHRocm93IG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRVBFUk0sIHApO1xuXHRcdH1cblx0XHQvLyBDaGVjayBpZiB0aGUgcGF0aCBleGlzdHMsIGFuZCBpcyBhIGZpbGUuXG5cdFx0Y29uc3QgcmVjb3JkID0gdGhpcy5fZ2V0RGlyZWN0b3J5UmVjb3JkKHApO1xuXHRcdGlmICghcmVjb3JkKSB7XG5cdFx0XHR0aHJvdyBBcGlFcnJvci5FTk9FTlQocCk7XG5cdFx0fSBlbHNlIGlmIChyZWNvcmQuaXNTeW1saW5rKHRoaXMuX2RhdGEpKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5vcGVuU3luYyhwYXRoLnJlc29sdmUocCwgcmVjb3JkLmdldFN5bWxpbmtQYXRoKHRoaXMuX2RhdGEpKSwgZmxhZ3MsIG1vZGUpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zdCBkYXRhID0gIXJlY29yZC5pc0RpcmVjdG9yeSh0aGlzLl9kYXRhKSA/IHJlY29yZC5nZXRGaWxlKHRoaXMuX2RhdGEpIDogdW5kZWZpbmVkO1xuXHRcdFx0Y29uc3Qgc3RhdHMgPSB0aGlzLl9nZXRTdGF0cyhwLCByZWNvcmQpITtcblx0XHRcdHN3aXRjaCAoZmxhZ3MucGF0aEV4aXN0c0FjdGlvbigpKSB7XG5cdFx0XHRcdGNhc2UgQWN0aW9uVHlwZS5USFJPV19FWENFUFRJT046XG5cdFx0XHRcdGNhc2UgQWN0aW9uVHlwZS5UUlVOQ0FURV9GSUxFOlxuXHRcdFx0XHRcdHRocm93IEFwaUVycm9yLkVFWElTVChwKTtcblx0XHRcdFx0Y2FzZSBBY3Rpb25UeXBlLk5PUDpcblx0XHRcdFx0XHRyZXR1cm4gbmV3IE5vU3luY0ZpbGUodGhpcywgcCwgZmxhZ3MsIHN0YXRzLCBkYXRhKTtcblx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHR0aHJvdyBuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVJTlZBTCwgJ0ludmFsaWQgRmlsZU1vZGUgb2JqZWN0LicpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHB1YmxpYyByZWFkZGlyU3luYyhwYXRoOiBzdHJpbmcpOiBzdHJpbmdbXSB7XG5cdFx0Ly8gQ2hlY2sgaWYgaXQgZXhpc3RzLlxuXHRcdGNvbnN0IHJlY29yZCA9IHRoaXMuX2dldERpcmVjdG9yeVJlY29yZChwYXRoKTtcblx0XHRpZiAoIXJlY29yZCkge1xuXHRcdFx0dGhyb3cgQXBpRXJyb3IuRU5PRU5UKHBhdGgpO1xuXHRcdH0gZWxzZSBpZiAocmVjb3JkLmlzRGlyZWN0b3J5KHRoaXMuX2RhdGEpKSB7XG5cdFx0XHRyZXR1cm4gcmVjb3JkLmdldERpcmVjdG9yeSh0aGlzLl9kYXRhKS5nZXRGaWxlTGlzdCgpLnNsaWNlKDApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aHJvdyBBcGlFcnJvci5FTk9URElSKHBhdGgpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBTcGVjaWFsbHktb3B0aW1pemVkIHJlYWRmaWxlLlxuXHQgKi9cblx0cHVibGljIHJlYWRGaWxlU3luYyhmbmFtZTogc3RyaW5nLCBlbmNvZGluZzogQnVmZmVyRW5jb2RpbmcsIGZsYWc6IEZpbGVGbGFnKTogYW55IHtcblx0XHQvLyBHZXQgZmlsZS5cblx0XHRjb25zdCBmZCA9IHRoaXMub3BlblN5bmMoZm5hbWUsIGZsYWcsIDB4MWE0KTtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgZmRDYXN0ID0gPE5vU3luY0ZpbGU8SXNvRlM+PmZkO1xuXHRcdFx0Y29uc3QgZmRCdWZmID0gPEJ1ZmZlcj5mZENhc3QuZ2V0QnVmZmVyKCk7XG5cdFx0XHRpZiAoZW5jb2RpbmcgPT09IG51bGwpIHtcblx0XHRcdFx0cmV0dXJuIGNvcHlpbmdTbGljZShmZEJ1ZmYpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGZkQnVmZi50b1N0cmluZyhlbmNvZGluZyk7XG5cdFx0fSBmaW5hbGx5IHtcblx0XHRcdGZkLmNsb3NlU3luYygpO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgX2dldERpcmVjdG9yeVJlY29yZChwYXRoOiBzdHJpbmcpOiBEaXJlY3RvcnlSZWNvcmQgfCBudWxsIHtcblx0XHQvLyBTcGVjaWFsIGNhc2UuXG5cdFx0aWYgKHBhdGggPT09ICcvJykge1xuXHRcdFx0cmV0dXJuIHRoaXMuX3Jvb3Q7XG5cdFx0fVxuXHRcdGNvbnN0IGNvbXBvbmVudHMgPSBwYXRoLnNwbGl0KCcvJykuc2xpY2UoMSk7XG5cdFx0bGV0IGRpciA9IHRoaXMuX3Jvb3Q7XG5cdFx0Zm9yIChjb25zdCBjb21wb25lbnQgb2YgY29tcG9uZW50cykge1xuXHRcdFx0aWYgKGRpci5pc0RpcmVjdG9yeSh0aGlzLl9kYXRhKSkge1xuXHRcdFx0XHRkaXIgPSBkaXIuZ2V0RGlyZWN0b3J5KHRoaXMuX2RhdGEpLmdldFJlY29yZChjb21wb25lbnQpO1xuXHRcdFx0XHRpZiAoIWRpcikge1xuXHRcdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIGRpcjtcblx0fVxuXG5cdHByaXZhdGUgX2dldFN0YXRzKHA6IHN0cmluZywgcmVjb3JkOiBEaXJlY3RvcnlSZWNvcmQpOiBTdGF0cyB8IG51bGwge1xuXHRcdGlmIChyZWNvcmQuaXNTeW1saW5rKHRoaXMuX2RhdGEpKSB7XG5cdFx0XHRjb25zdCBuZXdQID0gcGF0aC5yZXNvbHZlKHAsIHJlY29yZC5nZXRTeW1saW5rUGF0aCh0aGlzLl9kYXRhKSk7XG5cdFx0XHRjb25zdCBkaXJSZWMgPSB0aGlzLl9nZXREaXJlY3RvcnlSZWNvcmQobmV3UCk7XG5cdFx0XHRpZiAoIWRpclJlYykge1xuXHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdH1cblx0XHRcdHJldHVybiB0aGlzLl9nZXRTdGF0cyhuZXdQLCBkaXJSZWMpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zdCBsZW4gPSByZWNvcmQuZGF0YUxlbmd0aCgpO1xuXHRcdFx0bGV0IG1vZGUgPSAweDE2ZDtcblx0XHRcdGNvbnN0IGRhdGUgPSByZWNvcmQucmVjb3JkaW5nRGF0ZSgpLmdldFRpbWUoKTtcblx0XHRcdGxldCBhdGltZSA9IGRhdGU7XG5cdFx0XHRsZXQgbXRpbWUgPSBkYXRlO1xuXHRcdFx0bGV0IGN0aW1lID0gZGF0ZTtcblx0XHRcdGlmIChyZWNvcmQuaGFzUm9ja1JpZGdlKCkpIHtcblx0XHRcdFx0Y29uc3QgZW50cmllcyA9IHJlY29yZC5nZXRTVUVudHJpZXModGhpcy5fZGF0YSk7XG5cdFx0XHRcdGZvciAoY29uc3QgZW50cnkgb2YgZW50cmllcykge1xuXHRcdFx0XHRcdGlmIChlbnRyeSBpbnN0YW5jZW9mIFBYRW50cnkpIHtcblx0XHRcdFx0XHRcdG1vZGUgPSBlbnRyeS5tb2RlKCk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChlbnRyeSBpbnN0YW5jZW9mIFRGRW50cnkpIHtcblx0XHRcdFx0XHRcdGNvbnN0IGZsYWdzID0gZW50cnkuZmxhZ3MoKTtcblx0XHRcdFx0XHRcdGlmIChmbGFncyAmIFRGRmxhZ3MuQUNDRVNTKSB7XG5cdFx0XHRcdFx0XHRcdGF0aW1lID0gZW50cnkuYWNjZXNzKCkhLmdldFRpbWUoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmIChmbGFncyAmIFRGRmxhZ3MuTU9ESUZZKSB7XG5cdFx0XHRcdFx0XHRcdG10aW1lID0gZW50cnkubW9kaWZ5KCkhLmdldFRpbWUoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmIChmbGFncyAmIFRGRmxhZ3MuQ1JFQVRJT04pIHtcblx0XHRcdFx0XHRcdFx0Y3RpbWUgPSBlbnRyeS5jcmVhdGlvbigpIS5nZXRUaW1lKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHQvLyBNYXNrIG91dCB3cml0ZWFibGUgZmxhZ3MuIFRoaXMgaXMgYSBSTyBmaWxlIHN5c3RlbS5cblx0XHRcdG1vZGUgPSBtb2RlICYgMHgxNmQ7XG5cdFx0XHRyZXR1cm4gbmV3IFN0YXRzKHJlY29yZC5pc0RpcmVjdG9yeSh0aGlzLl9kYXRhKSA/IEZpbGVUeXBlLkRJUkVDVE9SWSA6IEZpbGVUeXBlLkZJTEUsIGxlbiwgbW9kZSwgYXRpbWUsIG10aW1lLCBjdGltZSk7XG5cdFx0fVxuXHR9XG59XG4iLCAiaW1wb3J0IHsgRmlsZVN5c3RlbUNvbnN0cnVjdG9yLCBCRlNDYWxsYmFjaywgRmlsZVN5c3RlbSB9IGZyb20gJy4vZmlsZV9zeXN0ZW0nO1xuaW1wb3J0IHsgQXBpRXJyb3IgfSBmcm9tICcuL2FwaV9lcnJvcic7XG5pbXBvcnQgeyBjaGVja09wdGlvbnMgfSBmcm9tICcuL3V0aWwnO1xuaW1wb3J0IEFzeW5jTWlycm9yIGZyb20gJy4uL2JhY2tlbmQvQXN5bmNNaXJyb3InO1xuaW1wb3J0IERyb3Bib3ggZnJvbSAnLi4vYmFja2VuZC9Ecm9wYm94JztcbmltcG9ydCBFbXNjcmlwdGVuIGZyb20gJy4uL2JhY2tlbmQvRW1zY3JpcHRlbic7XG5pbXBvcnQgRmlsZVN5c3RlbUFjY2VzcyBmcm9tICcuLi9iYWNrZW5kL0ZpbGVTeXN0ZW1BY2Nlc3MnO1xuaW1wb3J0IEZvbGRlckFkYXB0ZXIgZnJvbSAnLi4vYmFja2VuZC9Gb2xkZXJBZGFwdGVyJztcbmltcG9ydCBJbk1lbW9yeSBmcm9tICcuLi9iYWNrZW5kL0luTWVtb3J5JztcbmltcG9ydCBJbmRleGVkREIgZnJvbSAnLi4vYmFja2VuZC9JbmRleGVkREInO1xuaW1wb3J0IExvY2FsU3RvcmFnZSBmcm9tICcuLi9iYWNrZW5kL0xvY2FsU3RvcmFnZSc7XG5pbXBvcnQgTW91bnRhYmxlRmlsZVN5c3RlbSBmcm9tICcuLi9iYWNrZW5kL01vdW50YWJsZUZpbGVTeXN0ZW0nO1xuaW1wb3J0IE92ZXJsYXlGUyBmcm9tICcuLi9iYWNrZW5kL092ZXJsYXlGUyc7XG5pbXBvcnQgV29ya2VyRlMgZnJvbSAnLi4vYmFja2VuZC9Xb3JrZXJGUyc7XG5pbXBvcnQgSFRUUFJlcXVlc3QgZnJvbSAnLi4vYmFja2VuZC9IVFRQUmVxdWVzdCc7XG5pbXBvcnQgWmlwRlMgZnJvbSAnLi4vYmFja2VuZC9aaXBGUyc7XG5pbXBvcnQgSXNvRlMgZnJvbSAnLi4vYmFja2VuZC9Jc29GUyc7XG5cbi8vIE1vbmtleS1wYXRjaCBgQ3JlYXRlYCBmdW5jdGlvbnMgdG8gY2hlY2sgb3B0aW9ucyBiZWZvcmUgZmlsZSBzeXN0ZW0gaW5pdGlhbGl6YXRpb24uXG5bQXN5bmNNaXJyb3IsIERyb3Bib3gsIEVtc2NyaXB0ZW4sIEZpbGVTeXN0ZW1BY2Nlc3MsIEZvbGRlckFkYXB0ZXIsIEluTWVtb3J5LCBJbmRleGVkREIsIElzb0ZTLCBMb2NhbFN0b3JhZ2UsIE1vdW50YWJsZUZpbGVTeXN0ZW0sIE92ZXJsYXlGUywgV29ya2VyRlMsIEhUVFBSZXF1ZXN0LCBaaXBGU10uZm9yRWFjaChcblx0KGZzVHlwZTogRmlsZVN5c3RlbUNvbnN0cnVjdG9yKSA9PiB7XG5cdFx0Y29uc3QgY3JlYXRlID0gZnNUeXBlLkNyZWF0ZTtcblx0XHRmc1R5cGUuQ3JlYXRlID0gZnVuY3Rpb24gKG9wdHM/OiBhbnksIGNiPzogQkZTQ2FsbGJhY2s8RmlsZVN5c3RlbT4pOiB2b2lkIHtcblx0XHRcdGNvbnN0IG9uZUFyZyA9IHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nO1xuXHRcdFx0Y29uc3Qgbm9ybWFsaXplZENiID0gb25lQXJnID8gb3B0cyA6IGNiO1xuXHRcdFx0Y29uc3Qgbm9ybWFsaXplZE9wdHMgPSBvbmVBcmcgPyB7fSA6IG9wdHM7XG5cblx0XHRcdGZ1bmN0aW9uIHdyYXBwZWRDYihlPzogQXBpRXJyb3IpOiB2b2lkIHtcblx0XHRcdFx0aWYgKGUpIHtcblx0XHRcdFx0XHRub3JtYWxpemVkQ2IoZSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y3JlYXRlLmNhbGwoZnNUeXBlLCBub3JtYWxpemVkT3B0cywgbm9ybWFsaXplZENiKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRjaGVja09wdGlvbnMoZnNUeXBlLCBub3JtYWxpemVkT3B0cywgd3JhcHBlZENiKTtcblx0XHR9O1xuXHR9XG4pO1xuXG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuY29uc3QgQmFja2VuZHMgPSB7XG5cdEFzeW5jTWlycm9yLFxuXHREcm9wYm94LFxuXHRFbXNjcmlwdGVuLFxuXHRGaWxlU3lzdGVtQWNjZXNzLFxuXHRGb2xkZXJBZGFwdGVyLFxuXHRJbk1lbW9yeSxcblx0SW5kZXhlZERCLFxuXHRJc29GUyxcblx0TG9jYWxTdG9yYWdlLFxuXHRNb3VudGFibGVGaWxlU3lzdGVtLFxuXHRPdmVybGF5RlMsXG5cdFdvcmtlckZTLFxuXHRIVFRQUmVxdWVzdCxcblx0WG1sSHR0cFJlcXVlc3Q6IEhUVFBSZXF1ZXN0LFxuXHRaaXBGUyxcbn07XG4vLyBNYWtlIHN1cmUgYWxsIGJhY2tlbmRzIGNhc3QgdG8gRmlsZVN5c3RlbUNvbnN0cnVjdG9yIChmb3IgdHlwZSBjaGVja2luZylcbmNvbnN0IF86IHsgW25hbWU6IHN0cmluZ106IEZpbGVTeXN0ZW1Db25zdHJ1Y3RvciB9ID0gQmFja2VuZHM7XG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tdW51c2VkLWV4cHJlc3Npb25cbl87XG4vLyB0c2xpbnQ6ZW5hYmxlLW5leHQtbGluZTpuby11bnVzZWQtZXhwcmVzc2lvblxuZXhwb3J0IGRlZmF1bHQgQmFja2VuZHM7XG4iLCAiLyoqXG4gKiBCcm93c2VyRlMncyBtYWluIG1vZHVsZS4gVGhpcyBpcyBleHBvc2VkIGluIHRoZSBicm93c2VyIHZpYSB0aGUgQnJvd3NlckZTIGdsb2JhbC5cbiAqIER1ZSB0byBsaW1pdGF0aW9ucyBpbiB0eXBlZG9jLCB3ZSBkb2N1bWVudCB0aGVzZSBmdW5jdGlvbnMgaW4gLi90eXBlZG9jLnRzLlxuICovXG5cbmltcG9ydCAqIGFzIGJ1ZmZlciBmcm9tICdidWZmZXInO1xuaW1wb3J0IGZzIGZyb20gJy4vbm9kZV9mcyc7XG5pbXBvcnQgKiBhcyBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IHsgRmlsZVN5c3RlbUNvbnN0cnVjdG9yLCBGaWxlU3lzdGVtLCBCRlNPbmVBcmdDYWxsYmFjaywgQkZTQ2FsbGJhY2sgfSBmcm9tICcuL2ZpbGVfc3lzdGVtJztcbmltcG9ydCBFbXNjcmlwdGVuRlMgZnJvbSAnLi4vZ2VuZXJpYy9lbXNjcmlwdGVuX2ZzJztcbmltcG9ydCBCYWNrZW5kcyBmcm9tICcuL2JhY2tlbmRzJztcbmltcG9ydCAqIGFzIEJGU1V0aWxzIGZyb20gJy4vdXRpbCc7XG5pbXBvcnQgKiBhcyBFcnJvcnMgZnJvbSAnLi9hcGlfZXJyb3InO1xuaW1wb3J0IHNldEltbWVkaWF0ZSBmcm9tICcuLi9nZW5lcmljL3NldEltbWVkaWF0ZSc7XG5pbXBvcnQgQ3JlZCBmcm9tICcuL2NyZWQnO1xuaW1wb3J0ICogYXMgcHJvY2VzcyBmcm9tICdwcm9jZXNzJztcblxuaWYgKHByb2Nlc3MgJiYgKDxhbnk+cHJvY2VzcylbJ2luaXRpYWxpemVUVFlzJ10pIHtcblx0KDxhbnk+cHJvY2VzcylbJ2luaXRpYWxpemVUVFlzJ10oKTtcbn1cblxuLyoqXG4gKiBJbnN0YWxscyBCRlNSZXF1aXJlIGFzIGdsb2JhbCBgcmVxdWlyZWAsIGEgTm9kZSBCdWZmZXIgcG9seWZpbGwgYXMgdGhlIGdsb2JhbCBgQnVmZmVyYCB2YXJpYWJsZSxcbiAqIGFuZCBhIE5vZGUgcHJvY2VzcyBwb2x5ZmlsbCBhcyB0aGUgZ2xvYmFsIGBwcm9jZXNzYCB2YXJpYWJsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluc3RhbGwob2JqOiBhbnkpIHtcblx0b2JqLkJ1ZmZlciA9IEJ1ZmZlcjtcblx0b2JqLnByb2Nlc3MgPSBwcm9jZXNzO1xuXHRjb25zdCBvbGRSZXF1aXJlID0gb2JqLnJlcXVpcmUgPyBvYmoucmVxdWlyZSA6IG51bGw7XG5cdC8vIE1vbmtleS1wYXRjaCByZXF1aXJlIGZvciBOb2RlLXN0eWxlIGNvZGUuXG5cdG9iai5yZXF1aXJlID0gZnVuY3Rpb24gKGFyZzogc3RyaW5nKSB7XG5cdFx0Y29uc3QgcnYgPSBCRlNSZXF1aXJlKGFyZyk7XG5cdFx0aWYgKCFydikge1xuXHRcdFx0cmV0dXJuIG9sZFJlcXVpcmUuYXBwbHkobnVsbCwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBydjtcblx0XHR9XG5cdH07XG59XG5cbi8qKlxuICogQGhpZGRlblxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJGaWxlU3lzdGVtKG5hbWU6IHN0cmluZywgZnM6IEZpbGVTeXN0ZW1Db25zdHJ1Y3Rvcikge1xuXHQoPGFueT5CYWNrZW5kcylbbmFtZV0gPSBmcztcbn1cblxuLyoqXG4gKiBQb2x5ZmlsbCBmb3IgQ29tbW9uSlMgYHJlcXVpcmUoKWAuIEZvciBleGFtcGxlLCBjYW4gY2FsbCBgQkZTUmVxdWlyZSgnZnMnKWAgdG8gZ2V0IGEgJ2ZzJyBtb2R1bGUgcG9seWZpbGwuXG4gKi9cbi8vIGV4cG9ydCBmdW5jdGlvbiBCRlNSZXF1aXJlKG1vZHVsZTogJ2ZzJyk6IHR5cGVvZiBmcztcbi8vIGV4cG9ydCBmdW5jdGlvbiBCRlNSZXF1aXJlKG1vZHVsZTogJ3BhdGgnKTogdHlwZW9mIHBhdGg7XG4vLyBleHBvcnQgZnVuY3Rpb24gQkZTUmVxdWlyZShtb2R1bGU6ICdidWZmZXInKTogdHlwZW9mIGJ1ZmZlcjtcbi8vIGV4cG9ydCBmdW5jdGlvbiBCRlNSZXF1aXJlKG1vZHVsZTogJ3Byb2Nlc3MnKTogdHlwZW9mIHByb2Nlc3M7XG4vLyBleHBvcnQgZnVuY3Rpb24gQkZTUmVxdWlyZShtb2R1bGU6ICdiZnNfdXRpbHMnKTogdHlwZW9mIEJGU1V0aWxzO1xuLy8gZXhwb3J0IGZ1bmN0aW9uIEJGU1JlcXVpcmUobW9kdWxlOiBzdHJpbmcpOiBhbnk7XG5leHBvcnQgY29uc3QgQkZTUmVxdWlyZSA9IChtb2R1bGU6IHN0cmluZykgPT4ge1xuXHRzd2l0Y2ggKG1vZHVsZSkge1xuXHRcdGNhc2UgJ2ZzJzpcblx0XHRcdHJldHVybiBmcztcblx0XHRjYXNlICdwYXRoJzpcblx0XHRcdHJldHVybiBwYXRoO1xuXHRcdGNhc2UgJ2J1ZmZlcic6XG5cdFx0XHQvLyBUaGUgJ2J1ZmZlcicgbW9kdWxlIGhhcyAnQnVmZmVyJyBhcyBhIHByb3BlcnR5LlxuXHRcdFx0cmV0dXJuIGJ1ZmZlcjtcblx0XHRjYXNlICdwcm9jZXNzJzpcblx0XHRcdHJldHVybiBwcm9jZXNzO1xuXHRcdGNhc2UgJ2Jmc191dGlscyc6XG5cdFx0Y2FzZSAnYmZzLXV0aWxzJzpcblx0XHRcdHJldHVybiBCRlNVdGlscztcblx0XHRkZWZhdWx0OlxuXHRcdFx0cmV0dXJuICg8YW55PkJhY2tlbmRzKVttb2R1bGVdO1xuXHR9XG59XG5cbi8qKlxuICogSW5pdGlhbGl6ZXMgQnJvd3NlckZTIHdpdGggdGhlIGdpdmVuIHJvb3QgZmlsZSBzeXN0ZW0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0aWFsaXplKHJvb3RmczogRmlsZVN5c3RlbSwgdWlkOiBudW1iZXIgPSAwLCBnaWQ6IG51bWJlciA9IDApIHtcblx0Y29uc3QgY3JlZCA9IG5ldyBDcmVkKHVpZCwgZ2lkLCB1aWQsIGdpZCwgdWlkLCBnaWQpO1xuXHRyZXR1cm4gZnMuaW5pdGlhbGl6ZShyb290ZnMsIGNyZWQpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBmaWxlIHN5c3RlbSB3aXRoIHRoZSBnaXZlbiBjb25maWd1cmF0aW9uLCBhbmQgaW5pdGlhbGl6ZXMgQnJvd3NlckZTIHdpdGggaXQuXG4gKiBTZWUgdGhlIEZpbGVTeXN0ZW1Db25maWd1cmF0aW9uIHR5cGUgZm9yIG1vcmUgaW5mbyBvbiB0aGUgY29uZmlndXJhdGlvbiBvYmplY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb25maWd1cmUoY29uZmlnOiBGaWxlU3lzdGVtQ29uZmlndXJhdGlvbiwgY2I6IEJGU09uZUFyZ0NhbGxiYWNrKTogdm9pZCB7XG5cdGdldEZpbGVTeXN0ZW0oY29uZmlnLCAoZSwgZnM/KSA9PiB7XG5cdFx0aWYgKGZzKSB7XG5cdFx0XHRpbml0aWFsaXplKGZzKTtcblx0XHRcdGNiKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNiKGUpO1xuXHRcdH1cblx0fSk7XG59XG5cbi8qKlxuICogQXN5bmNocm9ub3VzbHkgY3JlYXRlcyBhIGZpbGUgc3lzdGVtIHdpdGggdGhlIGdpdmVuIGNvbmZpZ3VyYXRpb24sIGFuZCBpbml0aWFsaXplcyBCcm93c2VyRlMgd2l0aCBpdC5cbiAqIFNlZSB0aGUgRmlsZVN5c3RlbUNvbmZpZ3VyYXRpb24gdHlwZSBmb3IgbW9yZSBpbmZvIG9uIHRoZSBjb25maWd1cmF0aW9uIG9iamVjdC5cbiAqIE5vdGU6IHVubGlrZSBjb25maWd1cmUsIHRoZSAudGhlbiBpcyBwcm92aWRlZCB3aXRoIHRoZSBmaWxlIHN5c3RlbVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29uZmlndXJlQXN5bmMoY29uZmlnOiBGaWxlU3lzdGVtQ29uZmlndXJhdGlvbik6IFByb21pc2U8RmlsZVN5c3RlbSB8IEVycm9ycy5BcGlFcnJvciB8IG51bGw+IHtcblx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRnZXRGaWxlU3lzdGVtKGNvbmZpZywgKGUsIGZzPykgPT4ge1xuXHRcdFx0aWYgKGZzKSB7XG5cdFx0XHRcdGluaXRpYWxpemUoZnMpO1xuXHRcdFx0XHRyZXNvbHZlKGZzKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJlamVjdChlKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fSk7XG59XG5cbi8qKlxuICogU3BlY2lmaWVzIGEgZmlsZSBzeXN0ZW0gYmFja2VuZCB0eXBlIGFuZCBpdHMgb3B0aW9ucy5cbiAqXG4gKiBJbmRpdmlkdWFsIG9wdGlvbnMgY2FuIHJlY3Vyc2l2ZWx5IGNvbnRhaW4gRmlsZVN5c3RlbUNvbmZpZ3VyYXRpb24gb2JqZWN0cyBmb3JcbiAqIG9wdGlvbiB2YWx1ZXMgdGhhdCByZXF1aXJlIGZpbGUgc3lzdGVtcy5cbiAqXG4gKiBGb3IgZXhhbXBsZSwgdG8gbWlycm9yIERyb3Bib3ggdG8gTG9jYWxTdG9yYWdlIHdpdGggQXN5bmNNaXJyb3IsIHVzZSB0aGUgZm9sbG93aW5nXG4gKiBvYmplY3Q6XG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogdmFyIGNvbmZpZyA9IHtcbiAqICAgZnM6IFwiQXN5bmNNaXJyb3JcIixcbiAqICAgb3B0aW9uczoge1xuICogICAgIHN5bmM6IHtmczogXCJMb2NhbFN0b3JhZ2VcIn0sXG4gKiAgICAgYXN5bmM6IHtmczogXCJEcm9wYm94XCIsIG9wdGlvbnM6IHtjbGllbnQ6IGFuQXV0aGVudGljYXRlZERyb3Bib3hTREtDbGllbnQgfX1cbiAqICAgfVxuICogfTtcbiAqIGBgYFxuICpcbiAqIFRoZSBvcHRpb24gb2JqZWN0IGZvciBlYWNoIGZpbGUgc3lzdGVtIGNvcnJlc3BvbmRzIHRvIHRoYXQgZmlsZSBzeXN0ZW0ncyBvcHRpb24gb2JqZWN0IHBhc3NlZCB0byBpdHMgYENyZWF0ZSgpYCBtZXRob2QuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRmlsZVN5c3RlbUNvbmZpZ3VyYXRpb24ge1xuXHRmczogc3RyaW5nO1xuXHRvcHRpb25zPzogYW55O1xufVxuXG4vKipcbiAqIFJldHJpZXZlIGEgZmlsZSBzeXN0ZW0gd2l0aCB0aGUgZ2l2ZW4gY29uZmlndXJhdGlvbi5cbiAqIEBwYXJhbSBjb25maWcgQSBGaWxlU3lzdGVtQ29uZmlndXJhdGlvbiBvYmplY3QuIFNlZSBGaWxlU3lzdGVtQ29uZmlndXJhdGlvbiBmb3IgZGV0YWlscy5cbiAqIEBwYXJhbSBjYiBDYWxsZWQgd2hlbiB0aGUgZmlsZSBzeXN0ZW0gaXMgY29uc3RydWN0ZWQsIG9yIHdoZW4gYW4gZXJyb3Igb2NjdXJzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmlsZVN5c3RlbShjb25maWc6IEZpbGVTeXN0ZW1Db25maWd1cmF0aW9uLCBjYjogQkZTQ2FsbGJhY2s8RmlsZVN5c3RlbT4pOiB2b2lkIHtcblx0Y29uc3QgZnNOYW1lID0gY29uZmlnWydmcyddO1xuXHRpZiAoIWZzTmFtZSkge1xuXHRcdHJldHVybiBjYihuZXcgRXJyb3JzLkFwaUVycm9yKEVycm9ycy5FcnJvckNvZGUuRVBFUk0sICdNaXNzaW5nIFwiZnNcIiBwcm9wZXJ0eSBvbiBjb25maWd1cmF0aW9uIG9iamVjdC4nKSk7XG5cdH1cblx0Y29uc3Qgb3B0aW9ucyA9IGNvbmZpZ1snb3B0aW9ucyddO1xuXHRsZXQgd2FpdENvdW50ID0gMDtcblx0bGV0IGNhbGxlZCA9IGZhbHNlO1xuXHRmdW5jdGlvbiBmaW5pc2goKSB7XG5cdFx0aWYgKCFjYWxsZWQpIHtcblx0XHRcdGNhbGxlZCA9IHRydWU7XG5cdFx0XHRjb25zdCBmc2MgPSA8RmlsZVN5c3RlbUNvbnN0cnVjdG9yIHwgdW5kZWZpbmVkPig8YW55PkJhY2tlbmRzKVtmc05hbWVdO1xuXHRcdFx0aWYgKCFmc2MpIHtcblx0XHRcdFx0Y2IobmV3IEVycm9ycy5BcGlFcnJvcihFcnJvcnMuRXJyb3JDb2RlLkVQRVJNLCBgRmlsZSBzeXN0ZW0gJHtmc05hbWV9IGlzIG5vdCBhdmFpbGFibGUgaW4gQnJvd3NlckZTLmApKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGZzYy5DcmVhdGUob3B0aW9ucywgY2IpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGlmIChvcHRpb25zICE9PSBudWxsICYmIHR5cGVvZiBvcHRpb25zID09PSAnb2JqZWN0Jykge1xuXHRcdGxldCBmaW5pc2hlZEl0ZXJhdGluZyA9IGZhbHNlO1xuXHRcdGNvbnN0IHByb3BzID0gT2JqZWN0LmtleXMob3B0aW9ucykuZmlsdGVyKGsgPT4gayAhPT0gJ2ZzJyk7XG5cdFx0Ly8gQ2hlY2sgcmVjdXJzaXZlbHkgaWYgb3RoZXIgZmllbGRzIGhhdmUgJ2ZzJyBwcm9wZXJ0aWVzLlxuXHRcdHByb3BzLmZvckVhY2gocCA9PiB7XG5cdFx0XHRjb25zdCBkID0gb3B0aW9uc1twXTtcblx0XHRcdGlmIChkICE9PSBudWxsICYmIHR5cGVvZiBkID09PSAnb2JqZWN0JyAmJiBkWydmcyddKSB7XG5cdFx0XHRcdHdhaXRDb3VudCsrO1xuXHRcdFx0XHRnZXRGaWxlU3lzdGVtKGQsIGZ1bmN0aW9uIChlLCBmcz8pIHtcblx0XHRcdFx0XHR3YWl0Q291bnQtLTtcblx0XHRcdFx0XHRpZiAoZSkge1xuXHRcdFx0XHRcdFx0aWYgKGNhbGxlZCkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRjYWxsZWQgPSB0cnVlO1xuXHRcdFx0XHRcdFx0Y2IoZSk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdG9wdGlvbnNbcF0gPSBmcztcblx0XHRcdFx0XHRcdGlmICh3YWl0Q291bnQgPT09IDAgJiYgZmluaXNoZWRJdGVyYXRpbmcpIHtcblx0XHRcdFx0XHRcdFx0ZmluaXNoKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRmaW5pc2hlZEl0ZXJhdGluZyA9IHRydWU7XG5cdH1cblx0aWYgKHdhaXRDb3VudCA9PT0gMCkge1xuXHRcdGZpbmlzaCgpO1xuXHR9XG59XG5cbmV4cG9ydCB7IEVtc2NyaXB0ZW5GUywgQmFja2VuZHMgYXMgRmlsZVN5c3RlbSwgRXJyb3JzLCBzZXRJbW1lZGlhdGUgfTtcbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBLGdCQUFBQTtBQUFBLEVBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBQUksU0FBUyxDQUFDO0FBQ2QsSUFBSSxZQUFZLENBQUM7QUFDakIsSUFBSSxNQUFNLE9BQU8sZUFBZSxjQUFjLGFBQWE7QUFDM0QsSUFBSSxTQUFTO0FBQ2IsU0FBUyxPQUFRO0FBQ2YsV0FBUztBQUNULE1BQUksT0FBTztBQUNYLFdBQVMsSUFBSSxHQUFHLE1BQU0sS0FBSyxRQUFR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SztBQUFBLEVBQUs7QUFBQSxFQUFLO0FBQUEsRUFBSztBQUFBLEVBQUs7QUFBQSxFQUFHO0FBQy9EO0FBRUEsSUFBSSxPQUFPO0FBQUE7QUFBQSxFQUNUO0FBQUEsRUFBSTtBQUFBLEVBQUk7QUFBQSxFQUFJO0FBQUEsRUFBSTtBQUFBLEVBQUk7QUFBQSxFQUFJO0FBQUEsRUFBSTtBQUFBLEVBQUk7QUFBQSxFQUFJO0FBQUEsRUFBSTtBQUFBLEVBQUk7QUFBQSxFQUFJO0FBQUEsRUFBSTtBQUFBLEVBQUk7QUFBQSxFQUFJO0FBQUEsRUFDNUQ7QUFBQSxFQUFJO0FBQUEsRUFBSTtBQUFBLEVBQUk7QUFBQSxFQUFJO0FBQUEsRUFBSTtBQUFBLEVBQUk7QUFBQSxFQUFJO0FBQUEsRUFBSTtBQUFBLEVBQUk7QUFBQSxFQUFJO0FBQUEsRUFBSTtBQUFBLEVBQUk7QUFBQSxFQUFJO0FBQUEsRUFBSTtBQUMxRDtBQUVBLElBQUksUUFBUTtBQUFBO0FBQUEsRUFDVjtBQUFBLEVBQUc7QUFBQSxFQUFHO0FBQUEsRUFBRztBQUFBLEVBQUc7QUFBQSxFQUFHO0FBQUEsRUFBRztBQUFBLEVBQUc7QUFBQSxFQUFJO0FBQUEsRUFBSTtBQUFBLEVBQUk7QUFBQSxFQUFJO0FBQUEsRUFBSTtBQUFBLEVBQUk7QUFBQSxFQUFJO0FBQUEsRUFBSztBQUFBLEVBQ3REO0FBQUEsRUFBSztBQUFBLEVBQUs7QUFBQSxFQUFLO0FBQUEsRUFBSztBQUFBLEVBQU07QUFBQSxFQUFNO0FBQUEsRUFBTTtBQUFBLEVBQU07QUFBQSxFQUFNO0FBQUEsRUFDbEQ7QUFBQSxFQUFNO0FBQUEsRUFBTztBQUFBLEVBQU87QUFBQSxFQUFPO0FBQUEsRUFBRztBQUNoQztBQUVBLElBQUksT0FBTztBQUFBO0FBQUEsRUFDVDtBQUFBLEVBQUk7QUFBQSxFQUFJO0FBQUEsRUFBSTtBQUFBLEVBQUk7QUFBQSxFQUFJO0FBQUEsRUFBSTtBQUFBLEVBQUk7QUFBQSxFQUFJO0FBQUEsRUFBSTtBQUFBLEVBQUk7QUFBQSxFQUFJO0FBQUEsRUFBSTtBQUFBLEVB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QUN2QjtBQUFBLElBQ0Q7QUFBQSxFQUNEO0FBRUEsTUFBSSxZQUFZLFFBQVEsT0FBTyxZQUFZLFVBQVU7QUFDcEQsUUFBSSxvQkFBb0I7QUFDeEIsVUFBTSxRQUFRLE9BQU8sS0FBSyxPQUFPLEVBQUUsT0FBTyxPQUFLLE1BQU0sSUFBSTtBQUV6RCxVQUFNLFFBQVEsT0FBSztBQUNsQixZQUFNLElBQUksUUFBUSxDQUFDO0FBQ25CLFVBQUksTUFBTSxRQUFRLE9BQU8sTUFBTSxZQUFZLEVBQUUsSUFBSSxHQUFHO0FBQ25EO0FBQ0Esc0JBQWMsR0FBRyxTQUFVLEdBQUdELEtBQUs7QUFDbEM7QUFDQSxjQUFJLEdBQUc7QUFDTixnQkFBSSxRQUFRO0FBQ1g7QUFBQSxZQUNEO0FBQ0EscUJBQVM7QUFDVCxlQUFHLENBQUM7QUFBQSxVQUNMLE9BQU87QUFDTixvQkFBUSxDQUFDLElBQUlBO0FBQ2IsZ0JBQUksY0FBYyxLQUFLLG1CQUFtQjtBQUN6QyxxQkFBTztBQUFBLFlBQ1I7QUFBQSxVQUNEO0FBQUEsUUFDRCxDQUFDO0FBQUEsTUFDRjtBQUFBLElBQ0QsQ0FBQztBQUNELHdCQUFvQjtBQUFBLEVBQ3JCO0FBQ0EsTUFBSSxjQUFjLEdBQUc7QUFDcEIsV0FBTztBQUFBLEVBQ1I7QUFDRDsiLAogICJuYW1lcyI6IFsiQnVmZmVyIiwgImZpbGwiLCAidG9TdHJpbmciLCAiY29tcGFyZSIsICJyZWFkIiwgImkiLCAid3JpdGUiLCAiYnl0ZUxlbmd0aCIsICJFcnJvckNvZGUiLCAiZXJyIiwgIkJ1ZmZlciIsICJmcm9tIiwgIkJ1ZmZlciIsICJmcyIsICJCdWZmZXIiLCAiZXJyIiwgImRkIiwgImZzIiwgIkJ1ZmZlciIsICJmcyIsICJGUyIsICJlIiwgImVyciIsICJzcGxpdFBhdGgiLCAiZXIiLCAiZXIyIiwgImVycjIiLCAiQnVmZmVyIiwgIkJ1ZmZlciIsICJmcyIsICJyZXNvbHZlIiwgImVyciIsICJvcCIsICJlIiwgImVyciIsICJyZXNvbHZlIiwgImZzIiwgIkJ1ZmZlciIsICJyZXMiLCAiZXJyIiwgInJlc29sdmUiLCAiZnMiLCAicCIsICJCdWZmZXIiLCAia2V5cyIsICJkb25lIiwgInJlc29sdmUiLCAiZnMiLCAiZXJyIiwgIkJ1ZmZlciIsICJoYW5kbGUiLCAicmVzb2x2ZSIsICJmcyIsICJlcnIiLCAiZSIsICJCdWZmZXIiLCAiQnVmZmVyIiwgImUiLCAiZXJyIiwgInJlc29sdmUiLCAiZnMiLCAiY29udmVydEVycm9yIiwgImUiLCAicmVzb2x2ZSIsICJmcyIsICJCdWZmZXIiLCAicmVzb2x2ZSIsICJmcyIsICJmcyIsICJlIiwgInJlc29sdmUiLCAiZXJyIiwgImFyZ3MiLCAiZnMiLCAiZXJyIiwgImZzIiwgImVyciIsICJjYiIsICJzZWxmIiwgImZpbGVzIiwgInN0YXQiLCAicCIsICJyZXNvbHZlIiwgImVyciIsICJCdWZmZXIiLCAiZSIsICJmcyIsICJyZXNvbHZlIiwgImkiLCAiYXJnIiwgIkJ1ZmZlciIsICJlcnIiLCAiZSIsICJCdWZmZXIiLCAiZXJyIiwgInF1ZXVlIiwgInNwbGl0UGF0aCIsICJyZXNvbHZlIiwgImZzIiwgInNlbGYiLCAic3RhdHMiLCAiZXJyIiwgImVycjIiLCAic2VsZiIsICJsaXN0ZW5lcnMiLCAiZW1pdCIsICJkb21haW4iLCAiZXJyIiwgImFkZExpc3RlbmVyIiwgIm9uY2UiLCAicmVtb3ZlTGlzdGVuZXIiLCAicmVtb3ZlQWxsTGlzdGVuZXJzIiwgImtleXMiLCAiY29weSIsICJpbmhlcml0cyIsICJpbnNwZWN0IiwgIngiLCAiaW5zcGVjdCIsICJrZXlzIiwgImlzQXJyYXkiLCAia2V5cyIsICJCdWZmZXIiLCAiQnVmZmVyIiwgInByZXBlbmRMaXN0ZW5lciIsICJsaXN0ZW5lckNvdW50IiwgIm9uZW5kIiwgImluZGV4T2YiLCAibGlzdGVuZXJDb3VudCIsICJwcmVwZW5kTGlzdGVuZXIiLCAic2VsZiIsICJCdWZmZXIiLCAiZXJyIiwgInNlbGYiLCAib25lbmQiLCAiWl9CSU5BUlkiLCAiWl9CTE9DSyIsICJaX0JVRl9FUlJPUiIsICJaX0RBVEFfRVJST1IiLCAiWl9ERUZBVUxUX0NPTVBSRVNTSU9OIiwgIlpfREVGTEFURUQiLCAiWl9GSUxURVJFRCIsICJaX0ZJTklTSCIsICJaX0ZJWEVEIiwgIlpfRlVMTF9GTFVTSCIsICJaX0hVRkZNQU5fT05MWSIsICJaX05FRURfRElDVCIsICJaX05PX0ZMVVNIIiwgIlpfT0siLCAiWl9QQVJUSUFMX0ZMVVNIIiwgIlpfUkxFIiwgIlpfU1RSRUFNX0VORCIsICJaX1NUUkVBTV9FUlJPUiIsICJaX1RFWFQiLCAiWl9UUkVFUyIsICJaX1VOS05PV04iLCAicmFuayIsICJaX0ZJWEVEIiwgIlpfVU5LTk9XTiIsICJMRU5HVEhfQ09ERVMiLCAiTElURVJBTFMiLCAiTF9DT0RFUyIsICJEX0NPREVTIiwgIkJMX0NPREVTIiwgIkhFQVBfU0laRSIsICJNQVhfQklUUyIsICJNSU5fTUFUQ0giLCAiTUFYX01BVENIIiwgInplcm8iLCAiWl9VTktOT1dOIiwgIlpfRklYRUQiLCAiTUlOX01BVENIIiwgInplcm8iLCAic3RhdHVzIiwgImZyb20iLCAiY29kZXMiLCAiZmlsbCIsICJDT0RFUyIsICJMRU5TIiwgIkRJU1RTIiwgIlpfRklOSVNIIiwgIlpfQkxPQ0siLCAiWl9PSyIsICJaX1NUUkVBTV9FTkQiLCAiWl9TVFJFQU1fRVJST1IiLCAiWl9EQVRBX0VSUk9SIiwgIlpfQlVGX0VSUk9SIiwgIlpfREVGTEFURUQiLCAiVFlQRSIsICJCQUQiLCAiRU5PVUdIX0xFTlMiLCAiRU5PVUdIX0RJU1RTIiwgIlpfU1RSRUFNX0VSUk9SIiwgIkVOT1VHSF9MRU5TIiwgIkVOT1VHSF9ESVNUUyIsICJaX09LIiwgIkxFTlMiLCAiRElTVFMiLCAiY29weSIsICJmcm9tIiwgIlpfU1RSRUFNX0VSUk9SIiwgIlRZUEUiLCAiWl9PSyIsICJCQUQiLCAiWl9ERUZMQVRFRCIsICJaX0JMT0NLIiwgIkNPREVTIiwgIlpfU1RSRUFNX0VORCIsICJaX0RBVEFfRVJST1IiLCAiWl9GSU5JU0giLCAiWl9CVUZfRVJST1IiLCAiWl9OT19GTFVTSCIsICJaX1BBUlRJQUxfRkxVU0giLCAiWl9GVUxMX0ZMVVNIIiwgIlpfRklOSVNIIiwgIlpfQkxPQ0siLCAiWl9UUkVFUyIsICJaX09LIiwgIlpfU1RSRUFNX0VORCIsICJaX05FRURfRElDVCIsICJaX1NUUkVBTV9FUlJPUiIsICJaX0RBVEFfRVJST1IiLCAiWl9CVUZfRVJST1IiLCAiWl9ERUZBVUxUX0NPTVBSRVNTSU9OIiwgIlpfRklMVEVSRUQiLCAiWl9IVUZGTUFOX09OTFkiLCAiWl9STEUiLCAiWl9GSVhFRCIsICJaX0JJTkFSWSIsICJaX1RFWFQiLCAiWl9VTktOT1dOIiwgIlpfREVGTEFURUQiLCAic3RhdHVzIiwgInNlbGYiLCAiYmluZGluZyIsICJiaW5kaW5nIiwgIlpsaWIiLCAic2VsZiIsICJDb21wcmVzc2lvbk1ldGhvZCIsICJmcyIsICJyZXNvbHZlIiwgInNsaWNlIiwgInJlc29sdmUiLCAiZnMiLCAiZnMiLCAiY29uZmlnIiwgInJlc29sdmUiXQp9Cg==
